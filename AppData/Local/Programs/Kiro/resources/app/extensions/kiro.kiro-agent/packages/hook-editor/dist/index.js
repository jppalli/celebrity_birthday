function Vk(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const s=Object.getOwnPropertyDescriptor(r,o);s&&Object.defineProperty(n,o,s.get?s:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=t(o);fetch(o.href,s)}})();function dp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zf={exports:{}},Xs={},Ff={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Og;function Hk(){if(Og)return Ae;Og=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),a=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;function w(M){return M===null||typeof M!="object"?null:(M=g&&M[g]||M["@@iterator"],typeof M=="function"?M:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,k={};function S(M,$,pe){this.props=M,this.context=$,this.refs=k,this.updater=pe||y}S.prototype.isReactComponent={},S.prototype.setState=function(M,$){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,$,"setState")},S.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function C(){}C.prototype=S.prototype;function T(M,$,pe){this.props=M,this.context=$,this.refs=k,this.updater=pe||y}var N=T.prototype=new C;N.constructor=T,x(N,S.prototype),N.isPureReactComponent=!0;var I=Array.isArray,P=Object.prototype.hasOwnProperty,B={current:null},U={key:!0,ref:!0,__self:!0,__source:!0};function X(M,$,pe){var Ee,Me={},ve=null,Oe=null;if($!=null)for(Ee in $.ref!==void 0&&(Oe=$.ref),$.key!==void 0&&(ve=""+$.key),$)P.call($,Ee)&&!U.hasOwnProperty(Ee)&&(Me[Ee]=$[Ee]);var he=arguments.length-2;if(he===1)Me.children=pe;else if(1<he){for(var ee=Array(he),de=0;de<he;de++)ee[de]=arguments[de+2];Me.children=ee}if(M&&M.defaultProps)for(Ee in he=M.defaultProps,he)Me[Ee]===void 0&&(Me[Ee]=he[Ee]);return{$$typeof:n,type:M,key:ve,ref:Oe,props:Me,_owner:B.current}}function Q(M,$){return{$$typeof:n,type:M.type,key:$,ref:M.ref,props:M.props,_owner:M._owner}}function G(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function ge(M){var $={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(pe){return $[pe]})}var fe=/\/+/g;function re(M,$){return typeof M=="object"&&M!==null&&M.key!=null?ge(""+M.key):$.toString(36)}function ye(M,$,pe,Ee,Me){var ve=typeof M;(ve==="undefined"||ve==="boolean")&&(M=null);var Oe=!1;if(M===null)Oe=!0;else switch(ve){case"string":case"number":Oe=!0;break;case"object":switch(M.$$typeof){case n:case e:Oe=!0}}if(Oe)return Oe=M,Me=Me(Oe),M=Ee===""?"."+re(Oe,0):Ee,I(Me)?(pe="",M!=null&&(pe=M.replace(fe,"$&/")+"/"),ye(Me,$,pe,"",function(de){return de})):Me!=null&&(G(Me)&&(Me=Q(Me,pe+(!Me.key||Oe&&Oe.key===Me.key?"":(""+Me.key).replace(fe,"$&/")+"/")+M)),$.push(Me)),1;if(Oe=0,Ee=Ee===""?".":Ee+":",I(M))for(var he=0;he<M.length;he++){ve=M[he];var ee=Ee+re(ve,he);Oe+=ye(ve,$,pe,ee,Me)}else if(ee=w(M),typeof ee=="function")for(M=ee.call(M),he=0;!(ve=M.next()).done;)ve=ve.value,ee=Ee+re(ve,he++),Oe+=ye(ve,$,pe,ee,Me);else if(ve==="object")throw $=String(M),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.");return Oe}function oe(M,$,pe){if(M==null)return M;var Ee=[],Me=0;return ye(M,Ee,"","",function(ve){return $.call(pe,ve,Me++)}),Ee}function Z(M){if(M._status===-1){var $=M._result;$=$(),$.then(function(pe){(M._status===0||M._status===-1)&&(M._status=1,M._result=pe)},function(pe){(M._status===0||M._status===-1)&&(M._status=2,M._result=pe)}),M._status===-1&&(M._status=0,M._result=$)}if(M._status===1)return M._result.default;throw M._result}var ie={current:null},L={transition:null},V={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:L,ReactCurrentOwner:B};function j(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:oe,forEach:function(M,$,pe){oe(M,function(){$.apply(this,arguments)},pe)},count:function(M){var $=0;return oe(M,function(){$++}),$},toArray:function(M){return oe(M,function($){return $})||[]},only:function(M){if(!G(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ae.Component=S,Ae.Fragment=t,Ae.Profiler=o,Ae.PureComponent=T,Ae.StrictMode=r,Ae.Suspense=f,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,Ae.act=j,Ae.cloneElement=function(M,$,pe){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Ee=x({},M.props),Me=M.key,ve=M.ref,Oe=M._owner;if($!=null){if($.ref!==void 0&&(ve=$.ref,Oe=B.current),$.key!==void 0&&(Me=""+$.key),M.type&&M.type.defaultProps)var he=M.type.defaultProps;for(ee in $)P.call($,ee)&&!U.hasOwnProperty(ee)&&(Ee[ee]=$[ee]===void 0&&he!==void 0?he[ee]:$[ee])}var ee=arguments.length-2;if(ee===1)Ee.children=pe;else if(1<ee){he=Array(ee);for(var de=0;de<ee;de++)he[de]=arguments[de+2];Ee.children=he}return{$$typeof:n,type:M.type,key:Me,ref:ve,props:Ee,_owner:Oe}},Ae.createContext=function(M){return M={$$typeof:a,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:s,_context:M},M.Consumer=M},Ae.createElement=X,Ae.createFactory=function(M){var $=X.bind(null,M);return $.type=M,$},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(M){return{$$typeof:u,render:M}},Ae.isValidElement=G,Ae.lazy=function(M){return{$$typeof:h,_payload:{_status:-1,_result:M},_init:Z}},Ae.memo=function(M,$){return{$$typeof:d,type:M,compare:$===void 0?null:$}},Ae.startTransition=function(M){var $=L.transition;L.transition={};try{M()}finally{L.transition=$}},Ae.unstable_act=j,Ae.useCallback=function(M,$){return ie.current.useCallback(M,$)},Ae.useContext=function(M){return ie.current.useContext(M)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(M){return ie.current.useDeferredValue(M)},Ae.useEffect=function(M,$){return ie.current.useEffect(M,$)},Ae.useId=function(){return ie.current.useId()},Ae.useImperativeHandle=function(M,$,pe){return ie.current.useImperativeHandle(M,$,pe)},Ae.useInsertionEffect=function(M,$){return ie.current.useInsertionEffect(M,$)},Ae.useLayoutEffect=function(M,$){return ie.current.useLayoutEffect(M,$)},Ae.useMemo=function(M,$){return ie.current.useMemo(M,$)},Ae.useReducer=function(M,$,pe){return ie.current.useReducer(M,$,pe)},Ae.useRef=function(M){return ie.current.useRef(M)},Ae.useState=function(M){return ie.current.useState(M)},Ae.useSyncExternalStore=function(M,$,pe){return ie.current.useSyncExternalStore(M,$,pe)},Ae.useTransition=function(){return ie.current.useTransition()},Ae.version="18.3.1",Ae}var Mg;function pp(){return Mg||(Mg=1,Ff.exports=Hk()),Ff.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ng;function Wk(){if(Ng)return Xs;Ng=1;var n=pp(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function a(u,f,d){var h,g={},w=null,y=null;d!==void 0&&(w=""+d),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(y=f.ref);for(h in f)r.call(f,h)&&!s.hasOwnProperty(h)&&(g[h]=f[h]);if(u&&u.defaultProps)for(h in f=u.defaultProps,f)g[h]===void 0&&(g[h]=f[h]);return{$$typeof:e,type:u,key:w,ref:y,props:g,_owner:o.current}}return Xs.Fragment=t,Xs.jsx=a,Xs.jsxs=a,Xs}var Rg;function Uk(){return Rg||(Rg=1,zf.exports=Wk()),zf.exports}var D=Uk(),O=pp();const He=dp(O),qk=Vk({__proto__:null,default:He},[O]);function Kk({id:n,content:e,isFocused:t,description:r,type:o,onSelect:s}){return D.jsxs("div",{className:`quick-select-option ${t?"quick-select-option-focused":""}`,onClick:()=>{s(n,o)},children:[e,D.jsx("div",{className:`quick-select-description ${t?"quick-select-description-visible":"quick-select-description-hidden"}`,children:r})]})}function Jk({options:n=[],onSelect:e,onSelectionChange:t}){const[r,o]=O.useState(0),s=O.useRef(null);O.useEffect(()=>{if(t){const{id:u,type:f}=n[r];t(u,f)}},[r]);const a=O.useCallback(u=>{switch(u.key){case"ArrowUp":{if(u.preventDefault(),r===0)return;o(r-1);break}case"ArrowDown":{if(u.preventDefault(),r===n.length-1)return;o(r+1);break}case"Enter":{const{id:f,type:d}=n[r];u.preventDefault(),e(f,d)}}},[r,n,e,o]);return O.useEffect(()=>(document.addEventListener("keydown",a),()=>{document.removeEventListener("keydown",a)}),[a]),O.useEffect(()=>{if(s.current){const u=s.current.querySelector(".quick-select-option-focused");u&&u.scrollIntoView({block:"nearest"})}},[r]),{selectOptions:n.map((u,f)=>({...u,isFocused:f===r,onSelect:e})),containerRef:s}}function Qk({label:n,options:e,onSelect:t,onSelectionChange:r}){const{selectOptions:o,containerRef:s}=Jk({options:e,onSelect:t,onSelectionChange:r});return D.jsxs("div",{className:"quick-select-container",ref:s,children:[D.jsx("div",{className:"quick-select-label",children:n}),o.map(a=>D.jsx(Kk,{...a},a.id))]})}const c0=[{id:"context-provider-file-type",type:"file",label:"File"},{id:"context-provider-folder-type",type:"folder",label:"Folder"}],Gk={id:crypto.randomUUID(),content:D.jsx("div",{className:"flex flex-1 items-center",children:"No matching results"}),type:"empty-results"};function Yk(n){switch(n){case"file":return"fileCode";case"folder":return"folder"}}function Xk({id:n,type:e}){switch(e){case"file":return{id:n,content:D.jsxs("div",{className:"flex flex-1 items-center gap-1",children:[D.jsx("i",{className:"codicon codicon-file-code"}),"File"]}),description:D.jsxs("div",{className:"flex items-center gap-1",children:["View files",D.jsx("i",{className:"codicon codicon-arrow-right"})]}),type:"menu-item"};case"folder":return{id:n,content:D.jsxs("div",{className:"flex flex-1 items-center gap-1",children:[D.jsx("i",{className:"codicon codicon-folder"}),"Folder"]}),description:D.jsxs("div",{className:"flex items-center gap-1",children:["View folders",D.jsx("i",{className:"codicon codicon-arrow-right"})]}),type:"menu-item"}}}function Zk(n,e){switch(n){case"file":return"Files";case"folder":return"Folders";default:return e?"Results":"Filter by context type"}}const Ag=n=>{const e=n.map(t=>({id:t.id,content:D.jsxs("div",{className:"flex flex-1 items-center gap-1",children:[D.jsx("i",{className:`codicon codicon-${Yk(t.type)}`}),t.label]}),description:D.jsx("div",{className:"flex items-center gap-1",children:t.description}),type:"context",context:t}));return e.length?e:[Gk]};function eS(n,e,t){switch(n){case"file":case"folder":return Ag(e({query:t,providerType:n}));default:return t?Ag(e({query:t})):c0.map(r=>Xk(r))}}function tS({inputValue:n,getSearchResults:e,onSelect:t,defaultMenu:r}){const[o,s]=O.useState(r||null),a=Zk(o,n),u=eS(o,e,n);return{selectLabel:a,selectOptions:u,onSelect:(f,d)=>{if(d==="menu-item"){switch(f){case"context-provider-file-type":{s("file");break}case"context-provider-folder-type":s("folder")}t(f,d)}if(d==="context"){const h=u.find(g=>g.id===f);t(f,d,h==null?void 0:h.context)}}}}function nS(n){const{selectLabel:e,selectOptions:t,onSelect:r}=tS(n);return D.jsx("div",{style:{width:"500px"},children:D.jsx(Qk,{label:e,options:t,onSelect:r,onSelectionChange:n.onSelectionChange})})}var Dg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function f0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}const Rt=[];for(let n=0;n<256;++n)Rt.push((n+256).toString(16).slice(1));function rS(n,e=0){return(Rt[n[e+0]]+Rt[n[e+1]]+Rt[n[e+2]]+Rt[n[e+3]]+"-"+Rt[n[e+4]]+Rt[n[e+5]]+"-"+Rt[n[e+6]]+Rt[n[e+7]]+"-"+Rt[n[e+8]]+Rt[n[e+9]]+"-"+Rt[n[e+10]]+Rt[n[e+11]]+Rt[n[e+12]]+Rt[n[e+13]]+Rt[n[e+14]]+Rt[n[e+15]]).toLowerCase()}let Lf;const oS=new Uint8Array(16);function iS(){if(!Lf){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Lf=crypto.getRandomValues.bind(crypto)}return Lf(oS)}const sS=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Ig={randomUUID:sS};function d0(n,e,t){var r;if(Ig.randomUUID&&!n)return Ig.randomUUID();n=n||{};const o=n.random??((r=n.rng)==null?void 0:r.call(n))??iS();if(o.length<16)throw new Error("Random bytes length must be >= 16");return o[6]=o[6]&15|64,o[8]=o[8]&63|128,rS(o)}var jf,Pg;function lS(){if(Pg)return jf;Pg=1,jf=n;function n(h){e.length||t(),e[e.length]=h}var e=[],t,r=0,o=1024;function s(){for(;r<e.length;){var h=r;if(r=r+1,e[h].call(),r>o){for(var g=0,w=e.length-r;g<w;g++)e[g]=e[g+r];e.length-=r,r=0}}e.length=0,r=0}var a=typeof Dg<"u"?Dg:self,u=a.MutationObserver||a.WebKitMutationObserver;typeof u=="function"?t=f(s):t=d(s),n.requestFlush=t;function f(h){var g=1,w=new u(h),y=document.createTextNode("");return w.observe(y,{characterData:!0}),function(){g=-g,y.data=g}}function d(h){return function(){var g=setTimeout(y,0),w=setInterval(y,50);function y(){clearTimeout(g),clearInterval(w),h()}}}return n.makeRequestCallFromTimer=d,jf}var $f,_g;function aS(){if(_g)return $f;_g=1;var n=lS();function e(){}var t=null,r={};function o(S){try{return S.then}catch(C){return t=C,r}}function s(S,C){try{return S(C)}catch(T){return t=T,r}}function a(S,C,T){try{S(C,T)}catch(N){return t=N,r}}$f=u;function u(S){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof S!="function")throw new TypeError("Promise constructor's argument is not a function");this._x=0,this._y=0,this._z=null,this._A=null,S!==e&&k(S,this)}u._B=null,u._C=null,u._D=e,u.prototype.then=function(S,C){if(this.constructor!==u)return f(this,S,C);var T=new u(e);return d(this,new x(S,C,T)),T};function f(S,C,T){return new S.constructor(function(N,I){var P=new u(e);P.then(N,I),d(S,new x(C,T,P))})}function d(S,C){for(;S._y===3;)S=S._z;if(u._B&&u._B(S),S._y===0){if(S._x===0){S._x=1,S._A=C;return}if(S._x===1){S._x=2,S._A=[S._A,C];return}S._A.push(C);return}h(S,C)}function h(S,C){n(function(){var T=S._y===1?C.onFulfilled:C.onRejected;if(T===null){S._y===1?g(C.promise,S._z):w(C.promise,S._z);return}var N=s(T,S._z);N===r?w(C.promise,t):g(C.promise,N)})}function g(S,C){if(C===S)return w(S,new TypeError("A promise cannot be resolved with itself."));if(C&&(typeof C=="object"||typeof C=="function")){var T=o(C);if(T===r)return w(S,t);if(T===S.then&&C instanceof u){S._y=3,S._z=C,y(S);return}else if(typeof T=="function"){k(T.bind(C),S);return}}S._y=1,S._z=C,y(S)}function w(S,C){S._y=2,S._z=C,u._C&&u._C(S,C),y(S)}function y(S){if(S._x===1&&(d(S,S._A),S._A=null),S._x===2){for(var C=0;C<S._A.length;C++)d(S,S._A[C]);S._A=null}}function x(S,C,T){this.onFulfilled=typeof S=="function"?S:null,this.onRejected=typeof C=="function"?C:null,this.promise=T}function k(S,C){var T=!1,N=a(S,function(I){T||(T=!0,g(C,I))},function(I){T||(T=!0,w(C,I))});!T&&N===r&&(T=!0,w(C,t))}return $f}var Bf,zg;function uS(){if(zg)return Bf;zg=1;var n=aS();Bf=n;var e=u(!0),t=u(!1),r=u(null),o=u(void 0),s=u(0),a=u("");function u(y){var x=new n(n._D);return x._y=1,x._z=y,x}n.resolve=function(y){if(y instanceof n)return y;if(y===null)return r;if(y===void 0)return o;if(y===!0)return e;if(y===!1)return t;if(y===0)return s;if(y==="")return a;if(typeof y=="object"||typeof y=="function")try{var x=y.then;if(typeof x=="function")return new n(x.bind(y))}catch(k){return new n(function(S,C){C(k)})}return u(y)};var f=function(y){return typeof Array.from=="function"?(f=Array.from,Array.from(y)):(f=function(x){return Array.prototype.slice.call(x)},Array.prototype.slice.call(y))};n.all=function(y){var x=f(y);return new n(function(k,S){if(x.length===0)return k([]);var C=x.length;function T(I,P){if(P&&(typeof P=="object"||typeof P=="function"))if(P instanceof n&&P.then===n.prototype.then){for(;P._y===3;)P=P._z;if(P._y===1)return T(I,P._z);P._y===2&&S(P._z),P.then(function(X){T(I,X)},S);return}else{var B=P.then;if(typeof B=="function"){var U=new n(B.bind(P));U.then(function(X){T(I,X)},S);return}}x[I]=P,--C===0&&k(x)}for(var N=0;N<x.length;N++)T(N,x[N])})};function d(y){return{status:"fulfilled",value:y}}function h(y){return{status:"rejected",reason:y}}function g(y){if(y&&(typeof y=="object"||typeof y=="function")){if(y instanceof n&&y.then===n.prototype.then)return y.then(d,h);var x=y.then;if(typeof x=="function")return new n(x.bind(y)).then(d,h)}return d(y)}n.allSettled=function(y){return n.all(f(y).map(g))},n.reject=function(y){return new n(function(x,k){k(y)})},n.race=function(y){return new n(function(x,k){f(y).forEach(function(S){n.resolve(S).then(x,k)})})},n.prototype.catch=function(y){return this.then(null,y)};function w(y){if(typeof AggregateError=="function")return new AggregateError(y,"All promises were rejected");var x=new Error("All promises were rejected");return x.name="AggregateError",x.errors=y,x}return n.any=function(y){return new n(function(x,k){var S=f(y),C=!1,T=[];function N(P){C||(C=!0,x(P))}function I(P){T.push(P),T.length===S.length&&k(w(T))}S.length===0?k(w(T)):S.forEach(function(P){n.resolve(P).then(N,I)})})},Bf}var Vf,Fg;function cS(){if(Fg)return Vf;Fg=1;var n=uS(),e=function t(){if(!(this instanceof t))return new t;var r=this;return r.promise=new n(function(o,s){r.resolve=o,r.reject=s}),r};return e.Promise=n,Vf=e,Vf}var fS=cS();const dS=f0(fS);function pS(n){const e=new Map,t={},r=a=>{switch(a.data.type){case"response":{const u=a.data,f=e.get(u.id);f&&(f.resolve(u.value),e.delete(u.id));break}case"error":{const u=a.data,f=e.get(u.id);f&&(f.reject(new Error(u.value)),e.delete(u.id));break}case"event":{const u=a.data;if(u.key in t)for(const f of t[u.key])f(...u.value);break}}},o=(a,...u)=>{const f=d0(),d=new dS,h={type:"request",id:f,key:a,params:u};return e.set(f,d),n(h),d.promise},s=(a,u)=>(a in t||(t[a]=new Set),t[a].add(u),()=>{a in t&&t[a].delete(u)});return window.addEventListener("message",r),{callApi:o,addListener:s}}const fs=O.createContext({});function hS({children:n,editorApi:e}){return D.jsx(fs.Provider,{value:pS(t=>{e.postMessage(t)}),children:n})}var Lg;(function(n){n.FileEdited="fileEdited",n.FileCreated="fileCreated",n.FileDeleted="fileDeleted",n.UserTriggered="userTriggered"})(Lg||(Lg={}));var jg;(function(n){n.AskAgent="askAgent"})(jg||(jg={}));var Ui;(function(n){n.DevMode="enableDevMode",n.TrustedCommands="trustedCommands",n.AutoApproveAgentCommands="autoApproveAgentCommands",n.ConfigureMCP="configureMCP"})(Ui||(Ui={}));const $g={[Ui.DevMode]:!1,[Ui.TrustedCommands]:[],[Ui.AutoApproveAgentCommands]:[],[Ui.ConfigureMCP]:"Disabled"};var Bg;(function(n){n.Extension="kiroAgent",n.Test="kiroAgent.test"})(Bg||(Bg={}));var Vg;(function(n){n.Queued="Queued",n.InProgress="InProgress",n.Paused="Paused",n.NeedAction="NeedAction",n.Success="Success",n.Failed="Failed",n.Canceled="Canceled",n.Yielded="Yielded"})(Vg||(Vg={}));var Hg;(function(n){n.Queued="Queued",n.Active="Active",n.History="History"})(Hg||(Hg={}));var Wg;(function(n){n.Code="Code"})(Wg||(Wg={}));var Ug;(function(n){n.PendingAction="PendingAction",n.Running="Running",n.Success="Success",n.Error="Error",n.Accepted="Accepted",n.Rejected="Rejected",n.Canceled="Canceled",n.HandledError="HandledError"})(Ug||(Ug={}));var qg;(function(n){n.Autopilot="Autopilot",n.Supervised="Supervised"})(qg||(qg={}));var Kg;(function(n){n.NotStarted="not_started",n.InProgress="in_progress",n.Completed="completed"})(Kg||(Kg={}));const mS=O.createContext(void 0);function gS({children:n}){const{callApi:e,addListener:t}=O.useContext(fs),[r,o]=O.useState($g);return O.useEffect(()=>{const s=t("onSettingChange",a=>{o(u=>({...u,[a.key]:a.value}))});return(async()=>{const a=await e("getSettings");o({...$g,...a})})(),()=>{s()}},[t,e]),D.jsx(mS.Provider,{value:{settings:r},children:n})}function yS(n={}){const{providers:e=c0}=n,[t,r]=O.useState("not-started"),[o,s]=O.useState({}),{callApi:a}=O.useContext(fs),u=O.useCallback(async()=>{const f={};try{await Promise.all(e.map(async({type:d})=>{f[d]=await a("loadContextProviderItems",d)})),s(f),r("loaded")}catch{r("error")}},[e,a]);return O.useEffect(()=>{t==="loaded"||t==="loading"||(r("loading"),u())},[t,u]),{itemsMap:o,loadingStatus:t,forceReload:()=>{r("reloading")}}}const vS="ENTRIES",p0="KEYS",h0="VALUES",Dt="";let Hf=class{constructor(e,t){const r=e._tree,o=Array.from(r.keys());this.set=e,this._type=t,this._path=o.length>0?[{node:r,keys:o}]:[]}next(){const e=this.dive();return this.backtrack(),e}dive(){if(this._path.length===0)return{done:!0,value:void 0};const{node:e,keys:t}=_i(this._path);if(_i(t)===Dt)return{done:!1,value:this.result()};const r=e.get(_i(t));return this._path.push({node:r,keys:Array.from(r.keys())}),this.dive()}backtrack(){if(this._path.length===0)return;const e=_i(this._path).keys;e.pop(),!(e.length>0)&&(this._path.pop(),this.backtrack())}key(){return this.set._prefix+this._path.map(({keys:e})=>_i(e)).filter(e=>e!==Dt).join("")}value(){return _i(this._path).node.get(Dt)}result(){switch(this._type){case h0:return this.value();case p0:return this.key();default:return[this.key(),this.value()]}}[Symbol.iterator](){return this}};const _i=n=>n[n.length-1],wS=(n,e,t)=>{const r=new Map;if(e===void 0)return r;const o=e.length+1,s=o+t,a=new Uint8Array(s*o).fill(t+1);for(let u=0;u<o;++u)a[u]=u;for(let u=1;u<s;++u)a[u*o]=u;return m0(n,e,t,r,a,1,o,""),r},m0=(n,e,t,r,o,s,a,u)=>{const f=s*a;e:for(const d of n.keys())if(d===Dt){const h=o[f-1];h<=t&&r.set(u,[n.get(d),h])}else{let h=s;for(let g=0;g<d.length;++g,++h){const w=d[g],y=a*h,x=y-a;let k=o[y];const S=Math.max(0,h-t-1),C=Math.min(a-1,h+t);for(let T=S;T<C;++T){const N=w!==e[T],I=o[x+T]+ +N,P=o[x+T+1]+1,B=o[y+T]+1,U=o[y+T+1]=Math.min(I,P,B);U<k&&(k=U)}if(k>t)continue e}m0(n.get(d),e,t,r,o,h,a,u+d)}};let Wf=class el{constructor(e=new Map,t=""){this._size=void 0,this._tree=e,this._prefix=t}atPrefix(e){if(!e.startsWith(this._prefix))throw new Error("Mismatched prefix");const[t,r]=Za(this._tree,e.slice(this._prefix.length));if(t===void 0){const[o,s]=hp(r);for(const a of o.keys())if(a!==Dt&&a.startsWith(s)){const u=new Map;return u.set(a.slice(s.length),o.get(a)),new el(u,e)}}return new el(t,e)}clear(){this._size=void 0,this._tree.clear()}delete(e){return this._size=void 0,xS(this._tree,e)}entries(){return new Hf(this,vS)}forEach(e){for(const[t,r]of this)e(t,r,this)}fuzzyGet(e,t){return wS(this._tree,e,t)}get(e){const t=Ad(this._tree,e);return t!==void 0?t.get(Dt):void 0}has(e){const t=Ad(this._tree,e);return t!==void 0&&t.has(Dt)}keys(){return new Hf(this,p0)}set(e,t){if(typeof e!="string")throw new Error("key must be a string");return this._size=void 0,Uf(this._tree,e).set(Dt,t),this}get size(){if(this._size)return this._size;this._size=0;const e=this.entries();for(;!e.next().done;)this._size+=1;return this._size}update(e,t){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;const r=Uf(this._tree,e);return r.set(Dt,t(r.get(Dt))),this}fetch(e,t){if(typeof e!="string")throw new Error("key must be a string");this._size=void 0;const r=Uf(this._tree,e);let o=r.get(Dt);return o===void 0&&r.set(Dt,o=t()),o}values(){return new Hf(this,h0)}[Symbol.iterator](){return this.entries()}static from(e){const t=new el;for(const[r,o]of e)t.set(r,o);return t}static fromObject(e){return el.from(Object.entries(e))}};const Za=(n,e,t=[])=>{if(e.length===0||n==null)return[n,t];for(const r of n.keys())if(r!==Dt&&e.startsWith(r))return t.push([n,r]),Za(n.get(r),e.slice(r.length),t);return t.push([n,e]),Za(void 0,"",t)},Ad=(n,e)=>{if(e.length===0||n==null)return n;for(const t of n.keys())if(t!==Dt&&e.startsWith(t))return Ad(n.get(t),e.slice(t.length))},Uf=(n,e)=>{const t=e.length;e:for(let r=0;n&&r<t;){for(const s of n.keys())if(s!==Dt&&e[r]===s[0]){const a=Math.min(t-r,s.length);let u=1;for(;u<a&&e[r+u]===s[u];)++u;const f=n.get(s);if(u===s.length)n=f;else{const d=new Map;d.set(s.slice(u),f),n.set(e.slice(r,r+u),d),n.delete(s),n=d}r+=u;continue e}const o=new Map;return n.set(e.slice(r),o),o}return n},xS=(n,e)=>{const[t,r]=Za(n,e);if(t!==void 0){if(t.delete(Dt),t.size===0)g0(r);else if(t.size===1){const[o,s]=t.entries().next().value;y0(r,o,s)}}},g0=n=>{if(n.length===0)return;const[e,t]=hp(n);if(e.delete(t),e.size===0)g0(n.slice(0,-1));else if(e.size===1){const[r,o]=e.entries().next().value;r!==Dt&&y0(n.slice(0,-1),r,o)}},y0=(n,e,t)=>{if(n.length===0)return;const[r,o]=hp(n);r.set(o+e,t),r.delete(o)},hp=n=>n[n.length-1],mp="or",v0="and",kS="and_not";let w0=class qa{constructor(e){if((e==null?void 0:e.fields)==null)throw new Error('MiniSearch: option "fields" must be provided');const t=e.autoVacuum==null||e.autoVacuum===!0?Jf:e.autoVacuum;this._options={...Kf,...e,autoVacuum:t,searchOptions:{...Jg,...e.searchOptions||{}},autoSuggestOptions:{...TS,...e.autoSuggestOptions||{}}},this._index=new Wf,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldIds={},this._fieldLength=new Map,this._avgFieldLength=[],this._nextId=0,this._storedFields=new Map,this._dirtCount=0,this._currentVacuum=null,this._enqueuedVacuum=null,this._enqueuedVacuumConditions=Id,this.addFields(this._options.fields)}add(e){const{extractField:t,tokenize:r,processTerm:o,fields:s,idField:a}=this._options,u=t(e,a);if(u==null)throw new Error(`MiniSearch: document does not have ID field "${a}"`);if(this._idToShortId.has(u))throw new Error(`MiniSearch: duplicate ID ${u}`);const f=this.addDocumentId(u);this.saveStoredFields(f,e);for(const d of s){const h=t(e,d);if(h==null)continue;const g=r(h.toString(),d),w=this._fieldIds[d],y=new Set(g).size;this.addFieldLength(f,w,this._documentCount-1,y);for(const x of g){const k=o(x,d);if(Array.isArray(k))for(const S of k)this.addTerm(w,f,S);else k&&this.addTerm(w,f,k)}}}addAll(e){for(const t of e)this.add(t)}addAllAsync(e,t={}){const{chunkSize:r=10}=t,o={chunk:[],promise:Promise.resolve()},{chunk:s,promise:a}=e.reduce(({chunk:u,promise:f},d,h)=>(u.push(d),(h+1)%r===0?{chunk:[],promise:f.then(()=>new Promise(g=>setTimeout(g,0))).then(()=>this.addAll(u))}:{chunk:u,promise:f}),o);return a.then(()=>this.addAll(s))}remove(e){const{tokenize:t,processTerm:r,extractField:o,fields:s,idField:a}=this._options,u=o(e,a);if(u==null)throw new Error(`MiniSearch: document does not have ID field "${a}"`);const f=this._idToShortId.get(u);if(f==null)throw new Error(`MiniSearch: cannot remove document with ID ${u}: it is not in the index`);for(const d of s){const h=o(e,d);if(h==null)continue;const g=t(h.toString(),d),w=this._fieldIds[d],y=new Set(g).size;this.removeFieldLength(f,w,this._documentCount,y);for(const x of g){const k=r(x,d);if(Array.isArray(k))for(const S of k)this.removeTerm(w,f,S);else k&&this.removeTerm(w,f,k)}}this._storedFields.delete(f),this._documentIds.delete(f),this._idToShortId.delete(u),this._fieldLength.delete(f),this._documentCount-=1}removeAll(e){if(e)for(const t of e)this.remove(t);else{if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");this._index=new Wf,this._documentCount=0,this._documentIds=new Map,this._idToShortId=new Map,this._fieldLength=new Map,this._avgFieldLength=[],this._storedFields=new Map,this._nextId=0}}discard(e){const t=this._idToShortId.get(e);if(t==null)throw new Error(`MiniSearch: cannot discard document with ID ${e}: it is not in the index`);this._idToShortId.delete(e),this._documentIds.delete(t),this._storedFields.delete(t),(this._fieldLength.get(t)||[]).forEach((r,o)=>{this.removeFieldLength(t,o,this._documentCount,r)}),this._fieldLength.delete(t),this._documentCount-=1,this._dirtCount+=1,this.maybeAutoVacuum()}maybeAutoVacuum(){if(this._options.autoVacuum===!1)return;const{minDirtFactor:e,minDirtCount:t,batchSize:r,batchWait:o}=this._options.autoVacuum;this.conditionalVacuum({batchSize:r,batchWait:o},{minDirtCount:t,minDirtFactor:e})}discardAll(e){const t=this._options.autoVacuum;try{this._options.autoVacuum=!1;for(const r of e)this.discard(r)}finally{this._options.autoVacuum=t}this.maybeAutoVacuum()}replace(e){const{idField:t,extractField:r}=this._options,o=r(e,t);this.discard(o),this.add(e)}vacuum(e={}){return this.conditionalVacuum(e)}conditionalVacuum(e,t){return this._currentVacuum?(this._enqueuedVacuumConditions=this._enqueuedVacuumConditions&&t,this._enqueuedVacuum!=null?this._enqueuedVacuum:(this._enqueuedVacuum=this._currentVacuum.then(()=>{const r=this._enqueuedVacuumConditions;return this._enqueuedVacuumConditions=Id,this.performVacuuming(e,r)}),this._enqueuedVacuum)):this.vacuumConditionsMet(t)===!1?Promise.resolve():(this._currentVacuum=this.performVacuuming(e),this._currentVacuum)}async performVacuuming(e,t){const r=this._dirtCount;if(this.vacuumConditionsMet(t)){const o=e.batchSize||Dd.batchSize,s=e.batchWait||Dd.batchWait;let a=1;for(const[u,f]of this._index){for(const[d,h]of f)for(const[g]of h)this._documentIds.has(g)||(h.size<=1?f.delete(d):h.delete(g));this._index.get(u).size===0&&this._index.delete(u),a%o===0&&await new Promise(d=>setTimeout(d,s)),a+=1}this._dirtCount-=r}await null,this._currentVacuum=this._enqueuedVacuum,this._enqueuedVacuum=null}vacuumConditionsMet(e){if(e==null)return!0;let{minDirtCount:t,minDirtFactor:r}=e;return t=t||Jf.minDirtCount,r=r||Jf.minDirtFactor,this.dirtCount>=t&&this.dirtFactor>=r}get isVacuuming(){return this._currentVacuum!=null}get dirtCount(){return this._dirtCount}get dirtFactor(){return this._dirtCount/(1+this._documentCount+this._dirtCount)}has(e){return this._idToShortId.has(e)}getStoredFields(e){const t=this._idToShortId.get(e);if(t!=null)return this._storedFields.get(t)}search(e,t={}){const{searchOptions:r}=this._options,o={...r,...t},s=this.executeQuery(e,t),a=[];for(const[u,{score:f,terms:d,match:h}]of s){const g=d.length||1,w={id:this._documentIds.get(u),score:f*g,terms:Object.keys(h),queryTerms:d,match:h};Object.assign(w,this._storedFields.get(u)),(o.filter==null||o.filter(w))&&a.push(w)}return e===qa.wildcard&&o.boostDocument==null||a.sort(Gg),a}autoSuggest(e,t={}){t={...this._options.autoSuggestOptions,...t};const r=new Map;for(const{score:s,terms:a}of this.search(e,t)){const u=a.join(" "),f=r.get(u);f!=null?(f.score+=s,f.count+=1):r.set(u,{score:s,terms:a,count:1})}const o=[];for(const[s,{score:a,terms:u,count:f}]of r)o.push({suggestion:s,terms:u,score:a/f});return o.sort(Gg),o}get documentCount(){return this._documentCount}get termCount(){return this._index.size}static loadJSON(e,t){if(t==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJS(JSON.parse(e),t)}static async loadJSONAsync(e,t){if(t==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return this.loadJSAsync(JSON.parse(e),t)}static getDefault(e){if(Kf.hasOwnProperty(e))return qf(Kf,e);throw new Error(`MiniSearch: unknown option "${e}"`)}static loadJS(e,t){const{index:r,documentIds:o,fieldLength:s,storedFields:a,serializationVersion:u}=e,f=this.instantiateMiniSearch(e,t);f._documentIds=Ia(o),f._fieldLength=Ia(s),f._storedFields=Ia(a);for(const[d,h]of f._documentIds)f._idToShortId.set(h,d);for(const[d,h]of r){const g=new Map;for(const w of Object.keys(h)){let y=h[w];u===1&&(y=y.ds),g.set(parseInt(w,10),Ia(y))}f._index.set(d,g)}return f}static async loadJSAsync(e,t){const{index:r,documentIds:o,fieldLength:s,storedFields:a,serializationVersion:u}=e,f=this.instantiateMiniSearch(e,t);f._documentIds=await Pa(o),f._fieldLength=await Pa(s),f._storedFields=await Pa(a);for(const[h,g]of f._documentIds)f._idToShortId.set(g,h);let d=0;for(const[h,g]of r){const w=new Map;for(const y of Object.keys(g)){let x=g[y];u===1&&(x=x.ds),w.set(parseInt(y,10),await Pa(x))}++d%1e3===0&&await x0(0),f._index.set(h,w)}return f}static instantiateMiniSearch(e,t){const{documentCount:r,nextId:o,fieldIds:s,averageFieldLength:a,dirtCount:u,serializationVersion:f}=e;if(f!==1&&f!==2)throw new Error("MiniSearch: cannot deserialize an index created with an incompatible version");const d=new qa(t);return d._documentCount=r,d._nextId=o,d._idToShortId=new Map,d._fieldIds=s,d._avgFieldLength=a,d._dirtCount=u||0,d._index=new Wf,d}executeQuery(e,t={}){if(e===qa.wildcard)return this.executeWildcardQuery(t);if(typeof e!="string"){const h={...t,...e,queries:void 0},g=e.queries.map(w=>this.executeQuery(w,h));return this.combineResults(g,h.combineWith)}const{tokenize:r,processTerm:o,searchOptions:s}=this._options,a={tokenize:r,processTerm:o,...s,...t},{tokenize:u,processTerm:f}=a,d=u(e).flatMap(h=>f(h)).filter(h=>!!h).map(ES(a)).map(h=>this.executeQuerySpec(h,a));return this.combineResults(d,a.combineWith)}executeQuerySpec(e,t){const r={...this._options.searchOptions,...t},o=(r.fields||this._options.fields).reduce((k,S)=>({...k,[S]:qf(r.boost,S)||1}),{}),{boostDocument:s,weights:a,maxFuzzy:u,bm25:f}=r,{fuzzy:d,prefix:h}={...Jg.weights,...a},g=this._index.get(e.term),w=this.termResults(e.term,e.term,1,e.termBoost,g,o,s,f);let y,x;if(e.prefix&&(y=this._index.atPrefix(e.term)),e.fuzzy){const k=e.fuzzy===!0?.2:e.fuzzy,S=k<1?Math.min(u,Math.round(e.term.length*k)):k;S&&(x=this._index.fuzzyGet(e.term,S))}if(y)for(const[k,S]of y){const C=k.length-e.term.length;if(!C)continue;x==null||x.delete(k);const T=h*k.length/(k.length+.3*C);this.termResults(e.term,k,T,e.termBoost,S,o,s,f,w)}if(x)for(const k of x.keys()){const[S,C]=x.get(k);if(!C)continue;const T=d*k.length/(k.length+C);this.termResults(e.term,k,T,e.termBoost,S,o,s,f,w)}return w}executeWildcardQuery(e){const t=new Map,r={...this._options.searchOptions,...e};for(const[o,s]of this._documentIds){const a=r.boostDocument?r.boostDocument(s,"",this._storedFields.get(o)):1;t.set(o,{score:a,terms:[],match:{}})}return t}combineResults(e,t=mp){if(e.length===0)return new Map;const r=t.toLowerCase(),o=SS[r];if(!o)throw new Error(`Invalid combination operator: ${t}`);return e.reduce(o)||new Map}toJSON(){const e=[];for(const[t,r]of this._index){const o={};for(const[s,a]of r)o[s]=Object.fromEntries(a);e.push([t,o])}return{documentCount:this._documentCount,nextId:this._nextId,documentIds:Object.fromEntries(this._documentIds),fieldIds:this._fieldIds,fieldLength:Object.fromEntries(this._fieldLength),averageFieldLength:this._avgFieldLength,storedFields:Object.fromEntries(this._storedFields),dirtCount:this._dirtCount,index:e,serializationVersion:2}}termResults(e,t,r,o,s,a,u,f,d=new Map){if(s==null)return d;for(const h of Object.keys(a)){const g=a[h],w=this._fieldIds[h],y=s.get(w);if(y==null)continue;let x=y.size;const k=this._avgFieldLength[w];for(const S of y.keys()){if(!this._documentIds.has(S)){this.removeTerm(w,S,t),x-=1;continue}const C=u?u(this._documentIds.get(S),t,this._storedFields.get(S)):1;if(!C)continue;const T=y.get(S),N=this._fieldLength.get(S)[w],I=CS(T,x,this._documentCount,N,k,f),P=r*o*g*C*I,B=d.get(S);if(B){B.score+=P,OS(B.terms,e);const U=qf(B.match,t);U?U.push(h):B.match[t]=[h]}else d.set(S,{score:P,terms:[e],match:{[t]:[h]}})}}return d}addTerm(e,t,r){const o=this._index.fetch(r,Yg);let s=o.get(e);if(s==null)s=new Map,s.set(t,1),o.set(e,s);else{const a=s.get(t);s.set(t,(a||0)+1)}}removeTerm(e,t,r){if(!this._index.has(r)){this.warnDocumentChanged(t,e,r);return}const o=this._index.fetch(r,Yg),s=o.get(e);s==null||s.get(t)==null?this.warnDocumentChanged(t,e,r):s.get(t)<=1?s.size<=1?o.delete(e):s.delete(t):s.set(t,s.get(t)-1),this._index.get(r).size===0&&this._index.delete(r)}warnDocumentChanged(e,t,r){for(const o of Object.keys(this._fieldIds))if(this._fieldIds[o]===t){this._options.logger("warn",`MiniSearch: document with ID ${this._documentIds.get(e)} has changed before removal: term "${r}" was not present in field "${o}". Removing a document after it has changed can corrupt the index!`,"version_conflict");return}}addDocumentId(e){const t=this._nextId;return this._idToShortId.set(e,t),this._documentIds.set(t,e),this._documentCount+=1,this._nextId+=1,t}addFields(e){for(let t=0;t<e.length;t++)this._fieldIds[e[t]]=t}addFieldLength(e,t,r,o){let s=this._fieldLength.get(e);s==null&&this._fieldLength.set(e,s=[]),s[t]=o;const a=(this._avgFieldLength[t]||0)*r+o;this._avgFieldLength[t]=a/(r+1)}removeFieldLength(e,t,r,o){if(r===1){this._avgFieldLength[t]=0;return}const s=this._avgFieldLength[t]*r-o;this._avgFieldLength[t]=s/(r-1)}saveStoredFields(e,t){const{storeFields:r,extractField:o}=this._options;if(r==null||r.length===0)return;let s=this._storedFields.get(e);s==null&&this._storedFields.set(e,s={});for(const a of r){const u=o(t,a);u!==void 0&&(s[a]=u)}}};w0.wildcard=Symbol("*");const qf=(n,e)=>Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0,SS={[mp]:(n,e)=>{for(const t of e.keys()){const r=n.get(t);if(r==null)n.set(t,e.get(t));else{const{score:o,terms:s,match:a}=e.get(t);r.score=r.score+o,r.match=Object.assign(r.match,a),Qg(r.terms,s)}}return n},[v0]:(n,e)=>{const t=new Map;for(const r of e.keys()){const o=n.get(r);if(o==null)continue;const{score:s,terms:a,match:u}=e.get(r);Qg(o.terms,a),t.set(r,{score:o.score+s,terms:o.terms,match:Object.assign(o.match,u)})}return t},[kS]:(n,e)=>{for(const t of e.keys())n.delete(t);return n}},bS={k:1.2,b:.7,d:.5},CS=(n,e,t,r,o,s)=>{const{k:a,b:u,d:f}=s;return Math.log(1+(t-e+.5)/(e+.5))*(f+n*(a+1)/(n+a*(1-u+u*r/o)))},ES=n=>(e,t,r)=>{const o=typeof n.fuzzy=="function"?n.fuzzy(e,t,r):n.fuzzy||!1,s=typeof n.prefix=="function"?n.prefix(e,t,r):n.prefix===!0,a=typeof n.boostTerm=="function"?n.boostTerm(e,t,r):1;return{term:e,fuzzy:o,prefix:s,termBoost:a}},Kf={idField:"id",extractField:(n,e)=>n[e],tokenize:n=>n.split(MS),processTerm:n=>n.toLowerCase(),fields:void 0,searchOptions:void 0,storeFields:[],logger:(n,e)=>{typeof(console==null?void 0:console[n])=="function"&&console[n](e)},autoVacuum:!0},Jg={combineWith:mp,prefix:!1,fuzzy:!1,maxFuzzy:6,boost:{},weights:{fuzzy:.45,prefix:.375},bm25:bS},TS={combineWith:v0,prefix:(n,e,t)=>e===t.length-1},Dd={batchSize:1e3,batchWait:10},Id={minDirtFactor:.1,minDirtCount:20},Jf={...Dd,...Id},OS=(n,e)=>{n.includes(e)||n.push(e)},Qg=(n,e)=>{for(const t of e)n.includes(t)||n.push(t)},Gg=({score:n},{score:e})=>e-n,Yg=()=>new Map,Ia=n=>{const e=new Map;for(const t of Object.keys(n))e.set(parseInt(t,10),n[t]);return e},Pa=async n=>{const e=new Map;let t=0;for(const r of Object.keys(n))e.set(parseInt(r,10),n[r]),++t%1e3===0&&await x0(0);return e},x0=n=>new Promise(e=>setTimeout(e,n)),MS=/[\n\r\p{Z}\p{P}]+/u,NS={prefix:!0,fuzzy:2};function RS(n){return typeof n.id=="string"&&"label"in n}function Xg(n,e,t){return n.search(t,NS).reduce((r,o)=>(RS(o)&&r.push({...o,type:e}),r),[])}function AS({itemsMap:n}){const[e,t]=O.useState({});O.useEffect(()=>{const o={};for(const[s,a]of Object.entries(n)){const u=new w0({fields:["label","description"],storeFields:["id","label","description"]});u.addAll(a),o[s]=u}t(o)},[n]);const r=O.useCallback(({query:o,providerType:s})=>{if(!s){if(!o){const u=[];for(const f of Object.keys(e))u.push(...n[f]??[]);return u}const a=[];for(const[u,f]of Object.entries(e))a.push(...Xg(f,u,o));return a.sort((u,f)=>f.score-u.score)}return e[s]?o?Xg(e[s],s,o).sort((a,u)=>u.score-a.score):n[s]??[]:[]},[n,e]);return{addSearchItems:O.useCallback(o=>{var s;const a={...e};for(const u of o){const{type:f}=u;(s=a[f])==null||s.add(u)}t(a)},[e]),getSearchResults:r}}function DS(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function gp(n){return typeof n=="string"||typeof n=="object"&&Object.prototype.toString.call(n)==="[object String]"}function IS(n,e){return n!=null&&Object.prototype.hasOwnProperty.call(n,e)}function eu(n){return typeof n=="function"}const Ue=(...n)=>{const e=[];for(const t of n)if(t){if(gp(t)){e.push(t);continue}if(typeof t=="number"){e.push(t.toString());continue}if(Array.isArray(t)){e.push(Ue(...t));continue}if(DS(t)){if(t.toString!==Object.prototype.toString&&t.toString()!=="[object Object]"){e.push(t.toString());continue}for(const r in t)IS(t,r)&&t[r]&&e.push(r)}}return e.join(" ")};Ue.textPositive="text-positive";const ur=O.forwardRef(({children:n,className:e,variant:t,size:r,disabled:o,severity:s,purpose:a="default",isActive:u=!1,isLoading:f=!1,...d},h)=>D.jsx("button",{className:Ue("kiro-button",e),"data-severity":s,"data-size":r,disabled:o,"data-variant":t,"data-purpose":a,"data-active":u,"data-loading":f,ref:h,...d,children:n})),PS={add:"add",plus:"plus",gistNew:"gist-new",repoCreate:"repo-create",lightbulb:"lightbulb",lightBulb:"light-bulb",repo:"repo",repoDelete:"repo-delete",gistFork:"gist-fork",repoForked:"repo-forked",gitPullRequest:"git-pull-request",gitPullRequestAbandoned:"git-pull-request-abandoned",recordKeys:"record-keys",keyboard:"keyboard",tag:"tag",gitPullRequestLabel:"git-pull-request-label",tagAdd:"tag-add",tagRemove:"tag-remove",person:"person",personFollow:"person-follow",personOutline:"person-outline",personFilled:"person-filled",gitBranch:"git-branch",gitBranchCreate:"git-branch-create",gitBranchDelete:"git-branch-delete",sourceControl:"source-control",mirror:"mirror",mirrorPublic:"mirror-public",star:"star",starAdd:"star-add",starDelete:"star-delete",starEmpty:"star-empty",comment:"comment",commentAdd:"comment-add",alert:"alert",warning:"warning",search:"search",searchSave:"search-save",logOut:"log-out",signOut:"sign-out",logIn:"log-in",signIn:"sign-in",eye:"eye",eyeUnwatch:"eye-unwatch",eyeWatch:"eye-watch",circleFilled:"circle-filled",primitiveDot:"primitive-dot",closeDirty:"close-dirty",debugBreakpoint:"debug-breakpoint",debugBreakpointDisabled:"debug-breakpoint-disabled",debugHint:"debug-hint",terminalDecorationSuccess:"terminal-decoration-success",primitiveSquare:"primitive-square",edit:"edit",pencil:"pencil",info:"info",issueOpened:"issue-opened",gistPrivate:"gist-private",gitForkPrivate:"git-fork-private",lock:"lock",mirrorPrivate:"mirror-private",close:"close",removeClose:"remove-close",x:"x",repoSync:"repo-sync",sync:"sync",clone:"clone",desktopDownload:"desktop-download",beaker:"beaker",microscope:"microscope",vm:"vm",deviceDesktop:"device-desktop",file:"file",fileText:"file-text",more:"more",ellipsis:"ellipsis",kebabHorizontal:"kebab-horizontal",mailReply:"mail-reply",reply:"reply",organization:"organization",organizationFilled:"organization-filled",organizationOutline:"organization-outline",newFile:"new-file",fileAdd:"file-add",newFolder:"new-folder",fileDirectoryCreate:"file-directory-create",trash:"trash",trashcan:"trashcan",history:"history",clock:"clock",folder:"folder",fileDirectory:"file-directory",symbolFolder:"symbol-folder",logoGithub:"logo-github",markGithub:"mark-github",github:"github",terminal:"terminal",console:"console",repl:"repl",zap:"zap",symbolEvent:"symbol-event",error:"error",stop:"stop",variable:"variable",symbolVariable:"symbol-variable",array:"array",symbolArray:"symbol-array",symbolModule:"symbol-module",symbolPackage:"symbol-package",symbolNamespace:"symbol-namespace",symbolObject:"symbol-object",symbolMethod:"symbol-method",symbolFunction:"symbol-function",symbolConstructor:"symbol-constructor",symbolBoolean:"symbol-boolean",symbolNull:"symbol-null",symbolNumeric:"symbol-numeric",symbolNumber:"symbol-number",symbolStructure:"symbol-structure",symbolStruct:"symbol-struct",symbolParameter:"symbol-parameter",symbolTypeParameter:"symbol-type-parameter",symbolKey:"symbol-key",symbolText:"symbol-text",symbolReference:"symbol-reference",goToFile:"go-to-file",symbolEnum:"symbol-enum",symbolValue:"symbol-value",symbolRuler:"symbol-ruler",symbolUnit:"symbol-unit",activateBreakpoints:"activate-breakpoints",archive:"archive",arrowBoth:"arrow-both",arrowDown:"arrow-down",arrowLeft:"arrow-left",arrowRight:"arrow-right",arrowSmallDown:"arrow-small-down",arrowSmallLeft:"arrow-small-left",arrowSmallRight:"arrow-small-right",arrowSmallUp:"arrow-small-up",arrowUp:"arrow-up",bell:"bell",bold:"bold",book:"book",bookmark:"bookmark",debugBreakpointConditionalUnverified:"debug-breakpoint-conditional-unverified",debugBreakpointConditional:"debug-breakpoint-conditional",debugBreakpointConditionalDisabled:"debug-breakpoint-conditional-disabled",debugBreakpointDataUnverified:"debug-breakpoint-data-unverified",debugBreakpointData:"debug-breakpoint-data",debugBreakpointDataDisabled:"debug-breakpoint-data-disabled",debugBreakpointLogUnverified:"debug-breakpoint-log-unverified",debugBreakpointLog:"debug-breakpoint-log",debugBreakpointLogDisabled:"debug-breakpoint-log-disabled",briefcase:"briefcase",broadcast:"broadcast",browser:"browser",bug:"bug",calendar:"calendar",caseSensitive:"case-sensitive",check:"check",checklist:"checklist",chevronDown:"chevron-down",chevronLeft:"chevron-left",chevronRight:"chevron-right",chevronUp:"chevron-up",chromeClose:"chrome-close",chromeMaximize:"chrome-maximize",chromeMinimize:"chrome-minimize",chromeRestore:"chrome-restore",circleOutline:"circle-outline",circle:"circle",debugBreakpointUnverified:"debug-breakpoint-unverified",terminalDecorationIncomplete:"terminal-decoration-incomplete",circleSlash:"circle-slash",circuitBoard:"circuit-board",clearAll:"clear-all",clippy:"clippy",closeAll:"close-all",cloudDownload:"cloud-download",cloudUpload:"cloud-upload",code:"code",collapseAll:"collapse-all",colorMode:"color-mode",commentDiscussion:"comment-discussion",creditCard:"credit-card",dash:"dash",dashboard:"dashboard",database:"database",debugContinue:"debug-continue",debugDisconnect:"debug-disconnect",debugPause:"debug-pause",debugRestart:"debug-restart",debugStart:"debug-start",debugStepInto:"debug-step-into",debugStepOut:"debug-step-out",debugStepOver:"debug-step-over",debugStop:"debug-stop",debug:"debug",deviceCameraVideo:"device-camera-video",deviceCamera:"device-camera",deviceMobile:"device-mobile",diffAdded:"diff-added",diffIgnored:"diff-ignored",diffModified:"diff-modified",diffRemoved:"diff-removed",diffRenamed:"diff-renamed",diff:"diff",diffSidebyside:"diff-sidebyside",discard:"discard",editorLayout:"editor-layout",emptyWindow:"empty-window",exclude:"exclude",extensions:"extensions",eyeClosed:"eye-closed",fileBinary:"file-binary",fileCode:"file-code",fileMedia:"file-media",filePdf:"file-pdf",fileSubmodule:"file-submodule",fileSymlinkDirectory:"file-symlink-directory",fileSymlinkFile:"file-symlink-file",fileZip:"file-zip",files:"files",filter:"filter",flame:"flame",foldDown:"fold-down",foldUp:"fold-up",fold:"fold",folderActive:"folder-active",folderOpened:"folder-opened",gear:"gear",gift:"gift",gistSecret:"gist-secret",gist:"gist",gitCommit:"git-commit",gitCompare:"git-compare",compareChanges:"compare-changes",gitMerge:"git-merge",githubAction:"github-action",githubAlt:"github-alt",globe:"globe",grabber:"grabber",graph:"graph",gripper:"gripper",heart:"heart",home:"home",horizontalRule:"horizontal-rule",hubot:"hubot",inbox:"inbox",issueReopened:"issue-reopened",issues:"issues",italic:"italic",jersey:"jersey",json:"json",kebabVertical:"kebab-vertical",key:"key",law:"law",lightbulbAutofix:"lightbulb-autofix",linkExternal:"link-external",link:"link",listOrdered:"list-ordered",listUnordered:"list-unordered",liveShare:"live-share",loading:"loading",location:"location",mailRead:"mail-read",mail:"mail",markdown:"markdown",megaphone:"megaphone",mention:"mention",milestone:"milestone",gitPullRequestMilestone:"git-pull-request-milestone",mortarBoard:"mortar-board",move:"move",multipleWindows:"multiple-windows",mute:"mute",noNewline:"no-newline",note:"note",octoface:"octoface",openPreview:"open-preview",package:"package",paintcan:"paintcan",pin:"pin",play:"play",run:"run",plug:"plug",preserveCase:"preserve-case",preview:"preview",project:"project",pulse:"pulse",question:"question",quote:"quote",radioTower:"radio-tower",reactions:"reactions",references:"references",refresh:"refresh",regex:"regex",remoteExplorer:"remote-explorer",remote:"remote",remove:"remove",replaceAll:"replace-all",replace:"replace",repoClone:"repo-clone",repoForcePush:"repo-force-push",repoPull:"repo-pull",repoPush:"repo-push",report:"report",requestChanges:"request-changes",rocket:"rocket",rootFolderOpened:"root-folder-opened",rootFolder:"root-folder",rss:"rss",ruby:"ruby",saveAll:"save-all",saveAs:"save-as",save:"save",screenFull:"screen-full",screenNormal:"screen-normal",searchStop:"search-stop",server:"server",settingsGear:"settings-gear",settings:"settings",shield:"shield",smiley:"smiley",sortPrecedence:"sort-precedence",splitHorizontal:"split-horizontal",splitVertical:"split-vertical",squirrel:"squirrel",starFull:"star-full",starHalf:"star-half",symbolClass:"symbol-class",symbolColor:"symbol-color",symbolConstant:"symbol-constant",symbolEnumMember:"symbol-enum-member",symbolField:"symbol-field",symbolFile:"symbol-file",symbolInterface:"symbol-interface",symbolKeyword:"symbol-keyword",symbolMisc:"symbol-misc",symbolOperator:"symbol-operator",symbolProperty:"symbol-property",wrench:"wrench",wrenchSubaction:"wrench-subaction",symbolSnippet:"symbol-snippet",tasklist:"tasklist",telescope:"telescope",textSize:"text-size",threeBars:"three-bars",thumbsdown:"thumbsdown",thumbsup:"thumbsup",tools:"tools",triangleDown:"triangle-down",triangleLeft:"triangle-left",triangleRight:"triangle-right",triangleUp:"triangle-up",twitter:"twitter",unfold:"unfold",unlock:"unlock",unmute:"unmute",unverified:"unverified",verified:"verified",versions:"versions",vmActive:"vm-active",vmOutline:"vm-outline",vmRunning:"vm-running",watch:"watch",whitespace:"whitespace",wholeWord:"whole-word",window:"window",wordWrap:"word-wrap",zoomIn:"zoom-in",zoomOut:"zoom-out",listFilter:"list-filter",listFlat:"list-flat",listSelection:"list-selection",selection:"selection",listTree:"list-tree",debugBreakpointFunctionUnverified:"debug-breakpoint-function-unverified",debugBreakpointFunction:"debug-breakpoint-function",debugBreakpointFunctionDisabled:"debug-breakpoint-function-disabled",debugStackframeActive:"debug-stackframe-active",circleSmallFilled:"circle-small-filled",debugStackframeDot:"debug-stackframe-dot",terminalDecorationMark:"terminal-decoration-mark",debugStackframe:"debug-stackframe",debugStackframeFocused:"debug-stackframe-focused",debugBreakpointUnsupported:"debug-breakpoint-unsupported",symbolString:"symbol-string",debugReverseContinue:"debug-reverse-continue",debugStepBack:"debug-step-back",debugRestartFrame:"debug-restart-frame",debugAlt:"debug-alt",callIncoming:"call-incoming",callOutgoing:"call-outgoing",menu:"menu",expandAll:"expand-all",feedback:"feedback",gitPullRequestReviewer:"git-pull-request-reviewer",groupByRefType:"group-by-ref-type",ungroupByRefType:"ungroup-by-ref-type",account:"account",gitPullRequestAssignee:"git-pull-request-assignee",bellDot:"bell-dot",debugConsole:"debug-console",library:"library",output:"output",runAll:"run-all",syncIgnored:"sync-ignored",pinned:"pinned",githubInverted:"github-inverted",serverProcess:"server-process",serverEnvironment:"server-environment",pass:"pass",issueClosed:"issue-closed",stopCircle:"stop-circle",playCircle:"play-circle",record:"record",debugAltSmall:"debug-alt-small",vmConnect:"vm-connect",cloud:"cloud",merge:"merge",export:"export",graphLeft:"graph-left",magnet:"magnet",notebook:"notebook",redo:"redo",checkAll:"check-all",pinnedDirty:"pinned-dirty",passFilled:"pass-filled",circleLargeFilled:"circle-large-filled",circleLarge:"circle-large",circleLargeOutline:"circle-large-outline",combine:"combine",gather:"gather",table:"table",variableGroup:"variable-group",typeHierarchy:"type-hierarchy",typeHierarchySub:"type-hierarchy-sub",typeHierarchySuper:"type-hierarchy-super",gitPullRequestCreate:"git-pull-request-create",runAbove:"run-above",runBelow:"run-below",notebookTemplate:"notebook-template",debugRerun:"debug-rerun",workspaceTrusted:"workspace-trusted",workspaceUntrusted:"workspace-untrusted",workspaceUnknown:"workspace-unknown",terminalCmd:"terminal-cmd",terminalDebian:"terminal-debian",terminalLinux:"terminal-linux",terminalPowershell:"terminal-powershell",terminalTmux:"terminal-tmux",terminalUbuntu:"terminal-ubuntu",terminalBash:"terminal-bash",arrowSwap:"arrow-swap",copy:"copy",personAdd:"person-add",filterFilled:"filter-filled",wand:"wand",debugLineByLine:"debug-line-by-line",inspect:"inspect",layers:"layers",layersDot:"layers-dot",layersActive:"layers-active",compass:"compass",compassDot:"compass-dot",compassActive:"compass-active",azure:"azure",issueDraft:"issue-draft",gitPullRequestClosed:"git-pull-request-closed",gitPullRequestDraft:"git-pull-request-draft",debugAll:"debug-all",debugCoverage:"debug-coverage",runErrors:"run-errors",folderLibrary:"folder-library",debugContinueSmall:"debug-continue-small",beakerStop:"beaker-stop",graphLine:"graph-line",graphScatter:"graph-scatter",pieChart:"pie-chart",bracket:"bracket",bracketDot:"bracket-dot",bracketError:"bracket-error",lockSmall:"lock-small",azureDevops:"azure-devops",verifiedFilled:"verified-filled",newline:"newline",layout:"layout",layoutActivitybarLeft:"layout-activitybar-left",layoutActivitybarRight:"layout-activitybar-right",layoutPanelLeft:"layout-panel-left",layoutPanelCenter:"layout-panel-center",layoutPanelJustify:"layout-panel-justify",layoutPanelRight:"layout-panel-right",layoutPanel:"layout-panel",layoutSidebarLeft:"layout-sidebar-left",layoutSidebarRight:"layout-sidebar-right",layoutStatusbar:"layout-statusbar",layoutMenubar:"layout-menubar",layoutCentered:"layout-centered",target:"target",indent:"indent",recordSmall:"record-small",errorSmall:"error-small",terminalDecorationError:"terminal-decoration-error",arrowCircleDown:"arrow-circle-down",arrowCircleLeft:"arrow-circle-left",arrowCircleRight:"arrow-circle-right",arrowCircleUp:"arrow-circle-up",layoutSidebarRightOff:"layout-sidebar-right-off",layoutPanelOff:"layout-panel-off",layoutSidebarLeftOff:"layout-sidebar-left-off",blank:"blank",heartFilled:"heart-filled",map:"map",mapHorizontal:"map-horizontal",foldHorizontal:"fold-horizontal",mapFilled:"map-filled",mapHorizontalFilled:"map-horizontal-filled",foldHorizontalFilled:"fold-horizontal-filled",circleSmall:"circle-small",bellSlash:"bell-slash",bellSlashDot:"bell-slash-dot",commentUnresolved:"comment-unresolved",gitPullRequestGoToChanges:"git-pull-request-go-to-changes",gitPullRequestNewChanges:"git-pull-request-new-changes",searchFuzzy:"search-fuzzy",commentDraft:"comment-draft",send:"send",sparkle:"sparkle",insert:"insert",mic:"mic",thumbsdownFilled:"thumbsdown-filled",thumbsupFilled:"thumbsup-filled",coffee:"coffee",snake:"snake",game:"game",vr:"vr",chip:"chip",piano:"piano",music:"music",micFilled:"mic-filled",repoFetch:"repo-fetch",copilot:"copilot",lightbulbSparkle:"lightbulb-sparkle",robot:"robot",sparkleFilled:"sparkle-filled",diffSingle:"diff-single",diffMultiple:"diff-multiple",surroundWith:"surround-with",share:"share",gitStash:"git-stash",gitStashApply:"git-stash-apply",gitStashPop:"git-stash-pop",vscode:"vscode",vscodeInsiders:"vscode-insiders",codeOss:"code-oss",runCoverage:"run-coverage",runAllCoverage:"run-all-coverage",coverage:"coverage",githubProject:"github-project",mapVertical:"map-vertical",foldVertical:"fold-vertical",mapVerticalFilled:"map-vertical-filled",foldVerticalFilled:"fold-vertical-filled",goToSearch:"go-to-search",percentage:"percentage",sortPercentage:"sort-percentage",attach:"attach",goToEditingSession:"go-to-editing-session",editSession:"edit-session",codeReview:"code-review",copilotWarning:"copilot-warning",python:"python",copilotLarge:"copilot-large",copilotWarningLarge:"copilot-warning-large",keyboardTab:"keyboard-tab",copilotBlocked:"copilot-blocked",copilotNotConnected:"copilot-not-connected",flag:"flag",lightbulbEmpty:"lightbulb-empty",symbolMethodArrow:"symbol-method-arrow",copilotUnavailable:"copilot-unavailable",repoPinned:"repo-pinned",keyboardTabAbove:"keyboard-tab-above",keyboardTabBelow:"keyboard-tab-below",gitFetch:"git-fetch",rejected:"rejected",pending:"pending",cancelQueue:"cancel-queue",hook:"hook",complete:"complete",shrink:"shrink",restore:"restore",reorder:"reorder",pendingCopy:"pending-copy",newSpace:"new-space",infoSmall:"info-small",inProgress:"in-progress",image:"image",cmd:"cmd",clipboard:"clipboard",cancelQueueCopy:"cancel-queue-copy",call:"call",brush:"brush",kiro:"kiro"},yt=({type:n,className:e,modifier:t,size:r,...o})=>D.jsx("i",{className:Ue("kiro-icon","codicon",`codicon-${PS[n]}`,e,t?`codicon-modifier-${t}`:void 0),"data-size":r,...o});var Zg={};const ts=Math.min,Yo=Math.max,tu=Math.round,_a=Math.floor,cr=n=>({x:n,y:n}),_S={left:"right",right:"left",bottom:"top",top:"bottom"},zS={start:"end",end:"start"};function Pd(n,e,t){return Yo(n,ts(e,t))}function wl(n,e){return typeof n=="function"?n(e):n}function oi(n){return n.split("-")[0]}function xl(n){return n.split("-")[1]}function k0(n){return n==="x"?"y":"x"}function yp(n){return n==="y"?"height":"width"}function ns(n){return["top","bottom"].includes(oi(n))?"y":"x"}function vp(n){return k0(ns(n))}function FS(n,e,t){t===void 0&&(t=!1);const r=xl(n),o=vp(n),s=yp(o);let a=o==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=nu(a)),[a,nu(a)]}function LS(n){const e=nu(n);return[_d(n),e,_d(e)]}function _d(n){return n.replace(/start|end/g,e=>zS[e])}function jS(n,e,t){const r=["left","right"],o=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(n){case"top":case"bottom":return t?e?o:r:e?r:o;case"left":case"right":return e?s:a;default:return[]}}function $S(n,e,t,r){const o=xl(n);let s=jS(oi(n),t==="start",r);return o&&(s=s.map(a=>a+"-"+o),e&&(s=s.concat(s.map(_d)))),s}function nu(n){return n.replace(/left|right|bottom|top/g,e=>_S[e])}function BS(n){return{top:0,right:0,bottom:0,left:0,...n}}function S0(n){return typeof n!="number"?BS(n):{top:n,right:n,bottom:n,left:n}}function ru(n){const{x:e,y:t,width:r,height:o}=n;return{width:r,height:o,top:t,left:e,right:e+r,bottom:t+o,x:e,y:t}}function ey(n,e,t){let{reference:r,floating:o}=n;const s=ns(e),a=vp(e),u=yp(a),f=oi(e),d=s==="y",h=r.x+r.width/2-o.width/2,g=r.y+r.height/2-o.height/2,w=r[u]/2-o[u]/2;let y;switch(f){case"top":y={x:h,y:r.y-o.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:g};break;case"left":y={x:r.x-o.width,y:g};break;default:y={x:r.x,y:r.y}}switch(xl(e)){case"start":y[a]-=w*(t&&d?-1:1);break;case"end":y[a]+=w*(t&&d?-1:1);break}return y}const VS=async(n,e,t)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:a}=t,u=s.filter(Boolean),f=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:n,floating:e,strategy:o}),{x:h,y:g}=ey(d,r,f),w=r,y={},x=0;for(let k=0;k<u.length;k++){const{name:S,fn:C}=u[k],{x:T,y:N,data:I,reset:P}=await C({x:h,y:g,initialPlacement:r,placement:w,strategy:o,middlewareData:y,rects:d,platform:a,elements:{reference:n,floating:e}});h=T??h,g=N??g,y={...y,[S]:{...y[S],...I}},P&&x<=50&&(x++,typeof P=="object"&&(P.placement&&(w=P.placement),P.rects&&(d=P.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:o}):P.rects),{x:h,y:g}=ey(d,w,f)),k=-1)}return{x:h,y:g,placement:w,strategy:o,middlewareData:y}};async function b0(n,e){var t;e===void 0&&(e={});const{x:r,y:o,platform:s,rects:a,elements:u,strategy:f}=n,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:g="floating",altBoundary:w=!1,padding:y=0}=wl(e,n),x=S0(y),k=u[w?g==="floating"?"reference":"floating":g],S=ru(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(k)))==null||t?k:k.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:d,rootBoundary:h,strategy:f})),C=g==="floating"?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,T=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),N=await(s.isElement==null?void 0:s.isElement(T))?await(s.getScale==null?void 0:s.getScale(T))||{x:1,y:1}:{x:1,y:1},I=ru(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:C,offsetParent:T,strategy:f}):C);return{top:(S.top-I.top+x.top)/N.y,bottom:(I.bottom-S.bottom+x.bottom)/N.y,left:(S.left-I.left+x.left)/N.x,right:(I.right-S.right+x.right)/N.x}}const HS=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:o,rects:s,platform:a,elements:u,middlewareData:f}=e,{element:d,padding:h=0}=wl(n,e)||{};if(d==null)return{};const g=S0(h),w={x:t,y:r},y=vp(o),x=yp(y),k=await a.getDimensions(d),S=y==="y",C=S?"top":"left",T=S?"bottom":"right",N=S?"clientHeight":"clientWidth",I=s.reference[x]+s.reference[y]-w[y]-s.floating[x],P=w[y]-s.reference[y],B=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let U=B?B[N]:0;(!U||!await(a.isElement==null?void 0:a.isElement(B)))&&(U=u.floating[N]||s.floating[x]);const X=I/2-P/2,Q=U/2-k[x]/2-1,G=ts(g[C],Q),ge=ts(g[T],Q),fe=G,re=U-k[x]-ge,ye=U/2-k[x]/2+X,oe=Pd(fe,ye,re),Z=!f.arrow&&xl(o)!=null&&ye!==oe&&s.reference[x]/2-(ye<fe?G:ge)-k[x]/2<0,ie=Z?ye<fe?ye-fe:ye-re:0;return{[y]:w[y]+ie,data:{[y]:oe,centerOffset:ye-oe-ie,...Z&&{alignmentOffset:ie}},reset:Z}}}),WS=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:o,middlewareData:s,rects:a,initialPlacement:u,platform:f,elements:d}=e,{mainAxis:h=!0,crossAxis:g=!0,fallbackPlacements:w,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:k=!0,...S}=wl(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const C=oi(o),T=ns(u),N=oi(u)===u,I=await(f.isRTL==null?void 0:f.isRTL(d.floating)),P=w||(N||!k?[nu(u)]:LS(u)),B=x!=="none";!w&&B&&P.push(...$S(u,k,x,I));const U=[u,...P],X=await b0(e,S),Q=[];let G=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&Q.push(X[C]),g){const ye=FS(o,a,I);Q.push(X[ye[0]],X[ye[1]])}if(G=[...G,{placement:o,overflows:Q}],!Q.every(ye=>ye<=0)){var ge,fe;const ye=(((ge=s.flip)==null?void 0:ge.index)||0)+1,oe=U[ye];if(oe)return{data:{index:ye,overflows:G},reset:{placement:oe}};let Z=(fe=G.filter(ie=>ie.overflows[0]<=0).sort((ie,L)=>ie.overflows[1]-L.overflows[1])[0])==null?void 0:fe.placement;if(!Z)switch(y){case"bestFit":{var re;const ie=(re=G.filter(L=>{if(B){const V=ns(L.placement);return V===T||V==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(V=>V>0).reduce((V,j)=>V+j,0)]).sort((L,V)=>L[1]-V[1])[0])==null?void 0:re[0];ie&&(Z=ie);break}case"initialPlacement":Z=u;break}if(o!==Z)return{reset:{placement:Z}}}return{}}}};async function US(n,e){const{placement:t,platform:r,elements:o}=n,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),a=oi(t),u=xl(t),f=ns(t)==="y",d=["left","top"].includes(a)?-1:1,h=s&&f?-1:1,g=wl(e,n);let{mainAxis:w,crossAxis:y,alignmentAxis:x}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof x=="number"&&(y=u==="end"?x*-1:x),f?{x:y*h,y:w*d}:{x:w*d,y:y*h}}const qS=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:o,y:s,placement:a,middlewareData:u}=e,f=await US(e,n);return a===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:o+f.x,y:s+f.y,data:{...f,placement:a}}}}},KS=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:o}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:u={fn:S=>{let{x:C,y:T}=S;return{x:C,y:T}}},...f}=wl(n,e),d={x:t,y:r},h=await b0(e,f),g=ns(oi(o)),w=k0(g);let y=d[w],x=d[g];if(s){const S=w==="y"?"top":"left",C=w==="y"?"bottom":"right",T=y+h[S],N=y-h[C];y=Pd(T,y,N)}if(a){const S=g==="y"?"top":"left",C=g==="y"?"bottom":"right",T=x+h[S],N=x-h[C];x=Pd(T,x,N)}const k=u.fn({...e,[w]:y,[g]:x});return{...k,data:{x:k.x-t,y:k.y-r,enabled:{[w]:s,[g]:a}}}}}};function Mu(){return typeof window<"u"}function ds(n){return C0(n)?(n.nodeName||"").toLowerCase():"#document"}function vn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function mr(n){var e;return(e=(C0(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function C0(n){return Mu()?n instanceof Node||n instanceof vn(n).Node:!1}function Jn(n){return Mu()?n instanceof Element||n instanceof vn(n).Element:!1}function dr(n){return Mu()?n instanceof HTMLElement||n instanceof vn(n).HTMLElement:!1}function ty(n){return!Mu()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof vn(n).ShadowRoot}function kl(n){const{overflow:e,overflowX:t,overflowY:r,display:o}=Qn(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(o)}function JS(n){return["table","td","th"].includes(ds(n))}function Nu(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function wp(n){const e=xp(),t=Jn(n)?Qn(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function QS(n){let e=Eo(n);for(;dr(e)&&!rs(e);){if(wp(e))return e;if(Nu(e))return null;e=Eo(e)}return null}function xp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function rs(n){return["html","body","#document"].includes(ds(n))}function Qn(n){return vn(n).getComputedStyle(n)}function Ru(n){return Jn(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Eo(n){if(ds(n)==="html")return n;const e=n.assignedSlot||n.parentNode||ty(n)&&n.host||mr(n);return ty(e)?e.host:e}function E0(n){const e=Eo(n);return rs(e)?n.ownerDocument?n.ownerDocument.body:n.body:dr(e)&&kl(e)?e:E0(e)}function cl(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=E0(n),s=o===((r=n.ownerDocument)==null?void 0:r.body),a=vn(o);if(s){const u=zd(a);return e.concat(a,a.visualViewport||[],kl(o)?o:[],u&&t?cl(u):[])}return e.concat(o,cl(o,[],t))}function zd(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function T0(n){const e=Qn(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=dr(n),s=o?n.offsetWidth:t,a=o?n.offsetHeight:r,u=tu(t)!==s||tu(r)!==a;return u&&(t=s,r=a),{width:t,height:r,$:u}}function kp(n){return Jn(n)?n:n.contextElement}function Qi(n){const e=kp(n);if(!dr(e))return cr(1);const t=e.getBoundingClientRect(),{width:r,height:o,$:s}=T0(e);let a=(s?tu(t.width):t.width)/r,u=(s?tu(t.height):t.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!u||!Number.isFinite(u))&&(u=1),{x:a,y:u}}const GS=cr(0);function O0(n){const e=vn(n);return!xp()||!e.visualViewport?GS:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function YS(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==vn(n)?!1:e}function ii(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),s=kp(n);let a=cr(1);e&&(r?Jn(r)&&(a=Qi(r)):a=Qi(n));const u=YS(s,t,r)?O0(s):cr(0);let f=(o.left+u.x)/a.x,d=(o.top+u.y)/a.y,h=o.width/a.x,g=o.height/a.y;if(s){const w=vn(s),y=r&&Jn(r)?vn(r):r;let x=w,k=zd(x);for(;k&&r&&y!==x;){const S=Qi(k),C=k.getBoundingClientRect(),T=Qn(k),N=C.left+(k.clientLeft+parseFloat(T.paddingLeft))*S.x,I=C.top+(k.clientTop+parseFloat(T.paddingTop))*S.y;f*=S.x,d*=S.y,h*=S.x,g*=S.y,f+=N,d+=I,x=vn(k),k=zd(x)}}return ru({width:h,height:g,x:f,y:d})}function Sp(n,e){const t=Ru(n).scrollLeft;return e?e.left+t:ii(mr(n)).left+t}function M0(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),o=r.left+e.scrollLeft-(t?0:Sp(n,r)),s=r.top+e.scrollTop;return{x:o,y:s}}function XS(n){let{elements:e,rect:t,offsetParent:r,strategy:o}=n;const s=o==="fixed",a=mr(r),u=e?Nu(e.floating):!1;if(r===a||u&&s)return t;let f={scrollLeft:0,scrollTop:0},d=cr(1);const h=cr(0),g=dr(r);if((g||!g&&!s)&&((ds(r)!=="body"||kl(a))&&(f=Ru(r)),dr(r))){const y=ii(r);d=Qi(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const w=a&&!g&&!s?M0(a,f,!0):cr(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-f.scrollLeft*d.x+h.x+w.x,y:t.y*d.y-f.scrollTop*d.y+h.y+w.y}}function ZS(n){return Array.from(n.getClientRects())}function eb(n){const e=mr(n),t=Ru(n),r=n.ownerDocument.body,o=Yo(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Yo(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-t.scrollLeft+Sp(n);const u=-t.scrollTop;return Qn(r).direction==="rtl"&&(a+=Yo(e.clientWidth,r.clientWidth)-o),{width:o,height:s,x:a,y:u}}function tb(n,e){const t=vn(n),r=mr(n),o=t.visualViewport;let s=r.clientWidth,a=r.clientHeight,u=0,f=0;if(o){s=o.width,a=o.height;const d=xp();(!d||d&&e==="fixed")&&(u=o.offsetLeft,f=o.offsetTop)}return{width:s,height:a,x:u,y:f}}function nb(n,e){const t=ii(n,!0,e==="fixed"),r=t.top+n.clientTop,o=t.left+n.clientLeft,s=dr(n)?Qi(n):cr(1),a=n.clientWidth*s.x,u=n.clientHeight*s.y,f=o*s.x,d=r*s.y;return{width:a,height:u,x:f,y:d}}function ny(n,e,t){let r;if(e==="viewport")r=tb(n,t);else if(e==="document")r=eb(mr(n));else if(Jn(e))r=nb(e,t);else{const o=O0(n);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return ru(r)}function N0(n,e){const t=Eo(n);return t===e||!Jn(t)||rs(t)?!1:Qn(t).position==="fixed"||N0(t,e)}function rb(n,e){const t=e.get(n);if(t)return t;let r=cl(n,[],!1).filter(u=>Jn(u)&&ds(u)!=="body"),o=null;const s=Qn(n).position==="fixed";let a=s?Eo(n):n;for(;Jn(a)&&!rs(a);){const u=Qn(a),f=wp(a);!f&&u.position==="fixed"&&(o=null),(s?!f&&!o:!f&&u.position==="static"&&o&&["absolute","fixed"].includes(o.position)||kl(a)&&!f&&N0(n,a))?r=r.filter(d=>d!==a):o=u,a=Eo(a)}return e.set(n,r),r}function ob(n){let{element:e,boundary:t,rootBoundary:r,strategy:o}=n;const s=[...t==="clippingAncestors"?Nu(e)?[]:rb(e,this._c):[].concat(t),r],a=s[0],u=s.reduce((f,d)=>{const h=ny(e,d,o);return f.top=Yo(h.top,f.top),f.right=ts(h.right,f.right),f.bottom=ts(h.bottom,f.bottom),f.left=Yo(h.left,f.left),f},ny(e,a,o));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function ib(n){const{width:e,height:t}=T0(n);return{width:e,height:t}}function sb(n,e,t){const r=dr(e),o=mr(e),s=t==="fixed",a=ii(n,!0,s,e);let u={scrollLeft:0,scrollTop:0};const f=cr(0);if(r||!r&&!s)if((ds(e)!=="body"||kl(o))&&(u=Ru(e)),r){const w=ii(e,!0,s,e);f.x=w.x+e.clientLeft,f.y=w.y+e.clientTop}else o&&(f.x=Sp(o));const d=o&&!r&&!s?M0(o,u):cr(0),h=a.left+u.scrollLeft-f.x-d.x,g=a.top+u.scrollTop-f.y-d.y;return{x:h,y:g,width:a.width,height:a.height}}function Qf(n){return Qn(n).position==="static"}function ry(n,e){if(!dr(n)||Qn(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return mr(n)===t&&(t=t.ownerDocument.body),t}function R0(n,e){const t=vn(n);if(Nu(n))return t;if(!dr(n)){let o=Eo(n);for(;o&&!rs(o);){if(Jn(o)&&!Qf(o))return o;o=Eo(o)}return t}let r=ry(n,e);for(;r&&JS(r)&&Qf(r);)r=ry(r,e);return r&&rs(r)&&Qf(r)&&!wp(r)?t:r||QS(n)||t}const lb=async function(n){const e=this.getOffsetParent||R0,t=this.getDimensions,r=await t(n.floating);return{reference:sb(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ab(n){return Qn(n).direction==="rtl"}const ub={convertOffsetParentRelativeRectToViewportRelativeRect:XS,getDocumentElement:mr,getClippingRect:ob,getOffsetParent:R0,getElementRects:lb,getClientRects:ZS,getDimensions:ib,getScale:Qi,isElement:Jn,isRTL:ab};function A0(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function cb(n,e){let t=null,r;const o=mr(n);function s(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function a(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),s();const d=n.getBoundingClientRect(),{left:h,top:g,width:w,height:y}=d;if(u||e(),!w||!y)return;const x=_a(g),k=_a(o.clientWidth-(h+w)),S=_a(o.clientHeight-(g+y)),C=_a(h),T={rootMargin:-x+"px "+-k+"px "+-S+"px "+-C+"px",threshold:Yo(0,ts(1,f))||1};let N=!0;function I(P){const B=P[0].intersectionRatio;if(B!==f){if(!N)return a();B?a(!1,B):r=setTimeout(()=>{a(!1,1e-7)},1e3)}B===1&&!A0(d,n.getBoundingClientRect())&&a(),N=!1}try{t=new IntersectionObserver(I,{...T,root:o.ownerDocument})}catch{t=new IntersectionObserver(I,T)}t.observe(n)}return a(!0),s}function fb(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,d=kp(n),h=o||s?[...d?cl(d):[],...cl(e)]:[];h.forEach(C=>{o&&C.addEventListener("scroll",t,{passive:!0}),s&&C.addEventListener("resize",t)});const g=d&&u?cb(d,t):null;let w=-1,y=null;a&&(y=new ResizeObserver(C=>{let[T]=C;T&&T.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var N;(N=y)==null||N.observe(e)})),t()}),d&&!f&&y.observe(d),y.observe(e));let x,k=f?ii(n):null;f&&S();function S(){const C=ii(n);k&&!A0(k,C)&&t(),k=C,x=requestAnimationFrame(S)}return t(),()=>{var C;h.forEach(T=>{o&&T.removeEventListener("scroll",t),s&&T.removeEventListener("resize",t)}),g==null||g(),(C=y)==null||C.disconnect(),y=null,f&&cancelAnimationFrame(x)}}const db=qS,pb=KS,hb=WS,mb=HS,oy=(n,e,t)=>{const r=new Map,o={platform:ub,...t},s={...o.platform,_c:r};return VS(n,e,{...o,platform:s})};var iy={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var sy;function gb(){return sy||(sy=1,function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",a=0;a<arguments.length;a++){var u=arguments[a];u&&(s=o(s,r(u)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var u in s)e.call(s,u)&&s[u]&&(a=o(a,u));return a}function o(s,a){return a?s?s+" "+a:s+a:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()}(iy)),iy.exports}var yb=gb();const Fd=f0(yb);/*
* React Tooltip
* {@link https://github.com/ReactTooltip/react-tooltip}
* @copyright ReactTooltip Team
* @license MIT
*/const vb="react-tooltip-core-styles",wb="react-tooltip-base-styles",ly={core:!1,base:!1};function ay({css:n,id:e=wb,type:t="base",ref:r}){var o,s;if(!n||typeof document>"u"||ly[t]||t==="core"&&typeof process<"u"&&!((o=process==null?void 0:Zg)===null||o===void 0)&&o.REACT_TOOLTIP_DISABLE_CORE_STYLES||t!=="base"&&typeof process<"u"&&!((s=process==null?void 0:Zg)===null||s===void 0)&&s.REACT_TOOLTIP_DISABLE_BASE_STYLES)return;t==="core"&&(e=vb),r||(r={});const{insertAt:a}=r;if(document.getElementById(e))return;const u=document.head||document.getElementsByTagName("head")[0],f=document.createElement("style");f.id=e,f.type="text/css",a==="top"&&u.firstChild?u.insertBefore(f,u.firstChild):u.appendChild(f),f.styleSheet?f.styleSheet.cssText=n:f.appendChild(document.createTextNode(n)),ly[t]=!0}const uy=async({elementReference:n=null,tooltipReference:e=null,tooltipArrowReference:t=null,place:r="top",offset:o=10,strategy:s="absolute",middlewares:a=[db(Number(o)),hb({fallbackAxisSideDirection:"start"}),pb({padding:5})],border:u})=>{if(!n)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};if(e===null)return{tooltipStyles:{},tooltipArrowStyles:{},place:r};const f=a;return t?(f.push(mb({element:t,padding:5})),oy(n,e,{placement:r,strategy:s,middleware:f}).then(({x:d,y:h,placement:g,middlewareData:w})=>{var y,x;const k={left:`${d}px`,top:`${h}px`,border:u},{x:S,y:C}=(y=w.arrow)!==null&&y!==void 0?y:{x:0,y:0},T=(x={top:"bottom",right:"left",bottom:"top",left:"right"}[g.split("-")[0]])!==null&&x!==void 0?x:"bottom",N=u&&{borderBottom:u,borderRight:u};let I=0;if(u){const P=`${u}`.match(/(\d+)px/);I=P!=null&&P[1]?Number(P[1]):1}return{tooltipStyles:k,tooltipArrowStyles:{left:S!=null?`${S}px`:"",top:C!=null?`${C}px`:"",right:"",bottom:"",...N,[T]:`-${4+I}px`},place:g}})):oy(n,e,{placement:"bottom",strategy:s,middleware:f}).then(({x:d,y:h,placement:g})=>({tooltipStyles:{left:`${d}px`,top:`${h}px`},tooltipArrowStyles:{},place:g}))},cy=(n,e)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(n,e),fy=(n,e,t)=>{let r=null;const o=function(...s){const a=()=>{r=null};!r&&(n.apply(this,s),r=setTimeout(a,e))};return o.cancel=()=>{r&&(clearTimeout(r),r=null)},o},dy=n=>n!==null&&!Array.isArray(n)&&typeof n=="object",Ld=(n,e)=>{if(n===e)return!0;if(Array.isArray(n)&&Array.isArray(e))return n.length===e.length&&n.every((o,s)=>Ld(o,e[s]));if(Array.isArray(n)!==Array.isArray(e))return!1;if(!dy(n)||!dy(e))return n===e;const t=Object.keys(n),r=Object.keys(e);return t.length===r.length&&t.every(o=>Ld(n[o],e[o]))},xb=n=>{if(!(n instanceof HTMLElement||n instanceof SVGElement))return!1;const e=getComputedStyle(n);return["overflow","overflow-x","overflow-y"].some(t=>{const r=e.getPropertyValue(t);return r==="auto"||r==="scroll"})},py=n=>{if(!n)return null;let e=n.parentElement;for(;e;){if(xb(e))return e;e=e.parentElement}return document.scrollingElement||document.documentElement},kb=typeof window<"u"?O.useLayoutEffect:O.useEffect,Rn=n=>{n.current&&(clearTimeout(n.current),n.current=null)},Sb="DEFAULT_TOOLTIP_ID",bb={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},Cb=O.createContext({getTooltipData:()=>bb});function D0(n=Sb){return O.useContext(Cb).getTooltipData(n)}var zi={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},Gf={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const Eb=({forwardRef:n,id:e,className:t,classNameArrow:r,variant:o="dark",anchorId:s,anchorSelect:a,place:u="top",offset:f=10,events:d=["hover"],openOnClick:h=!1,positionStrategy:g="absolute",middlewares:w,wrapper:y,delayShow:x=0,delayHide:k=0,float:S=!1,hidden:C=!1,noArrow:T=!1,clickable:N=!1,closeOnEsc:I=!1,closeOnScroll:P=!1,closeOnResize:B=!1,openEvents:U,closeEvents:X,globalCloseEvents:Q,imperativeModeOnly:G,style:ge,position:fe,afterShow:re,afterHide:ye,disableTooltip:oe,content:Z,contentWrapperRef:ie,isOpen:L,defaultIsOpen:V=!1,setIsOpen:j,activeAnchor:M,setActiveAnchor:$,border:pe,opacity:Ee,arrowColor:Me,role:ve="tooltip"})=>{var Oe;const he=O.useRef(null),ee=O.useRef(null),de=O.useRef(null),me=O.useRef(null),Ne=O.useRef(null),[Pe,Ke]=O.useState({tooltipStyles:{},tooltipArrowStyles:{},place:u}),[_e,Je]=O.useState(!1),[rt,ct]=O.useState(!1),[Le,Tt]=O.useState(null),et=O.useRef(!1),Yt=O.useRef(null),{anchorRefs:Fn,setActiveAnchor:Ro}=D0(e),yr=O.useRef(!1),[Ln,vr]=O.useState([]),kn=O.useRef(!1),wr=h||d.includes("click"),xr=wr||(U==null?void 0:U.click)||(U==null?void 0:U.dblclick)||(U==null?void 0:U.mousedown),Sn=U?{...U}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!U&&wr&&Object.assign(Sn,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const kr=X?{...X}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!X&&wr&&Object.assign(kr,{mouseleave:!1,blur:!1,mouseout:!1});const Xt=Q?{...Q}:{escape:I||!1,scroll:P||!1,resize:B||!1,clickOutsideAnchor:xr||!1};G&&(Object.assign(Sn,{mouseover:!1,focus:!1,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(kr,{mouseout:!1,blur:!1,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(Xt,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),kb(()=>(kn.current=!0,()=>{kn.current=!1}),[]);const ot=Y=>{kn.current&&(Y&&ct(!0),setTimeout(()=>{kn.current&&(j==null||j(Y),L===void 0&&Je(Y))},10))};O.useEffect(()=>{if(L===void 0)return()=>null;L&&ct(!0);const Y=setTimeout(()=>{Je(L)},10);return()=>{clearTimeout(Y)}},[L]),O.useEffect(()=>{if(_e!==et.current)if(Rn(Ne),et.current=_e,_e)re==null||re();else{const Y=(Se=>{const Ce=Se.match(/^([\d.]+)(ms|s)$/);if(!Ce)return 0;const[,at,it]=Ce;return Number(at)*(it==="ms"?1:1e3)})(getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay"));Ne.current=setTimeout(()=>{ct(!1),Tt(null),ye==null||ye()},Y+25)}},[_e]);const di=Y=>{Ke(Se=>Ld(Se,Y)?Se:Y)},Sr=(Y=x)=>{Rn(de),rt?ot(!0):de.current=setTimeout(()=>{ot(!0)},Y)},Xn=(Y=k)=>{Rn(me),me.current=setTimeout(()=>{yr.current||ot(!1)},Y)},br=Y=>{var Se;if(!Y)return;const Ce=(Se=Y.currentTarget)!==null&&Se!==void 0?Se:Y.target;if(!(Ce!=null&&Ce.isConnected))return $(null),void Ro({current:null});x?Sr():ot(!0),$(Ce),Ro({current:Ce}),Rn(me)},Zn=()=>{N?Xn(k||100):k?Xn():ot(!1),Rn(de)},er=({x:Y,y:Se})=>{var Ce;const at={getBoundingClientRect:()=>({x:Y,y:Se,width:0,height:0,top:Se,left:Y,right:Y,bottom:Se})};uy({place:(Ce=Le==null?void 0:Le.place)!==null&&Ce!==void 0?Ce:u,offset:f,elementReference:at,tooltipReference:he.current,tooltipArrowReference:ee.current,strategy:g,middlewares:w,border:pe}).then(it=>{di(it)})},un=Y=>{if(!Y)return;const Se=Y,Ce={x:Se.clientX,y:Se.clientY};er(Ce),Yt.current=Ce},bn=Y=>{var Se;if(!_e)return;const Ce=Y.target;Ce.isConnected&&(!((Se=he.current)===null||Se===void 0)&&Se.contains(Ce)||[document.querySelector(`[id='${s}']`),...Ln].some(at=>at==null?void 0:at.contains(Ce))||(ot(!1),Rn(de)))},Ao=fy(br,50),lt=fy(Zn,50),Vt=Y=>{lt.cancel(),Ao(Y)},ke=()=>{Ao.cancel(),lt()},De=O.useCallback(()=>{var Y,Se;const Ce=(Y=Le==null?void 0:Le.position)!==null&&Y!==void 0?Y:fe;Ce?er(Ce):S?Yt.current&&er(Yt.current):M!=null&&M.isConnected&&uy({place:(Se=Le==null?void 0:Le.place)!==null&&Se!==void 0?Se:u,offset:f,elementReference:M,tooltipReference:he.current,tooltipArrowReference:ee.current,strategy:g,middlewares:w,border:pe}).then(at=>{kn.current&&di(at)})},[_e,M,Z,ge,u,Le==null?void 0:Le.place,f,g,fe,Le==null?void 0:Le.position,S]);O.useEffect(()=>{var Y,Se;const Ce=new Set(Fn);Ln.forEach(je=>{oe!=null&&oe(je)||Ce.add({current:je})});const at=document.querySelector(`[id='${s}']`);at&&!(oe!=null&&oe(at))&&Ce.add({current:at});const it=()=>{ot(!1)},Ht=py(M),Wt=py(he.current);Xt.scroll&&(window.addEventListener("scroll",it),Ht==null||Ht.addEventListener("scroll",it),Wt==null||Wt.addEventListener("scroll",it));let ht=null;Xt.resize?window.addEventListener("resize",it):M&&he.current&&(ht=fb(M,he.current,De,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const cn=je=>{je.key==="Escape"&&ot(!1)};Xt.escape&&window.addEventListener("keydown",cn),Xt.clickOutsideAnchor&&window.addEventListener("click",bn);const Qe=[],Hr=je=>!!(je!=null&&je.target&&M!=null&&M.contains(je.target)),Cr=je=>{_e&&Hr(je)||br(je)},Tl=je=>{_e&&Hr(je)&&Zn()},hs=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],Ol=["click","dblclick","mousedown","mouseup"];Object.entries(Sn).forEach(([je,jn])=>{jn&&(hs.includes(je)?Qe.push({event:je,listener:Vt}):Ol.includes(je)&&Qe.push({event:je,listener:Cr}))}),Object.entries(kr).forEach(([je,jn])=>{jn&&(hs.includes(je)?Qe.push({event:je,listener:ke}):Ol.includes(je)&&Qe.push({event:je,listener:Tl}))}),S&&Qe.push({event:"pointermove",listener:un});const ms=()=>{yr.current=!0},gs=()=>{yr.current=!1,Zn()},ys=N&&(kr.mouseout||kr.mouseleave);return ys&&((Y=he.current)===null||Y===void 0||Y.addEventListener("mouseover",ms),(Se=he.current)===null||Se===void 0||Se.addEventListener("mouseout",gs)),Qe.forEach(({event:je,listener:jn})=>{Ce.forEach(vs=>{var Ve;(Ve=vs.current)===null||Ve===void 0||Ve.addEventListener(je,jn)})}),()=>{var je,jn;Xt.scroll&&(window.removeEventListener("scroll",it),Ht==null||Ht.removeEventListener("scroll",it),Wt==null||Wt.removeEventListener("scroll",it)),Xt.resize?window.removeEventListener("resize",it):ht==null||ht(),Xt.clickOutsideAnchor&&window.removeEventListener("click",bn),Xt.escape&&window.removeEventListener("keydown",cn),ys&&((je=he.current)===null||je===void 0||je.removeEventListener("mouseover",ms),(jn=he.current)===null||jn===void 0||jn.removeEventListener("mouseout",gs)),Qe.forEach(({event:vs,listener:Ve})=>{Ce.forEach(tc=>{var Do;(Do=tc.current)===null||Do===void 0||Do.removeEventListener(vs,Ve)})})}},[M,De,rt,Fn,Ln,U,X,Q,wr,x,k]),O.useEffect(()=>{var Y,Se;let Ce=(Se=(Y=Le==null?void 0:Le.anchorSelect)!==null&&Y!==void 0?Y:a)!==null&&Se!==void 0?Se:"";!Ce&&e&&(Ce=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`);const at=new MutationObserver(it=>{const Ht=[],Wt=[];it.forEach(ht=>{if(ht.type==="attributes"&&ht.attributeName==="data-tooltip-id"&&(ht.target.getAttribute("data-tooltip-id")===e?Ht.push(ht.target):ht.oldValue===e&&Wt.push(ht.target)),ht.type==="childList"){if(M){const cn=[...ht.removedNodes].filter(Qe=>Qe.nodeType===1);if(Ce)try{Wt.push(...cn.filter(Qe=>Qe.matches(Ce))),Wt.push(...cn.flatMap(Qe=>[...Qe.querySelectorAll(Ce)]))}catch{}cn.some(Qe=>{var Hr;return!!(!((Hr=Qe==null?void 0:Qe.contains)===null||Hr===void 0)&&Hr.call(Qe,M))&&(ct(!1),ot(!1),$(null),Rn(de),Rn(me),!0)})}if(Ce)try{const cn=[...ht.addedNodes].filter(Qe=>Qe.nodeType===1);Ht.push(...cn.filter(Qe=>Qe.matches(Ce))),Ht.push(...cn.flatMap(Qe=>[...Qe.querySelectorAll(Ce)]))}catch{}}}),(Ht.length||Wt.length)&&vr(ht=>[...ht.filter(cn=>!Wt.includes(cn)),...Ht])});return at.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{at.disconnect()}},[e,a,Le==null?void 0:Le.anchorSelect,M]),O.useEffect(()=>{De()},[De]),O.useEffect(()=>{if(!(ie!=null&&ie.current))return()=>null;const Y=new ResizeObserver(()=>{setTimeout(()=>De())});return Y.observe(ie.current),()=>{Y.disconnect()}},[Z,ie==null?void 0:ie.current]),O.useEffect(()=>{var Y;const Se=document.querySelector(`[id='${s}']`),Ce=[...Ln,Se];M&&Ce.includes(M)||$((Y=Ln[0])!==null&&Y!==void 0?Y:Se)},[s,Ln,M]),O.useEffect(()=>(V&&ot(!0),()=>{Rn(de),Rn(me)}),[]),O.useEffect(()=>{var Y;let Se=(Y=Le==null?void 0:Le.anchorSelect)!==null&&Y!==void 0?Y:a;if(!Se&&e&&(Se=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),Se)try{const Ce=Array.from(document.querySelectorAll(Se));vr(Ce)}catch{vr([])}},[e,a,Le==null?void 0:Le.anchorSelect]),O.useEffect(()=>{de.current&&(Rn(de),Sr(x))},[x]);const Ot=(Oe=Le==null?void 0:Le.content)!==null&&Oe!==void 0?Oe:Z,tr=_e&&Object.keys(Pe.tooltipStyles).length>0;return O.useImperativeHandle(n,()=>({open:Y=>{if(Y!=null&&Y.anchorSelect)try{document.querySelector(Y.anchorSelect)}catch{return void console.warn(`[react-tooltip] "${Y.anchorSelect}" is not a valid CSS selector`)}Tt(Y??null),Y!=null&&Y.delay?Sr(Y.delay):ot(!0)},close:Y=>{Y!=null&&Y.delay?Xn(Y.delay):ot(!1)},activeAnchor:M,place:Pe.place,isOpen:!!(rt&&!C&&Ot&&tr)})),rt&&!C&&Ot?He.createElement(y,{id:e,role:ve,className:Fd("react-tooltip",zi.tooltip,Gf.tooltip,Gf[o],t,`react-tooltip__place-${Pe.place}`,zi[tr?"show":"closing"],tr?"react-tooltip__show":"react-tooltip__closing",g==="fixed"&&zi.fixed,N&&zi.clickable),onTransitionEnd:Y=>{Rn(Ne),_e||Y.propertyName!=="opacity"||(ct(!1),Tt(null),ye==null||ye())},style:{...ge,...Pe.tooltipStyles,opacity:Ee!==void 0&&tr?Ee:void 0},ref:he},Ot,He.createElement(y,{className:Fd("react-tooltip-arrow",zi.arrow,Gf.arrow,r,T&&zi.noArrow),style:{...Pe.tooltipArrowStyles,background:Me?`linear-gradient(to right bottom, transparent 50%, ${Me} 50%)`:void 0},ref:ee})):null},Tb=({content:n})=>He.createElement("span",{dangerouslySetInnerHTML:{__html:n}});He.forwardRef(({id:n,anchorId:e,anchorSelect:t,content:r,html:o,render:s,className:a,classNameArrow:u,variant:f="dark",place:d="top",offset:h=10,wrapper:g="div",children:w=null,events:y=["hover"],openOnClick:x=!1,positionStrategy:k="absolute",middlewares:S,delayShow:C=0,delayHide:T=0,float:N=!1,hidden:I=!1,noArrow:P=!1,clickable:B=!1,closeOnEsc:U=!1,closeOnScroll:X=!1,closeOnResize:Q=!1,openEvents:G,closeEvents:ge,globalCloseEvents:fe,imperativeModeOnly:re=!1,style:ye,position:oe,isOpen:Z,defaultIsOpen:ie=!1,disableStyleInjection:L=!1,border:V,opacity:j,arrowColor:M,setIsOpen:$,afterShow:pe,afterHide:Ee,disableTooltip:Me,role:ve="tooltip"},Oe)=>{const[he,ee]=O.useState(r),[de,me]=O.useState(o),[Ne,Pe]=O.useState(d),[Ke,_e]=O.useState(f),[Je,rt]=O.useState(h),[ct,Le]=O.useState(C),[Tt,et]=O.useState(T),[Yt,Fn]=O.useState(N),[Ro,yr]=O.useState(I),[Ln,vr]=O.useState(g),[kn,wr]=O.useState(y),[xr,Sn]=O.useState(k),[kr,Xt]=O.useState(null),[ot,di]=O.useState(null),Sr=O.useRef(L),{anchorRefs:Xn,activeAnchor:br}=D0(n),Zn=lt=>lt==null?void 0:lt.getAttributeNames().reduce((Vt,ke)=>{var De;return ke.startsWith("data-tooltip-")&&(Vt[ke.replace(/^data-tooltip-/,"")]=(De=lt==null?void 0:lt.getAttribute(ke))!==null&&De!==void 0?De:null),Vt},{}),er=lt=>{const Vt={place:ke=>{var De;Pe((De=ke)!==null&&De!==void 0?De:d)},content:ke=>{ee(ke??r)},html:ke=>{me(ke??o)},variant:ke=>{var De;_e((De=ke)!==null&&De!==void 0?De:f)},offset:ke=>{rt(ke===null?h:Number(ke))},wrapper:ke=>{var De;vr((De=ke)!==null&&De!==void 0?De:g)},events:ke=>{const De=ke==null?void 0:ke.split(" ");wr(De??y)},"position-strategy":ke=>{var De;Sn((De=ke)!==null&&De!==void 0?De:k)},"delay-show":ke=>{Le(ke===null?C:Number(ke))},"delay-hide":ke=>{et(ke===null?T:Number(ke))},float:ke=>{Fn(ke===null?N:ke==="true")},hidden:ke=>{yr(ke===null?I:ke==="true")},"class-name":ke=>{Xt(ke)}};Object.values(Vt).forEach(ke=>ke(null)),Object.entries(lt).forEach(([ke,De])=>{var Ot;(Ot=Vt[ke])===null||Ot===void 0||Ot.call(Vt,De)})};O.useEffect(()=>{ee(r)},[r]),O.useEffect(()=>{me(o)},[o]),O.useEffect(()=>{Pe(d)},[d]),O.useEffect(()=>{_e(f)},[f]),O.useEffect(()=>{rt(h)},[h]),O.useEffect(()=>{Le(C)},[C]),O.useEffect(()=>{et(T)},[T]),O.useEffect(()=>{Fn(N)},[N]),O.useEffect(()=>{yr(I)},[I]),O.useEffect(()=>{Sn(k)},[k]),O.useEffect(()=>{Sr.current!==L&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")},[L]),O.useEffect(()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:L==="core",disableBase:L}}))},[]),O.useEffect(()=>{var lt;const Vt=new Set(Xn);let ke=t;if(!ke&&n&&(ke=`[data-tooltip-id='${n.replace(/'/g,"\\'")}']`),ke)try{document.querySelectorAll(ke).forEach(Se=>{Vt.add({current:Se})})}catch{console.warn(`[react-tooltip] "${ke}" is not a valid CSS selector`)}const De=document.querySelector(`[id='${e}']`);if(De&&Vt.add({current:De}),!Vt.size)return()=>null;const Ot=(lt=ot??De)!==null&&lt!==void 0?lt:br.current,tr=new MutationObserver(Se=>{Se.forEach(Ce=>{var at;if(!Ot||Ce.type!=="attributes"||!(!((at=Ce.attributeName)===null||at===void 0)&&at.startsWith("data-tooltip-")))return;const it=Zn(Ot);er(it)})}),Y={attributes:!0,childList:!1,subtree:!1};if(Ot){const Se=Zn(Ot);er(Se),tr.observe(Ot,Y)}return()=>{tr.disconnect()}},[Xn,br,ot,e,t]),O.useEffect(()=>{ye!=null&&ye.border&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),V&&!cy("border",`${V}`)&&console.warn(`[react-tooltip] "${V}" is not a valid \`border\`.`),ye!=null&&ye.opacity&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),j&&!cy("opacity",`${j}`)&&console.warn(`[react-tooltip] "${j}" is not a valid \`opacity\`.`)},[]);let un=w;const bn=O.useRef(null);if(s){const lt=s({content:(ot==null?void 0:ot.getAttribute("data-tooltip-content"))||he||null,activeAnchor:ot});un=lt?He.createElement("div",{ref:bn,className:"react-tooltip-content-wrapper"},lt):null}else he&&(un=he);de&&(un=He.createElement(Tb,{content:de}));const Ao={forwardRef:Oe,id:n,anchorId:e,anchorSelect:t,className:Fd(a,kr),classNameArrow:u,content:un,contentWrapperRef:bn,place:Ne,variant:Ke,offset:Je,wrapper:Ln,events:kn,openOnClick:x,positionStrategy:xr,middlewares:S,delayShow:ct,delayHide:Tt,float:Yt,hidden:Ro,noArrow:P,clickable:B,closeOnEsc:U,closeOnScroll:X,closeOnResize:Q,openEvents:G,closeEvents:ge,globalCloseEvents:fe,imperativeModeOnly:re,style:ye,position:oe,isOpen:Z,defaultIsOpen:ie,border:V,opacity:j,arrowColor:M,setIsOpen:$,afterShow:pe,afterHide:Ee,disableTooltip:Me,activeAnchor:ot,setActiveAnchor:lt=>di(lt),role:ve};return He.createElement(Eb,{...Ao})});typeof window<"u"&&window.addEventListener("react-tooltip-inject-styles",n=>{n.detail.disableCore||ay({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),n.detail.disableBase||ay({css:`
.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}`,type:"base"})});const I0="kiro-tooltip",ou=({icon:n,className:e,label:t,disabled:r,size:o,...s})=>D.jsx(ur,{...r?{}:{"data-tooltip-id":I0,"data-tooltip-content":t,"data-tooltip-place":"top"},"aria-label":t,className:Ue("kiro-icon-button",e),variant:"tertiary",disabled:r,size:o,...s,children:D.jsx(yt,{type:n,size:o})});O.forwardRef(({icon:n,label:e,disabled:t,...r},o)=>D.jsx("li",{ref:o,className:Ue("action-item","menu-entry"),role:"presentation","custom-hover":"true",children:D.jsx(ou,{icon:n,label:e,disabled:t,...r})}));O.forwardRef(({className:n,children:e,...t},r)=>D.jsx("div",{ref:r,className:Ue("kiro-code-preview-body",n),...t,children:e}));const Ob=n=>n.map(e=>`${e}-ext-file-icon`).join(" "),Mb=({lang:n,extensions:e,name:t,className:r})=>D.jsx("i",{className:Ue("file-icon",n?`${n}-lang-file-icon lang-file-icon`:void 0,e!=null&&e.length?`${Ob(e)} ext-file-icon`:void 0,t?`${t}-name-file-icon name-file-icon`:void 0,r)}),Nb="bat",Rb="bat",Ab="clojure",Db="clojure",Ib="clojure",Pb="clojure",_b="clojure",zb="clojure",Fb="coffeescript",Lb="coffeescript",jb="coffeescript",$b="c",Bb="c",Vb="cpp",Hb="cpp",Wb="cpp",Ub="cpp",qb="cpp",Kb="cpp",Jb="cpp",Qb="cpp",Gb="cpp",Yb="cpp",Xb="cpp",Zb="cpp",eC="cpp",tC="cpp",nC="cpp",rC="cpp",oC="cpp",iC="cuda-cpp",sC="cuda-cpp",lC="csharp",aC="csharp",uC="csharp",cC="css",fC="dart",dC="diff",pC="diff",hC="diff",mC="dockerfile",gC="dockerfile",yC="fsharp",vC="fsharp",wC="fsharp",xC="fsharp",kC="ignore",SC="ignore",bC="go",CC="groovy",EC="groovy",TC="groovy",OC="groovy",MC="groovy",NC="handlebars",RC="handlebars",AC="handlebars",DC="hlsl",IC="hlsl",PC="hlsl",_C="hlsl",zC="hlsl",FC="hlsl",LC="hlsl",jC="hlsl",$C="html",BC="html",VC="html",HC="html",WC="html",UC="html",qC="html",KC="html",JC="html",QC="html",GC="html",YC="html",XC="html",ZC="ini",eE="properties",tE="properties",nE="properties",rE="properties",oE="properties",iE="properties",sE="properties",lE="properties",aE="properties",uE="java",cE="java",fE="javascriptreact",dE="javascript",pE="javascript",hE="javascript",mE="javascript",gE="javascript",yE="json",vE="json",wE="json",xE="json",kE="json",SE="json",bE="json",CE="json",EE="json",TE="json",OE="jsonc",ME="jsonc",NE="jsonc",RE="jsonc",AE="jsonc",DE="jsonc",IE="jsonc",PE="jsonl",_E="julia",zE="juliamarkdown",FE="tex",LE="tex",jE="tex",$E="tex",BE="latex",VE="latex",HE="latex",WE="bibtex",UE="less",qE="log",KE="lua",JE="makefile",QE="makefile",GE="markdown",YE="markdown",XE="markdown",ZE="markdown",eT="markdown",tT="markdown",nT="markdown",rT="markdown",oT="markdown",iT="ignore",sT="properties",lT="objective-c",aT="objective-cpp",uT="perl",cT="perl",fT="perl",dT="perl",pT="perl",hT="perl",mT="raku",gT="raku",yT="raku",vT="raku",wT="raku",xT="raku",kT="raku",ST="raku",bT="php",CT="php",ET="php",TT="php",OT="php",MT="powershell",NT="powershell",RT="powershell",AT="powershell",DT="powershell",IT="jade",PT="jade",_T="python",zT="python",FT="python",LT="python",jT="python",$T="python",BT="python",VT="python",HT="python",WT="r",UT="r",qT="r",KT="r",JT="razor",QT="razor",GT="restructuredtext",YT="ruby",XT="ruby",ZT="ruby",eO="ruby",tO="ruby",nO="ruby",rO="ruby",oO="ruby",iO="ruby",sO="rust",lO="scss",aO="shaderlab",uO="shellscript",cO="shellscript",fO="shellscript",dO="shellscript",pO="shellscript",hO="shellscript",mO="shellscript",gO="shellscript",yO="shellscript",vO="shellscript",wO="shellscript",xO="shellscript",kO="shellscript",SO="shellscript",bO="shellscript",CO="shellscript",EO="shellscript",TO="shellscript",OO="shellscript",MO="shellscript",NO="shellscript",RO="shellscript",AO="shellscript",DO="shellscript",IO="shellscript",PO="shellscript",_O="shellscript",zO="sql",FO="sql",LO="swift",jO="typescript",$O="typescript",BO="typescript",VO="typescriptreact",HO="json",WO="vb",UO="vb",qO="vb",KO="vb",JO="vb",QO="xml",GO="xml",YO="xml",XO="xml",ZO="xml",eM="xml",tM="xml",nM="xml",rM="xml",oM="xml",iM="xml",sM="xml",lM="xml",aM="xml",uM="xml",cM="xml",fM="xml",dM="xml",pM="xml",hM="xml",mM="xml",gM="xml",yM="xml",vM="xml",wM="xml",xM="xml",kM="xml",SM="xml",bM="xml",CM="xml",EM="xml",TM="xml",OM="xml",MM="xml",NM="xml",RM="xml",AM="xml",DM="xml",IM="xml",PM="xml",_M="xml",zM="xml",FM="xml",LM="xml",jM="xml",$M="xml",BM="xml",VM="xml",HM="xml",WM="xml",UM="xml",qM="xml",KM="xml",JM="xml",QM="xml",GM="xml",YM="xml",XM="xsl",ZM="xsl",eN="yaml",tN="yaml",nN="yaml",rN="yaml",oN="yaml",hy={bat:Nb,cmd:Rb,clj:Ab,cljs:Db,cljc:Ib,cljx:Pb,clojure:_b,edn:zb,coffee:Fb,cson:Lb,iced:jb,"code-workspace":"jsonc","code-profile":"json",c:$b,i:Bb,cpp:Vb,cppm:Hb,cc:Wb,ccm:Ub,cxx:qb,cxxm:Kb,"c++":"cpp","c++m":"cpp",hpp:Jb,hh:Qb,hxx:Gb,"h++":"cpp",h:Yb,ii:Xb,ino:Zb,inl:eC,ipp:tC,ixx:nC,tpp:rC,txx:oC,"hpp.in":"cpp","h.in":"cpp",cu:iC,cuh:sC,cs:lC,csx:aC,cake:uC,css:cC,dart:fC,diff:dC,patch:pC,rej:hC,dockerfile:mC,containerfile:gC,fs:yC,fsi:vC,fsx:wC,fsscript:xC,gitignore_global:kC,gitignore:SC,"git-blame-ignore-revs":"ignore",go:bC,groovy:CC,gvy:EC,gradle:TC,jenkinsfile:OC,nf:MC,handlebars:NC,hbs:RC,hjs:AC,hlsl:DC,hlsli:IC,fx:PC,fxh:_C,vsh:zC,psh:FC,cginc:LC,compute:jC,html:$C,htm:BC,shtml:VC,xhtml:HC,xht:WC,mdoc:UC,jsp:qC,asp:KC,aspx:JC,jshtm:QC,volt:GC,ejs:YC,rhtml:XC,ini:ZC,conf:eE,properties:tE,cfg:nE,directory:rE,gitattributes:oE,gitconfig:iE,gitmodules:sE,editorconfig:lE,repo:aE,java:uE,jav:cE,jsx:fE,js:dE,es6:pE,mjs:hE,cjs:mE,pac:gE,json:yE,bowerrc:vE,jscsrc:wE,webmanifest:xE,"js.map":"json","css.map":"json","ts.map":"json",har:kE,jslintrc:SE,jsonld:bE,geojson:CE,ipynb:EE,vuerc:TE,jsonc:OE,eslintrc:ME,"eslintrc.json":"jsonc",jsfmtrc:NE,jshintrc:RE,swcrc:AE,hintrc:DE,babelrc:IE,jsonl:PE,"code-snippets":"snippets",jl:_E,jmd:zE,sty:FE,cls:LE,bbx:jE,cbx:$E,tex:BE,ltx:VE,ctx:HE,bib:WE,less:UE,log:qE,lua:KE,mak:JE,mk:QE,md:GE,mkd:YE,mdwn:XE,mdown:ZE,markdown:eT,markdn:tT,mdtxt:nT,mdtext:rT,workbook:oT,npmignore:iT,npmrc:sT,m:lT,mm:aT,pl:uT,pm:cT,pod:fT,t:dT,PL:pT,psgi:hT,raku:mT,rakumod:gT,rakutest:yT,rakudoc:vT,nqp:wT,p6:xT,pl6:kT,pm6:ST,php:bT,php4:CT,php5:ET,phtml:TT,ctp:OT,ps1:MT,psm1:NT,psd1:RT,pssc:AT,psrc:DT,pug:IT,jade:PT,py:_T,rpy:zT,pyw:FT,cpy:LT,gyp:jT,gypi:$T,pyi:BT,ipy:VT,pyt:HT,r:WT,rhistory:UT,rprofile:qT,rt:KT,cshtml:JT,razor:QT,rst:GT,rb:YT,rbx:XT,rjs:ZT,gemspec:eO,rake:tO,ru:nO,erb:rO,podspec:oO,rbi:iO,rs:sO,scss:lO,"code-search":"search-result",shader:aO,sh:uO,bash:cO,bashrc:fO,bash_aliases:dO,bash_profile:pO,bash_login:hO,ebuild:mO,eclass:gO,profile:yO,bash_logout:vO,xprofile:wO,xsession:xO,xsessionrc:kO,Xsession:SO,zsh:bO,zshrc:CO,zprofile:EO,zlogin:TO,zlogout:OO,zshenv:MO,"zsh-theme":"shellscript",fish:NO,ksh:RO,csh:AO,cshrc:DO,tcshrc:IO,yashrc:PO,yash_profile:_O,sql:zO,dsql:FO,swift:LO,ts:jO,cts:$O,mts:BO,tsx:VO,tsbuildinfo:HO,vb:WO,brs:UO,vbs:qO,bas:KO,vba:JO,xml:QO,xsd:GO,ascx:YO,atom:XO,axml:ZO,axaml:eM,bpmn:tM,cpt:nM,csl:rM,csproj:oM,"csproj.user":"xml",dita:iM,ditamap:sM,dtd:lM,ent:aM,mod:uM,dtml:cM,fsproj:fM,fxml:dM,iml:pM,isml:hM,jmx:mM,launch:gM,menu:yM,mxml:vM,nuspec:wM,opml:xM,owl:kM,proj:SM,props:bM,pt:CM,publishsettings:EM,pubxml:TM,"pubxml.user":"xml",rbxlx:OM,rbxmx:MM,rdf:NM,rng:RM,rss:AM,shproj:DM,storyboard:IM,svg:PM,targets:_M,tld:zM,tmx:FM,vbproj:LM,"vbproj.user":"xml",vcxproj:jM,"vcxproj.filters":"xml",wsdl:$M,wxi:BM,wxl:VM,wxs:HM,xaml:WM,xbl:UM,xib:qM,xlf:KM,xliff:JM,xpdl:QM,xul:GM,xoml:YM,xsl:XM,xslt:ZM,yaml:eN,yml:tN,eyaml:nN,eyml:rN,cff:oN,"yaml-tmlanguage":"yaml","yaml-tmpreferences":"yaml","yaml-tmtheme":"yaml"},iN=n=>{const e=n.split(".");return e.map((t,r)=>e.slice(r).join("."))},sN=n=>{for(const e of n)if(e in hy)return hy[e]},lN=({name:n,lang:e,className:t,range:r,filePath:o,...s})=>{const[a,u]=O.useState(!1),[f,d]=O.useState({x:0,y:0}),h=O.useRef(null),g=O.useRef(null),w=iN(n),y=e||sN(w),x=S=>{if(o&&h.current&&g.current){const C=h.current.getBoundingClientRect(),T=g.current.getBoundingClientRect();let N=C.left+C.width/2-T.width/2,I=C.top-T.height-8;const P=10;N=Math.max(P,Math.min(N,window.innerWidth-T.width-P)),I<P&&(I=C.bottom+8),d({x:N,y:I}),u(!0)}},k=()=>{u(!1)};return D.jsxs(D.Fragment,{children:[D.jsxs("button",{ref:h,className:Ue("file-label",t),onMouseEnter:x,onMouseLeave:k,...s,children:[D.jsx(Mb,{lang:y,extensions:w,name:n}),D.jsxs("span",{className:"file-label-name",children:[n,r&&` ${r.startLine+1} - ${r.endLine+1}`]})]}),o&&D.jsx("div",{ref:g,className:Ue("file-label-tooltip",{"file-label-tooltip--visible":a}),style:{left:f.x,top:f.y},children:o})]})},aN=({isFocused:n,isLoading:e,children:t,className:r,...o})=>D.jsx("div",{className:Ue("kiro-focus-area",r),"data-focus":n,"data-loading":e,...o,children:t}),mn=({className:n,children:e,...t})=>D.jsx("div",{className:Ue("kiro-form-field",n),...t,children:e}),uN=({className:n,children:e,...t})=>D.jsx("label",{className:Ue("kiro-form-field-label",n),...t,children:e});mn.Label=uN;const tl=({className:n,icon:e,heading:t,body:r})=>D.jsxs("div",{className:Ue("kiro-info-card",n),children:[D.jsx("div",{className:"kiro-info-card-icon",children:D.jsx(yt,{type:e,size:"x-large"})}),t&&D.jsx("div",{className:"kiro-info-card-heading",children:t}),r&&D.jsx("div",{className:"kiro-info-card-body",children:r})]}),cN=({children:n,className:e})=>D.jsx("div",{className:Ue("kiro-info-card-list",e),children:n});tl.List=cN;const fN=({children:n,className:e,...t})=>D.jsx("div",{className:Ue("kiro-page-header",e),...t,children:n}),dN=({children:n,className:e,...t})=>D.jsx("div",{className:Ue("kiro-page-body",e),...t,children:n}),vo=({children:n,className:e,...t})=>D.jsx("div",{className:Ue("kiro-page",e),...t,children:n});vo.Header=fN;vo.Body=dN;const P0=({isEditing:n,className:e,handleRemove:t,handleClick:r,onSave:o,value:s,icon:a,inputRef:u,...f})=>D.jsxs("div",{"data-active":n,className:Ue("kiro-pill",e),children:[a?D.jsx(yt,{size:"small",type:a}):null,n?D.jsxs(D.Fragment,{children:[D.jsx("input",{type:"text",value:s,className:"kiro-pill-input",style:{width:`${Math.max(60,s.length*8)}px`},autoFocus:!0,ref:u,...f}),D.jsx(ou,{label:"Save",size:"small",icon:"check",onClick:o})]}):D.jsxs(D.Fragment,{children:[D.jsx("span",{className:"",onClick:r,children:s}),D.jsx(ou,{label:"Remove",size:"small",icon:"close",onClick:t})]})]}),_0=({placeholder:n,icon:e,value:t=[],className:r,onChange:o,...s})=>{const[a,u]=O.useState(null),[f,d]=O.useState(""),[h,g]=O.useState(""),w=N=>{o==null||o(N)},y=N=>{u(N),d(t[N])},x=N=>{d(N.target.value)},k=N=>{g(N.target.value)},S=(N,I)=>{N.key==="Enter"?C(I):N.key==="Backspace"&&f===""&&N.currentTarget.selectionStart===0&&(N.preventDefault(),T(I))},C=N=>{if(f.trim()){const I=[...t];I[N]=f.trim(),w(I)}else T(N);u(null),d("")},T=N=>{const I=[...t.slice(0,N),...t.slice(N+1)];w(I),a===N&&(u(null),d(""))};return D.jsxs("div",{className:Ue("kiro-pill-list",r),children:[D.jsxs("div",{className:"kiro-pill-list-field",children:[D.jsx("input",{type:"text",placeholder:n,value:h,onChange:k,onKeyDown:N=>{if(N.key==="Enter"&&(N.preventDefault(),h.trim())){const I=[...t,h.trim()];w(I),g("")}},className:"kiro-pill-list-input",...s}),D.jsx(ur,{variant:"submit",size:"small",className:"kiro-pill-list-submit",disabled:!h,onClick:()=>{if(h.trim()){const N=[...t,h.trim()];w(N),g("")}},children:D.jsx(yt,{type:"newline"})})]}),D.jsx("div",{className:"kiro-pills",children:t.map((N,I)=>{const P=a===I;return D.jsx(P0,{isEditing:P,handleRemove:B=>{B.stopPropagation(),T(I)},value:P?f:N,onChange:x,onKeyDown:B=>{S(B,I)},onBlur:()=>{C(I)},icon:e,handleClick:()=>{y(I)}},I)})})]})};_0.Pill=P0;const pN=({className:n,checked:e,id:t,label:r,onChange:o,coachmark:s,onCoachMarkShown:a,tooltip:u})=>{const f=O.useRef(t??d0()),[d,h]=O.useState((s==null?void 0:s.show)||!1);return O.useEffect(()=>{let g;return s!=null&&s.show?(h(!0),g=setTimeout(()=>{h(!1),a==null||a()},1e4)):h(!1),()=>{g&&clearTimeout(g)}},[s==null?void 0:s.show]),D.jsxs("div",{className:Ue("kiro-toggle-switch",n),children:[d&&s&&D.jsx("div",{className:"kiro-toggle-switch-coachmark edge-left edge-right",children:D.jsxs("div",{className:"kiro-toggle-switch-coachmark-content",children:[D.jsxs("div",{className:"kiro-toggle-switch-coachmark-text",children:[D.jsx("h4",{className:"kiro-toggle-switch-coachmark-header",children:s.header}),D.jsx("p",{className:"kiro-toggle-switch-coachmark-description",children:s.description})]}),D.jsx("button",{className:"kiro-toggle-switch-coachmark-dismiss",onClick:()=>{h(!1),a==null||a()},"aria-label":"Dismiss coachmark",children:"×"})]})}),D.jsx("label",{htmlFor:f.current,"data-tooltip-id":I0,"data-tooltip-place":"top-end","data-tooltip-content":u,children:r}),D.jsx("input",{id:f.current,type:"checkbox",role:"switch",checked:e,onChange:o})]})},hN=({onChange:n,value:e,isExclusive:t=!1,isSelectionRequired:r=!1})=>{const o=O.useCallback(a=>{if(!eu(n)||!Array.isArray(e))return;const u=gp(a)?e.indexOf(a):-1;let f;u>=0?(f=[...e],(!r||f.length>1)&&f.splice(u,1)):f=[...e,a],n(f)},[n,e,r]),s=O.useCallback(a=>{eu(n)&&n(e===a&&!r?void 0:a)},[n,e,r]);return t?s:o},mN=({isPressed:n,defaultPressed:e,onClick:t,onChange:r,value:o})=>{const s=n!==void 0,[a,u]=O.useState(e);n=s?n:a;const f=O.useCallback(d=>{eu(t)&&t(d),s||u(!a),s&&eu(r)&&r(o)},[s,t,r,a,o]);return{isPressed:n,handleClick:f}},gN=({isPressed:n,defaultPressed:e,onClick:t,value:r,className:o,children:s,onChange:a,...u})=>{const{isPressed:f,handleClick:d}=mN({isPressed:n,defaultPressed:e,onChange:a,onClick:t,value:r});return D.jsx(ur,{"aria-pressed":f,className:Ue("kiro-toggle-button",o),onClick:d,...u,children:s})},Vi=({onChange:n,value:e,isExclusive:t,isSelectionRequired:r,className:o,children:s,size:a,variant:u,...f})=>{const d=hN({onChange:n,value:e,isExclusive:t,isSelectionRequired:r});return D.jsx("div",{className:Ue("kiro-toggle-button-group",o),role:"group",...f,children:O.Children.map(s,h=>O.isValidElement(h)?O.cloneElement(h,{isPressed:t?e===h.props.value:gp(h.props.value)&&e.includes(h.props.value),onChange:d,size:a,variant:u}):h)})};Vi.Button=gN;const z0=({className:n,status:e,...t})=>D.jsx(yt,{type:"circleFilled","data-status":e,className:Ue("kiro-tabs-item-indicator",n),...t}),F0=({className:n,...e})=>D.jsx(ou,{label:"close",icon:"close",className:Ue("kiro-tabs-item-close",n),size:"x-small",...e}),L0=({children:n,className:e,...t})=>D.jsx("span",{className:Ue("kiro-tabs-item-label",e),...t,children:n}),bp=({children:n,status:e,isActive:t=!1,className:r,label:o,handleClose:s,...a})=>{const u=O.useRef(null);return O.useEffect(()=>{t&&u.current&&u.current.scrollIntoView({block:"nearest",inline:"nearest"})},[t]),D.jsx("div",{ref:u,role:"tab",className:Ue("kiro-tabs-item",r),"aria-selected":t,"data-status":e,...a,children:o?D.jsxs(D.Fragment,{children:[D.jsx(z0,{status:e}),D.jsx(L0,{children:o}),D.jsx(F0,{onClick:s})]}):n})};bp.Indicator=z0;bp.Close=F0;bp.Label=L0;var za={},Yf={exports:{}},on={},Xf={exports:{}},Zf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var my;function yN(){return my||(my=1,function(n){function e(L,V){var j=L.length;L.push(V);e:for(;0<j;){var M=j-1>>>1,$=L[M];if(0<o($,V))L[M]=V,L[j]=$,j=M;else break e}}function t(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var V=L[0],j=L.pop();if(j!==V){L[0]=j;e:for(var M=0,$=L.length,pe=$>>>1;M<pe;){var Ee=2*(M+1)-1,Me=L[Ee],ve=Ee+1,Oe=L[ve];if(0>o(Me,j))ve<$&&0>o(Oe,Me)?(L[M]=Oe,L[ve]=j,M=ve):(L[M]=Me,L[Ee]=j,M=Ee);else if(ve<$&&0>o(Oe,j))L[M]=Oe,L[ve]=j,M=ve;else break e}}return V}function o(L,V){var j=L.sortIndex-V.sortIndex;return j!==0?j:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();n.unstable_now=function(){return a.now()-u}}var f=[],d=[],h=1,g=null,w=3,y=!1,x=!1,k=!1,S=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(L){for(var V=t(d);V!==null;){if(V.callback===null)r(d);else if(V.startTime<=L)r(d),V.sortIndex=V.expirationTime,e(f,V);else break;V=t(d)}}function I(L){if(k=!1,N(L),!x)if(t(f)!==null)x=!0,Z(P);else{var V=t(d);V!==null&&ie(I,V.startTime-L)}}function P(L,V){x=!1,k&&(k=!1,C(X),X=-1),y=!0;var j=w;try{for(N(V),g=t(f);g!==null&&(!(g.expirationTime>V)||L&&!ge());){var M=g.callback;if(typeof M=="function"){g.callback=null,w=g.priorityLevel;var $=M(g.expirationTime<=V);V=n.unstable_now(),typeof $=="function"?g.callback=$:g===t(f)&&r(f),N(V)}else r(f);g=t(f)}if(g!==null)var pe=!0;else{var Ee=t(d);Ee!==null&&ie(I,Ee.startTime-V),pe=!1}return pe}finally{g=null,w=j,y=!1}}var B=!1,U=null,X=-1,Q=5,G=-1;function ge(){return!(n.unstable_now()-G<Q)}function fe(){if(U!==null){var L=n.unstable_now();G=L;var V=!0;try{V=U(!0,L)}finally{V?re():(B=!1,U=null)}}else B=!1}var re;if(typeof T=="function")re=function(){T(fe)};else if(typeof MessageChannel<"u"){var ye=new MessageChannel,oe=ye.port2;ye.port1.onmessage=fe,re=function(){oe.postMessage(null)}}else re=function(){S(fe,0)};function Z(L){U=L,B||(B=!0,re())}function ie(L,V){X=S(function(){L(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(L){L.callback=null},n.unstable_continueExecution=function(){x||y||(x=!0,Z(P))},n.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<L?Math.floor(1e3/L):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(L){switch(w){case 1:case 2:case 3:var V=3;break;default:V=w}var j=w;w=V;try{return L()}finally{w=j}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var j=w;w=L;try{return V()}finally{w=j}},n.unstable_scheduleCallback=function(L,V,j){var M=n.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?M+j:M):j=M,L){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=j+$,L={id:h++,callback:V,priorityLevel:L,startTime:j,expirationTime:$,sortIndex:-1},j>M?(L.sortIndex=j,e(d,L),t(f)===null&&L===t(d)&&(k?(C(X),X=-1):k=!0,ie(I,j-M))):(L.sortIndex=$,e(f,L),x||y||(x=!0,Z(P))),L},n.unstable_shouldYield=ge,n.unstable_wrapCallback=function(L){var V=w;return function(){var j=w;w=V;try{return L.apply(this,arguments)}finally{w=j}}}}(Zf)),Zf}var gy;function vN(){return gy||(gy=1,Xf.exports=yN()),Xf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function wN(){if(yy)return on;yy=1;var n=pp(),e=vN();function t(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function s(i,l){a(i,l),a(i+"Capture",l)}function a(i,l){for(o[i]=l,i=0;i<l.length;i++)r.add(l[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},g={};function w(i){return f.call(g,i)?!0:f.call(h,i)?!1:d.test(i)?g[i]=!0:(h[i]=!0,!1)}function y(i,l,c,p){if(c!==null&&c.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function x(i,l,c,p){if(l===null||typeof l>"u"||y(i,l,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function k(i,l,c,p,m,v,b){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=p,this.attributeNamespace=m,this.mustUseProperty=c,this.propertyName=i,this.type=l,this.sanitizeURL=v,this.removeEmptyString=b}var S={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){S[i]=new k(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];S[l]=new k(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){S[i]=new k(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){S[i]=new k(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){S[i]=new k(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){S[i]=new k(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){S[i]=new k(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){S[i]=new k(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){S[i]=new k(i,5,!1,i.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function T(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(C,T);S[l]=new k(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(C,T);S[l]=new k(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(C,T);S[l]=new k(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){S[i]=new k(i,1,!1,i.toLowerCase(),null,!1,!1)}),S.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){S[i]=new k(i,1,!1,i.toLowerCase(),null,!0,!0)});function N(i,l,c,p){var m=S.hasOwnProperty(l)?S[l]:null;(m!==null?m.type!==0:p||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(x(l,c,m,p)&&(c=null),p||m===null?w(l)&&(c===null?i.removeAttribute(l):i.setAttribute(l,""+c)):m.mustUseProperty?i[m.propertyName]=c===null?m.type===3?!1:"":c:(l=m.attributeName,p=m.attributeNamespace,c===null?i.removeAttribute(l):(m=m.type,c=m===3||m===4&&c===!0?"":""+c,p?i.setAttributeNS(p,l,c):i.setAttribute(l,c))))}var I=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),B=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),ge=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),ye=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),L=Symbol.iterator;function V(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var j=Object.assign,M;function $(i){if(M===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);M=l&&l[1]||""}return`
`+M+i}var pe=!1;function Ee(i,l){if(!i||pe)return"";pe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(F){var p=F}Reflect.construct(i,[],l)}else{try{l.call()}catch(F){p=F}i.call(l.prototype)}else{try{throw Error()}catch(F){p=F}i()}}catch(F){if(F&&p&&typeof F.stack=="string"){for(var m=F.stack.split(`
`),v=p.stack.split(`
`),b=m.length-1,E=v.length-1;1<=b&&0<=E&&m[b]!==v[E];)E--;for(;1<=b&&0<=E;b--,E--)if(m[b]!==v[E]){if(b!==1||E!==1)do if(b--,E--,0>E||m[b]!==v[E]){var R=`
`+m[b].replace(" at new "," at ");return i.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",i.displayName)),R}while(1<=b&&0<=E);break}}}finally{pe=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?$(i):""}function Me(i){switch(i.tag){case 5:return $(i.type);case 16:return $("Lazy");case 13:return $("Suspense");case 19:return $("SuspenseList");case 0:case 2:case 15:return i=Ee(i.type,!1),i;case 11:return i=Ee(i.type.render,!1),i;case 1:return i=Ee(i.type,!0),i;default:return""}}function ve(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case U:return"Fragment";case B:return"Portal";case Q:return"Profiler";case X:return"StrictMode";case re:return"Suspense";case ye:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case ge:return(i.displayName||"Context")+".Consumer";case G:return(i._context.displayName||"Context")+".Provider";case fe:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case oe:return l=i.displayName||null,l!==null?l:ve(i.type)||"Memo";case Z:l=i._payload,i=i._init;try{return ve(i(l))}catch{}}return null}function Oe(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ve(l);case 8:return l===X?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function he(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ee(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function de(i){var l=ee(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),p=""+i[l];if(!i.hasOwnProperty(l)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var m=c.get,v=c.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return m.call(this)},set:function(b){p=""+b,v.call(this,b)}}),Object.defineProperty(i,l,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(b){p=""+b},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function me(i){i._valueTracker||(i._valueTracker=de(i))}function Ne(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var c=l.getValue(),p="";return i&&(p=ee(i)?i.checked?"true":"false":i.value),i=p,i!==c?(l.setValue(i),!0):!1}function Pe(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Ke(i,l){var c=l.checked;return j({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function _e(i,l){var c=l.defaultValue==null?"":l.defaultValue,p=l.checked!=null?l.checked:l.defaultChecked;c=he(l.value!=null?l.value:c),i._wrapperState={initialChecked:p,initialValue:c,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function Je(i,l){l=l.checked,l!=null&&N(i,"checked",l,!1)}function rt(i,l){Je(i,l);var c=he(l.value),p=l.type;if(c!=null)p==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?Le(i,l.type,c):l.hasOwnProperty("defaultValue")&&Le(i,l.type,he(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function ct(i,l,c){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var p=l.type;if(!(p!=="submit"&&p!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,c||l===i.value||(i.value=l),i.defaultValue=l}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function Le(i,l,c){(l!=="number"||Pe(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var Tt=Array.isArray;function et(i,l,c,p){if(i=i.options,l){l={};for(var m=0;m<c.length;m++)l["$"+c[m]]=!0;for(c=0;c<i.length;c++)m=l.hasOwnProperty("$"+i[c].value),i[c].selected!==m&&(i[c].selected=m),m&&p&&(i[c].defaultSelected=!0)}else{for(c=""+he(c),l=null,m=0;m<i.length;m++){if(i[m].value===c){i[m].selected=!0,p&&(i[m].defaultSelected=!0);return}l!==null||i[m].disabled||(l=i[m])}l!==null&&(l.selected=!0)}}function Yt(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(t(91));return j({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Fn(i,l){var c=l.value;if(c==null){if(c=l.children,l=l.defaultValue,c!=null){if(l!=null)throw Error(t(92));if(Tt(c)){if(1<c.length)throw Error(t(93));c=c[0]}l=c}l==null&&(l=""),c=l}i._wrapperState={initialValue:he(c)}}function Ro(i,l){var c=he(l.value),p=he(l.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),l.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),p!=null&&(i.defaultValue=""+p)}function yr(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function Ln(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vr(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?Ln(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var kn,wr=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,c,p,m){MSApp.execUnsafeLocalFunction(function(){return i(l,c,p,m)})}:i}(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(kn=kn||document.createElement("div"),kn.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=kn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function xr(i,l){if(l){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=l;return}}i.textContent=l}var Sn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kr=["Webkit","ms","Moz","O"];Object.keys(Sn).forEach(function(i){kr.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),Sn[l]=Sn[i]})});function Xt(i,l,c){return l==null||typeof l=="boolean"||l===""?"":c||typeof l!="number"||l===0||Sn.hasOwnProperty(i)&&Sn[i]?(""+l).trim():l+"px"}function ot(i,l){i=i.style;for(var c in l)if(l.hasOwnProperty(c)){var p=c.indexOf("--")===0,m=Xt(c,l[c],p);c==="float"&&(c="cssFloat"),p?i.setProperty(c,m):i[c]=m}}var di=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sr(i,l){if(l){if(di[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(t(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(t(61))}if(l.style!=null&&typeof l.style!="object")throw Error(t(62))}}function Xn(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var br=null;function Zn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var er=null,un=null,bn=null;function Ao(i){if(i=Fs(i)){if(typeof er!="function")throw Error(t(280));var l=i.stateNode;l&&(l=Jl(l),er(i.stateNode,i.type,l))}}function lt(i){un?bn?bn.push(i):bn=[i]:un=i}function Vt(){if(un){var i=un,l=bn;if(bn=un=null,Ao(i),l)for(i=0;i<l.length;i++)Ao(l[i])}}function ke(i,l){return i(l)}function De(){}var Ot=!1;function tr(i,l,c){if(Ot)return i(l,c);Ot=!0;try{return ke(i,l,c)}finally{Ot=!1,(un!==null||bn!==null)&&(De(),Vt())}}function Y(i,l){var c=i.stateNode;if(c===null)return null;var p=Jl(c);if(p===null)return null;c=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(t(231,l,typeof c));return c}var Se=!1;if(u)try{var Ce={};Object.defineProperty(Ce,"passive",{get:function(){Se=!0}}),window.addEventListener("test",Ce,Ce),window.removeEventListener("test",Ce,Ce)}catch{Se=!1}function at(i,l,c,p,m,v,b,E,R){var F=Array.prototype.slice.call(arguments,3);try{l.apply(c,F)}catch(W){this.onError(W)}}var it=!1,Ht=null,Wt=!1,ht=null,cn={onError:function(i){it=!0,Ht=i}};function Qe(i,l,c,p,m,v,b,E,R){it=!1,Ht=null,at.apply(cn,arguments)}function Hr(i,l,c,p,m,v,b,E,R){if(Qe.apply(this,arguments),it){if(it){var F=Ht;it=!1,Ht=null}else throw Error(t(198));Wt||(Wt=!0,ht=F)}}function Cr(i){var l=i,c=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,l.flags&4098&&(c=l.return),i=l.return;while(i)}return l.tag===3?c:null}function Tl(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function hs(i){if(Cr(i)!==i)throw Error(t(188))}function Ol(i){var l=i.alternate;if(!l){if(l=Cr(i),l===null)throw Error(t(188));return l!==i?null:i}for(var c=i,p=l;;){var m=c.return;if(m===null)break;var v=m.alternate;if(v===null){if(p=m.return,p!==null){c=p;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===c)return hs(m),i;if(v===p)return hs(m),l;v=v.sibling}throw Error(t(188))}if(c.return!==p.return)c=m,p=v;else{for(var b=!1,E=m.child;E;){if(E===c){b=!0,c=m,p=v;break}if(E===p){b=!0,p=m,c=v;break}E=E.sibling}if(!b){for(E=v.child;E;){if(E===c){b=!0,c=v,p=m;break}if(E===p){b=!0,p=v,c=m;break}E=E.sibling}if(!b)throw Error(t(189))}}if(c.alternate!==p)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?i:l}function ms(i){return i=Ol(i),i!==null?gs(i):null}function gs(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=gs(i);if(l!==null)return l;i=i.sibling}return null}var ys=e.unstable_scheduleCallback,je=e.unstable_cancelCallback,jn=e.unstable_shouldYield,vs=e.unstable_requestPaint,Ve=e.unstable_now,tc=e.unstable_getCurrentPriorityLevel,Do=e.unstable_ImmediatePriority,nh=e.unstable_UserBlockingPriority,Ml=e.unstable_NormalPriority,n1=e.unstable_LowPriority,rh=e.unstable_IdlePriority,Nl=null,nr=null;function r1(i){if(nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(Nl,i,void 0,(i.current.flags&128)===128)}catch{}}var $n=Math.clz32?Math.clz32:s1,o1=Math.log,i1=Math.LN2;function s1(i){return i>>>=0,i===0?32:31-(o1(i)/i1|0)|0}var Rl=64,Al=4194304;function ws(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Dl(i,l){var c=i.pendingLanes;if(c===0)return 0;var p=0,m=i.suspendedLanes,v=i.pingedLanes,b=c&268435455;if(b!==0){var E=b&~m;E!==0?p=ws(E):(v&=b,v!==0&&(p=ws(v)))}else b=c&~m,b!==0?p=ws(b):v!==0&&(p=ws(v));if(p===0)return 0;if(l!==0&&l!==p&&!(l&m)&&(m=p&-p,v=l&-l,m>=v||m===16&&(v&4194240)!==0))return l;if(p&4&&(p|=c&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=p;0<l;)c=31-$n(l),m=1<<c,p|=i[c],l&=~m;return p}function l1(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a1(i,l){for(var c=i.suspendedLanes,p=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var b=31-$n(v),E=1<<b,R=m[b];R===-1?(!(E&c)||E&p)&&(m[b]=l1(E,l)):R<=l&&(i.expiredLanes|=E),v&=~E}}function nc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function oh(){var i=Rl;return Rl<<=1,!(Rl&4194240)&&(Rl=64),i}function rc(i){for(var l=[],c=0;31>c;c++)l.push(i);return l}function xs(i,l,c){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-$n(l),i[l]=c}function u1(i,l){var c=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<c;){var m=31-$n(c),v=1<<m;l[m]=0,p[m]=-1,i[m]=-1,c&=~v}}function oc(i,l){var c=i.entangledLanes|=l;for(i=i.entanglements;c;){var p=31-$n(c),m=1<<p;m&l|i[p]&l&&(i[p]|=l),c&=~m}}var Be=0;function ih(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var sh,ic,lh,ah,uh,sc=!1,Il=[],Wr=null,Ur=null,qr=null,ks=new Map,Ss=new Map,Kr=[],c1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ch(i,l){switch(i){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":ks.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ss.delete(l.pointerId)}}function bs(i,l,c,p,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:l,domEventName:c,eventSystemFlags:p,nativeEvent:v,targetContainers:[m]},l!==null&&(l=Fs(l),l!==null&&ic(l)),i):(i.eventSystemFlags|=p,l=i.targetContainers,m!==null&&l.indexOf(m)===-1&&l.push(m),i)}function f1(i,l,c,p,m){switch(l){case"focusin":return Wr=bs(Wr,i,l,c,p,m),!0;case"dragenter":return Ur=bs(Ur,i,l,c,p,m),!0;case"mouseover":return qr=bs(qr,i,l,c,p,m),!0;case"pointerover":var v=m.pointerId;return ks.set(v,bs(ks.get(v)||null,i,l,c,p,m)),!0;case"gotpointercapture":return v=m.pointerId,Ss.set(v,bs(Ss.get(v)||null,i,l,c,p,m)),!0}return!1}function fh(i){var l=Io(i.target);if(l!==null){var c=Cr(l);if(c!==null){if(l=c.tag,l===13){if(l=Tl(c),l!==null){i.blockedOn=l,uh(i.priority,function(){lh(c)});return}}else if(l===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Pl(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var c=ac(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var p=new c.constructor(c.type,c);br=p,c.target.dispatchEvent(p),br=null}else return l=Fs(c),l!==null&&ic(l),i.blockedOn=c,!1;l.shift()}return!0}function dh(i,l,c){Pl(i)&&c.delete(l)}function d1(){sc=!1,Wr!==null&&Pl(Wr)&&(Wr=null),Ur!==null&&Pl(Ur)&&(Ur=null),qr!==null&&Pl(qr)&&(qr=null),ks.forEach(dh),Ss.forEach(dh)}function Cs(i,l){i.blockedOn===l&&(i.blockedOn=null,sc||(sc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,d1)))}function Es(i){function l(m){return Cs(m,i)}if(0<Il.length){Cs(Il[0],i);for(var c=1;c<Il.length;c++){var p=Il[c];p.blockedOn===i&&(p.blockedOn=null)}}for(Wr!==null&&Cs(Wr,i),Ur!==null&&Cs(Ur,i),qr!==null&&Cs(qr,i),ks.forEach(l),Ss.forEach(l),c=0;c<Kr.length;c++)p=Kr[c],p.blockedOn===i&&(p.blockedOn=null);for(;0<Kr.length&&(c=Kr[0],c.blockedOn===null);)fh(c),c.blockedOn===null&&Kr.shift()}var pi=I.ReactCurrentBatchConfig,_l=!0;function p1(i,l,c,p){var m=Be,v=pi.transition;pi.transition=null;try{Be=1,lc(i,l,c,p)}finally{Be=m,pi.transition=v}}function h1(i,l,c,p){var m=Be,v=pi.transition;pi.transition=null;try{Be=4,lc(i,l,c,p)}finally{Be=m,pi.transition=v}}function lc(i,l,c,p){if(_l){var m=ac(i,l,c,p);if(m===null)Ec(i,l,p,zl,c),ch(i,p);else if(f1(m,i,l,c,p))p.stopPropagation();else if(ch(i,p),l&4&&-1<c1.indexOf(i)){for(;m!==null;){var v=Fs(m);if(v!==null&&sh(v),v=ac(i,l,c,p),v===null&&Ec(i,l,p,zl,c),v===m)break;m=v}m!==null&&p.stopPropagation()}else Ec(i,l,p,null,c)}}var zl=null;function ac(i,l,c,p){if(zl=null,i=Zn(p),i=Io(i),i!==null)if(l=Cr(i),l===null)i=null;else if(c=l.tag,c===13){if(i=Tl(l),i!==null)return i;i=null}else if(c===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return zl=i,null}function ph(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tc()){case Do:return 1;case nh:return 4;case Ml:case n1:return 16;case rh:return 536870912;default:return 16}default:return 16}}var Jr=null,uc=null,Fl=null;function hh(){if(Fl)return Fl;var i,l=uc,c=l.length,p,m="value"in Jr?Jr.value:Jr.textContent,v=m.length;for(i=0;i<c&&l[i]===m[i];i++);var b=c-i;for(p=1;p<=b&&l[c-p]===m[v-p];p++);return Fl=m.slice(i,1<p?1-p:void 0)}function Ll(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function jl(){return!0}function mh(){return!1}function fn(i){function l(c,p,m,v,b){this._reactName=c,this._targetInst=m,this.type=p,this.nativeEvent=v,this.target=b,this.currentTarget=null;for(var E in i)i.hasOwnProperty(E)&&(c=i[E],this[E]=c?c(v):v[E]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?jl:mh,this.isPropagationStopped=mh,this}return j(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=jl)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=jl)},persist:function(){},isPersistent:jl}),l}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cc=fn(hi),Ts=j({},hi,{view:0,detail:0}),m1=fn(Ts),fc,dc,Os,$l=j({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Os&&(Os&&i.type==="mousemove"?(fc=i.screenX-Os.screenX,dc=i.screenY-Os.screenY):dc=fc=0,Os=i),fc)},movementY:function(i){return"movementY"in i?i.movementY:dc}}),gh=fn($l),g1=j({},$l,{dataTransfer:0}),y1=fn(g1),v1=j({},Ts,{relatedTarget:0}),pc=fn(v1),w1=j({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),x1=fn(w1),k1=j({},hi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),S1=fn(k1),b1=j({},hi,{data:0}),yh=fn(b1),C1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},E1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},T1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function O1(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=T1[i])?!!l[i]:!1}function hc(){return O1}var M1=j({},Ts,{key:function(i){if(i.key){var l=C1[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Ll(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?E1[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hc,charCode:function(i){return i.type==="keypress"?Ll(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ll(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),N1=fn(M1),R1=j({},$l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vh=fn(R1),A1=j({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hc}),D1=fn(A1),I1=j({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),P1=fn(I1),_1=j({},$l,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),z1=fn(_1),F1=[9,13,27,32],mc=u&&"CompositionEvent"in window,Ms=null;u&&"documentMode"in document&&(Ms=document.documentMode);var L1=u&&"TextEvent"in window&&!Ms,wh=u&&(!mc||Ms&&8<Ms&&11>=Ms),xh=" ",kh=!1;function Sh(i,l){switch(i){case"keyup":return F1.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bh(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var mi=!1;function j1(i,l){switch(i){case"compositionend":return bh(l);case"keypress":return l.which!==32?null:(kh=!0,xh);case"textInput":return i=l.data,i===xh&&kh?null:i;default:return null}}function $1(i,l){if(mi)return i==="compositionend"||!mc&&Sh(i,l)?(i=hh(),Fl=uc=Jr=null,mi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return wh&&l.locale!=="ko"?null:l.data;default:return null}}var B1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ch(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!B1[i.type]:l==="textarea"}function Eh(i,l,c,p){lt(p),l=Ul(l,"onChange"),0<l.length&&(c=new cc("onChange","change",null,c,p),i.push({event:c,listeners:l}))}var Ns=null,Rs=null;function V1(i){Hh(i,0)}function Bl(i){var l=xi(i);if(Ne(l))return i}function H1(i,l){if(i==="change")return l}var Th=!1;if(u){var gc;if(u){var yc="oninput"in document;if(!yc){var Oh=document.createElement("div");Oh.setAttribute("oninput","return;"),yc=typeof Oh.oninput=="function"}gc=yc}else gc=!1;Th=gc&&(!document.documentMode||9<document.documentMode)}function Mh(){Ns&&(Ns.detachEvent("onpropertychange",Nh),Rs=Ns=null)}function Nh(i){if(i.propertyName==="value"&&Bl(Rs)){var l=[];Eh(l,Rs,i,Zn(i)),tr(V1,l)}}function W1(i,l,c){i==="focusin"?(Mh(),Ns=l,Rs=c,Ns.attachEvent("onpropertychange",Nh)):i==="focusout"&&Mh()}function U1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Bl(Rs)}function q1(i,l){if(i==="click")return Bl(l)}function K1(i,l){if(i==="input"||i==="change")return Bl(l)}function J1(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var Bn=typeof Object.is=="function"?Object.is:J1;function As(i,l){if(Bn(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var c=Object.keys(i),p=Object.keys(l);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var m=c[p];if(!f.call(l,m)||!Bn(i[m],l[m]))return!1}return!0}function Rh(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Ah(i,l){var c=Rh(i);i=0;for(var p;c;){if(c.nodeType===3){if(p=i+c.textContent.length,i<=l&&p>=l)return{node:c,offset:l-i};i=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Rh(c)}}function Dh(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?Dh(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function Ih(){for(var i=window,l=Pe();l instanceof i.HTMLIFrameElement;){try{var c=typeof l.contentWindow.location.href=="string"}catch{c=!1}if(c)i=l.contentWindow;else break;l=Pe(i.document)}return l}function vc(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function Q1(i){var l=Ih(),c=i.focusedElem,p=i.selectionRange;if(l!==c&&c&&c.ownerDocument&&Dh(c.ownerDocument.documentElement,c)){if(p!==null&&vc(c)){if(l=p.start,i=p.end,i===void 0&&(i=l),"selectionStart"in c)c.selectionStart=l,c.selectionEnd=Math.min(i,c.value.length);else if(i=(l=c.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var m=c.textContent.length,v=Math.min(p.start,m);p=p.end===void 0?v:Math.min(p.end,m),!i.extend&&v>p&&(m=p,p=v,v=m),m=Ah(c,v);var b=Ah(c,p);m&&b&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==b.node||i.focusOffset!==b.offset)&&(l=l.createRange(),l.setStart(m.node,m.offset),i.removeAllRanges(),v>p?(i.addRange(l),i.extend(b.node,b.offset)):(l.setEnd(b.node,b.offset),i.addRange(l)))}}for(l=[],i=c;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<l.length;c++)i=l[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var G1=u&&"documentMode"in document&&11>=document.documentMode,gi=null,wc=null,Ds=null,xc=!1;function Ph(i,l,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;xc||gi==null||gi!==Pe(p)||(p=gi,"selectionStart"in p&&vc(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),Ds&&As(Ds,p)||(Ds=p,p=Ul(wc,"onSelect"),0<p.length&&(l=new cc("onSelect","select",null,l,c),i.push({event:l,listeners:p}),l.target=gi)))}function Vl(i,l){var c={};return c[i.toLowerCase()]=l.toLowerCase(),c["Webkit"+i]="webkit"+l,c["Moz"+i]="moz"+l,c}var yi={animationend:Vl("Animation","AnimationEnd"),animationiteration:Vl("Animation","AnimationIteration"),animationstart:Vl("Animation","AnimationStart"),transitionend:Vl("Transition","TransitionEnd")},kc={},_h={};u&&(_h=document.createElement("div").style,"AnimationEvent"in window||(delete yi.animationend.animation,delete yi.animationiteration.animation,delete yi.animationstart.animation),"TransitionEvent"in window||delete yi.transitionend.transition);function Hl(i){if(kc[i])return kc[i];if(!yi[i])return i;var l=yi[i],c;for(c in l)if(l.hasOwnProperty(c)&&c in _h)return kc[i]=l[c];return i}var zh=Hl("animationend"),Fh=Hl("animationiteration"),Lh=Hl("animationstart"),jh=Hl("transitionend"),$h=new Map,Bh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qr(i,l){$h.set(i,l),s(l,[i])}for(var Sc=0;Sc<Bh.length;Sc++){var bc=Bh[Sc],Y1=bc.toLowerCase(),X1=bc[0].toUpperCase()+bc.slice(1);Qr(Y1,"on"+X1)}Qr(zh,"onAnimationEnd"),Qr(Fh,"onAnimationIteration"),Qr(Lh,"onAnimationStart"),Qr("dblclick","onDoubleClick"),Qr("focusin","onFocus"),Qr("focusout","onBlur"),Qr(jh,"onTransitionEnd"),a("onMouseEnter",["mouseout","mouseover"]),a("onMouseLeave",["mouseout","mouseover"]),a("onPointerEnter",["pointerout","pointerover"]),a("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Is));function Vh(i,l,c){var p=i.type||"unknown-event";i.currentTarget=c,Hr(p,l,void 0,i),i.currentTarget=null}function Hh(i,l){l=(l&4)!==0;for(var c=0;c<i.length;c++){var p=i[c],m=p.event;p=p.listeners;e:{var v=void 0;if(l)for(var b=p.length-1;0<=b;b--){var E=p[b],R=E.instance,F=E.currentTarget;if(E=E.listener,R!==v&&m.isPropagationStopped())break e;Vh(m,E,F),v=R}else for(b=0;b<p.length;b++){if(E=p[b],R=E.instance,F=E.currentTarget,E=E.listener,R!==v&&m.isPropagationStopped())break e;Vh(m,E,F),v=R}}}if(Wt)throw i=ht,Wt=!1,ht=null,i}function Ge(i,l){var c=l[Ac];c===void 0&&(c=l[Ac]=new Set);var p=i+"__bubble";c.has(p)||(Wh(l,i,2,!1),c.add(p))}function Cc(i,l,c){var p=0;l&&(p|=4),Wh(c,i,p,l)}var Wl="_reactListening"+Math.random().toString(36).slice(2);function Ps(i){if(!i[Wl]){i[Wl]=!0,r.forEach(function(c){c!=="selectionchange"&&(Z1.has(c)||Cc(c,!1,i),Cc(c,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[Wl]||(l[Wl]=!0,Cc("selectionchange",!1,l))}}function Wh(i,l,c,p){switch(ph(l)){case 1:var m=p1;break;case 4:m=h1;break;default:m=lc}c=m.bind(null,l,c,i),m=void 0,!Se||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(m=!0),p?m!==void 0?i.addEventListener(l,c,{capture:!0,passive:m}):i.addEventListener(l,c,!0):m!==void 0?i.addEventListener(l,c,{passive:m}):i.addEventListener(l,c,!1)}function Ec(i,l,c,p,m){var v=p;if(!(l&1)&&!(l&2)&&p!==null)e:for(;;){if(p===null)return;var b=p.tag;if(b===3||b===4){var E=p.stateNode.containerInfo;if(E===m||E.nodeType===8&&E.parentNode===m)break;if(b===4)for(b=p.return;b!==null;){var R=b.tag;if((R===3||R===4)&&(R=b.stateNode.containerInfo,R===m||R.nodeType===8&&R.parentNode===m))return;b=b.return}for(;E!==null;){if(b=Io(E),b===null)return;if(R=b.tag,R===5||R===6){p=v=b;continue e}E=E.parentNode}}p=p.return}tr(function(){var F=v,W=Zn(c),K=[];e:{var H=$h.get(i);if(H!==void 0){var te=cc,le=i;switch(i){case"keypress":if(Ll(c)===0)break e;case"keydown":case"keyup":te=N1;break;case"focusin":le="focus",te=pc;break;case"focusout":le="blur",te=pc;break;case"beforeblur":case"afterblur":te=pc;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=gh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=y1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=D1;break;case zh:case Fh:case Lh:te=x1;break;case jh:te=P1;break;case"scroll":te=m1;break;case"wheel":te=z1;break;case"copy":case"cut":case"paste":te=S1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=vh}var ae=(l&4)!==0,ut=!ae&&i==="scroll",_=ae?H!==null?H+"Capture":null:H;ae=[];for(var A=F,z;A!==null;){z=A;var J=z.stateNode;if(z.tag===5&&J!==null&&(z=J,_!==null&&(J=Y(A,_),J!=null&&ae.push(_s(A,J,z)))),ut)break;A=A.return}0<ae.length&&(H=new te(H,le,null,c,W),K.push({event:H,listeners:ae}))}}if(!(l&7)){e:{if(H=i==="mouseover"||i==="pointerover",te=i==="mouseout"||i==="pointerout",H&&c!==br&&(le=c.relatedTarget||c.fromElement)&&(Io(le)||le[Er]))break e;if((te||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,te?(le=c.relatedTarget||c.toElement,te=F,le=le?Io(le):null,le!==null&&(ut=Cr(le),le!==ut||le.tag!==5&&le.tag!==6)&&(le=null)):(te=null,le=F),te!==le)){if(ae=gh,J="onMouseLeave",_="onMouseEnter",A="mouse",(i==="pointerout"||i==="pointerover")&&(ae=vh,J="onPointerLeave",_="onPointerEnter",A="pointer"),ut=te==null?H:xi(te),z=le==null?H:xi(le),H=new ae(J,A+"leave",te,c,W),H.target=ut,H.relatedTarget=z,J=null,Io(W)===F&&(ae=new ae(_,A+"enter",le,c,W),ae.target=z,ae.relatedTarget=ut,J=ae),ut=J,te&&le)t:{for(ae=te,_=le,A=0,z=ae;z;z=vi(z))A++;for(z=0,J=_;J;J=vi(J))z++;for(;0<A-z;)ae=vi(ae),A--;for(;0<z-A;)_=vi(_),z--;for(;A--;){if(ae===_||_!==null&&ae===_.alternate)break t;ae=vi(ae),_=vi(_)}ae=null}else ae=null;te!==null&&Uh(K,H,te,ae,!1),le!==null&&ut!==null&&Uh(K,ut,le,ae,!0)}}e:{if(H=F?xi(F):window,te=H.nodeName&&H.nodeName.toLowerCase(),te==="select"||te==="input"&&H.type==="file")var ce=H1;else if(Ch(H))if(Th)ce=K1;else{ce=U1;var we=W1}else(te=H.nodeName)&&te.toLowerCase()==="input"&&(H.type==="checkbox"||H.type==="radio")&&(ce=q1);if(ce&&(ce=ce(i,F))){Eh(K,ce,c,W);break e}we&&we(i,H,F),i==="focusout"&&(we=H._wrapperState)&&we.controlled&&H.type==="number"&&Le(H,"number",H.value)}switch(we=F?xi(F):window,i){case"focusin":(Ch(we)||we.contentEditable==="true")&&(gi=we,wc=F,Ds=null);break;case"focusout":Ds=wc=gi=null;break;case"mousedown":xc=!0;break;case"contextmenu":case"mouseup":case"dragend":xc=!1,Ph(K,c,W);break;case"selectionchange":if(G1)break;case"keydown":case"keyup":Ph(K,c,W)}var xe;if(mc)e:{switch(i){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else mi?Sh(i,c)&&(Te="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(Te="onCompositionStart");Te&&(wh&&c.locale!=="ko"&&(mi||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&mi&&(xe=hh()):(Jr=W,uc="value"in Jr?Jr.value:Jr.textContent,mi=!0)),we=Ul(F,Te),0<we.length&&(Te=new yh(Te,i,null,c,W),K.push({event:Te,listeners:we}),xe?Te.data=xe:(xe=bh(c),xe!==null&&(Te.data=xe)))),(xe=L1?j1(i,c):$1(i,c))&&(F=Ul(F,"onBeforeInput"),0<F.length&&(W=new yh("onBeforeInput","beforeinput",null,c,W),K.push({event:W,listeners:F}),W.data=xe))}Hh(K,l)})}function _s(i,l,c){return{instance:i,listener:l,currentTarget:c}}function Ul(i,l){for(var c=l+"Capture",p=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=Y(i,c),v!=null&&p.unshift(_s(i,v,m)),v=Y(i,l),v!=null&&p.push(_s(i,v,m))),i=i.return}return p}function vi(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Uh(i,l,c,p,m){for(var v=l._reactName,b=[];c!==null&&c!==p;){var E=c,R=E.alternate,F=E.stateNode;if(R!==null&&R===p)break;E.tag===5&&F!==null&&(E=F,m?(R=Y(c,v),R!=null&&b.unshift(_s(c,R,E))):m||(R=Y(c,v),R!=null&&b.push(_s(c,R,E)))),c=c.return}b.length!==0&&i.push({event:l,listeners:b})}var ek=/\r\n?/g,tk=/\u0000|\uFFFD/g;function qh(i){return(typeof i=="string"?i:""+i).replace(ek,`
`).replace(tk,"")}function ql(i,l,c){if(l=qh(l),qh(i)!==l&&c)throw Error(t(425))}function Kl(){}var Tc=null,Oc=null;function Mc(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var Nc=typeof setTimeout=="function"?setTimeout:void 0,nk=typeof clearTimeout=="function"?clearTimeout:void 0,Kh=typeof Promise=="function"?Promise:void 0,rk=typeof queueMicrotask=="function"?queueMicrotask:typeof Kh<"u"?function(i){return Kh.resolve(null).then(i).catch(ok)}:Nc;function ok(i){setTimeout(function(){throw i})}function Rc(i,l){var c=l,p=0;do{var m=c.nextSibling;if(i.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"){if(p===0){i.removeChild(m),Es(l);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=m}while(c);Es(l)}function Gr(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function Jh(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(l===0)return i;l--}else c==="/$"&&l++}i=i.previousSibling}return null}var wi=Math.random().toString(36).slice(2),rr="__reactFiber$"+wi,zs="__reactProps$"+wi,Er="__reactContainer$"+wi,Ac="__reactEvents$"+wi,ik="__reactListeners$"+wi,sk="__reactHandles$"+wi;function Io(i){var l=i[rr];if(l)return l;for(var c=i.parentNode;c;){if(l=c[Er]||c[rr]){if(c=l.alternate,l.child!==null||c!==null&&c.child!==null)for(i=Jh(i);i!==null;){if(c=i[rr])return c;i=Jh(i)}return l}i=c,c=i.parentNode}return null}function Fs(i){return i=i[rr]||i[Er],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function xi(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Jl(i){return i[zs]||null}var Dc=[],ki=-1;function Yr(i){return{current:i}}function Ye(i){0>ki||(i.current=Dc[ki],Dc[ki]=null,ki--)}function qe(i,l){ki++,Dc[ki]=i.current,i.current=l}var Xr={},_t=Yr(Xr),Zt=Yr(!1),Po=Xr;function Si(i,l){var c=i.type.contextTypes;if(!c)return Xr;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===l)return p.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in c)m[v]=l[v];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=m),m}function en(i){return i=i.childContextTypes,i!=null}function Ql(){Ye(Zt),Ye(_t)}function Qh(i,l,c){if(_t.current!==Xr)throw Error(t(168));qe(_t,l),qe(Zt,c)}function Gh(i,l,c){var p=i.stateNode;if(l=l.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var m in p)if(!(m in l))throw Error(t(108,Oe(i)||"Unknown",m));return j({},c,p)}function Gl(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Xr,Po=_t.current,qe(_t,i),qe(Zt,Zt.current),!0}function Yh(i,l,c){var p=i.stateNode;if(!p)throw Error(t(169));c?(i=Gh(i,l,Po),p.__reactInternalMemoizedMergedChildContext=i,Ye(Zt),Ye(_t),qe(_t,i)):Ye(Zt),qe(Zt,c)}var Tr=null,Yl=!1,Ic=!1;function Xh(i){Tr===null?Tr=[i]:Tr.push(i)}function lk(i){Yl=!0,Xh(i)}function Zr(){if(!Ic&&Tr!==null){Ic=!0;var i=0,l=Be;try{var c=Tr;for(Be=1;i<c.length;i++){var p=c[i];do p=p(!0);while(p!==null)}Tr=null,Yl=!1}catch(m){throw Tr!==null&&(Tr=Tr.slice(i+1)),ys(Do,Zr),m}finally{Be=l,Ic=!1}}return null}var bi=[],Ci=0,Xl=null,Zl=0,Cn=[],En=0,_o=null,Or=1,Mr="";function zo(i,l){bi[Ci++]=Zl,bi[Ci++]=Xl,Xl=i,Zl=l}function Zh(i,l,c){Cn[En++]=Or,Cn[En++]=Mr,Cn[En++]=_o,_o=i;var p=Or;i=Mr;var m=32-$n(p)-1;p&=~(1<<m),c+=1;var v=32-$n(l)+m;if(30<v){var b=m-m%5;v=(p&(1<<b)-1).toString(32),p>>=b,m-=b,Or=1<<32-$n(l)+m|c<<m|p,Mr=v+i}else Or=1<<v|c<<m|p,Mr=i}function Pc(i){i.return!==null&&(zo(i,1),Zh(i,1,0))}function _c(i){for(;i===Xl;)Xl=bi[--Ci],bi[Ci]=null,Zl=bi[--Ci],bi[Ci]=null;for(;i===_o;)_o=Cn[--En],Cn[En]=null,Mr=Cn[--En],Cn[En]=null,Or=Cn[--En],Cn[En]=null}var dn=null,pn=null,Xe=!1,Vn=null;function em(i,l){var c=Nn(5,null,null,0);c.elementType="DELETED",c.stateNode=l,c.return=i,l=i.deletions,l===null?(i.deletions=[c],i.flags|=16):l.push(c)}function tm(i,l){switch(i.tag){case 5:var c=i.type;return l=l.nodeType!==1||c.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,dn=i,pn=Gr(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,dn=i,pn=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(c=_o!==null?{id:Or,overflow:Mr}:null,i.memoizedState={dehydrated:l,treeContext:c,retryLane:1073741824},c=Nn(18,null,null,0),c.stateNode=l,c.return=i,i.child=c,dn=i,pn=null,!0):!1;default:return!1}}function zc(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Fc(i){if(Xe){var l=pn;if(l){var c=l;if(!tm(i,l)){if(zc(i))throw Error(t(418));l=Gr(c.nextSibling);var p=dn;l&&tm(i,l)?em(p,c):(i.flags=i.flags&-4097|2,Xe=!1,dn=i)}}else{if(zc(i))throw Error(t(418));i.flags=i.flags&-4097|2,Xe=!1,dn=i}}}function nm(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;dn=i}function ea(i){if(i!==dn)return!1;if(!Xe)return nm(i),Xe=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!Mc(i.type,i.memoizedProps)),l&&(l=pn)){if(zc(i))throw rm(),Error(t(418));for(;l;)em(i,l),l=Gr(l.nextSibling)}if(nm(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(l===0){pn=Gr(i.nextSibling);break e}l--}else c!=="$"&&c!=="$!"&&c!=="$?"||l++}i=i.nextSibling}pn=null}}else pn=dn?Gr(i.stateNode.nextSibling):null;return!0}function rm(){for(var i=pn;i;)i=Gr(i.nextSibling)}function Ei(){pn=dn=null,Xe=!1}function Lc(i){Vn===null?Vn=[i]:Vn.push(i)}var ak=I.ReactCurrentBatchConfig;function Ls(i,l,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var p=c.stateNode}if(!p)throw Error(t(147,i));var m=p,v=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===v?l.ref:(l=function(b){var E=m.refs;b===null?delete E[v]:E[v]=b},l._stringRef=v,l)}if(typeof i!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,i))}return i}function ta(i,l){throw i=Object.prototype.toString.call(l),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function om(i){var l=i._init;return l(i._payload)}function im(i){function l(_,A){if(i){var z=_.deletions;z===null?(_.deletions=[A],_.flags|=16):z.push(A)}}function c(_,A){if(!i)return null;for(;A!==null;)l(_,A),A=A.sibling;return null}function p(_,A){for(_=new Map;A!==null;)A.key!==null?_.set(A.key,A):_.set(A.index,A),A=A.sibling;return _}function m(_,A){return _=lo(_,A),_.index=0,_.sibling=null,_}function v(_,A,z){return _.index=z,i?(z=_.alternate,z!==null?(z=z.index,z<A?(_.flags|=2,A):z):(_.flags|=2,A)):(_.flags|=1048576,A)}function b(_){return i&&_.alternate===null&&(_.flags|=2),_}function E(_,A,z,J){return A===null||A.tag!==6?(A=Rf(z,_.mode,J),A.return=_,A):(A=m(A,z),A.return=_,A)}function R(_,A,z,J){var ce=z.type;return ce===U?W(_,A,z.props.children,J,z.key):A!==null&&(A.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===Z&&om(ce)===A.type)?(J=m(A,z.props),J.ref=Ls(_,A,z),J.return=_,J):(J=Ea(z.type,z.key,z.props,null,_.mode,J),J.ref=Ls(_,A,z),J.return=_,J)}function F(_,A,z,J){return A===null||A.tag!==4||A.stateNode.containerInfo!==z.containerInfo||A.stateNode.implementation!==z.implementation?(A=Af(z,_.mode,J),A.return=_,A):(A=m(A,z.children||[]),A.return=_,A)}function W(_,A,z,J,ce){return A===null||A.tag!==7?(A=Wo(z,_.mode,J,ce),A.return=_,A):(A=m(A,z),A.return=_,A)}function K(_,A,z){if(typeof A=="string"&&A!==""||typeof A=="number")return A=Rf(""+A,_.mode,z),A.return=_,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case P:return z=Ea(A.type,A.key,A.props,null,_.mode,z),z.ref=Ls(_,null,A),z.return=_,z;case B:return A=Af(A,_.mode,z),A.return=_,A;case Z:var J=A._init;return K(_,J(A._payload),z)}if(Tt(A)||V(A))return A=Wo(A,_.mode,z,null),A.return=_,A;ta(_,A)}return null}function H(_,A,z,J){var ce=A!==null?A.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ce!==null?null:E(_,A,""+z,J);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case P:return z.key===ce?R(_,A,z,J):null;case B:return z.key===ce?F(_,A,z,J):null;case Z:return ce=z._init,H(_,A,ce(z._payload),J)}if(Tt(z)||V(z))return ce!==null?null:W(_,A,z,J,null);ta(_,z)}return null}function te(_,A,z,J,ce){if(typeof J=="string"&&J!==""||typeof J=="number")return _=_.get(z)||null,E(A,_,""+J,ce);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case P:return _=_.get(J.key===null?z:J.key)||null,R(A,_,J,ce);case B:return _=_.get(J.key===null?z:J.key)||null,F(A,_,J,ce);case Z:var we=J._init;return te(_,A,z,we(J._payload),ce)}if(Tt(J)||V(J))return _=_.get(z)||null,W(A,_,J,ce,null);ta(A,J)}return null}function le(_,A,z,J){for(var ce=null,we=null,xe=A,Te=A=0,kt=null;xe!==null&&Te<z.length;Te++){xe.index>Te?(kt=xe,xe=null):kt=xe.sibling;var $e=H(_,xe,z[Te],J);if($e===null){xe===null&&(xe=kt);break}i&&xe&&$e.alternate===null&&l(_,xe),A=v($e,A,Te),we===null?ce=$e:we.sibling=$e,we=$e,xe=kt}if(Te===z.length)return c(_,xe),Xe&&zo(_,Te),ce;if(xe===null){for(;Te<z.length;Te++)xe=K(_,z[Te],J),xe!==null&&(A=v(xe,A,Te),we===null?ce=xe:we.sibling=xe,we=xe);return Xe&&zo(_,Te),ce}for(xe=p(_,xe);Te<z.length;Te++)kt=te(xe,_,Te,z[Te],J),kt!==null&&(i&&kt.alternate!==null&&xe.delete(kt.key===null?Te:kt.key),A=v(kt,A,Te),we===null?ce=kt:we.sibling=kt,we=kt);return i&&xe.forEach(function(ao){return l(_,ao)}),Xe&&zo(_,Te),ce}function ae(_,A,z,J){var ce=V(z);if(typeof ce!="function")throw Error(t(150));if(z=ce.call(z),z==null)throw Error(t(151));for(var we=ce=null,xe=A,Te=A=0,kt=null,$e=z.next();xe!==null&&!$e.done;Te++,$e=z.next()){xe.index>Te?(kt=xe,xe=null):kt=xe.sibling;var ao=H(_,xe,$e.value,J);if(ao===null){xe===null&&(xe=kt);break}i&&xe&&ao.alternate===null&&l(_,xe),A=v(ao,A,Te),we===null?ce=ao:we.sibling=ao,we=ao,xe=kt}if($e.done)return c(_,xe),Xe&&zo(_,Te),ce;if(xe===null){for(;!$e.done;Te++,$e=z.next())$e=K(_,$e.value,J),$e!==null&&(A=v($e,A,Te),we===null?ce=$e:we.sibling=$e,we=$e);return Xe&&zo(_,Te),ce}for(xe=p(_,xe);!$e.done;Te++,$e=z.next())$e=te(xe,_,Te,$e.value,J),$e!==null&&(i&&$e.alternate!==null&&xe.delete($e.key===null?Te:$e.key),A=v($e,A,Te),we===null?ce=$e:we.sibling=$e,we=$e);return i&&xe.forEach(function(Bk){return l(_,Bk)}),Xe&&zo(_,Te),ce}function ut(_,A,z,J){if(typeof z=="object"&&z!==null&&z.type===U&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case P:e:{for(var ce=z.key,we=A;we!==null;){if(we.key===ce){if(ce=z.type,ce===U){if(we.tag===7){c(_,we.sibling),A=m(we,z.props.children),A.return=_,_=A;break e}}else if(we.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===Z&&om(ce)===we.type){c(_,we.sibling),A=m(we,z.props),A.ref=Ls(_,we,z),A.return=_,_=A;break e}c(_,we);break}else l(_,we);we=we.sibling}z.type===U?(A=Wo(z.props.children,_.mode,J,z.key),A.return=_,_=A):(J=Ea(z.type,z.key,z.props,null,_.mode,J),J.ref=Ls(_,A,z),J.return=_,_=J)}return b(_);case B:e:{for(we=z.key;A!==null;){if(A.key===we)if(A.tag===4&&A.stateNode.containerInfo===z.containerInfo&&A.stateNode.implementation===z.implementation){c(_,A.sibling),A=m(A,z.children||[]),A.return=_,_=A;break e}else{c(_,A);break}else l(_,A);A=A.sibling}A=Af(z,_.mode,J),A.return=_,_=A}return b(_);case Z:return we=z._init,ut(_,A,we(z._payload),J)}if(Tt(z))return le(_,A,z,J);if(V(z))return ae(_,A,z,J);ta(_,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,A!==null&&A.tag===6?(c(_,A.sibling),A=m(A,z),A.return=_,_=A):(c(_,A),A=Rf(z,_.mode,J),A.return=_,_=A),b(_)):c(_,A)}return ut}var Ti=im(!0),sm=im(!1),na=Yr(null),ra=null,Oi=null,jc=null;function $c(){jc=Oi=ra=null}function Bc(i){var l=na.current;Ye(na),i._currentValue=l}function Vc(i,l,c){for(;i!==null;){var p=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),i===c)break;i=i.return}}function Mi(i,l){ra=i,jc=Oi=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&l&&(tn=!0),i.firstContext=null)}function Tn(i){var l=i._currentValue;if(jc!==i)if(i={context:i,memoizedValue:l,next:null},Oi===null){if(ra===null)throw Error(t(308));Oi=i,ra.dependencies={lanes:0,firstContext:i}}else Oi=Oi.next=i;return l}var Fo=null;function Hc(i){Fo===null?Fo=[i]:Fo.push(i)}function lm(i,l,c,p){var m=l.interleaved;return m===null?(c.next=c,Hc(l)):(c.next=m.next,m.next=c),l.interleaved=c,Nr(i,p)}function Nr(i,l){i.lanes|=l;var c=i.alternate;for(c!==null&&(c.lanes|=l),c=i,i=i.return;i!==null;)i.childLanes|=l,c=i.alternate,c!==null&&(c.childLanes|=l),c=i,i=i.return;return c.tag===3?c.stateNode:null}var eo=!1;function Wc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function am(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Rr(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function to(i,l,c){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,ze&2){var m=p.pending;return m===null?l.next=l:(l.next=m.next,m.next=l),p.pending=l,Nr(i,c)}return m=p.interleaved,m===null?(l.next=l,Hc(p)):(l.next=m.next,m.next=l),p.interleaved=l,Nr(i,c)}function oa(i,l,c){if(l=l.updateQueue,l!==null&&(l=l.shared,(c&4194240)!==0)){var p=l.lanes;p&=i.pendingLanes,c|=p,l.lanes=c,oc(i,c)}}function um(i,l){var c=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var m=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var b={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};v===null?m=v=b:v=v.next=b,c=c.next}while(c!==null);v===null?m=v=l:v=v.next=l}else m=v=l;c={baseState:p.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:p.shared,effects:p.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=l:i.next=l,c.lastBaseUpdate=l}function ia(i,l,c,p){var m=i.updateQueue;eo=!1;var v=m.firstBaseUpdate,b=m.lastBaseUpdate,E=m.shared.pending;if(E!==null){m.shared.pending=null;var R=E,F=R.next;R.next=null,b===null?v=F:b.next=F,b=R;var W=i.alternate;W!==null&&(W=W.updateQueue,E=W.lastBaseUpdate,E!==b&&(E===null?W.firstBaseUpdate=F:E.next=F,W.lastBaseUpdate=R))}if(v!==null){var K=m.baseState;b=0,W=F=R=null,E=v;do{var H=E.lane,te=E.eventTime;if((p&H)===H){W!==null&&(W=W.next={eventTime:te,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var le=i,ae=E;switch(H=l,te=c,ae.tag){case 1:if(le=ae.payload,typeof le=="function"){K=le.call(te,K,H);break e}K=le;break e;case 3:le.flags=le.flags&-65537|128;case 0:if(le=ae.payload,H=typeof le=="function"?le.call(te,K,H):le,H==null)break e;K=j({},K,H);break e;case 2:eo=!0}}E.callback!==null&&E.lane!==0&&(i.flags|=64,H=m.effects,H===null?m.effects=[E]:H.push(E))}else te={eventTime:te,lane:H,tag:E.tag,payload:E.payload,callback:E.callback,next:null},W===null?(F=W=te,R=K):W=W.next=te,b|=H;if(E=E.next,E===null){if(E=m.shared.pending,E===null)break;H=E,E=H.next,H.next=null,m.lastBaseUpdate=H,m.shared.pending=null}}while(!0);if(W===null&&(R=K),m.baseState=R,m.firstBaseUpdate=F,m.lastBaseUpdate=W,l=m.shared.interleaved,l!==null){m=l;do b|=m.lane,m=m.next;while(m!==l)}else v===null&&(m.shared.lanes=0);$o|=b,i.lanes=b,i.memoizedState=K}}function cm(i,l,c){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var p=i[l],m=p.callback;if(m!==null){if(p.callback=null,p=c,typeof m!="function")throw Error(t(191,m));m.call(p)}}}var js={},or=Yr(js),$s=Yr(js),Bs=Yr(js);function Lo(i){if(i===js)throw Error(t(174));return i}function Uc(i,l){switch(qe(Bs,l),qe($s,i),qe(or,js),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:vr(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=vr(l,i)}Ye(or),qe(or,l)}function Ni(){Ye(or),Ye($s),Ye(Bs)}function fm(i){Lo(Bs.current);var l=Lo(or.current),c=vr(l,i.type);l!==c&&(qe($s,i),qe(or,c))}function qc(i){$s.current===i&&(Ye(or),Ye($s))}var tt=Yr(0);function sa(i){for(var l=i;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Kc=[];function Jc(){for(var i=0;i<Kc.length;i++)Kc[i]._workInProgressVersionPrimary=null;Kc.length=0}var la=I.ReactCurrentDispatcher,Qc=I.ReactCurrentBatchConfig,jo=0,nt=null,mt=null,wt=null,aa=!1,Vs=!1,Hs=0,uk=0;function zt(){throw Error(t(321))}function Gc(i,l){if(l===null)return!1;for(var c=0;c<l.length&&c<i.length;c++)if(!Bn(i[c],l[c]))return!1;return!0}function Yc(i,l,c,p,m,v){if(jo=v,nt=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,la.current=i===null||i.memoizedState===null?pk:hk,i=c(p,m),Vs){v=0;do{if(Vs=!1,Hs=0,25<=v)throw Error(t(301));v+=1,wt=mt=null,l.updateQueue=null,la.current=mk,i=c(p,m)}while(Vs)}if(la.current=fa,l=mt!==null&&mt.next!==null,jo=0,wt=mt=nt=null,aa=!1,l)throw Error(t(300));return i}function Xc(){var i=Hs!==0;return Hs=0,i}function ir(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?nt.memoizedState=wt=i:wt=wt.next=i,wt}function On(){if(mt===null){var i=nt.alternate;i=i!==null?i.memoizedState:null}else i=mt.next;var l=wt===null?nt.memoizedState:wt.next;if(l!==null)wt=l,mt=i;else{if(i===null)throw Error(t(310));mt=i,i={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},wt===null?nt.memoizedState=wt=i:wt=wt.next=i}return wt}function Ws(i,l){return typeof l=="function"?l(i):l}function Zc(i){var l=On(),c=l.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var p=mt,m=p.baseQueue,v=c.pending;if(v!==null){if(m!==null){var b=m.next;m.next=v.next,v.next=b}p.baseQueue=m=v,c.pending=null}if(m!==null){v=m.next,p=p.baseState;var E=b=null,R=null,F=v;do{var W=F.lane;if((jo&W)===W)R!==null&&(R=R.next={lane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),p=F.hasEagerState?F.eagerState:i(p,F.action);else{var K={lane:W,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null};R===null?(E=R=K,b=p):R=R.next=K,nt.lanes|=W,$o|=W}F=F.next}while(F!==null&&F!==v);R===null?b=p:R.next=E,Bn(p,l.memoizedState)||(tn=!0),l.memoizedState=p,l.baseState=b,l.baseQueue=R,c.lastRenderedState=p}if(i=c.interleaved,i!==null){m=i;do v=m.lane,nt.lanes|=v,$o|=v,m=m.next;while(m!==i)}else m===null&&(c.lanes=0);return[l.memoizedState,c.dispatch]}function ef(i){var l=On(),c=l.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var p=c.dispatch,m=c.pending,v=l.memoizedState;if(m!==null){c.pending=null;var b=m=m.next;do v=i(v,b.action),b=b.next;while(b!==m);Bn(v,l.memoizedState)||(tn=!0),l.memoizedState=v,l.baseQueue===null&&(l.baseState=v),c.lastRenderedState=v}return[v,p]}function dm(){}function pm(i,l){var c=nt,p=On(),m=l(),v=!Bn(p.memoizedState,m);if(v&&(p.memoizedState=m,tn=!0),p=p.queue,tf(gm.bind(null,c,p,i),[i]),p.getSnapshot!==l||v||wt!==null&&wt.memoizedState.tag&1){if(c.flags|=2048,Us(9,mm.bind(null,c,p,m,l),void 0,null),xt===null)throw Error(t(349));jo&30||hm(c,l,m)}return m}function hm(i,l,c){i.flags|=16384,i={getSnapshot:l,value:c},l=nt.updateQueue,l===null?(l={lastEffect:null,stores:null},nt.updateQueue=l,l.stores=[i]):(c=l.stores,c===null?l.stores=[i]:c.push(i))}function mm(i,l,c,p){l.value=c,l.getSnapshot=p,ym(l)&&vm(i)}function gm(i,l,c){return c(function(){ym(l)&&vm(i)})}function ym(i){var l=i.getSnapshot;i=i.value;try{var c=l();return!Bn(i,c)}catch{return!0}}function vm(i){var l=Nr(i,1);l!==null&&qn(l,i,1,-1)}function wm(i){var l=ir();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:i},l.queue=i,i=i.dispatch=dk.bind(null,nt,i),[l.memoizedState,i]}function Us(i,l,c,p){return i={tag:i,create:l,destroy:c,deps:p,next:null},l=nt.updateQueue,l===null?(l={lastEffect:null,stores:null},nt.updateQueue=l,l.lastEffect=i.next=i):(c=l.lastEffect,c===null?l.lastEffect=i.next=i:(p=c.next,c.next=i,i.next=p,l.lastEffect=i)),i}function xm(){return On().memoizedState}function ua(i,l,c,p){var m=ir();nt.flags|=i,m.memoizedState=Us(1|l,c,void 0,p===void 0?null:p)}function ca(i,l,c,p){var m=On();p=p===void 0?null:p;var v=void 0;if(mt!==null){var b=mt.memoizedState;if(v=b.destroy,p!==null&&Gc(p,b.deps)){m.memoizedState=Us(l,c,v,p);return}}nt.flags|=i,m.memoizedState=Us(1|l,c,v,p)}function km(i,l){return ua(8390656,8,i,l)}function tf(i,l){return ca(2048,8,i,l)}function Sm(i,l){return ca(4,2,i,l)}function bm(i,l){return ca(4,4,i,l)}function Cm(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function Em(i,l,c){return c=c!=null?c.concat([i]):null,ca(4,4,Cm.bind(null,l,i),c)}function nf(){}function Tm(i,l){var c=On();l=l===void 0?null:l;var p=c.memoizedState;return p!==null&&l!==null&&Gc(l,p[1])?p[0]:(c.memoizedState=[i,l],i)}function Om(i,l){var c=On();l=l===void 0?null:l;var p=c.memoizedState;return p!==null&&l!==null&&Gc(l,p[1])?p[0]:(i=i(),c.memoizedState=[i,l],i)}function Mm(i,l,c){return jo&21?(Bn(c,l)||(c=oh(),nt.lanes|=c,$o|=c,i.baseState=!0),l):(i.baseState&&(i.baseState=!1,tn=!0),i.memoizedState=c)}function ck(i,l){var c=Be;Be=c!==0&&4>c?c:4,i(!0);var p=Qc.transition;Qc.transition={};try{i(!1),l()}finally{Be=c,Qc.transition=p}}function Nm(){return On().memoizedState}function fk(i,l,c){var p=io(i);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},Rm(i))Am(l,c);else if(c=lm(i,l,c,p),c!==null){var m=qt();qn(c,i,p,m),Dm(c,l,p)}}function dk(i,l,c){var p=io(i),m={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(Rm(i))Am(l,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=l.lastRenderedReducer,v!==null))try{var b=l.lastRenderedState,E=v(b,c);if(m.hasEagerState=!0,m.eagerState=E,Bn(E,b)){var R=l.interleaved;R===null?(m.next=m,Hc(l)):(m.next=R.next,R.next=m),l.interleaved=m;return}}catch{}finally{}c=lm(i,l,m,p),c!==null&&(m=qt(),qn(c,i,p,m),Dm(c,l,p))}}function Rm(i){var l=i.alternate;return i===nt||l!==null&&l===nt}function Am(i,l){Vs=aa=!0;var c=i.pending;c===null?l.next=l:(l.next=c.next,c.next=l),i.pending=l}function Dm(i,l,c){if(c&4194240){var p=l.lanes;p&=i.pendingLanes,c|=p,l.lanes=c,oc(i,c)}}var fa={readContext:Tn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},pk={readContext:Tn,useCallback:function(i,l){return ir().memoizedState=[i,l===void 0?null:l],i},useContext:Tn,useEffect:km,useImperativeHandle:function(i,l,c){return c=c!=null?c.concat([i]):null,ua(4194308,4,Cm.bind(null,l,i),c)},useLayoutEffect:function(i,l){return ua(4194308,4,i,l)},useInsertionEffect:function(i,l){return ua(4,2,i,l)},useMemo:function(i,l){var c=ir();return l=l===void 0?null:l,i=i(),c.memoizedState=[i,l],i},useReducer:function(i,l,c){var p=ir();return l=c!==void 0?c(l):l,p.memoizedState=p.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},p.queue=i,i=i.dispatch=fk.bind(null,nt,i),[p.memoizedState,i]},useRef:function(i){var l=ir();return i={current:i},l.memoizedState=i},useState:wm,useDebugValue:nf,useDeferredValue:function(i){return ir().memoizedState=i},useTransition:function(){var i=wm(!1),l=i[0];return i=ck.bind(null,i[1]),ir().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,c){var p=nt,m=ir();if(Xe){if(c===void 0)throw Error(t(407));c=c()}else{if(c=l(),xt===null)throw Error(t(349));jo&30||hm(p,l,c)}m.memoizedState=c;var v={value:c,getSnapshot:l};return m.queue=v,km(gm.bind(null,p,v,i),[i]),p.flags|=2048,Us(9,mm.bind(null,p,v,c,l),void 0,null),c},useId:function(){var i=ir(),l=xt.identifierPrefix;if(Xe){var c=Mr,p=Or;c=(p&~(1<<32-$n(p)-1)).toString(32)+c,l=":"+l+"R"+c,c=Hs++,0<c&&(l+="H"+c.toString(32)),l+=":"}else c=uk++,l=":"+l+"r"+c.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},hk={readContext:Tn,useCallback:Tm,useContext:Tn,useEffect:tf,useImperativeHandle:Em,useInsertionEffect:Sm,useLayoutEffect:bm,useMemo:Om,useReducer:Zc,useRef:xm,useState:function(){return Zc(Ws)},useDebugValue:nf,useDeferredValue:function(i){var l=On();return Mm(l,mt.memoizedState,i)},useTransition:function(){var i=Zc(Ws)[0],l=On().memoizedState;return[i,l]},useMutableSource:dm,useSyncExternalStore:pm,useId:Nm,unstable_isNewReconciler:!1},mk={readContext:Tn,useCallback:Tm,useContext:Tn,useEffect:tf,useImperativeHandle:Em,useInsertionEffect:Sm,useLayoutEffect:bm,useMemo:Om,useReducer:ef,useRef:xm,useState:function(){return ef(Ws)},useDebugValue:nf,useDeferredValue:function(i){var l=On();return mt===null?l.memoizedState=i:Mm(l,mt.memoizedState,i)},useTransition:function(){var i=ef(Ws)[0],l=On().memoizedState;return[i,l]},useMutableSource:dm,useSyncExternalStore:pm,useId:Nm,unstable_isNewReconciler:!1};function Hn(i,l){if(i&&i.defaultProps){l=j({},l),i=i.defaultProps;for(var c in i)l[c]===void 0&&(l[c]=i[c]);return l}return l}function rf(i,l,c,p){l=i.memoizedState,c=c(p,l),c=c==null?l:j({},l,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var da={isMounted:function(i){return(i=i._reactInternals)?Cr(i)===i:!1},enqueueSetState:function(i,l,c){i=i._reactInternals;var p=qt(),m=io(i),v=Rr(p,m);v.payload=l,c!=null&&(v.callback=c),l=to(i,v,m),l!==null&&(qn(l,i,m,p),oa(l,i,m))},enqueueReplaceState:function(i,l,c){i=i._reactInternals;var p=qt(),m=io(i),v=Rr(p,m);v.tag=1,v.payload=l,c!=null&&(v.callback=c),l=to(i,v,m),l!==null&&(qn(l,i,m,p),oa(l,i,m))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var c=qt(),p=io(i),m=Rr(c,p);m.tag=2,l!=null&&(m.callback=l),l=to(i,m,p),l!==null&&(qn(l,i,p,c),oa(l,i,p))}};function Im(i,l,c,p,m,v,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,v,b):l.prototype&&l.prototype.isPureReactComponent?!As(c,p)||!As(m,v):!0}function Pm(i,l,c){var p=!1,m=Xr,v=l.contextType;return typeof v=="object"&&v!==null?v=Tn(v):(m=en(l)?Po:_t.current,p=l.contextTypes,v=(p=p!=null)?Si(i,m):Xr),l=new l(c,v),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=da,i.stateNode=l,l._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),l}function _m(i,l,c,p){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,p),l.state!==i&&da.enqueueReplaceState(l,l.state,null)}function of(i,l,c,p){var m=i.stateNode;m.props=c,m.state=i.memoizedState,m.refs={},Wc(i);var v=l.contextType;typeof v=="object"&&v!==null?m.context=Tn(v):(v=en(l)?Po:_t.current,m.context=Si(i,v)),m.state=i.memoizedState,v=l.getDerivedStateFromProps,typeof v=="function"&&(rf(i,l,v,c),m.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(l=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),l!==m.state&&da.enqueueReplaceState(m,m.state,null),ia(i,c,m,p),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Ri(i,l){try{var c="",p=l;do c+=Me(p),p=p.return;while(p);var m=c}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:l,stack:m,digest:null}}function sf(i,l,c){return{value:i,source:null,stack:c??null,digest:l??null}}function lf(i,l){try{console.error(l.value)}catch(c){setTimeout(function(){throw c})}}var gk=typeof WeakMap=="function"?WeakMap:Map;function zm(i,l,c){c=Rr(-1,c),c.tag=3,c.payload={element:null};var p=l.value;return c.callback=function(){wa||(wa=!0,Sf=p),lf(i,l)},c}function Fm(i,l,c){c=Rr(-1,c),c.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var m=l.value;c.payload=function(){return p(m)},c.callback=function(){lf(i,l)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(c.callback=function(){lf(i,l),typeof p!="function"&&(ro===null?ro=new Set([this]):ro.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})}),c}function Lm(i,l,c){var p=i.pingCache;if(p===null){p=i.pingCache=new gk;var m=new Set;p.set(l,m)}else m=p.get(l),m===void 0&&(m=new Set,p.set(l,m));m.has(c)||(m.add(c),i=Rk.bind(null,i,l,c),l.then(i,i))}function jm(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function $m(i,l,c,p,m){return i.mode&1?(i.flags|=65536,i.lanes=m,i):(i===l?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(l=Rr(-1,1),l.tag=2,to(c,l,1))),c.lanes|=1),i)}var yk=I.ReactCurrentOwner,tn=!1;function Ut(i,l,c,p){l.child=i===null?sm(l,null,c,p):Ti(l,i.child,c,p)}function Bm(i,l,c,p,m){c=c.render;var v=l.ref;return Mi(l,m),p=Yc(i,l,c,p,v,m),c=Xc(),i!==null&&!tn?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~m,Ar(i,l,m)):(Xe&&c&&Pc(l),l.flags|=1,Ut(i,l,p,m),l.child)}function Vm(i,l,c,p,m){if(i===null){var v=c.type;return typeof v=="function"&&!Nf(v)&&v.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(l.tag=15,l.type=v,Hm(i,l,v,p,m)):(i=Ea(c.type,null,p,l,l.mode,m),i.ref=l.ref,i.return=l,l.child=i)}if(v=i.child,!(i.lanes&m)){var b=v.memoizedProps;if(c=c.compare,c=c!==null?c:As,c(b,p)&&i.ref===l.ref)return Ar(i,l,m)}return l.flags|=1,i=lo(v,p),i.ref=l.ref,i.return=l,l.child=i}function Hm(i,l,c,p,m){if(i!==null){var v=i.memoizedProps;if(As(v,p)&&i.ref===l.ref)if(tn=!1,l.pendingProps=p=v,(i.lanes&m)!==0)i.flags&131072&&(tn=!0);else return l.lanes=i.lanes,Ar(i,l,m)}return af(i,l,c,p,m)}function Wm(i,l,c){var p=l.pendingProps,m=p.children,v=i!==null?i.memoizedState:null;if(p.mode==="hidden")if(!(l.mode&1))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Di,hn),hn|=c;else{if(!(c&1073741824))return i=v!==null?v.baseLanes|c:c,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,qe(Di,hn),hn|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=v!==null?v.baseLanes:c,qe(Di,hn),hn|=p}else v!==null?(p=v.baseLanes|c,l.memoizedState=null):p=c,qe(Di,hn),hn|=p;return Ut(i,l,m,c),l.child}function Um(i,l){var c=l.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(l.flags|=512,l.flags|=2097152)}function af(i,l,c,p,m){var v=en(c)?Po:_t.current;return v=Si(l,v),Mi(l,m),c=Yc(i,l,c,p,v,m),p=Xc(),i!==null&&!tn?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~m,Ar(i,l,m)):(Xe&&p&&Pc(l),l.flags|=1,Ut(i,l,c,m),l.child)}function qm(i,l,c,p,m){if(en(c)){var v=!0;Gl(l)}else v=!1;if(Mi(l,m),l.stateNode===null)ha(i,l),Pm(l,c,p),of(l,c,p,m),p=!0;else if(i===null){var b=l.stateNode,E=l.memoizedProps;b.props=E;var R=b.context,F=c.contextType;typeof F=="object"&&F!==null?F=Tn(F):(F=en(c)?Po:_t.current,F=Si(l,F));var W=c.getDerivedStateFromProps,K=typeof W=="function"||typeof b.getSnapshotBeforeUpdate=="function";K||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E!==p||R!==F)&&_m(l,b,p,F),eo=!1;var H=l.memoizedState;b.state=H,ia(l,p,b,m),R=l.memoizedState,E!==p||H!==R||Zt.current||eo?(typeof W=="function"&&(rf(l,c,W,p),R=l.memoizedState),(E=eo||Im(l,c,E,p,H,R,F))?(K||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(l.flags|=4194308)):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=R),b.props=p,b.state=R,b.context=F,p=E):(typeof b.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{b=l.stateNode,am(i,l),E=l.memoizedProps,F=l.type===l.elementType?E:Hn(l.type,E),b.props=F,K=l.pendingProps,H=b.context,R=c.contextType,typeof R=="object"&&R!==null?R=Tn(R):(R=en(c)?Po:_t.current,R=Si(l,R));var te=c.getDerivedStateFromProps;(W=typeof te=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E!==K||H!==R)&&_m(l,b,p,R),eo=!1,H=l.memoizedState,b.state=H,ia(l,p,b,m);var le=l.memoizedState;E!==K||H!==le||Zt.current||eo?(typeof te=="function"&&(rf(l,c,te,p),le=l.memoizedState),(F=eo||Im(l,c,F,p,H,le,R)||!1)?(W||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(p,le,R),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(p,le,R)),typeof b.componentDidUpdate=="function"&&(l.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof b.componentDidUpdate!="function"||E===i.memoizedProps&&H===i.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&H===i.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=le),b.props=p,b.state=le,b.context=R,p=F):(typeof b.componentDidUpdate!="function"||E===i.memoizedProps&&H===i.memoizedState||(l.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&H===i.memoizedState||(l.flags|=1024),p=!1)}return uf(i,l,c,p,v,m)}function uf(i,l,c,p,m,v){Um(i,l);var b=(l.flags&128)!==0;if(!p&&!b)return m&&Yh(l,c,!1),Ar(i,l,v);p=l.stateNode,yk.current=l;var E=b&&typeof c.getDerivedStateFromError!="function"?null:p.render();return l.flags|=1,i!==null&&b?(l.child=Ti(l,i.child,null,v),l.child=Ti(l,null,E,v)):Ut(i,l,E,v),l.memoizedState=p.state,m&&Yh(l,c,!0),l.child}function Km(i){var l=i.stateNode;l.pendingContext?Qh(i,l.pendingContext,l.pendingContext!==l.context):l.context&&Qh(i,l.context,!1),Uc(i,l.containerInfo)}function Jm(i,l,c,p,m){return Ei(),Lc(m),l.flags|=256,Ut(i,l,c,p),l.child}var cf={dehydrated:null,treeContext:null,retryLane:0};function ff(i){return{baseLanes:i,cachePool:null,transitions:null}}function Qm(i,l,c){var p=l.pendingProps,m=tt.current,v=!1,b=(l.flags&128)!==0,E;if((E=b)||(E=i!==null&&i.memoizedState===null?!1:(m&2)!==0),E?(v=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),qe(tt,m&1),i===null)return Fc(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(l.mode&1?i.data==="$!"?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(b=p.children,i=p.fallback,v?(p=l.mode,v=l.child,b={mode:"hidden",children:b},!(p&1)&&v!==null?(v.childLanes=0,v.pendingProps=b):v=Ta(b,p,0,null),i=Wo(i,p,c,null),v.return=l,i.return=l,v.sibling=i,l.child=v,l.child.memoizedState=ff(c),l.memoizedState=cf,i):df(l,b));if(m=i.memoizedState,m!==null&&(E=m.dehydrated,E!==null))return vk(i,l,b,p,E,m,c);if(v){v=p.fallback,b=l.mode,m=i.child,E=m.sibling;var R={mode:"hidden",children:p.children};return!(b&1)&&l.child!==m?(p=l.child,p.childLanes=0,p.pendingProps=R,l.deletions=null):(p=lo(m,R),p.subtreeFlags=m.subtreeFlags&14680064),E!==null?v=lo(E,v):(v=Wo(v,b,c,null),v.flags|=2),v.return=l,p.return=l,p.sibling=v,l.child=p,p=v,v=l.child,b=i.child.memoizedState,b=b===null?ff(c):{baseLanes:b.baseLanes|c,cachePool:null,transitions:b.transitions},v.memoizedState=b,v.childLanes=i.childLanes&~c,l.memoizedState=cf,p}return v=i.child,i=v.sibling,p=lo(v,{mode:"visible",children:p.children}),!(l.mode&1)&&(p.lanes=c),p.return=l,p.sibling=null,i!==null&&(c=l.deletions,c===null?(l.deletions=[i],l.flags|=16):c.push(i)),l.child=p,l.memoizedState=null,p}function df(i,l){return l=Ta({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function pa(i,l,c,p){return p!==null&&Lc(p),Ti(l,i.child,null,c),i=df(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function vk(i,l,c,p,m,v,b){if(c)return l.flags&256?(l.flags&=-257,p=sf(Error(t(422))),pa(i,l,b,p)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(v=p.fallback,m=l.mode,p=Ta({mode:"visible",children:p.children},m,0,null),v=Wo(v,m,b,null),v.flags|=2,p.return=l,v.return=l,p.sibling=v,l.child=p,l.mode&1&&Ti(l,i.child,null,b),l.child.memoizedState=ff(b),l.memoizedState=cf,v);if(!(l.mode&1))return pa(i,l,b,null);if(m.data==="$!"){if(p=m.nextSibling&&m.nextSibling.dataset,p)var E=p.dgst;return p=E,v=Error(t(419)),p=sf(v,p,void 0),pa(i,l,b,p)}if(E=(b&i.childLanes)!==0,tn||E){if(p=xt,p!==null){switch(b&-b){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(p.suspendedLanes|b)?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Nr(i,m),qn(p,i,m,-1))}return Mf(),p=sf(Error(t(421))),pa(i,l,b,p)}return m.data==="$?"?(l.flags|=128,l.child=i.child,l=Ak.bind(null,i),m._reactRetry=l,null):(i=v.treeContext,pn=Gr(m.nextSibling),dn=l,Xe=!0,Vn=null,i!==null&&(Cn[En++]=Or,Cn[En++]=Mr,Cn[En++]=_o,Or=i.id,Mr=i.overflow,_o=l),l=df(l,p.children),l.flags|=4096,l)}function Gm(i,l,c){i.lanes|=l;var p=i.alternate;p!==null&&(p.lanes|=l),Vc(i.return,l,c)}function pf(i,l,c,p,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:m}:(v.isBackwards=l,v.rendering=null,v.renderingStartTime=0,v.last=p,v.tail=c,v.tailMode=m)}function Ym(i,l,c){var p=l.pendingProps,m=p.revealOrder,v=p.tail;if(Ut(i,l,p.children,c),p=tt.current,p&2)p=p&1|2,l.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Gm(i,c,l);else if(i.tag===19)Gm(i,c,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(qe(tt,p),!(l.mode&1))l.memoizedState=null;else switch(m){case"forwards":for(c=l.child,m=null;c!==null;)i=c.alternate,i!==null&&sa(i)===null&&(m=c),c=c.sibling;c=m,c===null?(m=l.child,l.child=null):(m=c.sibling,c.sibling=null),pf(l,!1,m,c,v);break;case"backwards":for(c=null,m=l.child,l.child=null;m!==null;){if(i=m.alternate,i!==null&&sa(i)===null){l.child=m;break}i=m.sibling,m.sibling=c,c=m,m=i}pf(l,!0,c,null,v);break;case"together":pf(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function ha(i,l){!(l.mode&1)&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function Ar(i,l,c){if(i!==null&&(l.dependencies=i.dependencies),$o|=l.lanes,!(c&l.childLanes))return null;if(i!==null&&l.child!==i.child)throw Error(t(153));if(l.child!==null){for(i=l.child,c=lo(i,i.pendingProps),l.child=c,c.return=l;i.sibling!==null;)i=i.sibling,c=c.sibling=lo(i,i.pendingProps),c.return=l;c.sibling=null}return l.child}function wk(i,l,c){switch(l.tag){case 3:Km(l),Ei();break;case 5:fm(l);break;case 1:en(l.type)&&Gl(l);break;case 4:Uc(l,l.stateNode.containerInfo);break;case 10:var p=l.type._context,m=l.memoizedProps.value;qe(na,p._currentValue),p._currentValue=m;break;case 13:if(p=l.memoizedState,p!==null)return p.dehydrated!==null?(qe(tt,tt.current&1),l.flags|=128,null):c&l.child.childLanes?Qm(i,l,c):(qe(tt,tt.current&1),i=Ar(i,l,c),i!==null?i.sibling:null);qe(tt,tt.current&1);break;case 19:if(p=(c&l.childLanes)!==0,i.flags&128){if(p)return Ym(i,l,c);l.flags|=128}if(m=l.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),qe(tt,tt.current),p)break;return null;case 22:case 23:return l.lanes=0,Wm(i,l,c)}return Ar(i,l,c)}var Xm,hf,Zm,eg;Xm=function(i,l){for(var c=l.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},hf=function(){},Zm=function(i,l,c,p){var m=i.memoizedProps;if(m!==p){i=l.stateNode,Lo(or.current);var v=null;switch(c){case"input":m=Ke(i,m),p=Ke(i,p),v=[];break;case"select":m=j({},m,{value:void 0}),p=j({},p,{value:void 0}),v=[];break;case"textarea":m=Yt(i,m),p=Yt(i,p),v=[];break;default:typeof m.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=Kl)}Sr(c,p);var b;c=null;for(F in m)if(!p.hasOwnProperty(F)&&m.hasOwnProperty(F)&&m[F]!=null)if(F==="style"){var E=m[F];for(b in E)E.hasOwnProperty(b)&&(c||(c={}),c[b]="")}else F!=="dangerouslySetInnerHTML"&&F!=="children"&&F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&F!=="autoFocus"&&(o.hasOwnProperty(F)?v||(v=[]):(v=v||[]).push(F,null));for(F in p){var R=p[F];if(E=m!=null?m[F]:void 0,p.hasOwnProperty(F)&&R!==E&&(R!=null||E!=null))if(F==="style")if(E){for(b in E)!E.hasOwnProperty(b)||R&&R.hasOwnProperty(b)||(c||(c={}),c[b]="");for(b in R)R.hasOwnProperty(b)&&E[b]!==R[b]&&(c||(c={}),c[b]=R[b])}else c||(v||(v=[]),v.push(F,c)),c=R;else F==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,E=E?E.__html:void 0,R!=null&&E!==R&&(v=v||[]).push(F,R)):F==="children"?typeof R!="string"&&typeof R!="number"||(v=v||[]).push(F,""+R):F!=="suppressContentEditableWarning"&&F!=="suppressHydrationWarning"&&(o.hasOwnProperty(F)?(R!=null&&F==="onScroll"&&Ge("scroll",i),v||E===R||(v=[])):(v=v||[]).push(F,R))}c&&(v=v||[]).push("style",c);var F=v;(l.updateQueue=F)&&(l.flags|=4)}},eg=function(i,l,c,p){c!==p&&(l.flags|=4)};function qs(i,l){if(!Xe)switch(i.tailMode){case"hidden":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Ft(i){var l=i.alternate!==null&&i.alternate.child===i.child,c=0,p=0;if(l)for(var m=i.child;m!==null;)c|=m.lanes|m.childLanes,p|=m.subtreeFlags&14680064,p|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)c|=m.lanes|m.childLanes,p|=m.subtreeFlags,p|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=p,i.childLanes=c,l}function xk(i,l,c){var p=l.pendingProps;switch(_c(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(l),null;case 1:return en(l.type)&&Ql(),Ft(l),null;case 3:return p=l.stateNode,Ni(),Ye(Zt),Ye(_t),Jc(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(ea(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,Vn!==null&&(Ef(Vn),Vn=null))),hf(i,l),Ft(l),null;case 5:qc(l);var m=Lo(Bs.current);if(c=l.type,i!==null&&l.stateNode!=null)Zm(i,l,c,p,m),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!p){if(l.stateNode===null)throw Error(t(166));return Ft(l),null}if(i=Lo(or.current),ea(l)){p=l.stateNode,c=l.type;var v=l.memoizedProps;switch(p[rr]=l,p[zs]=v,i=(l.mode&1)!==0,c){case"dialog":Ge("cancel",p),Ge("close",p);break;case"iframe":case"object":case"embed":Ge("load",p);break;case"video":case"audio":for(m=0;m<Is.length;m++)Ge(Is[m],p);break;case"source":Ge("error",p);break;case"img":case"image":case"link":Ge("error",p),Ge("load",p);break;case"details":Ge("toggle",p);break;case"input":_e(p,v),Ge("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!v.multiple},Ge("invalid",p);break;case"textarea":Fn(p,v),Ge("invalid",p)}Sr(c,v),m=null;for(var b in v)if(v.hasOwnProperty(b)){var E=v[b];b==="children"?typeof E=="string"?p.textContent!==E&&(v.suppressHydrationWarning!==!0&&ql(p.textContent,E,i),m=["children",E]):typeof E=="number"&&p.textContent!==""+E&&(v.suppressHydrationWarning!==!0&&ql(p.textContent,E,i),m=["children",""+E]):o.hasOwnProperty(b)&&E!=null&&b==="onScroll"&&Ge("scroll",p)}switch(c){case"input":me(p),ct(p,v,!0);break;case"textarea":me(p),yr(p);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(p.onclick=Kl)}p=m,l.updateQueue=p,p!==null&&(l.flags|=4)}else{b=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Ln(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=b.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=b.createElement(c,{is:p.is}):(i=b.createElement(c),c==="select"&&(b=i,p.multiple?b.multiple=!0:p.size&&(b.size=p.size))):i=b.createElementNS(i,c),i[rr]=l,i[zs]=p,Xm(i,l,!1,!1),l.stateNode=i;e:{switch(b=Xn(c,p),c){case"dialog":Ge("cancel",i),Ge("close",i),m=p;break;case"iframe":case"object":case"embed":Ge("load",i),m=p;break;case"video":case"audio":for(m=0;m<Is.length;m++)Ge(Is[m],i);m=p;break;case"source":Ge("error",i),m=p;break;case"img":case"image":case"link":Ge("error",i),Ge("load",i),m=p;break;case"details":Ge("toggle",i),m=p;break;case"input":_e(i,p),m=Ke(i,p),Ge("invalid",i);break;case"option":m=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},m=j({},p,{value:void 0}),Ge("invalid",i);break;case"textarea":Fn(i,p),m=Yt(i,p),Ge("invalid",i);break;default:m=p}Sr(c,m),E=m;for(v in E)if(E.hasOwnProperty(v)){var R=E[v];v==="style"?ot(i,R):v==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&wr(i,R)):v==="children"?typeof R=="string"?(c!=="textarea"||R!=="")&&xr(i,R):typeof R=="number"&&xr(i,""+R):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?R!=null&&v==="onScroll"&&Ge("scroll",i):R!=null&&N(i,v,R,b))}switch(c){case"input":me(i),ct(i,p,!1);break;case"textarea":me(i),yr(i);break;case"option":p.value!=null&&i.setAttribute("value",""+he(p.value));break;case"select":i.multiple=!!p.multiple,v=p.value,v!=null?et(i,!!p.multiple,v,!1):p.defaultValue!=null&&et(i,!!p.multiple,p.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=Kl)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Ft(l),null;case 6:if(i&&l.stateNode!=null)eg(i,l,i.memoizedProps,p);else{if(typeof p!="string"&&l.stateNode===null)throw Error(t(166));if(c=Lo(Bs.current),Lo(or.current),ea(l)){if(p=l.stateNode,c=l.memoizedProps,p[rr]=l,(v=p.nodeValue!==c)&&(i=dn,i!==null))switch(i.tag){case 3:ql(p.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&ql(p.nodeValue,c,(i.mode&1)!==0)}v&&(l.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[rr]=l,l.stateNode=p}return Ft(l),null;case 13:if(Ye(tt),p=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Xe&&pn!==null&&l.mode&1&&!(l.flags&128))rm(),Ei(),l.flags|=98560,v=!1;else if(v=ea(l),p!==null&&p.dehydrated!==null){if(i===null){if(!v)throw Error(t(318));if(v=l.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[rr]=l}else Ei(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;Ft(l),v=!1}else Vn!==null&&(Ef(Vn),Vn=null),v=!0;if(!v)return l.flags&65536?l:null}return l.flags&128?(l.lanes=c,l):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(l.child.flags|=8192,l.mode&1&&(i===null||tt.current&1?gt===0&&(gt=3):Mf())),l.updateQueue!==null&&(l.flags|=4),Ft(l),null);case 4:return Ni(),hf(i,l),i===null&&Ps(l.stateNode.containerInfo),Ft(l),null;case 10:return Bc(l.type._context),Ft(l),null;case 17:return en(l.type)&&Ql(),Ft(l),null;case 19:if(Ye(tt),v=l.memoizedState,v===null)return Ft(l),null;if(p=(l.flags&128)!==0,b=v.rendering,b===null)if(p)qs(v,!1);else{if(gt!==0||i!==null&&i.flags&128)for(i=l.child;i!==null;){if(b=sa(i),b!==null){for(l.flags|=128,qs(v,!1),p=b.updateQueue,p!==null&&(l.updateQueue=p,l.flags|=4),l.subtreeFlags=0,p=c,c=l.child;c!==null;)v=c,i=p,v.flags&=14680066,b=v.alternate,b===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=b.childLanes,v.lanes=b.lanes,v.child=b.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=b.memoizedProps,v.memoizedState=b.memoizedState,v.updateQueue=b.updateQueue,v.type=b.type,i=b.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return qe(tt,tt.current&1|2),l.child}i=i.sibling}v.tail!==null&&Ve()>Ii&&(l.flags|=128,p=!0,qs(v,!1),l.lanes=4194304)}else{if(!p)if(i=sa(b),i!==null){if(l.flags|=128,p=!0,c=i.updateQueue,c!==null&&(l.updateQueue=c,l.flags|=4),qs(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!Xe)return Ft(l),null}else 2*Ve()-v.renderingStartTime>Ii&&c!==1073741824&&(l.flags|=128,p=!0,qs(v,!1),l.lanes=4194304);v.isBackwards?(b.sibling=l.child,l.child=b):(c=v.last,c!==null?c.sibling=b:l.child=b,v.last=b)}return v.tail!==null?(l=v.tail,v.rendering=l,v.tail=l.sibling,v.renderingStartTime=Ve(),l.sibling=null,c=tt.current,qe(tt,p?c&1|2:c&1),l):(Ft(l),null);case 22:case 23:return Of(),p=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(l.flags|=8192),p&&l.mode&1?hn&1073741824&&(Ft(l),l.subtreeFlags&6&&(l.flags|=8192)):Ft(l),null;case 24:return null;case 25:return null}throw Error(t(156,l.tag))}function kk(i,l){switch(_c(l),l.tag){case 1:return en(l.type)&&Ql(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Ni(),Ye(Zt),Ye(_t),Jc(),i=l.flags,i&65536&&!(i&128)?(l.flags=i&-65537|128,l):null;case 5:return qc(l),null;case 13:if(Ye(tt),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(t(340));Ei()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return Ye(tt),null;case 4:return Ni(),null;case 10:return Bc(l.type._context),null;case 22:case 23:return Of(),null;case 24:return null;default:return null}}var ma=!1,Lt=!1,Sk=typeof WeakSet=="function"?WeakSet:Set,se=null;function Ai(i,l){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){st(i,l,p)}else c.current=null}function mf(i,l,c){try{c()}catch(p){st(i,l,p)}}var tg=!1;function bk(i,l){if(Tc=_l,i=Ih(),vc(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var m=p.anchorOffset,v=p.focusNode;p=p.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var b=0,E=-1,R=-1,F=0,W=0,K=i,H=null;t:for(;;){for(var te;K!==c||m!==0&&K.nodeType!==3||(E=b+m),K!==v||p!==0&&K.nodeType!==3||(R=b+p),K.nodeType===3&&(b+=K.nodeValue.length),(te=K.firstChild)!==null;)H=K,K=te;for(;;){if(K===i)break t;if(H===c&&++F===m&&(E=b),H===v&&++W===p&&(R=b),(te=K.nextSibling)!==null)break;K=H,H=K.parentNode}K=te}c=E===-1||R===-1?null:{start:E,end:R}}else c=null}c=c||{start:0,end:0}}else c=null;for(Oc={focusedElem:i,selectionRange:c},_l=!1,se=l;se!==null;)if(l=se,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,se=i;else for(;se!==null;){l=se;try{var le=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(le!==null){var ae=le.memoizedProps,ut=le.memoizedState,_=l.stateNode,A=_.getSnapshotBeforeUpdate(l.elementType===l.type?ae:Hn(l.type,ae),ut);_.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var z=l.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(J){st(l,l.return,J)}if(i=l.sibling,i!==null){i.return=l.return,se=i;break}se=l.return}return le=tg,tg=!1,le}function Ks(i,l,c){var p=l.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var m=p=p.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&mf(l,c,v)}m=m.next}while(m!==p)}}function ga(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var c=l=l.next;do{if((c.tag&i)===i){var p=c.create;c.destroy=p()}c=c.next}while(c!==l)}}function gf(i){var l=i.ref;if(l!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof l=="function"?l(i):l.current=i}}function ng(i){var l=i.alternate;l!==null&&(i.alternate=null,ng(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[rr],delete l[zs],delete l[Ac],delete l[ik],delete l[sk])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function rg(i){return i.tag===5||i.tag===3||i.tag===4}function og(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||rg(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function yf(i,l,c){var p=i.tag;if(p===5||p===6)i=i.stateNode,l?c.nodeType===8?c.parentNode.insertBefore(i,l):c.insertBefore(i,l):(c.nodeType===8?(l=c.parentNode,l.insertBefore(i,c)):(l=c,l.appendChild(i)),c=c._reactRootContainer,c!=null||l.onclick!==null||(l.onclick=Kl));else if(p!==4&&(i=i.child,i!==null))for(yf(i,l,c),i=i.sibling;i!==null;)yf(i,l,c),i=i.sibling}function vf(i,l,c){var p=i.tag;if(p===5||p===6)i=i.stateNode,l?c.insertBefore(i,l):c.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(vf(i,l,c),i=i.sibling;i!==null;)vf(i,l,c),i=i.sibling}var Mt=null,Wn=!1;function no(i,l,c){for(c=c.child;c!==null;)ig(i,l,c),c=c.sibling}function ig(i,l,c){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(Nl,c)}catch{}switch(c.tag){case 5:Lt||Ai(c,l);case 6:var p=Mt,m=Wn;Mt=null,no(i,l,c),Mt=p,Wn=m,Mt!==null&&(Wn?(i=Mt,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):Mt.removeChild(c.stateNode));break;case 18:Mt!==null&&(Wn?(i=Mt,c=c.stateNode,i.nodeType===8?Rc(i.parentNode,c):i.nodeType===1&&Rc(i,c),Es(i)):Rc(Mt,c.stateNode));break;case 4:p=Mt,m=Wn,Mt=c.stateNode.containerInfo,Wn=!0,no(i,l,c),Mt=p,Wn=m;break;case 0:case 11:case 14:case 15:if(!Lt&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){m=p=p.next;do{var v=m,b=v.destroy;v=v.tag,b!==void 0&&(v&2||v&4)&&mf(c,l,b),m=m.next}while(m!==p)}no(i,l,c);break;case 1:if(!Lt&&(Ai(c,l),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(E){st(c,l,E)}no(i,l,c);break;case 21:no(i,l,c);break;case 22:c.mode&1?(Lt=(p=Lt)||c.memoizedState!==null,no(i,l,c),Lt=p):no(i,l,c);break;default:no(i,l,c)}}function sg(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new Sk),l.forEach(function(p){var m=Dk.bind(null,i,p);c.has(p)||(c.add(p),p.then(m,m))})}}function Un(i,l){var c=l.deletions;if(c!==null)for(var p=0;p<c.length;p++){var m=c[p];try{var v=i,b=l,E=b;e:for(;E!==null;){switch(E.tag){case 5:Mt=E.stateNode,Wn=!1;break e;case 3:Mt=E.stateNode.containerInfo,Wn=!0;break e;case 4:Mt=E.stateNode.containerInfo,Wn=!0;break e}E=E.return}if(Mt===null)throw Error(t(160));ig(v,b,m),Mt=null,Wn=!1;var R=m.alternate;R!==null&&(R.return=null),m.return=null}catch(F){st(m,l,F)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)lg(l,i),l=l.sibling}function lg(i,l){var c=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Un(l,i),sr(i),p&4){try{Ks(3,i,i.return),ga(3,i)}catch(ae){st(i,i.return,ae)}try{Ks(5,i,i.return)}catch(ae){st(i,i.return,ae)}}break;case 1:Un(l,i),sr(i),p&512&&c!==null&&Ai(c,c.return);break;case 5:if(Un(l,i),sr(i),p&512&&c!==null&&Ai(c,c.return),i.flags&32){var m=i.stateNode;try{xr(m,"")}catch(ae){st(i,i.return,ae)}}if(p&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,b=c!==null?c.memoizedProps:v,E=i.type,R=i.updateQueue;if(i.updateQueue=null,R!==null)try{E==="input"&&v.type==="radio"&&v.name!=null&&Je(m,v),Xn(E,b);var F=Xn(E,v);for(b=0;b<R.length;b+=2){var W=R[b],K=R[b+1];W==="style"?ot(m,K):W==="dangerouslySetInnerHTML"?wr(m,K):W==="children"?xr(m,K):N(m,W,K,F)}switch(E){case"input":rt(m,v);break;case"textarea":Ro(m,v);break;case"select":var H=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var te=v.value;te!=null?et(m,!!v.multiple,te,!1):H!==!!v.multiple&&(v.defaultValue!=null?et(m,!!v.multiple,v.defaultValue,!0):et(m,!!v.multiple,v.multiple?[]:"",!1))}m[zs]=v}catch(ae){st(i,i.return,ae)}}break;case 6:if(Un(l,i),sr(i),p&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(ae){st(i,i.return,ae)}}break;case 3:if(Un(l,i),sr(i),p&4&&c!==null&&c.memoizedState.isDehydrated)try{Es(l.containerInfo)}catch(ae){st(i,i.return,ae)}break;case 4:Un(l,i),sr(i);break;case 13:Un(l,i),sr(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(kf=Ve())),p&4&&sg(i);break;case 22:if(W=c!==null&&c.memoizedState!==null,i.mode&1?(Lt=(F=Lt)||W,Un(l,i),Lt=F):Un(l,i),sr(i),p&8192){if(F=i.memoizedState!==null,(i.stateNode.isHidden=F)&&!W&&i.mode&1)for(se=i,W=i.child;W!==null;){for(K=se=W;se!==null;){switch(H=se,te=H.child,H.tag){case 0:case 11:case 14:case 15:Ks(4,H,H.return);break;case 1:Ai(H,H.return);var le=H.stateNode;if(typeof le.componentWillUnmount=="function"){p=H,c=H.return;try{l=p,le.props=l.memoizedProps,le.state=l.memoizedState,le.componentWillUnmount()}catch(ae){st(p,c,ae)}}break;case 5:Ai(H,H.return);break;case 22:if(H.memoizedState!==null){cg(K);continue}}te!==null?(te.return=H,se=te):cg(K)}W=W.sibling}e:for(W=null,K=i;;){if(K.tag===5){if(W===null){W=K;try{m=K.stateNode,F?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(E=K.stateNode,R=K.memoizedProps.style,b=R!=null&&R.hasOwnProperty("display")?R.display:null,E.style.display=Xt("display",b))}catch(ae){st(i,i.return,ae)}}}else if(K.tag===6){if(W===null)try{K.stateNode.nodeValue=F?"":K.memoizedProps}catch(ae){st(i,i.return,ae)}}else if((K.tag!==22&&K.tag!==23||K.memoizedState===null||K===i)&&K.child!==null){K.child.return=K,K=K.child;continue}if(K===i)break e;for(;K.sibling===null;){if(K.return===null||K.return===i)break e;W===K&&(W=null),K=K.return}W===K&&(W=null),K.sibling.return=K.return,K=K.sibling}}break;case 19:Un(l,i),sr(i),p&4&&sg(i);break;case 21:break;default:Un(l,i),sr(i)}}function sr(i){var l=i.flags;if(l&2){try{e:{for(var c=i.return;c!==null;){if(rg(c)){var p=c;break e}c=c.return}throw Error(t(160))}switch(p.tag){case 5:var m=p.stateNode;p.flags&32&&(xr(m,""),p.flags&=-33);var v=og(i);vf(i,v,m);break;case 3:case 4:var b=p.stateNode.containerInfo,E=og(i);yf(i,E,b);break;default:throw Error(t(161))}}catch(R){st(i,i.return,R)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function Ck(i,l,c){se=i,ag(i)}function ag(i,l,c){for(var p=(i.mode&1)!==0;se!==null;){var m=se,v=m.child;if(m.tag===22&&p){var b=m.memoizedState!==null||ma;if(!b){var E=m.alternate,R=E!==null&&E.memoizedState!==null||Lt;E=ma;var F=Lt;if(ma=b,(Lt=R)&&!F)for(se=m;se!==null;)b=se,R=b.child,b.tag===22&&b.memoizedState!==null?fg(m):R!==null?(R.return=b,se=R):fg(m);for(;v!==null;)se=v,ag(v),v=v.sibling;se=m,ma=E,Lt=F}ug(i)}else m.subtreeFlags&8772&&v!==null?(v.return=m,se=v):ug(i)}}function ug(i){for(;se!==null;){var l=se;if(l.flags&8772){var c=l.alternate;try{if(l.flags&8772)switch(l.tag){case 0:case 11:case 15:Lt||ga(5,l);break;case 1:var p=l.stateNode;if(l.flags&4&&!Lt)if(c===null)p.componentDidMount();else{var m=l.elementType===l.type?c.memoizedProps:Hn(l.type,c.memoizedProps);p.componentDidUpdate(m,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var v=l.updateQueue;v!==null&&cm(l,v,p);break;case 3:var b=l.updateQueue;if(b!==null){if(c=null,l.child!==null)switch(l.child.tag){case 5:c=l.child.stateNode;break;case 1:c=l.child.stateNode}cm(l,b,c)}break;case 5:var E=l.stateNode;if(c===null&&l.flags&4){c=E;var R=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&c.focus();break;case"img":R.src&&(c.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var F=l.alternate;if(F!==null){var W=F.memoizedState;if(W!==null){var K=W.dehydrated;K!==null&&Es(K)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Lt||l.flags&512&&gf(l)}catch(H){st(l,l.return,H)}}if(l===i){se=null;break}if(c=l.sibling,c!==null){c.return=l.return,se=c;break}se=l.return}}function cg(i){for(;se!==null;){var l=se;if(l===i){se=null;break}var c=l.sibling;if(c!==null){c.return=l.return,se=c;break}se=l.return}}function fg(i){for(;se!==null;){var l=se;try{switch(l.tag){case 0:case 11:case 15:var c=l.return;try{ga(4,l)}catch(R){st(l,c,R)}break;case 1:var p=l.stateNode;if(typeof p.componentDidMount=="function"){var m=l.return;try{p.componentDidMount()}catch(R){st(l,m,R)}}var v=l.return;try{gf(l)}catch(R){st(l,v,R)}break;case 5:var b=l.return;try{gf(l)}catch(R){st(l,b,R)}}}catch(R){st(l,l.return,R)}if(l===i){se=null;break}var E=l.sibling;if(E!==null){E.return=l.return,se=E;break}se=l.return}}var Ek=Math.ceil,ya=I.ReactCurrentDispatcher,wf=I.ReactCurrentOwner,Mn=I.ReactCurrentBatchConfig,ze=0,xt=null,ft=null,Nt=0,hn=0,Di=Yr(0),gt=0,Js=null,$o=0,va=0,xf=0,Qs=null,nn=null,kf=0,Ii=1/0,Dr=null,wa=!1,Sf=null,ro=null,xa=!1,oo=null,ka=0,Gs=0,bf=null,Sa=-1,ba=0;function qt(){return ze&6?Ve():Sa!==-1?Sa:Sa=Ve()}function io(i){return i.mode&1?ze&2&&Nt!==0?Nt&-Nt:ak.transition!==null?(ba===0&&(ba=oh()),ba):(i=Be,i!==0||(i=window.event,i=i===void 0?16:ph(i.type)),i):1}function qn(i,l,c,p){if(50<Gs)throw Gs=0,bf=null,Error(t(185));xs(i,c,p),(!(ze&2)||i!==xt)&&(i===xt&&(!(ze&2)&&(va|=c),gt===4&&so(i,Nt)),rn(i,p),c===1&&ze===0&&!(l.mode&1)&&(Ii=Ve()+500,Yl&&Zr()))}function rn(i,l){var c=i.callbackNode;a1(i,l);var p=Dl(i,i===xt?Nt:0);if(p===0)c!==null&&je(c),i.callbackNode=null,i.callbackPriority=0;else if(l=p&-p,i.callbackPriority!==l){if(c!=null&&je(c),l===1)i.tag===0?lk(pg.bind(null,i)):Xh(pg.bind(null,i)),rk(function(){!(ze&6)&&Zr()}),c=null;else{switch(ih(p)){case 1:c=Do;break;case 4:c=nh;break;case 16:c=Ml;break;case 536870912:c=rh;break;default:c=Ml}c=kg(c,dg.bind(null,i))}i.callbackPriority=l,i.callbackNode=c}}function dg(i,l){if(Sa=-1,ba=0,ze&6)throw Error(t(327));var c=i.callbackNode;if(Pi()&&i.callbackNode!==c)return null;var p=Dl(i,i===xt?Nt:0);if(p===0)return null;if(p&30||p&i.expiredLanes||l)l=Ca(i,p);else{l=p;var m=ze;ze|=2;var v=mg();(xt!==i||Nt!==l)&&(Dr=null,Ii=Ve()+500,Vo(i,l));do try{Mk();break}catch(E){hg(i,E)}while(!0);$c(),ya.current=v,ze=m,ft!==null?l=0:(xt=null,Nt=0,l=gt)}if(l!==0){if(l===2&&(m=nc(i),m!==0&&(p=m,l=Cf(i,m))),l===1)throw c=Js,Vo(i,0),so(i,p),rn(i,Ve()),c;if(l===6)so(i,p);else{if(m=i.current.alternate,!(p&30)&&!Tk(m)&&(l=Ca(i,p),l===2&&(v=nc(i),v!==0&&(p=v,l=Cf(i,v))),l===1))throw c=Js,Vo(i,0),so(i,p),rn(i,Ve()),c;switch(i.finishedWork=m,i.finishedLanes=p,l){case 0:case 1:throw Error(t(345));case 2:Ho(i,nn,Dr);break;case 3:if(so(i,p),(p&130023424)===p&&(l=kf+500-Ve(),10<l)){if(Dl(i,0)!==0)break;if(m=i.suspendedLanes,(m&p)!==p){qt(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Nc(Ho.bind(null,i,nn,Dr),l);break}Ho(i,nn,Dr);break;case 4:if(so(i,p),(p&4194240)===p)break;for(l=i.eventTimes,m=-1;0<p;){var b=31-$n(p);v=1<<b,b=l[b],b>m&&(m=b),p&=~v}if(p=m,p=Ve()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*Ek(p/1960))-p,10<p){i.timeoutHandle=Nc(Ho.bind(null,i,nn,Dr),p);break}Ho(i,nn,Dr);break;case 5:Ho(i,nn,Dr);break;default:throw Error(t(329))}}}return rn(i,Ve()),i.callbackNode===c?dg.bind(null,i):null}function Cf(i,l){var c=Qs;return i.current.memoizedState.isDehydrated&&(Vo(i,l).flags|=256),i=Ca(i,l),i!==2&&(l=nn,nn=c,l!==null&&Ef(l)),i}function Ef(i){nn===null?nn=i:nn.push.apply(nn,i)}function Tk(i){for(var l=i;;){if(l.flags&16384){var c=l.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var m=c[p],v=m.getSnapshot;m=m.value;try{if(!Bn(v(),m))return!1}catch{return!1}}}if(c=l.child,l.subtreeFlags&16384&&c!==null)c.return=l,l=c;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function so(i,l){for(l&=~xf,l&=~va,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var c=31-$n(l),p=1<<c;i[c]=-1,l&=~p}}function pg(i){if(ze&6)throw Error(t(327));Pi();var l=Dl(i,0);if(!(l&1))return rn(i,Ve()),null;var c=Ca(i,l);if(i.tag!==0&&c===2){var p=nc(i);p!==0&&(l=p,c=Cf(i,p))}if(c===1)throw c=Js,Vo(i,0),so(i,l),rn(i,Ve()),c;if(c===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,Ho(i,nn,Dr),rn(i,Ve()),null}function Tf(i,l){var c=ze;ze|=1;try{return i(l)}finally{ze=c,ze===0&&(Ii=Ve()+500,Yl&&Zr())}}function Bo(i){oo!==null&&oo.tag===0&&!(ze&6)&&Pi();var l=ze;ze|=1;var c=Mn.transition,p=Be;try{if(Mn.transition=null,Be=1,i)return i()}finally{Be=p,Mn.transition=c,ze=l,!(ze&6)&&Zr()}}function Of(){hn=Di.current,Ye(Di)}function Vo(i,l){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,nk(c)),ft!==null)for(c=ft.return;c!==null;){var p=c;switch(_c(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Ql();break;case 3:Ni(),Ye(Zt),Ye(_t),Jc();break;case 5:qc(p);break;case 4:Ni();break;case 13:Ye(tt);break;case 19:Ye(tt);break;case 10:Bc(p.type._context);break;case 22:case 23:Of()}c=c.return}if(xt=i,ft=i=lo(i.current,null),Nt=hn=l,gt=0,Js=null,xf=va=$o=0,nn=Qs=null,Fo!==null){for(l=0;l<Fo.length;l++)if(c=Fo[l],p=c.interleaved,p!==null){c.interleaved=null;var m=p.next,v=c.pending;if(v!==null){var b=v.next;v.next=m,p.next=b}c.pending=p}Fo=null}return i}function hg(i,l){do{var c=ft;try{if($c(),la.current=fa,aa){for(var p=nt.memoizedState;p!==null;){var m=p.queue;m!==null&&(m.pending=null),p=p.next}aa=!1}if(jo=0,wt=mt=nt=null,Vs=!1,Hs=0,wf.current=null,c===null||c.return===null){gt=1,Js=l,ft=null;break}e:{var v=i,b=c.return,E=c,R=l;if(l=Nt,E.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=R,W=E,K=W.tag;if(!(W.mode&1)&&(K===0||K===11||K===15)){var H=W.alternate;H?(W.updateQueue=H.updateQueue,W.memoizedState=H.memoizedState,W.lanes=H.lanes):(W.updateQueue=null,W.memoizedState=null)}var te=jm(b);if(te!==null){te.flags&=-257,$m(te,b,E,v,l),te.mode&1&&Lm(v,F,l),l=te,R=F;var le=l.updateQueue;if(le===null){var ae=new Set;ae.add(R),l.updateQueue=ae}else le.add(R);break e}else{if(!(l&1)){Lm(v,F,l),Mf();break e}R=Error(t(426))}}else if(Xe&&E.mode&1){var ut=jm(b);if(ut!==null){!(ut.flags&65536)&&(ut.flags|=256),$m(ut,b,E,v,l),Lc(Ri(R,E));break e}}v=R=Ri(R,E),gt!==4&&(gt=2),Qs===null?Qs=[v]:Qs.push(v),v=b;do{switch(v.tag){case 3:v.flags|=65536,l&=-l,v.lanes|=l;var _=zm(v,R,l);um(v,_);break e;case 1:E=R;var A=v.type,z=v.stateNode;if(!(v.flags&128)&&(typeof A.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(ro===null||!ro.has(z)))){v.flags|=65536,l&=-l,v.lanes|=l;var J=Fm(v,E,l);um(v,J);break e}}v=v.return}while(v!==null)}yg(c)}catch(ce){l=ce,ft===c&&c!==null&&(ft=c=c.return);continue}break}while(!0)}function mg(){var i=ya.current;return ya.current=fa,i===null?fa:i}function Mf(){(gt===0||gt===3||gt===2)&&(gt=4),xt===null||!($o&268435455)&&!(va&268435455)||so(xt,Nt)}function Ca(i,l){var c=ze;ze|=2;var p=mg();(xt!==i||Nt!==l)&&(Dr=null,Vo(i,l));do try{Ok();break}catch(m){hg(i,m)}while(!0);if($c(),ze=c,ya.current=p,ft!==null)throw Error(t(261));return xt=null,Nt=0,gt}function Ok(){for(;ft!==null;)gg(ft)}function Mk(){for(;ft!==null&&!jn();)gg(ft)}function gg(i){var l=xg(i.alternate,i,hn);i.memoizedProps=i.pendingProps,l===null?yg(i):ft=l,wf.current=null}function yg(i){var l=i;do{var c=l.alternate;if(i=l.return,l.flags&32768){if(c=kk(c,l),c!==null){c.flags&=32767,ft=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{gt=6,ft=null;return}}else if(c=xk(c,l,hn),c!==null){ft=c;return}if(l=l.sibling,l!==null){ft=l;return}ft=l=i}while(l!==null);gt===0&&(gt=5)}function Ho(i,l,c){var p=Be,m=Mn.transition;try{Mn.transition=null,Be=1,Nk(i,l,c,p)}finally{Mn.transition=m,Be=p}return null}function Nk(i,l,c,p){do Pi();while(oo!==null);if(ze&6)throw Error(t(327));c=i.finishedWork;var m=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var v=c.lanes|c.childLanes;if(u1(i,v),i===xt&&(ft=xt=null,Nt=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||xa||(xa=!0,kg(Ml,function(){return Pi(),null})),v=(c.flags&15990)!==0,c.subtreeFlags&15990||v){v=Mn.transition,Mn.transition=null;var b=Be;Be=1;var E=ze;ze|=4,wf.current=null,bk(i,c),lg(c,i),Q1(Oc),_l=!!Tc,Oc=Tc=null,i.current=c,Ck(c),vs(),ze=E,Be=b,Mn.transition=v}else i.current=c;if(xa&&(xa=!1,oo=i,ka=m),v=i.pendingLanes,v===0&&(ro=null),r1(c.stateNode),rn(i,Ve()),l!==null)for(p=i.onRecoverableError,c=0;c<l.length;c++)m=l[c],p(m.value,{componentStack:m.stack,digest:m.digest});if(wa)throw wa=!1,i=Sf,Sf=null,i;return ka&1&&i.tag!==0&&Pi(),v=i.pendingLanes,v&1?i===bf?Gs++:(Gs=0,bf=i):Gs=0,Zr(),null}function Pi(){if(oo!==null){var i=ih(ka),l=Mn.transition,c=Be;try{if(Mn.transition=null,Be=16>i?16:i,oo===null)var p=!1;else{if(i=oo,oo=null,ka=0,ze&6)throw Error(t(331));var m=ze;for(ze|=4,se=i.current;se!==null;){var v=se,b=v.child;if(se.flags&16){var E=v.deletions;if(E!==null){for(var R=0;R<E.length;R++){var F=E[R];for(se=F;se!==null;){var W=se;switch(W.tag){case 0:case 11:case 15:Ks(8,W,v)}var K=W.child;if(K!==null)K.return=W,se=K;else for(;se!==null;){W=se;var H=W.sibling,te=W.return;if(ng(W),W===F){se=null;break}if(H!==null){H.return=te,se=H;break}se=te}}}var le=v.alternate;if(le!==null){var ae=le.child;if(ae!==null){le.child=null;do{var ut=ae.sibling;ae.sibling=null,ae=ut}while(ae!==null)}}se=v}}if(v.subtreeFlags&2064&&b!==null)b.return=v,se=b;else e:for(;se!==null;){if(v=se,v.flags&2048)switch(v.tag){case 0:case 11:case 15:Ks(9,v,v.return)}var _=v.sibling;if(_!==null){_.return=v.return,se=_;break e}se=v.return}}var A=i.current;for(se=A;se!==null;){b=se;var z=b.child;if(b.subtreeFlags&2064&&z!==null)z.return=b,se=z;else e:for(b=A;se!==null;){if(E=se,E.flags&2048)try{switch(E.tag){case 0:case 11:case 15:ga(9,E)}}catch(ce){st(E,E.return,ce)}if(E===b){se=null;break e}var J=E.sibling;if(J!==null){J.return=E.return,se=J;break e}se=E.return}}if(ze=m,Zr(),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(Nl,i)}catch{}p=!0}return p}finally{Be=c,Mn.transition=l}}return!1}function vg(i,l,c){l=Ri(c,l),l=zm(i,l,1),i=to(i,l,1),l=qt(),i!==null&&(xs(i,1,l),rn(i,l))}function st(i,l,c){if(i.tag===3)vg(i,i,c);else for(;l!==null;){if(l.tag===3){vg(l,i,c);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ro===null||!ro.has(p))){i=Ri(c,i),i=Fm(l,i,1),l=to(l,i,1),i=qt(),l!==null&&(xs(l,1,i),rn(l,i));break}}l=l.return}}function Rk(i,l,c){var p=i.pingCache;p!==null&&p.delete(l),l=qt(),i.pingedLanes|=i.suspendedLanes&c,xt===i&&(Nt&c)===c&&(gt===4||gt===3&&(Nt&130023424)===Nt&&500>Ve()-kf?Vo(i,0):xf|=c),rn(i,l)}function wg(i,l){l===0&&(i.mode&1?(l=Al,Al<<=1,!(Al&130023424)&&(Al=4194304)):l=1);var c=qt();i=Nr(i,l),i!==null&&(xs(i,l,c),rn(i,c))}function Ak(i){var l=i.memoizedState,c=0;l!==null&&(c=l.retryLane),wg(i,c)}function Dk(i,l){var c=0;switch(i.tag){case 13:var p=i.stateNode,m=i.memoizedState;m!==null&&(c=m.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(l),wg(i,c)}var xg;xg=function(i,l,c){if(i!==null)if(i.memoizedProps!==l.pendingProps||Zt.current)tn=!0;else{if(!(i.lanes&c)&&!(l.flags&128))return tn=!1,wk(i,l,c);tn=!!(i.flags&131072)}else tn=!1,Xe&&l.flags&1048576&&Zh(l,Zl,l.index);switch(l.lanes=0,l.tag){case 2:var p=l.type;ha(i,l),i=l.pendingProps;var m=Si(l,_t.current);Mi(l,c),m=Yc(null,l,p,i,m,c);var v=Xc();return l.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,en(p)?(v=!0,Gl(l)):v=!1,l.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Wc(l),m.updater=da,l.stateNode=m,m._reactInternals=l,of(l,p,i,c),l=uf(null,l,p,!0,v,c)):(l.tag=0,Xe&&v&&Pc(l),Ut(null,l,m,c),l=l.child),l;case 16:p=l.elementType;e:{switch(ha(i,l),i=l.pendingProps,m=p._init,p=m(p._payload),l.type=p,m=l.tag=Pk(p),i=Hn(p,i),m){case 0:l=af(null,l,p,i,c);break e;case 1:l=qm(null,l,p,i,c);break e;case 11:l=Bm(null,l,p,i,c);break e;case 14:l=Vm(null,l,p,Hn(p.type,i),c);break e}throw Error(t(306,p,""))}return l;case 0:return p=l.type,m=l.pendingProps,m=l.elementType===p?m:Hn(p,m),af(i,l,p,m,c);case 1:return p=l.type,m=l.pendingProps,m=l.elementType===p?m:Hn(p,m),qm(i,l,p,m,c);case 3:e:{if(Km(l),i===null)throw Error(t(387));p=l.pendingProps,v=l.memoizedState,m=v.element,am(i,l),ia(l,p,null,c);var b=l.memoizedState;if(p=b.element,v.isDehydrated)if(v={element:p,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},l.updateQueue.baseState=v,l.memoizedState=v,l.flags&256){m=Ri(Error(t(423)),l),l=Jm(i,l,p,c,m);break e}else if(p!==m){m=Ri(Error(t(424)),l),l=Jm(i,l,p,c,m);break e}else for(pn=Gr(l.stateNode.containerInfo.firstChild),dn=l,Xe=!0,Vn=null,c=sm(l,null,p,c),l.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Ei(),p===m){l=Ar(i,l,c);break e}Ut(i,l,p,c)}l=l.child}return l;case 5:return fm(l),i===null&&Fc(l),p=l.type,m=l.pendingProps,v=i!==null?i.memoizedProps:null,b=m.children,Mc(p,m)?b=null:v!==null&&Mc(p,v)&&(l.flags|=32),Um(i,l),Ut(i,l,b,c),l.child;case 6:return i===null&&Fc(l),null;case 13:return Qm(i,l,c);case 4:return Uc(l,l.stateNode.containerInfo),p=l.pendingProps,i===null?l.child=Ti(l,null,p,c):Ut(i,l,p,c),l.child;case 11:return p=l.type,m=l.pendingProps,m=l.elementType===p?m:Hn(p,m),Bm(i,l,p,m,c);case 7:return Ut(i,l,l.pendingProps,c),l.child;case 8:return Ut(i,l,l.pendingProps.children,c),l.child;case 12:return Ut(i,l,l.pendingProps.children,c),l.child;case 10:e:{if(p=l.type._context,m=l.pendingProps,v=l.memoizedProps,b=m.value,qe(na,p._currentValue),p._currentValue=b,v!==null)if(Bn(v.value,b)){if(v.children===m.children&&!Zt.current){l=Ar(i,l,c);break e}}else for(v=l.child,v!==null&&(v.return=l);v!==null;){var E=v.dependencies;if(E!==null){b=v.child;for(var R=E.firstContext;R!==null;){if(R.context===p){if(v.tag===1){R=Rr(-1,c&-c),R.tag=2;var F=v.updateQueue;if(F!==null){F=F.shared;var W=F.pending;W===null?R.next=R:(R.next=W.next,W.next=R),F.pending=R}}v.lanes|=c,R=v.alternate,R!==null&&(R.lanes|=c),Vc(v.return,c,l),E.lanes|=c;break}R=R.next}}else if(v.tag===10)b=v.type===l.type?null:v.child;else if(v.tag===18){if(b=v.return,b===null)throw Error(t(341));b.lanes|=c,E=b.alternate,E!==null&&(E.lanes|=c),Vc(b,c,l),b=v.sibling}else b=v.child;if(b!==null)b.return=v;else for(b=v;b!==null;){if(b===l){b=null;break}if(v=b.sibling,v!==null){v.return=b.return,b=v;break}b=b.return}v=b}Ut(i,l,m.children,c),l=l.child}return l;case 9:return m=l.type,p=l.pendingProps.children,Mi(l,c),m=Tn(m),p=p(m),l.flags|=1,Ut(i,l,p,c),l.child;case 14:return p=l.type,m=Hn(p,l.pendingProps),m=Hn(p.type,m),Vm(i,l,p,m,c);case 15:return Hm(i,l,l.type,l.pendingProps,c);case 17:return p=l.type,m=l.pendingProps,m=l.elementType===p?m:Hn(p,m),ha(i,l),l.tag=1,en(p)?(i=!0,Gl(l)):i=!1,Mi(l,c),Pm(l,p,m),of(l,p,m,c),uf(null,l,p,!0,i,c);case 19:return Ym(i,l,c);case 22:return Wm(i,l,c)}throw Error(t(156,l.tag))};function kg(i,l){return ys(i,l)}function Ik(i,l,c,p){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(i,l,c,p){return new Ik(i,l,c,p)}function Nf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Pk(i){if(typeof i=="function")return Nf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===fe)return 11;if(i===oe)return 14}return 2}function lo(i,l){var c=i.alternate;return c===null?(c=Nn(i.tag,l,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=l,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,l=i.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function Ea(i,l,c,p,m,v){var b=2;if(p=i,typeof i=="function")Nf(i)&&(b=1);else if(typeof i=="string")b=5;else e:switch(i){case U:return Wo(c.children,m,v,l);case X:b=8,m|=8;break;case Q:return i=Nn(12,c,l,m|2),i.elementType=Q,i.lanes=v,i;case re:return i=Nn(13,c,l,m),i.elementType=re,i.lanes=v,i;case ye:return i=Nn(19,c,l,m),i.elementType=ye,i.lanes=v,i;case ie:return Ta(c,m,v,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case G:b=10;break e;case ge:b=9;break e;case fe:b=11;break e;case oe:b=14;break e;case Z:b=16,p=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return l=Nn(b,c,l,m),l.elementType=i,l.type=p,l.lanes=v,l}function Wo(i,l,c,p){return i=Nn(7,i,p,l),i.lanes=c,i}function Ta(i,l,c,p){return i=Nn(22,i,p,l),i.elementType=ie,i.lanes=c,i.stateNode={isHidden:!1},i}function Rf(i,l,c){return i=Nn(6,i,null,l),i.lanes=c,i}function Af(i,l,c){return l=Nn(4,i.children!==null?i.children:[],i.key,l),l.lanes=c,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function _k(i,l,c,p,m){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=rc(0),this.expirationTimes=rc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rc(0),this.identifierPrefix=p,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Df(i,l,c,p,m,v,b,E,R){return i=new _k(i,l,c,E,R),l===1?(l=1,v===!0&&(l|=8)):l=0,v=Nn(3,null,null,l),i.current=v,v.stateNode=i,v.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wc(v),i}function zk(i,l,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:p==null?null:""+p,children:i,containerInfo:l,implementation:c}}function Sg(i){if(!i)return Xr;i=i._reactInternals;e:{if(Cr(i)!==i||i.tag!==1)throw Error(t(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(en(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(t(171))}if(i.tag===1){var c=i.type;if(en(c))return Gh(i,c,l)}return l}function bg(i,l,c,p,m,v,b,E,R){return i=Df(c,p,!0,i,m,v,b,E,R),i.context=Sg(null),c=i.current,p=qt(),m=io(c),v=Rr(p,m),v.callback=l??null,to(c,v,m),i.current.lanes=m,xs(i,m,p),rn(i,p),i}function Oa(i,l,c,p){var m=l.current,v=qt(),b=io(m);return c=Sg(c),l.context===null?l.context=c:l.pendingContext=c,l=Rr(v,b),l.payload={element:i},p=p===void 0?null:p,p!==null&&(l.callback=p),i=to(m,l,b),i!==null&&(qn(i,m,b,v),oa(i,m,b)),b}function Ma(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Cg(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<l?c:l}}function If(i,l){Cg(i,l),(i=i.alternate)&&Cg(i,l)}function Fk(){return null}var Eg=typeof reportError=="function"?reportError:function(i){console.error(i)};function Pf(i){this._internalRoot=i}Na.prototype.render=Pf.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(t(409));Oa(i,l,null,null)},Na.prototype.unmount=Pf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;Bo(function(){Oa(null,i,null,null)}),l[Er]=null}};function Na(i){this._internalRoot=i}Na.prototype.unstable_scheduleHydration=function(i){if(i){var l=ah();i={blockedOn:null,target:i,priority:l};for(var c=0;c<Kr.length&&l!==0&&l<Kr[c].priority;c++);Kr.splice(c,0,i),c===0&&fh(i)}};function _f(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Ra(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Tg(){}function Lk(i,l,c,p,m){if(m){if(typeof p=="function"){var v=p;p=function(){var F=Ma(b);v.call(F)}}var b=bg(l,p,i,0,null,!1,!1,"",Tg);return i._reactRootContainer=b,i[Er]=b.current,Ps(i.nodeType===8?i.parentNode:i),Bo(),b}for(;m=i.lastChild;)i.removeChild(m);if(typeof p=="function"){var E=p;p=function(){var F=Ma(R);E.call(F)}}var R=Df(i,0,!1,null,null,!1,!1,"",Tg);return i._reactRootContainer=R,i[Er]=R.current,Ps(i.nodeType===8?i.parentNode:i),Bo(function(){Oa(l,R,c,p)}),R}function Aa(i,l,c,p,m){var v=c._reactRootContainer;if(v){var b=v;if(typeof m=="function"){var E=m;m=function(){var R=Ma(b);E.call(R)}}Oa(l,b,i,m)}else b=Lk(c,l,i,m,p);return Ma(b)}sh=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var c=ws(l.pendingLanes);c!==0&&(oc(l,c|1),rn(l,Ve()),!(ze&6)&&(Ii=Ve()+500,Zr()))}break;case 13:Bo(function(){var p=Nr(i,1);if(p!==null){var m=qt();qn(p,i,1,m)}}),If(i,1)}},ic=function(i){if(i.tag===13){var l=Nr(i,134217728);if(l!==null){var c=qt();qn(l,i,134217728,c)}If(i,134217728)}},lh=function(i){if(i.tag===13){var l=io(i),c=Nr(i,l);if(c!==null){var p=qt();qn(c,i,l,p)}If(i,l)}},ah=function(){return Be},uh=function(i,l){var c=Be;try{return Be=i,l()}finally{Be=c}},er=function(i,l,c){switch(l){case"input":if(rt(i,c),l=c.name,c.type==="radio"&&l!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<c.length;l++){var p=c[l];if(p!==i&&p.form===i.form){var m=Jl(p);if(!m)throw Error(t(90));Ne(p),rt(p,m)}}}break;case"textarea":Ro(i,c);break;case"select":l=c.value,l!=null&&et(i,!!c.multiple,l,!1)}},ke=Tf,De=Bo;var jk={usingClientEntryPoint:!1,Events:[Fs,xi,Jl,lt,Vt,Tf]},Ys={findFiberByHostInstance:Io,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$k={bundleType:Ys.bundleType,version:Ys.version,rendererPackageName:Ys.rendererPackageName,rendererConfig:Ys.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=ms(i),i===null?null:i.stateNode},findFiberByHostInstance:Ys.findFiberByHostInstance||Fk,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Da=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Da.isDisabled&&Da.supportsFiber)try{Nl=Da.inject($k),nr=Da}catch{}}return on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jk,on.createPortal=function(i,l){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_f(l))throw Error(t(200));return zk(i,l,null,c)},on.createRoot=function(i,l){if(!_f(i))throw Error(t(299));var c=!1,p="",m=Eg;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onRecoverableError!==void 0&&(m=l.onRecoverableError)),l=Df(i,1,!1,null,null,c,!1,p,m),i[Er]=l.current,Ps(i.nodeType===8?i.parentNode:i),new Pf(l)},on.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=ms(l),i=i===null?null:i.stateNode,i},on.flushSync=function(i){return Bo(i)},on.hydrate=function(i,l,c){if(!Ra(l))throw Error(t(200));return Aa(null,i,l,!0,c)},on.hydrateRoot=function(i,l,c){if(!_f(i))throw Error(t(405));var p=c!=null&&c.hydratedSources||null,m=!1,v="",b=Eg;if(c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(b=c.onRecoverableError)),l=bg(l,null,i,1,c??null,m,!1,v,b),i[Er]=l.current,Ps(i),p)for(i=0;i<p.length;i++)c=p[i],m=c._getVersion,m=m(c._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[c,m]:l.mutableSourceEagerHydrationData.push(c,m);return new Na(l)},on.render=function(i,l,c){if(!Ra(l))throw Error(t(200));return Aa(null,i,l,!1,c)},on.unmountComponentAtNode=function(i){if(!Ra(i))throw Error(t(40));return i._reactRootContainer?(Bo(function(){Aa(null,null,i,!1,function(){i._reactRootContainer=null,i[Er]=null})}),!0):!1},on.unstable_batchedUpdates=Tf,on.unstable_renderSubtreeIntoContainer=function(i,l,c,p){if(!Ra(c))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Aa(i,l,c,!1,p)},on.version="18.3.1-next-f1338f8080-20240426",on}var vy;function j0(){if(vy)return Yf.exports;vy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Yf.exports=wN(),Yf.exports}var wy;function xN(){if(wy)return za;wy=1;var n=j0();return za.createRoot=n.createRoot,za.hydrateRoot=n.hydrateRoot,za}var kN=xN();const SN=dp(kN);function Au(){return typeof window<"u"}function Oo(n){return $0(n)?(n.nodeName||"").toLowerCase():"#document"}function sn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function gr(n){var e;return(e=($0(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function $0(n){return Au()?n instanceof Node||n instanceof sn(n).Node:!1}function Ze(n){return Au()?n instanceof Element||n instanceof sn(n).Element:!1}function vt(n){return Au()?n instanceof HTMLElement||n instanceof sn(n).HTMLElement:!1}function jd(n){return!Au()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof sn(n).ShadowRoot}function Sl(n){const{overflow:e,overflowX:t,overflowY:r,display:o}=zn(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(o)}function bN(n){return["table","td","th"].includes(Oo(n))}function Du(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Cp(n){const e=Iu(),t=Ze(n)?zn(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function CN(n){let e=Vr(n);for(;vt(e)&&!Lr(e);){if(Cp(e))return e;if(Du(e))return null;e=Vr(e)}return null}function Iu(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Lr(n){return["html","body","#document"].includes(Oo(n))}function zn(n){return sn(n).getComputedStyle(n)}function Pu(n){return Ze(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Vr(n){if(Oo(n)==="html")return n;const e=n.assignedSlot||n.parentNode||jd(n)&&n.host||gr(n);return jd(e)?e.host:e}function B0(n){const e=Vr(n);return Lr(e)?n.ownerDocument?n.ownerDocument.body:n.body:vt(e)&&Sl(e)?e:B0(e)}function wo(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=B0(n),s=o===((r=n.ownerDocument)==null?void 0:r.body),a=sn(o);if(s){const u=$d(a);return e.concat(a,a.visualViewport||[],Sl(o)?o:[],u&&t?wo(u):[])}return e.concat(o,wo(o,[],t))}function $d(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function _r(n){let e=n.activeElement;for(;((t=e)==null||(t=t.shadowRoot)==null?void 0:t.activeElement)!=null;){var t;e=e.shadowRoot.activeElement}return e}function Kt(n,e){if(!n||!e)return!1;const t=e.getRootNode==null?void 0:e.getRootNode();if(n.contains(e))return!0;if(t&&jd(t)){let r=e;for(;r;){if(n===r)return!0;r=r.parentNode||r.host}}return!1}function V0(){const n=navigator.userAgentData;return n!=null&&n.platform?n.platform:navigator.platform}function H0(){const n=navigator.userAgentData;return n&&Array.isArray(n.brands)?n.brands.map(e=>{let{brand:t,version:r}=e;return t+"/"+r}).join(" "):navigator.userAgent}function EN(n){return n.mozInputSource===0&&n.isTrusted?!0:Bd()&&n.pointerType?n.type==="click"&&n.buttons===1:n.detail===0&&!n.pointerType}function W0(n){return ON()?!1:!Bd()&&n.width===0&&n.height===0||Bd()&&n.width===1&&n.height===1&&n.pressure===0&&n.detail===0&&n.pointerType==="mouse"||n.width<1&&n.height<1&&n.pressure===0&&n.detail===0&&n.pointerType==="touch"}function U0(){return/apple/i.test(navigator.vendor)}function Bd(){const n=/android/i;return n.test(V0())||n.test(H0())}function TN(){return V0().toLowerCase().startsWith("mac")&&!navigator.maxTouchPoints}function ON(){return H0().includes("jsdom/")}function xy(n,e){return["mouse","pen"].includes(n)}function MN(n){return"nativeEvent"in n}function NN(n){return n.matches("html,body")}function An(n){return(n==null?void 0:n.ownerDocument)||document}function ed(n,e){if(e==null)return!1;if("composedPath"in n)return n.composedPath().includes(e);const t=n;return t.target!=null&&e.contains(t.target)}function po(n){return"composedPath"in n?n.composedPath()[0]:n.target}const RN="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function Ep(n){return vt(n)&&n.matches(RN)}function td(n){n.preventDefault(),n.stopPropagation()}function AN(n){return n?n.getAttribute("role")==="combobox"&&Ep(n):!1}const iu=Math.min,Xo=Math.max,su=Math.round,Fa=Math.floor,fr=n=>({x:n,y:n});function ky(n,e,t){return Xo(n,iu(e,t))}function Tp(n,e){return typeof n=="function"?n(e):n}function _u(n){return n.split("-")[0]}function q0(n){return n.split("-")[1]}function K0(n){return n==="x"?"y":"x"}function DN(n){return n==="y"?"height":"width"}function zu(n){return["top","bottom"].includes(_u(n))?"y":"x"}function IN(n){return K0(zu(n))}function PN(n){return{top:0,right:0,bottom:0,left:0,...n}}function _N(n){return typeof n!="number"?PN(n):{top:n,right:n,bottom:n,left:n}}function lu(n){const{x:e,y:t,width:r,height:o}=n;return{width:r,height:o,top:t,left:e,right:e+r,bottom:t+o,x:e,y:t}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var zN=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],au=zN.join(","),J0=typeof Element>"u",is=J0?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,uu=!J0&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},cu=function n(e,t){var r;t===void 0&&(t=!0);var o=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=o===""||o==="true",a=s||t&&e&&n(e.parentNode);return a},FN=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},LN=function(e,t,r){if(cu(e))return[];var o=Array.prototype.slice.apply(e.querySelectorAll(au));return t&&is.call(e,au)&&o.unshift(e),o=o.filter(r),o},jN=function n(e,t,r){for(var o=[],s=Array.from(e);s.length;){var a=s.shift();if(!cu(a,!1))if(a.tagName==="SLOT"){var u=a.assignedElements(),f=u.length?u:a.children,d=n(f,!0,r);r.flatten?o.push.apply(o,d):o.push({scopeParent:a,candidates:d})}else{var h=is.call(a,au);h&&r.filter(a)&&(t||!e.includes(a))&&o.push(a);var g=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),w=!cu(g,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(g&&w){var y=n(g===!0?a.children:g.children,!0,r);r.flatten?o.push.apply(o,y):o.push({scopeParent:a,candidates:y})}else s.unshift.apply(s,a.children)}}return o},Q0=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},G0=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||FN(e))&&!Q0(e)?0:e.tabIndex},$N=function(e,t){var r=G0(e);return r<0&&t&&!Q0(e)?0:r},BN=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},Y0=function(e){return e.tagName==="INPUT"},VN=function(e){return Y0(e)&&e.type==="hidden"},HN=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},WN=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},UN=function(e){if(!e.name)return!0;var t=e.form||uu(e),r=function(u){return t.querySelectorAll('input[type="radio"][name="'+u+'"]')},o;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")o=r(window.CSS.escape(e.name));else try{o=r(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var s=WN(o,e.form);return!s||s===e},qN=function(e){return Y0(e)&&e.type==="radio"},KN=function(e){return qN(e)&&!UN(e)},JN=function(e){var t,r=e&&uu(e),o=(t=r)===null||t===void 0?void 0:t.host,s=!1;if(r&&r!==e){var a,u,f;for(s=!!((a=o)!==null&&a!==void 0&&(u=a.ownerDocument)!==null&&u!==void 0&&u.contains(o)||e!=null&&(f=e.ownerDocument)!==null&&f!==void 0&&f.contains(e));!s&&o;){var d,h,g;r=uu(o),o=(d=r)===null||d===void 0?void 0:d.host,s=!!((h=o)!==null&&h!==void 0&&(g=h.ownerDocument)!==null&&g!==void 0&&g.contains(o))}}return s},Sy=function(e){var t=e.getBoundingClientRect(),r=t.width,o=t.height;return r===0&&o===0},QN=function(e,t){var r=t.displayCheck,o=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=is.call(e,"details>summary:first-of-type"),a=s?e.parentElement:e;if(is.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof o=="function"){for(var u=e;e;){var f=e.parentElement,d=uu(e);if(f&&!f.shadowRoot&&o(f)===!0)return Sy(e);e.assignedSlot?e=e.assignedSlot:!f&&d!==e.ownerDocument?e=d.host:e=f}e=u}if(JN(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Sy(e);return!1},GN=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var o=t.children.item(r);if(o.tagName==="LEGEND")return is.call(t,"fieldset[disabled] *")?!0:!o.contains(e)}return!0}t=t.parentElement}return!1},YN=function(e,t){return!(t.disabled||cu(t)||VN(t)||QN(t,e)||HN(t)||GN(t))},Vd=function(e,t){return!(KN(t)||G0(t)<0||!YN(e,t))},XN=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},ZN=function n(e){var t=[],r=[];return e.forEach(function(o,s){var a=!!o.scopeParent,u=a?o.scopeParent:o,f=$N(u,a),d=a?n(o.candidates):u;f===0?a?t.push.apply(t,d):t.push(u):r.push({documentOrder:s,tabIndex:f,item:o,isScope:a,content:d})}),r.sort(BN).reduce(function(o,s){return s.isScope?o.push.apply(o,s.content):o.push(s.content),o},[]).concat(t)},Fu=function(e,t){t=t||{};var r;return t.getShadowRoot?r=jN([e],t.includeContainer,{filter:Vd.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:XN}):r=LN(e,t.includeContainer,Vd.bind(null,t)),ZN(r)},eR=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return is.call(e,au)===!1?!1:Vd(t,e)},Op=j0();const tR=dp(Op);function by(n,e,t){let{reference:r,floating:o}=n;const s=zu(e),a=IN(e),u=DN(a),f=_u(e),d=s==="y",h=r.x+r.width/2-o.width/2,g=r.y+r.height/2-o.height/2,w=r[u]/2-o[u]/2;let y;switch(f){case"top":y={x:h,y:r.y-o.height};break;case"bottom":y={x:h,y:r.y+r.height};break;case"right":y={x:r.x+r.width,y:g};break;case"left":y={x:r.x-o.width,y:g};break;default:y={x:r.x,y:r.y}}switch(q0(e)){case"start":y[a]-=w*(t&&d?-1:1);break;case"end":y[a]+=w*(t&&d?-1:1);break}return y}const nR=async(n,e,t)=>{const{placement:r="bottom",strategy:o="absolute",middleware:s=[],platform:a}=t,u=s.filter(Boolean),f=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:n,floating:e,strategy:o}),{x:h,y:g}=by(d,r,f),w=r,y={},x=0;for(let k=0;k<u.length;k++){const{name:S,fn:C}=u[k],{x:T,y:N,data:I,reset:P}=await C({x:h,y:g,initialPlacement:r,placement:w,strategy:o,middlewareData:y,rects:d,platform:a,elements:{reference:n,floating:e}});h=T??h,g=N??g,y={...y,[S]:{...y[S],...I}},P&&x<=50&&(x++,typeof P=="object"&&(P.placement&&(w=P.placement),P.rects&&(d=P.rects===!0?await a.getElementRects({reference:n,floating:e,strategy:o}):P.rects),{x:h,y:g}=by(d,w,f)),k=-1)}return{x:h,y:g,placement:w,strategy:o,middlewareData:y}};async function rR(n,e){var t;e===void 0&&(e={});const{x:r,y:o,platform:s,rects:a,elements:u,strategy:f}=n,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:g="floating",altBoundary:w=!1,padding:y=0}=Tp(e,n),x=_N(y),S=u[w?g==="floating"?"reference":"floating":g],C=lu(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(S)))==null||t?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:d,rootBoundary:h,strategy:f})),T=g==="floating"?{x:r,y:o,width:a.floating.width,height:a.floating.height}:a.reference,N=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),I=await(s.isElement==null?void 0:s.isElement(N))?await(s.getScale==null?void 0:s.getScale(N))||{x:1,y:1}:{x:1,y:1},P=lu(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:T,offsetParent:N,strategy:f}):T);return{top:(C.top-P.top+x.top)/I.y,bottom:(P.bottom-C.bottom+x.bottom)/I.y,left:(C.left-P.left+x.left)/I.x,right:(P.right-C.right+x.right)/I.x}}async function oR(n,e){const{placement:t,platform:r,elements:o}=n,s=await(r.isRTL==null?void 0:r.isRTL(o.floating)),a=_u(t),u=q0(t),f=zu(t)==="y",d=["left","top"].includes(a)?-1:1,h=s&&f?-1:1,g=Tp(e,n);let{mainAxis:w,crossAxis:y,alignmentAxis:x}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return u&&typeof x=="number"&&(y=u==="end"?x*-1:x),f?{x:y*h,y:w*d}:{x:w*d,y:y*h}}const iR=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:o,y:s,placement:a,middlewareData:u}=e,f=await oR(e,n);return a===((t=u.offset)==null?void 0:t.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:o+f.x,y:s+f.y,data:{...f,placement:a}}}}},sR=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:o}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:u={fn:S=>{let{x:C,y:T}=S;return{x:C,y:T}}},...f}=Tp(n,e),d={x:t,y:r},h=await rR(e,f),g=zu(_u(o)),w=K0(g);let y=d[w],x=d[g];if(s){const S=w==="y"?"top":"left",C=w==="y"?"bottom":"right",T=y+h[S],N=y-h[C];y=ky(T,y,N)}if(a){const S=g==="y"?"top":"left",C=g==="y"?"bottom":"right",T=x+h[S],N=x-h[C];x=ky(T,x,N)}const k=u.fn({...e,[w]:y,[g]:x});return{...k,data:{x:k.x-t,y:k.y-r,enabled:{[w]:s,[g]:a}}}}}};function X0(n){const e=zn(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=vt(n),s=o?n.offsetWidth:t,a=o?n.offsetHeight:r,u=su(t)!==s||su(r)!==a;return u&&(t=s,r=a),{width:t,height:r,$:u}}function Mp(n){return Ze(n)?n:n.contextElement}function Gi(n){const e=Mp(n);if(!vt(e))return fr(1);const t=e.getBoundingClientRect(),{width:r,height:o,$:s}=X0(e);let a=(s?su(t.width):t.width)/r,u=(s?su(t.height):t.height)/o;return(!a||!Number.isFinite(a))&&(a=1),(!u||!Number.isFinite(u))&&(u=1),{x:a,y:u}}const lR=fr(0);function Z0(n){const e=sn(n);return!Iu()||!e.visualViewport?lR:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function aR(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==sn(n)?!1:e}function si(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),s=Mp(n);let a=fr(1);e&&(r?Ze(r)&&(a=Gi(r)):a=Gi(n));const u=aR(s,t,r)?Z0(s):fr(0);let f=(o.left+u.x)/a.x,d=(o.top+u.y)/a.y,h=o.width/a.x,g=o.height/a.y;if(s){const w=sn(s),y=r&&Ze(r)?sn(r):r;let x=w,k=$d(x);for(;k&&r&&y!==x;){const S=Gi(k),C=k.getBoundingClientRect(),T=zn(k),N=C.left+(k.clientLeft+parseFloat(T.paddingLeft))*S.x,I=C.top+(k.clientTop+parseFloat(T.paddingTop))*S.y;f*=S.x,d*=S.y,h*=S.x,g*=S.y,f+=N,d+=I,x=sn(k),k=$d(x)}}return lu({width:h,height:g,x:f,y:d})}function Np(n,e){const t=Pu(n).scrollLeft;return e?e.left+t:si(gr(n)).left+t}function ew(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),o=r.left+e.scrollLeft-(t?0:Np(n,r)),s=r.top+e.scrollTop;return{x:o,y:s}}function uR(n){let{elements:e,rect:t,offsetParent:r,strategy:o}=n;const s=o==="fixed",a=gr(r),u=e?Du(e.floating):!1;if(r===a||u&&s)return t;let f={scrollLeft:0,scrollTop:0},d=fr(1);const h=fr(0),g=vt(r);if((g||!g&&!s)&&((Oo(r)!=="body"||Sl(a))&&(f=Pu(r)),vt(r))){const y=si(r);d=Gi(r),h.x=y.x+r.clientLeft,h.y=y.y+r.clientTop}const w=a&&!g&&!s?ew(a,f,!0):fr(0);return{width:t.width*d.x,height:t.height*d.y,x:t.x*d.x-f.scrollLeft*d.x+h.x+w.x,y:t.y*d.y-f.scrollTop*d.y+h.y+w.y}}function cR(n){return Array.from(n.getClientRects())}function fR(n){const e=gr(n),t=Pu(n),r=n.ownerDocument.body,o=Xo(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Xo(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-t.scrollLeft+Np(n);const u=-t.scrollTop;return zn(r).direction==="rtl"&&(a+=Xo(e.clientWidth,r.clientWidth)-o),{width:o,height:s,x:a,y:u}}function dR(n,e){const t=sn(n),r=gr(n),o=t.visualViewport;let s=r.clientWidth,a=r.clientHeight,u=0,f=0;if(o){s=o.width,a=o.height;const d=Iu();(!d||d&&e==="fixed")&&(u=o.offsetLeft,f=o.offsetTop)}return{width:s,height:a,x:u,y:f}}function pR(n,e){const t=si(n,!0,e==="fixed"),r=t.top+n.clientTop,o=t.left+n.clientLeft,s=vt(n)?Gi(n):fr(1),a=n.clientWidth*s.x,u=n.clientHeight*s.y,f=o*s.x,d=r*s.y;return{width:a,height:u,x:f,y:d}}function Cy(n,e,t){let r;if(e==="viewport")r=dR(n,t);else if(e==="document")r=fR(gr(n));else if(Ze(e))r=pR(e,t);else{const o=Z0(n);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return lu(r)}function tw(n,e){const t=Vr(n);return t===e||!Ze(t)||Lr(t)?!1:zn(t).position==="fixed"||tw(t,e)}function hR(n,e){const t=e.get(n);if(t)return t;let r=wo(n,[],!1).filter(u=>Ze(u)&&Oo(u)!=="body"),o=null;const s=zn(n).position==="fixed";let a=s?Vr(n):n;for(;Ze(a)&&!Lr(a);){const u=zn(a),f=Cp(a);!f&&u.position==="fixed"&&(o=null),(s?!f&&!o:!f&&u.position==="static"&&!!o&&["absolute","fixed"].includes(o.position)||Sl(a)&&!f&&tw(n,a))?r=r.filter(h=>h!==a):o=u,a=Vr(a)}return e.set(n,r),r}function mR(n){let{element:e,boundary:t,rootBoundary:r,strategy:o}=n;const a=[...t==="clippingAncestors"?Du(e)?[]:hR(e,this._c):[].concat(t),r],u=a[0],f=a.reduce((d,h)=>{const g=Cy(e,h,o);return d.top=Xo(g.top,d.top),d.right=iu(g.right,d.right),d.bottom=iu(g.bottom,d.bottom),d.left=Xo(g.left,d.left),d},Cy(e,u,o));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function gR(n){const{width:e,height:t}=X0(n);return{width:e,height:t}}function yR(n,e,t){const r=vt(e),o=gr(e),s=t==="fixed",a=si(n,!0,s,e);let u={scrollLeft:0,scrollTop:0};const f=fr(0);if(r||!r&&!s)if((Oo(e)!=="body"||Sl(o))&&(u=Pu(e)),r){const w=si(e,!0,s,e);f.x=w.x+e.clientLeft,f.y=w.y+e.clientTop}else o&&(f.x=Np(o));const d=o&&!r&&!s?ew(o,u):fr(0),h=a.left+u.scrollLeft-f.x-d.x,g=a.top+u.scrollTop-f.y-d.y;return{x:h,y:g,width:a.width,height:a.height}}function nd(n){return zn(n).position==="static"}function Ey(n,e){if(!vt(n)||zn(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return gr(n)===t&&(t=t.ownerDocument.body),t}function nw(n,e){const t=sn(n);if(Du(n))return t;if(!vt(n)){let o=Vr(n);for(;o&&!Lr(o);){if(Ze(o)&&!nd(o))return o;o=Vr(o)}return t}let r=Ey(n,e);for(;r&&bN(r)&&nd(r);)r=Ey(r,e);return r&&Lr(r)&&nd(r)&&!Cp(r)?t:r||CN(n)||t}const vR=async function(n){const e=this.getOffsetParent||nw,t=this.getDimensions,r=await t(n.floating);return{reference:yR(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function wR(n){return zn(n).direction==="rtl"}const xR={convertOffsetParentRelativeRectToViewportRelativeRect:uR,getDocumentElement:gr,getClippingRect:mR,getOffsetParent:nw,getElementRects:vR,getClientRects:cR,getDimensions:gR,getScale:Gi,isElement:Ze,isRTL:wR};function rw(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function kR(n,e){let t=null,r;const o=gr(n);function s(){var u;clearTimeout(r),(u=t)==null||u.disconnect(),t=null}function a(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),s();const d=n.getBoundingClientRect(),{left:h,top:g,width:w,height:y}=d;if(u||e(),!w||!y)return;const x=Fa(g),k=Fa(o.clientWidth-(h+w)),S=Fa(o.clientHeight-(g+y)),C=Fa(h),N={rootMargin:-x+"px "+-k+"px "+-S+"px "+-C+"px",threshold:Xo(0,iu(1,f))||1};let I=!0;function P(B){const U=B[0].intersectionRatio;if(U!==f){if(!I)return a();U?a(!1,U):r=setTimeout(()=>{a(!1,1e-7)},1e3)}U===1&&!rw(d,n.getBoundingClientRect())&&a(),I=!1}try{t=new IntersectionObserver(P,{...N,root:o.ownerDocument})}catch{t=new IntersectionObserver(P,N)}t.observe(n)}return a(!0),s}function SR(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,d=Mp(n),h=o||s?[...d?wo(d):[],...wo(e)]:[];h.forEach(C=>{o&&C.addEventListener("scroll",t,{passive:!0}),s&&C.addEventListener("resize",t)});const g=d&&u?kR(d,t):null;let w=-1,y=null;a&&(y=new ResizeObserver(C=>{let[T]=C;T&&T.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var N;(N=y)==null||N.observe(e)})),t()}),d&&!f&&y.observe(d),y.observe(e));let x,k=f?si(n):null;f&&S();function S(){const C=si(n);k&&!rw(k,C)&&t(),k=C,x=requestAnimationFrame(S)}return t(),()=>{var C;h.forEach(T=>{o&&T.removeEventListener("scroll",t),s&&T.removeEventListener("resize",t)}),g==null||g(),(C=y)==null||C.disconnect(),y=null,f&&cancelAnimationFrame(x)}}const bR=iR,CR=sR,ER=(n,e,t)=>{const r=new Map,o={platform:xR,...t},s={...o.platform,_c:r};return nR(n,e,{...o,platform:s})};var Ka=typeof document<"u"?O.useLayoutEffect:O.useEffect;function fu(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!fu(n[r],e[r]))return!1;return!0}if(o=Object.keys(n),t=o.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=t;r--!==0;){const s=o[r];if(!(s==="_owner"&&n.$$typeof)&&!fu(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function ow(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Ty(n,e){const t=ow(n);return Math.round(e*t)/t}function rd(n){const e=O.useRef(n);return Ka(()=>{e.current=n}),e}function TR(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:o,elements:{reference:s,floating:a}={},transform:u=!0,whileElementsMounted:f,open:d}=n,[h,g]=O.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[w,y]=O.useState(r);fu(w,r)||y(r);const[x,k]=O.useState(null),[S,C]=O.useState(null),T=O.useCallback(L=>{L!==B.current&&(B.current=L,k(L))},[]),N=O.useCallback(L=>{L!==U.current&&(U.current=L,C(L))},[]),I=s||x,P=a||S,B=O.useRef(null),U=O.useRef(null),X=O.useRef(h),Q=f!=null,G=rd(f),ge=rd(o),fe=rd(d),re=O.useCallback(()=>{if(!B.current||!U.current)return;const L={placement:e,strategy:t,middleware:w};ge.current&&(L.platform=ge.current),ER(B.current,U.current,L).then(V=>{const j={...V,isPositioned:fe.current!==!1};ye.current&&!fu(X.current,j)&&(X.current=j,Op.flushSync(()=>{g(j)}))})},[w,e,t,ge,fe]);Ka(()=>{d===!1&&X.current.isPositioned&&(X.current.isPositioned=!1,g(L=>({...L,isPositioned:!1})))},[d]);const ye=O.useRef(!1);Ka(()=>(ye.current=!0,()=>{ye.current=!1}),[]),Ka(()=>{if(I&&(B.current=I),P&&(U.current=P),I&&P){if(G.current)return G.current(I,P,re);re()}},[I,P,re,G,Q]);const oe=O.useMemo(()=>({reference:B,floating:U,setReference:T,setFloating:N}),[T,N]),Z=O.useMemo(()=>({reference:I,floating:P}),[I,P]),ie=O.useMemo(()=>{const L={position:t,left:0,top:0};if(!Z.floating)return L;const V=Ty(Z.floating,h.x),j=Ty(Z.floating,h.y);return u?{...L,transform:"translate("+V+"px, "+j+"px)",...ow(Z.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:V,top:j}},[t,u,Z.floating,h.x,h.y]);return O.useMemo(()=>({...h,update:re,refs:oe,elements:Z,floatingStyles:ie}),[h,re,oe,Z,ie])}const OR=(n,e)=>({...bR(n),options:[n,e]}),MR=(n,e)=>({...CR(n),options:[n,e]}),iw={...qk},NR=iw.useInsertionEffect,RR=NR||(n=>n());function zr(n){const e=O.useRef(()=>{});return RR(()=>{e.current=n}),O.useCallback(function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return e.current==null?void 0:e.current(...r)},[])}var Pn=typeof document<"u"?O.useLayoutEffect:O.useEffect;let Oy=!1,AR=0;const My=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+AR++;function DR(){const[n,e]=O.useState(()=>Oy?My():void 0);return Pn(()=>{n==null&&e(My())},[]),O.useEffect(()=>{Oy=!0},[]),n}const IR=iw.useId,sw=IR||DR;function PR(){const n=new Map;return{emit(e,t){var r;(r=n.get(e))==null||r.forEach(o=>o(t))},on(e,t){n.set(e,[...n.get(e)||[],t])},off(e,t){var r;n.set(e,((r=n.get(e))==null?void 0:r.filter(o=>o!==t))||[])}}}const _R=O.createContext(null),zR=O.createContext(null),FR=()=>{var n;return((n=O.useContext(_R))==null?void 0:n.id)||null},Rp=()=>O.useContext(zR);function ss(n){return"data-floating-ui-"+n}function LR(n){n.current!==-1&&(clearTimeout(n.current),n.current=-1)}function od(n){const e=O.useRef(n);return Pn(()=>{e.current=n}),e}let Ny=0;function Fi(n,e){e===void 0&&(e={});const{preventScroll:t=!1,cancelPrevious:r=!0,sync:o=!1}=e;r&&cancelAnimationFrame(Ny);const s=()=>n==null?void 0:n.focus({preventScroll:t});o?s():Ny=requestAnimationFrame(s)}function Ry(n,e){var t;let r=[],o=(t=n.find(s=>s.id===e))==null?void 0:t.parentId;for(;o;){const s=n.find(a=>a.id===o);o=s==null?void 0:s.parentId,s&&(r=r.concat(s))}return r}function il(n,e){let t=n.filter(o=>{var s;return o.parentId===e&&((s=o.context)==null?void 0:s.open)}),r=t;for(;r.length;)r=n.filter(o=>{var s;return(s=r)==null?void 0:s.some(a=>{var u;return o.parentId===a.id&&((u=o.context)==null?void 0:u.open)})}),t=t.concat(r);return t}let Li=new WeakMap,La=new WeakSet,ja={},id=0;const jR=()=>typeof HTMLElement<"u"&&"inert"in HTMLElement.prototype,lw=n=>n&&(n.host||lw(n.parentNode)),$R=(n,e)=>e.map(t=>{if(n.contains(t))return t;const r=lw(t);return n.contains(r)?r:null}).filter(t=>t!=null);function BR(n,e,t,r){const o="data-floating-ui-inert",s=r?"inert":t?"aria-hidden":null,a=$R(e,n),u=new Set,f=new Set(a),d=[];ja[o]||(ja[o]=new WeakMap);const h=ja[o];a.forEach(g),w(e),u.clear();function g(y){!y||u.has(y)||(u.add(y),y.parentNode&&g(y.parentNode))}function w(y){!y||f.has(y)||[].forEach.call(y.children,x=>{if(Oo(x)!=="script")if(u.has(x))w(x);else{const k=s?x.getAttribute(s):null,S=k!==null&&k!=="false",C=Li.get(x)||0,T=s?C+1:C,N=(h.get(x)||0)+1;Li.set(x,T),h.set(x,N),d.push(x),T===1&&S&&La.add(x),N===1&&x.setAttribute(o,""),!S&&s&&x.setAttribute(s,"true")}})}return id++,()=>{d.forEach(y=>{const x=Li.get(y)||0,k=s?x-1:x,S=(h.get(y)||0)-1;Li.set(y,k),h.set(y,S),k||(!La.has(y)&&s&&y.removeAttribute(s),La.delete(y)),S||y.removeAttribute(o)}),id--,id||(Li=new WeakMap,Li=new WeakMap,La=new WeakSet,ja={})}}function Ay(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);const r=An(n[0]).body;return BR(n.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,e,t)}const Lu=()=>({getShadowRoot:!0,displayCheck:typeof ResizeObserver=="function"&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function aw(n,e){const t=Fu(n,Lu());e==="prev"&&t.reverse();const r=t.indexOf(_r(An(n)));return t.slice(r+1)[0]}function uw(){return aw(document.body,"next")}function cw(){return aw(document.body,"prev")}function sl(n,e){const t=e||n.currentTarget,r=n.relatedTarget;return!r||!Kt(t,r)}function VR(n){Fu(n,Lu()).forEach(t=>{t.dataset.tabindex=t.getAttribute("tabindex")||"",t.setAttribute("tabindex","-1")})}function Dy(n){n.querySelectorAll("[data-tabindex]").forEach(t=>{const r=t.dataset.tabindex;delete t.dataset.tabindex,r?t.setAttribute("tabindex",r):t.removeAttribute("tabindex")})}const ju={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},du=O.forwardRef(function(e,t){const[r,o]=O.useState();Pn(()=>{U0()&&o("button")},[]);const s={ref:t,tabIndex:0,role:r,"aria-hidden":r?void 0:!0,[ss("focus-guard")]:"",style:ju};return D.jsx("span",{...e,...s})}),fw=O.createContext(null),Iy=ss("portal");function HR(n){n===void 0&&(n={});const{id:e,root:t}=n,r=sw(),o=dw(),[s,a]=O.useState(null),u=O.useRef(null);return Pn(()=>()=>{s==null||s.remove(),queueMicrotask(()=>{u.current=null})},[s]),Pn(()=>{if(!r||u.current)return;const f=e?document.getElementById(e):null;if(!f)return;const d=document.createElement("div");d.id=r,d.setAttribute(Iy,""),f.appendChild(d),u.current=d,a(d)},[e,r]),Pn(()=>{if(t===null||!r||u.current)return;let f=t||(o==null?void 0:o.portalNode);f&&!Ze(f)&&(f=f.current),f=f||document.body;let d=null;e&&(d=document.createElement("div"),d.id=e,f.appendChild(d));const h=document.createElement("div");h.id=r,h.setAttribute(Iy,""),f=d||f,f.appendChild(h),u.current=h,a(h)},[e,t,r,o]),s}function WR(n){const{children:e,id:t,root:r,preserveTabOrder:o=!0}=n,s=HR({id:t,root:r}),[a,u]=O.useState(null),f=O.useRef(null),d=O.useRef(null),h=O.useRef(null),g=O.useRef(null),w=a==null?void 0:a.modal,y=a==null?void 0:a.open,x=!!a&&!a.modal&&a.open&&o&&!!(r||s);return O.useEffect(()=>{if(!s||!o||w)return;function k(S){s&&sl(S)&&(S.type==="focusin"?Dy:VR)(s)}return s.addEventListener("focusin",k,!0),s.addEventListener("focusout",k,!0),()=>{s.removeEventListener("focusin",k,!0),s.removeEventListener("focusout",k,!0)}},[s,o,w]),O.useEffect(()=>{s&&(y||Dy(s))},[y,s]),D.jsxs(fw.Provider,{value:O.useMemo(()=>({preserveTabOrder:o,beforeOutsideRef:f,afterOutsideRef:d,beforeInsideRef:h,afterInsideRef:g,portalNode:s,setFocusManagerState:u}),[o,s]),children:[x&&s&&D.jsx(du,{"data-type":"outside",ref:f,onFocus:k=>{if(sl(k,s)){var S;(S=h.current)==null||S.focus()}else{const C=cw()||(a==null?void 0:a.domReference);C==null||C.focus()}}}),x&&s&&D.jsx("span",{"aria-owns":s.id,style:ju}),s&&Op.createPortal(e,s),x&&s&&D.jsx(du,{"data-type":"outside",ref:d,onFocus:k=>{if(sl(k,s)){var S;(S=g.current)==null||S.focus()}else{const C=uw()||(a==null?void 0:a.domReference);C==null||C.focus(),a!=null&&a.closeOnFocusOut&&(a==null||a.onOpenChange(!1,k.nativeEvent,"focus-out"))}}})]})}const dw=()=>O.useContext(fw),Hd="data-floating-ui-focusable";function Py(n){return n?n.hasAttribute(Hd)?n:n.querySelector("["+Hd+"]")||n:null}function _y(n){return O.useMemo(()=>e=>{n.forEach(t=>{t&&(t.current=e)})},n)}const UR=20;let Uo=[];function qR(n){Uo=Uo.filter(e=>e.isConnected),n&&Oo(n)!=="body"&&(Uo.push(n),Uo.length>UR&&(Uo=Uo.slice(-20)))}function zy(){return Uo.slice().reverse().find(n=>n.isConnected)}function KR(n){const e=Lu();return eR(n,e)?n:Fu(n,e)[0]||n}const JR=O.forwardRef(function(e,t){return D.jsx("button",{...e,type:"button",ref:t,tabIndex:-1,style:ju})});function QR(n){const{context:e,children:t,disabled:r=!1,order:o=["content"],guards:s=!0,initialFocus:a=0,returnFocus:u=!0,restoreFocus:f=!1,modal:d=!0,visuallyHiddenDismiss:h=!1,closeOnFocusOut:g=!0,outsideElementsInert:w=!1}=n,{open:y,onOpenChange:x,events:k,dataRef:S,elements:{domReference:C,floating:T}}=e,N=zr(()=>{var ee;return(ee=S.current.floatingContext)==null?void 0:ee.nodeId}),I=typeof a=="number"&&a<0,P=AN(C)&&I,B=jR(),U=B?s:!0,X=!U||B&&w,Q=od(o),G=od(a),ge=od(u),fe=Rp(),re=dw(),ye=O.useRef(null),oe=O.useRef(null),Z=O.useRef(!1),ie=O.useRef(!1),L=O.useRef(-1),V=re!=null,j=Py(T),M=zr(function(ee){return ee===void 0&&(ee=j),ee?Fu(ee,Lu()):[]}),$=zr(ee=>{const de=M(ee);return Q.current.map(me=>C&&me==="reference"?C:j&&me==="floating"?j:de).filter(Boolean).flat()});O.useEffect(()=>{if(r||!d)return;function ee(me){if(me.key==="Tab"){Kt(j,_r(An(j)))&&M().length===0&&!P&&td(me);const Ne=$(),Pe=po(me);Q.current[0]==="reference"&&Pe===C&&(td(me),me.shiftKey?Fi(Ne[Ne.length-1]):Fi(Ne[1])),Q.current[1]==="floating"&&Pe===j&&me.shiftKey&&(td(me),Fi(Ne[0]))}}const de=An(j);return de.addEventListener("keydown",ee),()=>{de.removeEventListener("keydown",ee)}},[r,C,j,d,Q,P,M,$]),O.useEffect(()=>{if(r||!T)return;function ee(de){const me=po(de),Pe=M().indexOf(me);Pe!==-1&&(L.current=Pe)}return T.addEventListener("focusin",ee),()=>{T.removeEventListener("focusin",ee)}},[r,T,M]),O.useEffect(()=>{if(r||!g)return;function ee(){ie.current=!0,setTimeout(()=>{ie.current=!1})}function de(me){const Ne=me.relatedTarget;queueMicrotask(()=>{const Pe=N(),Ke=!(Kt(C,Ne)||Kt(T,Ne)||Kt(Ne,T)||Kt(re==null?void 0:re.portalNode,Ne)||Ne!=null&&Ne.hasAttribute(ss("focus-guard"))||fe&&(il(fe.nodesRef.current,Pe).find(_e=>{var Je,rt;return Kt((Je=_e.context)==null?void 0:Je.elements.floating,Ne)||Kt((rt=_e.context)==null?void 0:rt.elements.domReference,Ne)})||Ry(fe.nodesRef.current,Pe).find(_e=>{var Je,rt,ct;return[(Je=_e.context)==null?void 0:Je.elements.floating,Py((rt=_e.context)==null?void 0:rt.elements.floating)].includes(Ne)||((ct=_e.context)==null?void 0:ct.elements.domReference)===Ne})));if(f&&Ke&&_r(An(j))===An(j).body){vt(j)&&j.focus();const _e=L.current,Je=M(),rt=Je[_e]||Je[Je.length-1]||j;vt(rt)&&rt.focus()}(P||!d)&&Ne&&Ke&&!ie.current&&Ne!==zy()&&(Z.current=!0,x(!1,me,"focus-out"))})}if(T&&vt(C))return C.addEventListener("focusout",de),C.addEventListener("pointerdown",ee),T.addEventListener("focusout",de),()=>{C.removeEventListener("focusout",de),C.removeEventListener("pointerdown",ee),T.removeEventListener("focusout",de)}},[r,C,T,j,d,fe,re,x,g,f,M,P,N]);const pe=O.useRef(null),Ee=O.useRef(null),Me=_y([pe,re==null?void 0:re.beforeInsideRef]),ve=_y([Ee,re==null?void 0:re.afterInsideRef]);O.useEffect(()=>{var ee;if(r||!T)return;const de=Array.from((re==null||(ee=re.portalNode)==null?void 0:ee.querySelectorAll("["+ss("portal")+"]"))||[]),me=fe&&!d?Ry(fe==null?void 0:fe.nodesRef.current,N()).map(Ke=>{var _e;return(_e=Ke.context)==null?void 0:_e.elements.floating}):[],Ne=[T,...de,...me,ye.current,oe.current,pe.current,Ee.current,re==null?void 0:re.beforeOutsideRef.current,re==null?void 0:re.afterOutsideRef.current,Q.current.includes("reference")||P?C:null].filter(Ke=>Ke!=null),Pe=d||P?Ay(Ne,!X,X):Ay(Ne);return()=>{Pe()}},[r,C,T,d,Q,re,P,U,X,fe,N]),Pn(()=>{if(r||!vt(j))return;const ee=An(j),de=_r(ee);queueMicrotask(()=>{const me=$(j),Ne=G.current,Pe=(typeof Ne=="number"?me[Ne]:Ne.current)||j,Ke=Kt(j,de);!I&&!Ke&&y&&Fi(Pe,{preventScroll:Pe===j})})},[r,y,j,I,$,G]),Pn(()=>{if(r||!j)return;let ee=!1,de=!1;const me=An(j),Ne=_r(me);let Ke=S.current.openEvent;qR(Ne);function _e(ct){let{open:Le,reason:Tt,event:et,nested:Yt}=ct;if(Le&&(Ke=et),Tt==="escape-key"&&(de=!0),["hover","safe-polygon"].includes(Tt)&&et.type==="mouseleave"&&(Z.current=!0),Tt==="outside-press")if(Yt)Z.current=!1,ee=!0;else if(EN(et)||W0(et))Z.current=!1;else{let Fn=!1;document.createElement("div").focus({get preventScroll(){return Fn=!0,!1}}),Fn?(Z.current=!1,ee=!0):Z.current=!0}}k.on("openchange",_e);const Je=me.createElement("span");Je.setAttribute("tabindex","-1"),Je.setAttribute("aria-hidden","true"),Object.assign(Je.style,ju),V&&C&&C.insertAdjacentElement("afterend",Je);function rt(){return typeof ge.current=="boolean"?de&&C?C:zy()||Je:ge.current.current||Je}return()=>{k.off("openchange",_e);const ct=_r(me),Le=Kt(T,ct)||fe&&il(fe.nodesRef.current,N()).some(et=>{var Yt;return Kt((Yt=et.context)==null?void 0:Yt.elements.floating,ct)});(Le||Ke&&["click","mousedown"].includes(Ke.type))&&(de=!0);const Tt=rt();queueMicrotask(()=>{const et=KR(Tt);ge.current&&!Z.current&&vt(et)&&(!(et!==ct&&ct!==me.body)||Le)&&et.focus({preventScroll:ee}),Je.remove()})}},[r,T,j,ge,S,k,fe,V,C,N]),O.useEffect(()=>{queueMicrotask(()=>{Z.current=!1})},[r]),Pn(()=>{if(!r&&re)return re.setFocusManagerState({modal:d,closeOnFocusOut:g,open:y,onOpenChange:x,domReference:C}),()=>{re.setFocusManagerState(null)}},[r,re,d,y,x,g,C]),Pn(()=>{if(r||!j||typeof MutationObserver!="function"||I)return;const ee=()=>{const me=j.getAttribute("tabindex"),Ne=M(),Pe=_r(An(T)),Ke=Ne.indexOf(Pe);Ke!==-1&&(L.current=Ke),Q.current.includes("floating")||Pe!==C&&Ne.length===0?me!=="0"&&j.setAttribute("tabindex","0"):me!=="-1"&&j.setAttribute("tabindex","-1")};ee();const de=new MutationObserver(ee);return de.observe(j,{childList:!0,subtree:!0,attributes:!0}),()=>{de.disconnect()}},[r,T,j,C,Q,M,I]);function Oe(ee){return r||!h||!d?null:D.jsx(JR,{ref:ee==="start"?ye:oe,onClick:de=>x(!1,de.nativeEvent),children:typeof h=="string"?h:"Dismiss"})}const he=!r&&U&&(d?!P:!0)&&(V||d);return D.jsxs(D.Fragment,{children:[he&&D.jsx(du,{"data-type":"inside",ref:Me,onFocus:ee=>{if(d){const me=$();Fi(o[0]==="reference"?me[0]:me[me.length-1])}else if(re!=null&&re.preserveTabOrder&&re.portalNode)if(Z.current=!1,sl(ee,re.portalNode)){const me=uw()||C;me==null||me.focus()}else{var de;(de=re.beforeOutsideRef.current)==null||de.focus()}}}),!P&&Oe("start"),t,Oe("end"),he&&D.jsx(du,{"data-type":"inside",ref:ve,onFocus:ee=>{if(d)Fi($()[0]);else if(re!=null&&re.preserveTabOrder&&re.portalNode)if(g&&(Z.current=!0),sl(ee,re.portalNode)){const me=cw()||C;me==null||me.focus()}else{var de;(de=re.afterOutsideRef.current)==null||de.focus()}}})]})}function Fy(n){return vt(n.target)&&n.target.tagName==="BUTTON"}function Ly(n){return Ep(n)}function GR(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,dataRef:o,elements:{domReference:s}}=n,{enabled:a=!0,event:u="click",toggle:f=!0,ignoreMouse:d=!1,keyboardHandlers:h=!0,stickIfOpen:g=!0}=e,w=O.useRef(),y=O.useRef(!1),x=O.useMemo(()=>({onPointerDown(k){w.current=k.pointerType},onMouseDown(k){const S=w.current;k.button===0&&u!=="click"&&(xy(S)&&d||(t&&f&&(!(o.current.openEvent&&g)||o.current.openEvent.type==="mousedown")?r(!1,k.nativeEvent,"click"):(k.preventDefault(),r(!0,k.nativeEvent,"click"))))},onClick(k){const S=w.current;if(u==="mousedown"&&w.current){w.current=void 0;return}xy(S)&&d||(t&&f&&(!(o.current.openEvent&&g)||o.current.openEvent.type==="click")?r(!1,k.nativeEvent,"click"):r(!0,k.nativeEvent,"click"))},onKeyDown(k){w.current=void 0,!(k.defaultPrevented||!h||Fy(k))&&(k.key===" "&&!Ly(s)&&(k.preventDefault(),y.current=!0),k.key==="Enter"&&r(!(t&&f),k.nativeEvent,"click"))},onKeyUp(k){k.defaultPrevented||!h||Fy(k)||Ly(s)||k.key===" "&&y.current&&(y.current=!1,r(!(t&&f),k.nativeEvent,"click"))}}),[o,s,u,d,h,r,t,g,f]);return O.useMemo(()=>a?{reference:x}:{},[a,x])}const YR={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},XR={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},jy=n=>{var e,t;return{escapeKey:typeof n=="boolean"?n:(e=n==null?void 0:n.escapeKey)!=null?e:!1,outsidePress:typeof n=="boolean"?n:(t=n==null?void 0:n.outsidePress)!=null?t:!0}};function ZR(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,elements:o,dataRef:s}=n,{enabled:a=!0,escapeKey:u=!0,outsidePress:f=!0,outsidePressEvent:d="pointerdown",referencePress:h=!1,referencePressEvent:g="pointerdown",ancestorScroll:w=!1,bubbles:y,capture:x}=e,k=Rp(),S=zr(typeof f=="function"?f:()=>!1),C=typeof f=="function"?S:f,T=O.useRef(!1),N=O.useRef(!1),{escapeKey:I,outsidePress:P}=jy(y),{escapeKey:B,outsidePress:U}=jy(x),X=O.useRef(!1),Q=zr(oe=>{var Z;if(!t||!a||!u||oe.key!=="Escape"||X.current)return;const ie=(Z=s.current.floatingContext)==null?void 0:Z.nodeId,L=k?il(k.nodesRef.current,ie):[];if(!I&&(oe.stopPropagation(),L.length>0)){let V=!0;if(L.forEach(j=>{var M;if((M=j.context)!=null&&M.open&&!j.context.dataRef.current.__escapeKeyBubbles){V=!1;return}}),!V)return}r(!1,MN(oe)?oe.nativeEvent:oe,"escape-key")}),G=zr(oe=>{var Z;const ie=()=>{var L;Q(oe),(L=po(oe))==null||L.removeEventListener("keydown",ie)};(Z=po(oe))==null||Z.addEventListener("keydown",ie)}),ge=zr(oe=>{var Z;const ie=T.current;T.current=!1;const L=N.current;if(N.current=!1,d==="click"&&L||ie||typeof C=="function"&&!C(oe))return;const V=po(oe),j="["+ss("inert")+"]",M=An(o.floating).querySelectorAll(j);let $=Ze(V)?V:null;for(;$&&!Lr($);){const ve=Vr($);if(Lr(ve)||!Ze(ve))break;$=ve}if(M.length&&Ze(V)&&!NN(V)&&!Kt(V,o.floating)&&Array.from(M).every(ve=>!Kt($,ve)))return;if(vt(V)&&ye){const ve=Lr(V),Oe=zn(V),he=/auto|scroll/,ee=ve||he.test(Oe.overflowX),de=ve||he.test(Oe.overflowY),me=ee&&V.clientWidth>0&&V.scrollWidth>V.clientWidth,Ne=de&&V.clientHeight>0&&V.scrollHeight>V.clientHeight,Pe=Oe.direction==="rtl",Ke=Ne&&(Pe?oe.offsetX<=V.offsetWidth-V.clientWidth:oe.offsetX>V.clientWidth),_e=me&&oe.offsetY>V.clientHeight;if(Ke||_e)return}const pe=(Z=s.current.floatingContext)==null?void 0:Z.nodeId,Ee=k&&il(k.nodesRef.current,pe).some(ve=>{var Oe;return ed(oe,(Oe=ve.context)==null?void 0:Oe.elements.floating)});if(ed(oe,o.floating)||ed(oe,o.domReference)||Ee)return;const Me=k?il(k.nodesRef.current,pe):[];if(Me.length>0){let ve=!0;if(Me.forEach(Oe=>{var he;if((he=Oe.context)!=null&&he.open&&!Oe.context.dataRef.current.__outsidePressBubbles){ve=!1;return}}),!ve)return}r(!1,oe,"outside-press")}),fe=zr(oe=>{var Z;const ie=()=>{var L;ge(oe),(L=po(oe))==null||L.removeEventListener(d,ie)};(Z=po(oe))==null||Z.addEventListener(d,ie)});O.useEffect(()=>{if(!t||!a)return;s.current.__escapeKeyBubbles=I,s.current.__outsidePressBubbles=P;let oe=-1;function Z(M){r(!1,M,"ancestor-scroll")}function ie(){window.clearTimeout(oe),X.current=!0}function L(){oe=window.setTimeout(()=>{X.current=!1},Iu()?5:0)}const V=An(o.floating);u&&(V.addEventListener("keydown",B?G:Q,B),V.addEventListener("compositionstart",ie),V.addEventListener("compositionend",L)),C&&V.addEventListener(d,U?fe:ge,U);let j=[];return w&&(Ze(o.domReference)&&(j=wo(o.domReference)),Ze(o.floating)&&(j=j.concat(wo(o.floating))),!Ze(o.reference)&&o.reference&&o.reference.contextElement&&(j=j.concat(wo(o.reference.contextElement)))),j=j.filter(M=>{var $;return M!==(($=V.defaultView)==null?void 0:$.visualViewport)}),j.forEach(M=>{M.addEventListener("scroll",Z,{passive:!0})}),()=>{u&&(V.removeEventListener("keydown",B?G:Q,B),V.removeEventListener("compositionstart",ie),V.removeEventListener("compositionend",L)),C&&V.removeEventListener(d,U?fe:ge,U),j.forEach(M=>{M.removeEventListener("scroll",Z)}),window.clearTimeout(oe)}},[s,o,u,C,d,t,r,w,a,I,P,Q,B,G,ge,U,fe]),O.useEffect(()=>{T.current=!1},[C,d]);const re=O.useMemo(()=>({onKeyDown:Q,...h&&{[YR[g]]:oe=>{r(!1,oe.nativeEvent,"reference-press")},...g!=="click"&&{onClick(oe){r(!1,oe.nativeEvent,"reference-press")}}}}),[Q,r,h,g]),ye=O.useMemo(()=>({onKeyDown:Q,onMouseDown(){N.current=!0},onMouseUp(){N.current=!0},[XR[d]]:()=>{T.current=!0}}),[Q,d]);return O.useMemo(()=>a?{reference:re,floating:ye}:{},[a,re,ye])}function eA(n){const{open:e=!1,onOpenChange:t,elements:r}=n,o=sw(),s=O.useRef({}),[a]=O.useState(()=>PR()),u=FR()!=null,[f,d]=O.useState(r.reference),h=zr((y,x,k)=>{s.current.openEvent=y?x:void 0,a.emit("openchange",{open:y,event:x,reason:k,nested:u}),t==null||t(y,x,k)}),g=O.useMemo(()=>({setPositionReference:d}),[]),w=O.useMemo(()=>({reference:f||r.reference||null,floating:r.floating||null,domReference:r.reference}),[f,r.reference,r.floating]);return O.useMemo(()=>({dataRef:s,open:e,onOpenChange:h,elements:w,events:a,floatingId:o,refs:g}),[e,h,w,a,o,g])}function tA(n){n===void 0&&(n={});const{nodeId:e}=n,t=eA({...n,elements:{reference:null,floating:null,...n.elements}}),r=n.rootContext||t,o=r.elements,[s,a]=O.useState(null),[u,f]=O.useState(null),h=(o==null?void 0:o.domReference)||s,g=O.useRef(null),w=Rp();Pn(()=>{h&&(g.current=h)},[h]);const y=TR({...n,elements:{...o,...u&&{reference:u}}}),x=O.useCallback(N=>{const I=Ze(N)?{getBoundingClientRect:()=>N.getBoundingClientRect(),contextElement:N}:N;f(I),y.refs.setReference(I)},[y.refs]),k=O.useCallback(N=>{(Ze(N)||N===null)&&(g.current=N,a(N)),(Ze(y.refs.reference.current)||y.refs.reference.current===null||N!==null&&!Ze(N))&&y.refs.setReference(N)},[y.refs]),S=O.useMemo(()=>({...y.refs,setReference:k,setPositionReference:x,domReference:g}),[y.refs,k,x]),C=O.useMemo(()=>({...y.elements,domReference:h}),[y.elements,h]),T=O.useMemo(()=>({...y,...r,refs:S,elements:C,nodeId:e}),[y,S,C,e,r]);return Pn(()=>{r.dataRef.current.floatingContext=T;const N=w==null?void 0:w.nodesRef.current.find(I=>I.id===e);N&&(N.context=T)}),O.useMemo(()=>({...y,context:T,refs:S,elements:C}),[y,S,C,T])}function nA(n,e){e===void 0&&(e={});const{open:t,onOpenChange:r,events:o,dataRef:s,elements:a}=n,{enabled:u=!0,visibleOnly:f=!0}=e,d=O.useRef(!1),h=O.useRef(-1),g=O.useRef(!0);O.useEffect(()=>{if(!u)return;const y=sn(a.domReference);function x(){!t&&vt(a.domReference)&&a.domReference===_r(An(a.domReference))&&(d.current=!0)}function k(){g.current=!0}return y.addEventListener("blur",x),y.addEventListener("keydown",k,!0),()=>{y.removeEventListener("blur",x),y.removeEventListener("keydown",k,!0)}},[a.domReference,t,u]),O.useEffect(()=>{if(!u)return;function y(x){let{reason:k}=x;(k==="reference-press"||k==="escape-key")&&(d.current=!0)}return o.on("openchange",y),()=>{o.off("openchange",y)}},[o,u]),O.useEffect(()=>()=>{LR(h)},[]);const w=O.useMemo(()=>({onPointerDown(y){W0(y.nativeEvent)||(g.current=!1)},onMouseLeave(){d.current=!1},onFocus(y){if(d.current)return;const x=po(y.nativeEvent);if(f&&Ze(x))try{if(U0()&&TN())throw Error();if(!x.matches(":focus-visible"))return}catch{if(!g.current&&!Ep(x))return}r(!0,y.nativeEvent,"focus")},onBlur(y){d.current=!1;const x=y.relatedTarget,k=y.nativeEvent,S=Ze(x)&&x.hasAttribute(ss("focus-guard"))&&x.getAttribute("data-type")==="outside";h.current=window.setTimeout(()=>{var C;const T=_r(a.domReference?a.domReference.ownerDocument:document);!x&&T===a.domReference||Kt((C=s.current.floatingContext)==null?void 0:C.refs.floating.current,T)||Kt(a.domReference,T)||S||r(!1,k,"focus")})}}),[s,a.domReference,r,f]);return O.useMemo(()=>u?{reference:w}:{},[u,w])}const $y="active",By="selected";function sd(n,e,t){const r=new Map,o=t==="item";let s=n;if(o&&n){const{[$y]:a,[By]:u,...f}=n;s=f}return{...t==="floating"&&{tabIndex:-1,[Hd]:""},...s,...e.map(a=>{const u=a?a[t]:null;return typeof u=="function"?n?u(n):null:u}).concat(n).reduce((a,u)=>(u&&Object.entries(u).forEach(f=>{let[d,h]=f;if(!(o&&[$y,By].includes(d)))if(d.indexOf("on")===0){if(r.has(d)||r.set(d,[]),typeof h=="function"){var g;(g=r.get(d))==null||g.push(h),a[d]=function(){for(var w,y=arguments.length,x=new Array(y),k=0;k<y;k++)x[k]=arguments[k];return(w=r.get(d))==null?void 0:w.map(S=>S(...x)).find(S=>S!==void 0)}}}else a[d]=h}),a),{})}}function rA(n){n===void 0&&(n=[]);const e=n.map(u=>u==null?void 0:u.reference),t=n.map(u=>u==null?void 0:u.floating),r=n.map(u=>u==null?void 0:u.item),o=O.useCallback(u=>sd(u,n,"reference"),e),s=O.useCallback(u=>sd(u,n,"floating"),t),a=O.useCallback(u=>sd(u,n,"item"),r);return O.useMemo(()=>({getReferenceProps:o,getFloatingProps:s,getItemProps:a}),[o,s,a])}function At(n){this.content=n}At.prototype={constructor:At,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,o=r.find(n),s=r.content.slice();return o==-1?s.push(t||n,e):(s[o+1]=e,t&&(s[o]=t)),new At(s)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new At(t)},addToStart:function(n,e){return new At([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new At(t)},addBefore:function(n,e,t){var r=this.remove(e),o=r.content.slice(),s=r.find(n);return o.splice(s==-1?o.length:s,0,e,t),new At(o)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=At.from(n),n.size?new At(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=At.from(n),n.size?new At(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=At.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};At.from=function(n){if(n instanceof At)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new At(e)};function pw(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let o=n.child(r),s=e.child(r);if(o==s){t+=o.nodeSize;continue}if(!o.sameMarkup(s))return t;if(o.isText&&o.text!=s.text){for(let a=0;o.text[a]==s.text[a];a++)t++;return t}if(o.content.size||s.content.size){let a=pw(o.content,s.content,t+1);if(a!=null)return a}t+=o.nodeSize}}function hw(n,e,t,r){for(let o=n.childCount,s=e.childCount;;){if(o==0||s==0)return o==s?null:{a:t,b:r};let a=n.child(--o),u=e.child(--s),f=a.nodeSize;if(a==u){t-=f,r-=f;continue}if(!a.sameMarkup(u))return{a:t,b:r};if(a.isText&&a.text!=u.text){let d=0,h=Math.min(a.text.length,u.text.length);for(;d<h&&a.text[a.text.length-d-1]==u.text[u.text.length-d-1];)d++,t--,r--;return{a:t,b:r}}if(a.content.size||u.content.size){let d=hw(a.content,u.content,t-1,r-1);if(d)return d}t-=f,r-=f}}class q{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,o=0,s){for(let a=0,u=0;u<t;a++){let f=this.content[a],d=u+f.nodeSize;if(d>e&&r(f,o+u,s||null,a)!==!1&&f.content.size){let h=u+1;f.nodesBetween(Math.max(0,e-h),Math.min(f.content.size,t-h),r,o+h)}u=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,o){let s="",a=!0;return this.nodesBetween(e,t,(u,f)=>{let d=u.isText?u.text.slice(Math.max(e,f)-f,t-f):u.isLeaf?o?typeof o=="function"?o(u):o:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&d||u.isTextblock)&&r&&(a?a=!1:s+=r),s+=d},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,o=this.content.slice(),s=0;for(t.isText&&t.sameMarkup(r)&&(o[o.length-1]=t.withText(t.text+r.text),s=1);s<e.content.length;s++)o.push(e.content[s]);return new q(o,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],o=0;if(t>e)for(let s=0,a=0;a<t;s++){let u=this.content[s],f=a+u.nodeSize;f>e&&((a<e||f>t)&&(u.isText?u=u.cut(Math.max(0,e-a),Math.min(u.text.length,t-a)):u=u.cut(Math.max(0,e-a-1),Math.min(u.content.size,t-a-1))),r.push(u),o+=u.nodeSize),a=f}return new q(r,o)}cutByIndex(e,t){return e==t?q.empty:e==0&&t==this.content.length?this:new q(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let o=this.content.slice(),s=this.size+t.nodeSize-r.nodeSize;return o[e]=t,new q(o,s)}addToStart(e){return new q([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new q(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let o=this.content[t];e(o,r,t),r+=o.nodeSize}}findDiffStart(e,t=0){return pw(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return hw(this,e,t,r)}findIndex(e,t=-1){if(e==0)return $a(0,e);if(e==this.size)return $a(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,o=0;;r++){let s=this.child(r),a=o+s.nodeSize;if(a>=e)return a==e||t>0?$a(r+1,a):$a(r,o);o=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return q.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new q(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return q.empty;let t,r=0;for(let o=0;o<e.length;o++){let s=e[o];r+=s.nodeSize,o&&s.isText&&e[o-1].sameMarkup(s)?(t||(t=e.slice(0,o)),t[t.length-1]=s.withText(t[t.length-1].text+s.text)):t&&t.push(s)}return new q(t||e,r)}static from(e){if(!e)return q.empty;if(e instanceof q)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new q([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}q.empty=new q([],0);const ld={index:0,offset:0};function $a(n,e){return ld.index=n,ld.offset=e,ld}function pu(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!pu(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!pu(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let We=class Wd{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let o=0;o<e.length;o++){let s=e[o];if(this.eq(s))return e;if(this.type.excludes(s.type))t||(t=e.slice(0,o));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(t||(t=e.slice(0,o)),t.push(this),r=!0),t&&t.push(s)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&pu(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let o=r.create(t.attrs);return r.checkAttrs(o.attrs),o}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Wd.none;if(e instanceof Wd)return[e];let t=e.slice();return t.sort((r,o)=>r.type.rank-o.type.rank),t}};We.none=[];class hu extends Error{}class ne{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=gw(this.content,e+this.openStart,t);return r&&new ne(r,this.openStart,this.openEnd)}removeBetween(e,t){return new ne(mw(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return ne.empty;let r=t.openStart||0,o=t.openEnd||0;if(typeof r!="number"||typeof o!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ne(q.fromJSON(e,t.content),r,o)}static maxOpen(e,t=!0){let r=0,o=0;for(let s=e.firstChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.lastChild)o++;return new ne(e,r,o)}}ne.empty=new ne(q.empty,0,0);function mw(n,e,t){let{index:r,offset:o}=n.findIndex(e),s=n.maybeChild(r),{index:a,offset:u}=n.findIndex(t);if(o==e||s.isText){if(u!=t&&!n.child(a).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=a)throw new RangeError("Removing non-flat range");return n.replaceChild(r,s.copy(mw(s.content,e-o-1,t-o-1)))}function gw(n,e,t,r){let{index:o,offset:s}=n.findIndex(e),a=n.maybeChild(o);if(s==e||a.isText)return n.cut(0,e).append(t).append(n.cut(e));let u=gw(a.content,e-s-1,t);return u&&n.replaceChild(o,a.copy(u))}function oA(n,e,t){if(t.openStart>n.depth)throw new hu("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new hu("Inconsistent open depths");return yw(n,e,t,0)}function yw(n,e,t,r){let o=n.index(r),s=n.node(r);if(o==e.index(r)&&r<n.depth-t.openStart){let a=yw(n,e,t,r+1);return s.copy(s.content.replaceChild(o,a))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let a=n.parent,u=a.content;return ei(a,u.cut(0,n.parentOffset).append(t.content).append(u.cut(e.parentOffset)))}else{let{start:a,end:u}=iA(t,n);return ei(s,ww(n,a,u,e,r))}else return ei(s,mu(n,e,r))}function vw(n,e){if(!e.type.compatibleContent(n.type))throw new hu("Cannot join "+e.type.name+" onto "+n.type.name)}function Ud(n,e,t){let r=n.node(t);return vw(r,e.node(t)),r}function Zo(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function ll(n,e,t,r){let o=(e||n).node(t),s=0,a=e?e.index(t):o.childCount;n&&(s=n.index(t),n.depth>t?s++:n.textOffset&&(Zo(n.nodeAfter,r),s++));for(let u=s;u<a;u++)Zo(o.child(u),r);e&&e.depth==t&&e.textOffset&&Zo(e.nodeBefore,r)}function ei(n,e){return n.type.checkContent(e),n.copy(e)}function ww(n,e,t,r,o){let s=n.depth>o&&Ud(n,e,o+1),a=r.depth>o&&Ud(t,r,o+1),u=[];return ll(null,n,o,u),s&&a&&e.index(o)==t.index(o)?(vw(s,a),Zo(ei(s,ww(n,e,t,r,o+1)),u)):(s&&Zo(ei(s,mu(n,e,o+1)),u),ll(e,t,o,u),a&&Zo(ei(a,mu(t,r,o+1)),u)),ll(r,null,o,u),new q(u)}function mu(n,e,t){let r=[];if(ll(null,n,t,r),n.depth>t){let o=Ud(n,e,t+1);Zo(ei(o,mu(n,e,t+1)),r)}return ll(e,null,t,r),new q(r)}function iA(n,e){let t=e.depth-n.openStart,o=e.node(t).copy(n.content);for(let s=t-1;s>=0;s--)o=e.node(s).copy(q.from(o));return{start:o.resolveNoCache(n.openStart+t),end:o.resolveNoCache(o.content.size-n.openEnd-t)}}class fl{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],o=e.child(t);return r?e.child(t).cut(r):o}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],o=t==0?0:this.path[t*3-1]+1;for(let s=0;s<e;s++)o+=r.child(s).nodeSize;return o}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return We.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),o=e.maybeChild(t);if(!r){let u=r;r=o,o=u}let s=r.marks;for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!o||!s[a].isInSet(o.marks))&&(s=s[a--].removeFromSet(s));return s}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,o=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!o||!r[s].isInSet(o.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new gu(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],o=0,s=t;for(let a=e;;){let{index:u,offset:f}=a.content.findIndex(s),d=s-f;if(r.push(a,u,o+f),!d||(a=a.child(u),a.isText))break;s=d-1,o+=f+1}return new fl(t,r,s)}static resolveCached(e,t){let r=Vy.get(e);if(r)for(let s=0;s<r.elts.length;s++){let a=r.elts[s];if(a.pos==t)return a}else Vy.set(e,r=new sA);let o=r.elts[r.i]=fl.resolve(e,t);return r.i=(r.i+1)%lA,o}}class sA{constructor(){this.elts=[],this.i=0}}const lA=12,Vy=new WeakMap;class gu{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const aA=Object.create(null);let xo=class qd{constructor(e,t,r,o=We.none){this.type=e,this.attrs=t,this.marks=o,this.content=r||q.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,o=0){this.content.nodesBetween(e,t,r,o,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,o){return this.content.textBetween(e,t,r,o)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&pu(this.attrs,t||e.defaultAttrs||aA)&&We.sameSet(this.marks,r||We.none)}copy(e=null){return e==this.content?this:new qd(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new qd(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return ne.empty;let o=this.resolve(e),s=this.resolve(t),a=r?0:o.sharedDepth(t),u=o.start(a),d=o.node(a).content.cut(o.pos-u,s.pos-u);return new ne(d,o.depth-a,s.depth-a)}replace(e,t,r){return oA(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:o}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(o==e||t.isText)return t;e-=o+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let o=this.content.child(t-1);return{node:o,index:t-1,offset:r-o.nodeSize}}resolve(e){return fl.resolveCached(this,e)}resolveNoCache(e){return fl.resolve(this,e)}rangeHasMark(e,t,r){let o=!1;return t>e&&this.nodesBetween(e,t,s=>(r.isInSet(s.marks)&&(o=!0),!o)),o}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),xw(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=q.empty,o=0,s=r.childCount){let a=this.contentMatchAt(e).matchFragment(r,o,s),u=a&&a.matchFragment(this.content,t);if(!u||!u.validEnd)return!1;for(let f=o;f<s;f++)if(!this.type.allowsMarks(r.child(f).marks))return!1;return!0}canReplaceWith(e,t,r,o){if(o&&!this.type.allowsMarks(o))return!1;let s=this.contentMatchAt(e).matchType(r),a=s&&s.matchFragment(this.content,t);return a?a.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=We.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!We.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let o=q.fromJSON(e,t.content),s=e.nodeType(t.type).create(t.attrs,o,r);return s.type.checkAttrs(s.attrs),s}};xo.prototype.text=void 0;class yu extends xo{constructor(e,t,r,o){if(super(e,t,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):xw(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new yu(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new yu(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function xw(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class li{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new uA(e,t);if(r.next==null)return li.empty;let o=kw(r);r.next&&r.err("Unexpected trailing text");let s=gA(mA(o));return yA(s,r),s}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let o=this;for(let s=t;o&&s<r;s++)o=o.matchType(e.child(s).type);return o}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let o=[this];function s(a,u){let f=a.matchFragment(e,r);if(f&&(!t||f.validEnd))return q.from(u.map(d=>d.createAndFill()));for(let d=0;d<a.next.length;d++){let{type:h,next:g}=a.next[d];if(!(h.isText||h.hasRequiredAttrs())&&o.indexOf(g)==-1){o.push(g);let w=s(g,u.concat(h));if(w)return w}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let o=r.shift(),s=o.match;if(s.matchType(e)){let a=[];for(let u=o;u.type;u=u.via)a.push(u.type);return a.reverse()}for(let a=0;a<s.next.length;a++){let{type:u,next:f}=s.next[a];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in t)&&(!o.type||f.validEnd)&&(r.push({match:u.contentMatch,type:u,via:o}),t[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let o=0;o<r.next.length;o++)e.indexOf(r.next[o].next)==-1&&t(r.next[o].next)}return t(this),e.map((r,o)=>{let s=o+(r.validEnd?"*":" ")+" ";for(let a=0;a<r.next.length;a++)s+=(a?", ":"")+r.next[a].type.name+"->"+e.indexOf(r.next[a].next);return s}).join(`
`)}}li.empty=new li(!0);class uA{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function kw(n){let e=[];do e.push(cA(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function cA(n){let e=[];do e.push(fA(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function fA(n){let e=hA(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=dA(n,e);else break;return e}function Hy(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function dA(n,e){let t=Hy(n),r=t;return n.eat(",")&&(n.next!="}"?r=Hy(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function pA(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let o=[];for(let s in t){let a=t[s];a.isInGroup(e)&&o.push(a)}return o.length==0&&n.err("No node type or group '"+e+"' found"),o}function hA(n){if(n.eat("(")){let e=kw(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=pA(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function mA(n){let e=[[]];return o(s(n,0),t()),e;function t(){return e.push([])-1}function r(a,u,f){let d={term:f,to:u};return e[a].push(d),d}function o(a,u){a.forEach(f=>f.to=u)}function s(a,u){if(a.type=="choice")return a.exprs.reduce((f,d)=>f.concat(s(d,u)),[]);if(a.type=="seq")for(let f=0;;f++){let d=s(a.exprs[f],u);if(f==a.exprs.length-1)return d;o(d,u=t())}else if(a.type=="star"){let f=t();return r(u,f),o(s(a.expr,f),f),[r(f)]}else if(a.type=="plus"){let f=t();return o(s(a.expr,u),f),o(s(a.expr,f),f),[r(f)]}else{if(a.type=="opt")return[r(u)].concat(s(a.expr,u));if(a.type=="range"){let f=u;for(let d=0;d<a.min;d++){let h=t();o(s(a.expr,f),h),f=h}if(a.max==-1)o(s(a.expr,f),f);else for(let d=a.min;d<a.max;d++){let h=t();r(f,h),o(s(a.expr,f),h),f=h}return[r(f)]}else{if(a.type=="name")return[r(u,void 0,a.value)];throw new Error("Unknown expr type")}}}}function Sw(n,e){return e-n}function Wy(n,e){let t=[];return r(e),t.sort(Sw);function r(o){let s=n[o];if(s.length==1&&!s[0].term)return r(s[0].to);t.push(o);for(let a=0;a<s.length;a++){let{term:u,to:f}=s[a];!u&&t.indexOf(f)==-1&&r(f)}}}function gA(n){let e=Object.create(null);return t(Wy(n,0));function t(r){let o=[];r.forEach(a=>{n[a].forEach(({term:u,to:f})=>{if(!u)return;let d;for(let h=0;h<o.length;h++)o[h][0]==u&&(d=o[h][1]);Wy(n,f).forEach(h=>{d||o.push([u,d=[]]),d.indexOf(h)==-1&&d.push(h)})})});let s=e[r.join(",")]=new li(r.indexOf(n.length-1)>-1);for(let a=0;a<o.length;a++){let u=o[a][1].sort(Sw);s.next.push({type:o[a][0],next:e[u.join(",")]||t(u)})}return s}}function yA(n,e){for(let t=0,r=[n];t<r.length;t++){let o=r[t],s=!o.validEnd,a=[];for(let u=0;u<o.next.length;u++){let{type:f,next:d}=o.next[u];a.push(f.name),s&&!(f.isText||f.hasRequiredAttrs())&&(s=!1),r.indexOf(d)==-1&&r.push(d)}s&&e.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function bw(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function Cw(n,e){let t=Object.create(null);for(let r in n){let o=e&&e[r];if(o===void 0){let s=n[r];if(s.hasDefault)o=s.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=o}return t}function Ew(n,e,t,r){for(let o in e)if(!(o in n))throw new RangeError(`Unsupported attribute ${o} for ${t} of type ${o}`);for(let o in n){let s=n[o];s.validate&&s.validate(e[o])}}function Tw(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new wA(n,r,e[r]);return t}let Uy=class Ow{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=Tw(e,r.attrs),this.defaultAttrs=bw(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==li.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:Cw(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new xo(this,this.computeAttrs(e),q.from(t),We.setFrom(r))}createChecked(e=null,t,r){return t=q.from(t),this.checkContent(t),new xo(this,this.computeAttrs(e),t,We.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=q.from(t),t.size){let a=this.contentMatch.fillBefore(t);if(!a)return null;t=a.append(t)}let o=this.contentMatch.matchFragment(t),s=o&&o.fillBefore(q.empty,!0);return s?new xo(this,e,t.append(s),We.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){Ew(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:We.none:e}static compile(e,t){let r=Object.create(null);e.forEach((s,a)=>r[s]=new Ow(s,t,a));let o=t.spec.topNode||"doc";if(!r[o])throw new RangeError("Schema is missing its top node type ('"+o+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function vA(n,e,t){let r=t.split("|");return o=>{let s=o===null?"null":typeof o;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${s}`)}}class wA{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?vA(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class $u{constructor(e,t,r,o){this.name=e,this.rank=t,this.schema=r,this.spec=o,this.attrs=Tw(e,o.attrs),this.excluded=null;let s=bw(this.attrs);this.instance=s?new We(this,s):null}create(e=null){return!e&&this.instance?this.instance:new We(this,Cw(this.attrs,e))}static compile(e,t){let r=Object.create(null),o=0;return e.forEach((s,a)=>r[s]=new $u(s,o++,t,a)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){Ew(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class Mw{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let o in e)t[o]=e[o];t.nodes=At.from(e.nodes),t.marks=At.from(e.marks||{}),this.nodes=Uy.compile(this.spec.nodes,this),this.marks=$u.compile(this.spec.marks,this);let r=Object.create(null);for(let o in this.nodes){if(o in this.marks)throw new RangeError(o+" can not be both a node and a mark");let s=this.nodes[o],a=s.spec.content||"",u=s.spec.marks;if(s.contentMatch=r[a]||(r[a]=li.parse(a,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=u=="_"?null:u?qy(this,u.split(" ")):u==""||!s.inlineContent?[]:null}for(let o in this.marks){let s=this.marks[o],a=s.spec.excludes;s.excluded=a==null?[s]:a==""?[]:qy(this,a.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,o){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Uy){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,o)}text(e,t){let r=this.nodes.text;return new yu(r,r.defaultAttrs,e,We.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeFromJSON(e){return xo.fromJSON(this,e)}markFromJSON(e){return We.fromJSON(this,e)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function qy(n,e){let t=[];for(let r=0;r<e.length;r++){let o=e[r],s=n.marks[o],a=s;if(s)t.push(s);else for(let u in n.marks){let f=n.marks[u];(o=="_"||f.spec.group&&f.spec.group.split(" ").indexOf(o)>-1)&&t.push(a=f)}if(!a)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function xA(n){return n.tag!=null}function kA(n){return n.style!=null}class ko{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(o=>{if(xA(o))this.tags.push(o);else if(kA(o)){let s=/[^=]*/.exec(o.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(o)}}),this.normalizeLists=!this.tags.some(o=>{if(!/^(ul|ol)\b/.test(o.tag)||!o.node)return!1;let s=e.nodes[o.node];return s.contentMatch.matchType(s)})}parse(e,t={}){let r=new Jy(this,t,!1);return r.addAll(e,We.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new Jy(this,t,!0);return r.addAll(e,We.none,t.from,t.to),ne.maxOpen(r.finish())}matchTag(e,t,r){for(let o=r?this.tags.indexOf(r)+1:0;o<this.tags.length;o++){let s=this.tags[o];if(CA(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||t.matchesContext(s.context))){if(s.getAttrs){let a=s.getAttrs(e);if(a===!1)continue;s.attrs=a||void 0}return s}}}matchStyle(e,t,r,o){for(let s=o?this.styles.indexOf(o)+1:0;s<this.styles.length;s++){let a=this.styles[s],u=a.style;if(!(u.indexOf(e)!=0||a.context&&!r.matchesContext(a.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=t))){if(a.getAttrs){let f=a.getAttrs(t);if(f===!1)continue;a.attrs=f||void 0}return a}}}static schemaRules(e){let t=[];function r(o){let s=o.priority==null?50:o.priority,a=0;for(;a<t.length;a++){let u=t[a];if((u.priority==null?50:u.priority)<s)break}t.splice(a,0,o)}for(let o in e.marks){let s=e.marks[o].spec.parseDOM;s&&s.forEach(a=>{r(a=Qy(a)),a.mark||a.ignore||a.clearMark||(a.mark=o)})}for(let o in e.nodes){let s=e.nodes[o].spec.parseDOM;s&&s.forEach(a=>{r(a=Qy(a)),a.node||a.ignore||a.mark||(a.node=o)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new ko(e,ko.schemaRules(e)))}}const Nw={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},SA={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},Rw={ol:!0,ul:!0},dl=1,Kd=2,Ja=4;function Ky(n,e,t){return e!=null?(e?dl:0)|(e==="full"?Kd:0):n&&n.whitespace=="pre"?dl|Kd:t&-5}class Ba{constructor(e,t,r,o,s,a){this.type=e,this.attrs=t,this.marks=r,this.solid=o,this.options=a,this.content=[],this.activeMarks=We.none,this.match=s||(a&Ja?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(q.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,o;return(o=r.findWrapping(e.type))?(this.match=r,o):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&dl)){let r=this.content[this.content.length-1],o;if(r&&r.isText&&(o=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==o[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-o[0].length))}}let t=q.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(q.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!Nw.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Jy{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let o=t.topNode,s,a=Ky(null,t.preserveWhitespace,0)|(r?Ja:0);o?s=new Ba(o.type,o.attrs,We.none,!0,t.topMatch||o.type.contentMatch,a):r?s=new Ba(null,null,We.none,!0,null,a):s=new Ba(e.schema.topNodeType,null,We.none,!0,null,a),this.nodes=[s],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,o=this.top,s=o.options&Kd?"full":this.localPreserveWS||(o.options&dl)>0;if(s==="full"||o.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)s!=="full"?r=r.replace(/\r?\n|\r/g," "):r=r.replace(/\r\n?/g,`
`);else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let a=o.content[o.content.length-1],u=e.previousSibling;(!a||u&&u.nodeName=="BR"||a.isText&&/[ \t\r\n\u000c]$/.test(a.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),t),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let o=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let a=e.nodeName.toLowerCase(),u;Rw.hasOwnProperty(a)&&this.parser.normalizeLists&&bA(e);let f=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(u=this.parser.matchTag(e,this,r));e:if(f?f.ignore:SA.hasOwnProperty(a))this.findInside(e),this.ignoreFallback(e,t);else if(!f||f.skip||f.closeParent){f&&f.closeParent?this.open=Math.max(0,this.open-1):f&&f.skip.nodeType&&(e=f.skip);let d,h=this.needsBlock;if(Nw.hasOwnProperty(a))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),d=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let g=f&&f.skip?t:this.readStyles(e,t);g&&this.addAll(e,g),d&&this.sync(s),this.needsBlock=h}else{let d=this.readStyles(e,t);d&&this.addElementByRule(e,f,d,f.consuming===!1?u:void 0)}this.localPreserveWS=o}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let o=0;o<this.parser.matchedStyles.length;o++){let s=this.parser.matchedStyles[o],a=r.getPropertyValue(s);if(a)for(let u=void 0;;){let f=this.parser.matchStyle(s,a,this,u);if(!f)break;if(f.ignore)return null;if(f.clearMark?t=t.filter(d=>!f.clearMark(d)):t=t.concat(this.parser.schema.marks[f.mark].create(f.attrs)),f.consuming===!1)u=f;else break}}return t}addElementByRule(e,t,r,o){let s,a;if(t.node)if(a=this.parser.schema.nodes[t.node],a.isLeaf)this.insertNode(a.create(t.attrs),r)||this.leafFallback(e,r);else{let f=this.enter(a,t.attrs||null,r,t.preserveWhitespace);f&&(s=!0,r=f)}else{let f=this.parser.schema.marks[t.mark];r=r.concat(f.create(t.attrs))}let u=this.top;if(a&&a.isLeaf)this.findInside(e);else if(o)this.addElement(e,r,o);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(f=>this.insertNode(f,r));else{let f=e;typeof t.contentElement=="string"?f=e.querySelector(t.contentElement):typeof t.contentElement=="function"?f=t.contentElement(e):t.contentElement&&(f=t.contentElement),this.findAround(e,f,!0),this.addAll(f,r),this.findAround(e,f,!1)}s&&this.sync(u)&&this.open--}addAll(e,t,r,o){let s=r||0;for(let a=r?e.childNodes[r]:e.firstChild,u=o==null?null:e.childNodes[o];a!=u;a=a.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(a,t);this.findAtPoint(e,s)}findPlace(e,t){let r,o;for(let s=this.open;s>=0;s--){let a=this.nodes[s],u=a.findWrapping(e);if(u&&(!r||r.length>u.length)&&(r=u,o=a,!u.length)||a.solid)break}if(!r)return null;this.sync(o);for(let s=0;s<r.length;s++)t=this.enterInner(r[s],null,t,!1);return t}insertNode(e,t){if(e.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(t=this.enterInner(o,null,t))}let r=this.findPlace(e,t);if(r){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(e.type));let s=We.none;for(let a of r.concat(e.marks))(o.type?o.type.allowsMarkType(a.type):Gy(a.type,e.type))&&(s=a.addToSet(s));return o.content.push(e.mark(s)),!0}return!1}enter(e,t,r,o){let s=this.findPlace(e.create(t),r);return s&&(s=this.enterInner(e,t,r,!0,o)),s}enterInner(e,t,r,o=!1,s){this.closeExtra();let a=this.top;a.match=a.match&&a.match.matchType(e);let u=Ky(e,s,a.options);a.options&Ja&&a.content.length==0&&(u|=Ja);let f=We.none;return r=r.filter(d=>(a.type?a.type.allowsMarkType(d.type):Gy(d.type,e))?(f=d.addToSet(f),!1):!0),this.nodes.push(new Ba(e,t,f,o,null,u)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=dl)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let o=r.length-1;o>=0;o--)e+=r[o].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let o=0;o<this.find.length;o++)this.find[o].pos==null&&e.nodeType==1&&e.contains(this.find[o].node)&&t.compareDocumentPosition(this.find[o].node)&(r?2:4)&&(this.find[o].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,o=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(o?0:1),a=(u,f)=>{for(;u>=0;u--){let d=t[u];if(d==""){if(u==t.length-1||u==0)continue;for(;f>=s;f--)if(a(u-1,f))return!0;return!1}else{let h=f>0||f==0&&o?this.nodes[f].type:r&&f>=s?r.node(f-s).type:null;if(!h||h.name!=d&&!h.isInGroup(d))return!1;f--}}return!0};return a(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function bA(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&Rw.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function CA(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function Qy(n){let e={};for(let t in n)e[t]=n[t];return e}function Gy(n,e){let t=e.schema.nodes;for(let r in t){let o=t[r];if(!o.allowsMarkType(n))continue;let s=[],a=u=>{s.push(u);for(let f=0;f<u.edgeCount;f++){let{type:d,next:h}=u.edge(f);if(d==e||s.indexOf(h)<0&&a(h))return!0}};if(a(o.contentMatch))return!0}}class ci{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=ad(t).createDocumentFragment());let o=r,s=[];return e.forEach(a=>{if(s.length||a.marks.length){let u=0,f=0;for(;u<s.length&&f<a.marks.length;){let d=a.marks[f];if(!this.marks[d.type.name]){f++;continue}if(!d.eq(s[u][0])||d.type.spec.spanning===!1)break;u++,f++}for(;u<s.length;)o=s.pop()[1];for(;f<a.marks.length;){let d=a.marks[f++],h=this.serializeMark(d,a.isInline,t);h&&(s.push([d,o]),o.appendChild(h.dom),o=h.contentDOM||h.dom)}}o.appendChild(this.serializeNodeInner(a,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:o}=Qa(ad(t),this.nodes[e.type.name](e),null,e.attrs);if(o){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,o)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let o=e.marks.length-1;o>=0;o--){let s=this.serializeMark(e.marks[o],e.isInline,t);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,t,r={}){let o=this.marks[e.type.name];return o&&Qa(ad(r),o(e,t),null,e.attrs)}static renderSpec(e,t,r=null,o){return Qa(e,t,r,o)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ci(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=Yy(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return Yy(e.marks)}}function Yy(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function ad(n){return n.document||window.document}const Xy=new WeakMap;function EA(n){let e=Xy.get(n);return e===void 0&&Xy.set(n,e=TA(n)),e}function TA(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let o=0;o<r.length;o++)t(r[o]);else for(let o in r)t(r[o])}return t(n),e}function Qa(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let o=e[0],s;if(typeof o!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=EA(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let a=o.indexOf(" ");a>0&&(t=o.slice(0,a),o=o.slice(a+1));let u,f=t?n.createElementNS(t,o):n.createElement(o),d=e[1],h=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){h=2;for(let g in d)if(d[g]!=null){let w=g.indexOf(" ");w>0?f.setAttributeNS(g.slice(0,w),g.slice(w+1),d[g]):f.setAttribute(g,d[g])}}for(let g=h;g<e.length;g++){let w=e[g];if(w===0){if(g<e.length-1||g>h)throw new RangeError("Content hole must be the only child of its parent node");return{dom:f,contentDOM:f}}else{let{dom:y,contentDOM:x}=Qa(n,w,t,r);if(f.appendChild(y),x){if(u)throw new RangeError("Multiple content holes");u=x}}}return{dom:f,contentDOM:u}}const Aw=65535,Dw=Math.pow(2,16);function OA(n,e){return n+e*Dw}function Zy(n){return n&Aw}function MA(n){return(n-(n&Aw))/Dw}const Iw=1,Pw=2,Ga=4,_w=8;class Jd{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&_w)>0}get deletedBefore(){return(this.delInfo&(Iw|Ga))>0}get deletedAfter(){return(this.delInfo&(Pw|Ga))>0}get deletedAcross(){return(this.delInfo&Ga)>0}}class gn{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&gn.empty)return gn.empty}recover(e){let t=0,r=Zy(e);if(!this.inverted)for(let o=0;o<r;o++)t+=this.ranges[o*3+2]-this.ranges[o*3+1];return this.ranges[r*3]+t+MA(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let o=0,s=this.inverted?2:1,a=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let f=this.ranges[u]-(this.inverted?o:0);if(f>e)break;let d=this.ranges[u+s],h=this.ranges[u+a],g=f+d;if(e<=g){let w=d?e==f?-1:e==g?1:t:t,y=f+o+(w<0?0:h);if(r)return y;let x=e==(t<0?f:g)?null:OA(u/3,e-f),k=e==f?Pw:e==g?Iw:Ga;return(t<0?e!=f:e!=g)&&(k|=_w),new Jd(y,k,x)}o+=h-d}return r?e+o:new Jd(e+o,0,null)}touches(e,t){let r=0,o=Zy(t),s=this.inverted?2:1,a=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let f=this.ranges[u]-(this.inverted?r:0);if(f>e)break;let d=this.ranges[u+s],h=f+d;if(e<=h&&u==o*3)return!0;r+=this.ranges[u+a]-d}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let o=0,s=0;o<this.ranges.length;o+=3){let a=this.ranges[o],u=a-(this.inverted?s:0),f=a+(this.inverted?0:s),d=this.ranges[o+t],h=this.ranges[o+r];e(u,u+d,f,f+h),s+=h-d}}invert(){return new gn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?gn.empty:new gn(e<0?[0,-e,0]:[0,0,e])}}gn.empty=new gn([]);class Yi{constructor(e=[],t,r=0,o=e.length){this.maps=e,this.mirror=t,this.from=r,this.to=o}slice(e=0,t=this.maps.length){return new Yi(this.maps,this.mirror,e,t)}copy(){return new Yi(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,t){this.to=this.maps.push(e),t!=null&&this.setMirror(this.maps.length-1,t)}appendMapping(e){for(let t=0,r=this.maps.length;t<e.maps.length;t++){let o=e.getMirror(t);this.appendMap(e.maps[t],o!=null&&o<t?r+o:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this.maps.length+e.maps.length;t>=0;t--){let o=e.getMirror(t);this.appendMap(e.maps[t].invert(),o!=null&&o>t?r-o-1:void 0)}}invert(){let e=new Yi;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let o=0;for(let s=this.from;s<this.to;s++){let a=this.maps[s],u=a.mapResult(e,t);if(u.recover!=null){let f=this.getMirror(s);if(f!=null&&f>s&&f<this.to){s=f,e=this.maps[f].recover(u.recover);continue}}o|=u.delInfo,e=u.pos}return r?e:new Jd(e,o,null)}}const ud=Object.create(null);class Bt{getMap(){return gn.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=ud[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in ud)throw new RangeError("Duplicate use of step JSON ID "+e);return ud[e]=t,t.prototype.jsonID=e,t}}class pt{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new pt(e,null)}static fail(e){return new pt(null,e)}static fromReplace(e,t,r,o){try{return pt.ok(e.replace(t,r,o))}catch(s){if(s instanceof hu)return pt.fail(s.message);throw s}}}function Ap(n,e,t){let r=[];for(let o=0;o<n.childCount;o++){let s=n.child(o);s.content.size&&(s=s.copy(Ap(s.content,e,s))),s.isInline&&(s=e(s,t,o)),r.push(s)}return q.fromArray(r)}class mo extends Bt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),o=r.node(r.sharedDepth(this.to)),s=new ne(Ap(t.content,(a,u)=>!a.isAtom||!u.type.allowsMarkType(this.mark.type)?a:a.mark(this.mark.addToSet(a.marks)),o),t.openStart,t.openEnd);return pt.fromReplace(e,this.from,this.to,s)}invert(){return new ar(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new mo(t.pos,r.pos,this.mark)}merge(e){return e instanceof mo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new mo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new mo(t.from,t.to,e.markFromJSON(t.mark))}}Bt.jsonID("addMark",mo);class ar extends Bt{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new ne(Ap(t.content,o=>o.mark(this.mark.removeFromSet(o.marks)),e),t.openStart,t.openEnd);return pt.fromReplace(e,this.from,this.to,r)}invert(){return new mo(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new ar(t.pos,r.pos,this.mark)}merge(e){return e instanceof ar&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ar(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ar(t.from,t.to,e.markFromJSON(t.mark))}}Bt.jsonID("removeMark",ar);class go extends Bt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return pt.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return pt.fromReplace(e,this.pos,this.pos+1,new ne(q.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let o=0;o<t.marks.length;o++)if(!t.marks[o].isInSet(r))return new go(this.pos,t.marks[o]);return new go(this.pos,this.mark)}}return new ls(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new go(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new go(t.pos,e.markFromJSON(t.mark))}}Bt.jsonID("addNodeMark",go);class ls extends Bt{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return pt.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return pt.fromReplace(e,this.pos,this.pos+1,new ne(q.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new go(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new ls(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ls(t.pos,e.markFromJSON(t.mark))}}Bt.jsonID("removeNodeMark",ls);class St extends Bt{constructor(e,t,r,o=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=o}apply(e){return this.structure&&Qd(e,this.from,this.to)?pt.fail("Structure replace would overwrite content"):pt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new gn([this.from,this.to-this.from,this.slice.size])}invert(e){return new St(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new St(t.pos,Math.max(t.pos,r.pos),this.slice)}merge(e){if(!(e instanceof St)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?ne.empty:new ne(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new St(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?ne.empty:new ne(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new St(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new St(t.from,t.to,ne.fromJSON(e,t.slice),!!t.structure)}}Bt.jsonID("replace",St);class bt extends Bt{constructor(e,t,r,o,s,a,u=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=o,this.slice=s,this.insert=a,this.structure=u}apply(e){if(this.structure&&(Qd(e,this.from,this.gapFrom)||Qd(e,this.gapTo,this.to)))return pt.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return pt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?pt.fromReplace(e,this.from,this.to,r):pt.fail("Content does not fit in gap")}getMap(){return new gn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new bt(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||o<t.pos||s>r.pos?null:new bt(t.pos,r.pos,o,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new bt(t.from,t.to,t.gapFrom,t.gapTo,ne.fromJSON(e,t.slice),t.insert,!!t.structure)}}Bt.jsonID("replaceAround",bt);function Qd(n,e,t){let r=n.resolve(e),o=t-e,s=r.depth;for(;o>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,o--;if(o>0){let a=r.node(s).maybeChild(r.indexAfter(s));for(;o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}}return!1}function NA(n,e,t,r){let o=[],s=[],a,u;n.doc.nodesBetween(e,t,(f,d,h)=>{if(!f.isInline)return;let g=f.marks;if(!r.isInSet(g)&&h.type.allowsMarkType(r.type)){let w=Math.max(d,e),y=Math.min(d+f.nodeSize,t),x=r.addToSet(g);for(let k=0;k<g.length;k++)g[k].isInSet(x)||(a&&a.to==w&&a.mark.eq(g[k])?a.to=y:o.push(a=new ar(w,y,g[k])));u&&u.to==w?u.to=y:s.push(u=new mo(w,y,r))}}),o.forEach(f=>n.step(f)),s.forEach(f=>n.step(f))}function RA(n,e,t,r){let o=[],s=0;n.doc.nodesBetween(e,t,(a,u)=>{if(!a.isInline)return;s++;let f=null;if(r instanceof $u){let d=a.marks,h;for(;h=r.isInSet(d);)(f||(f=[])).push(h),d=h.removeFromSet(d)}else r?r.isInSet(a.marks)&&(f=[r]):f=a.marks;if(f&&f.length){let d=Math.min(u+a.nodeSize,t);for(let h=0;h<f.length;h++){let g=f[h],w;for(let y=0;y<o.length;y++){let x=o[y];x.step==s-1&&g.eq(o[y].style)&&(w=x)}w?(w.to=d,w.step=s):o.push({style:g,from:Math.max(u,e),to:d,step:s})}}}),o.forEach(a=>n.step(new ar(a.from,a.to,a.style)))}function Dp(n,e,t,r=t.contentMatch,o=!0){let s=n.doc.nodeAt(e),a=[],u=e+1;for(let f=0;f<s.childCount;f++){let d=s.child(f),h=u+d.nodeSize,g=r.matchType(d.type);if(!g)a.push(new St(u,h,ne.empty));else{r=g;for(let w=0;w<d.marks.length;w++)t.allowsMarkType(d.marks[w].type)||n.step(new ar(u,h,d.marks[w]));if(o&&d.isText&&t.whitespace!="pre"){let w,y=/\r?\n|\r/g,x;for(;w=y.exec(d.text);)x||(x=new ne(q.from(t.schema.text(" ",t.allowedMarks(d.marks))),0,0)),a.push(new St(u+w.index,u+w.index+w[0].length,x))}}u=h}if(!r.validEnd){let f=r.fillBefore(q.empty,!0);n.replace(u,u,new ne(f,0,0))}for(let f=a.length-1;f>=0;f--)n.step(a[f])}function AA(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function ps(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth;;--r){let o=n.$from.node(r),s=n.$from.index(r),a=n.$to.indexAfter(r);if(r<n.depth&&o.canReplace(s,a,t))return r;if(r==0||o.type.spec.isolating||!AA(o,s,a))break}return null}function DA(n,e,t){let{$from:r,$to:o,depth:s}=e,a=r.before(s+1),u=o.after(s+1),f=a,d=u,h=q.empty,g=0;for(let x=s,k=!1;x>t;x--)k||r.index(x)>0?(k=!0,h=q.from(r.node(x).copy(h)),g++):f--;let w=q.empty,y=0;for(let x=s,k=!1;x>t;x--)k||o.after(x+1)<o.end(x)?(k=!0,w=q.from(o.node(x).copy(w)),y++):d++;n.step(new bt(f,d,a,u,new ne(h.append(w),g,y),h.size-g,!0))}function zw(n,e,t=null,r=n){let o=IA(n,e),s=o&&PA(r,e);return s?o.map(ev).concat({type:e,attrs:t}).concat(s.map(ev)):null}function ev(n){return{type:n,attrs:null}}function IA(n,e){let{parent:t,startIndex:r,endIndex:o}=n,s=t.contentMatchAt(r).findWrapping(e);if(!s)return null;let a=s.length?s[0]:e;return t.canReplaceWith(r,o,a)?s:null}function PA(n,e){let{parent:t,startIndex:r,endIndex:o}=n,s=t.child(r),a=e.contentMatch.findWrapping(s.type);if(!a)return null;let f=(a.length?a[a.length-1]:e).contentMatch;for(let d=r;f&&d<o;d++)f=f.matchType(t.child(d).type);return!f||!f.validEnd?null:a}function _A(n,e,t){let r=q.empty;for(let a=t.length-1;a>=0;a--){if(r.size){let u=t[a].type.contentMatch.matchFragment(r);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=q.from(t[a].type.create(t[a].attrs,r))}let o=e.start,s=e.end;n.step(new bt(o,s,o,s,new ne(r,0,0),t.length,!0))}function zA(n,e,t,r,o){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=n.steps.length;n.doc.nodesBetween(e,t,(a,u)=>{let f=typeof o=="function"?o(a):o;if(a.isTextblock&&!a.hasMarkup(r,f)&&FA(n.doc,n.mapping.slice(s).map(u),r)){let d=null;if(r.schema.linebreakReplacement){let y=r.whitespace=="pre",x=!!r.contentMatch.matchType(r.schema.linebreakReplacement);y&&!x?d=!1:!y&&x&&(d=!0)}d===!1&&Lw(n,a,u,s),Dp(n,n.mapping.slice(s).map(u,1),r,void 0,d===null);let h=n.mapping.slice(s),g=h.map(u,1),w=h.map(u+a.nodeSize,1);return n.step(new bt(g,w,g+1,w-1,new ne(q.from(r.create(f,null,a.marks)),0,0),1,!0)),d===!0&&Fw(n,a,u,s),!1}})}function Fw(n,e,t,r){e.forEach((o,s)=>{if(o.isText){let a,u=/\r?\n|\r/g;for(;a=u.exec(o.text);){let f=n.mapping.slice(r).map(t+1+s+a.index);n.replaceWith(f,f+1,e.type.schema.linebreakReplacement.create())}}})}function Lw(n,e,t,r){e.forEach((o,s)=>{if(o.type==o.type.schema.linebreakReplacement){let a=n.mapping.slice(r).map(t+1+s);n.replaceWith(a,a+1,e.type.schema.text(`
`))}})}function FA(n,e,t){let r=n.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,t)}function LA(n,e,t,r,o){let s=n.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");t||(t=s.type);let a=t.create(r,null,o||s.marks);if(s.isLeaf)return n.replaceWith(e,e+s.nodeSize,a);if(!t.validContent(s.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new bt(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new ne(q.from(a),0,0),1,!0))}function jr(n,e,t=1,r){let o=n.resolve(e),s=o.depth-t,a=r&&r[r.length-1]||o.parent;if(s<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(let d=o.depth-1,h=t-2;d>s;d--,h--){let g=o.node(d),w=o.index(d);if(g.type.spec.isolating)return!1;let y=g.content.cutByIndex(w,g.childCount),x=r&&r[h+1];x&&(y=y.replaceChild(0,x.type.create(x.attrs)));let k=r&&r[h]||g;if(!g.canReplace(w+1,g.childCount)||!k.type.validContent(y))return!1}let u=o.indexAfter(s),f=r&&r[0];return o.node(s).canReplaceWith(u,u,f?f.type:o.node(s+1).type)}function jA(n,e,t=1,r){let o=n.doc.resolve(e),s=q.empty,a=q.empty;for(let u=o.depth,f=o.depth-t,d=t-1;u>f;u--,d--){s=q.from(o.node(u).copy(s));let h=r&&r[d];a=q.from(h?h.type.create(h.attrs,a):o.node(u).copy(a))}n.step(new St(e,e,new ne(s.append(a),t,t),!0))}function fi(n,e){let t=n.resolve(e),r=t.index();return jw(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function $A(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let o=0;o<e.childCount;o++){let s=e.child(o),a=s.type==r?n.type.schema.nodes.text:s.type;if(t=t.matchType(a),!t||!n.type.allowsMarks(s.marks))return!1}return t.validEnd}function jw(n,e){return!!(n&&e&&!n.isLeaf&&$A(n,e))}function Bu(n,e,t=-1){let r=n.resolve(e);for(let o=r.depth;;o--){let s,a,u=r.index(o);if(o==r.depth?(s=r.nodeBefore,a=r.nodeAfter):t>0?(s=r.node(o+1),u++,a=r.node(o).maybeChild(u)):(s=r.node(o).maybeChild(u-1),a=r.node(o+1)),s&&!s.isTextblock&&jw(s,a)&&r.node(o).canReplace(u,u+1))return e;if(o==0)break;e=t<0?r.before(o):r.after(o)}}function BA(n,e,t){let r=null,{linebreakReplacement:o}=n.doc.type.schema,s=n.doc.resolve(e-t),a=s.node().type;if(o&&a.inlineContent){let h=a.whitespace=="pre",g=!!a.contentMatch.matchType(o);h&&!g?r=!1:!h&&g&&(r=!0)}let u=n.steps.length;if(r===!1){let h=n.doc.resolve(e+t);Lw(n,h.node(),h.before(),u)}a.inlineContent&&Dp(n,e+t-1,a,s.node().contentMatchAt(s.index()),r==null);let f=n.mapping.slice(u),d=f.map(e-t);if(n.step(new St(d,f.map(e+t,-1),ne.empty,!0)),r===!0){let h=n.doc.resolve(d);Fw(n,h.node(),h.before(),n.steps.length)}return n}function VA(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let o=r.depth-1;o>=0;o--){let s=r.index(o);if(r.node(o).canReplaceWith(s,s,t))return r.before(o+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let o=r.depth-1;o>=0;o--){let s=r.indexAfter(o);if(r.node(o).canReplaceWith(s,s,t))return r.after(o+1);if(s<r.node(o).childCount)return null}return null}function HA(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let o=t.content;for(let s=0;s<t.openStart;s++)o=o.firstChild.content;for(let s=1;s<=(t.openStart==0&&t.size?2:1);s++)for(let a=r.depth;a>=0;a--){let u=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,f=r.index(a)+(u>0?1:0),d=r.node(a),h=!1;if(s==1)h=d.canReplace(f,f,o);else{let g=d.contentMatchAt(f).findWrapping(o.firstChild.type);h=g&&d.canReplaceWith(f,f,g[0])}if(h)return u==0?r.pos:u<0?r.before(a+1):r.after(a+1)}return null}function Vu(n,e,t=e,r=ne.empty){if(e==t&&!r.size)return null;let o=n.resolve(e),s=n.resolve(t);return $w(o,s,r)?new St(e,t,r):new WA(o,s,r).fit()}function $w(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class WA{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=q.empty;for(let o=0;o<=e.depth;o++){let s=e.node(o);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(o))})}for(let o=e.depth;o>0;o--)this.placed=q.from(e.node(o).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;let s=this.placed,a=r.depth,u=o.depth;for(;a&&u&&s.childCount==1;)s=s.firstChild.content,a--,u--;let f=new ne(s,a,u);return e>-1?new bt(r.pos,e,this.$to.pos,this.$to.end(),f,t):f.size||r.pos!=this.$to.pos?new St(r.pos,o.pos,f):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,o=this.unplaced.openEnd;r<e;r++){let s=t.firstChild;if(t.childCount>1&&(o=0),s.type.spec.isolating&&o<=r){e=r;break}t=s.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let o,s=null;r?(s=cd(this.unplaced.content,r-1).firstChild,o=s.content):o=this.unplaced.content;let a=o.firstChild;for(let u=this.depth;u>=0;u--){let{type:f,match:d}=this.frontier[u],h,g=null;if(t==1&&(a?d.matchType(a.type)||(g=d.fillBefore(q.from(a),!1)):s&&f.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:u,parent:s,inject:g};if(t==2&&a&&(h=d.findWrapping(a.type)))return{sliceDepth:r,frontierDepth:u,parent:s,wrap:h};if(s&&d.matchType(s.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,o=cd(e,t);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new ne(e,t+1,Math.max(r,o.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,o=cd(e,t);if(o.childCount<=1&&t>0){let s=e.size-t<=t+o.size;this.unplaced=new ne(nl(e,t-1,1),t-1,s?t-1:r)}else this.unplaced=new ne(nl(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:o,wrap:s}){for(;this.depth>t;)this.closeFrontierNode();if(s)for(let k=0;k<s.length;k++)this.openFrontierNode(s[k]);let a=this.unplaced,u=r?r.content:a.content,f=a.openStart-e,d=0,h=[],{match:g,type:w}=this.frontier[t];if(o){for(let k=0;k<o.childCount;k++)h.push(o.child(k));g=g.matchFragment(o)}let y=u.size+e-(a.content.size-a.openEnd);for(;d<u.childCount;){let k=u.child(d),S=g.matchType(k.type);if(!S)break;d++,(d>1||f==0||k.content.size)&&(g=S,h.push(Bw(k.mark(w.allowedMarks(k.marks)),d==1?f:0,d==u.childCount?y:-1)))}let x=d==u.childCount;x||(y=-1),this.placed=rl(this.placed,t,q.from(h)),this.frontier[t].match=g,x&&y<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let k=0,S=u;k<y;k++){let C=S.lastChild;this.frontier.push({type:C.type,match:C.contentMatchAt(C.childCount)}),S=C.content}this.unplaced=x?e==0?ne.empty:new ne(nl(a.content,e-1,1),e-1,y<0?a.openEnd:e-1):new ne(nl(a.content,e,d),a.openStart,a.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!fd(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,o=this.$to.after(r);for(;r>1&&o==this.$to.end(--r);)++o;return o}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:o}=this.frontier[t],s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=fd(e,t,o,r,s);if(a){for(let u=t-1;u>=0;u--){let{match:f,type:d}=this.frontier[u],h=fd(e,u,d,f,!0);if(!h||h.childCount)continue e}return{depth:t,fit:a,move:s?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=rl(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let o=e.node(r),s=o.type.contentMatch.fillBefore(o.content,!0,e.index(r));this.openFrontierNode(o.type,o.attrs,s)}return e}openFrontierNode(e,t=null,r){let o=this.frontier[this.depth];o.match=o.match.matchType(e),this.placed=rl(this.placed,this.depth,q.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(q.empty,!0);t.childCount&&(this.placed=rl(this.placed,this.frontier.length,t))}}function nl(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(nl(n.firstChild.content,e-1,t)))}function rl(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(rl(n.lastChild.content,e-1,t)))}function cd(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function Bw(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,Bw(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(q.empty,!0)))),n.copy(r)}function fd(n,e,t,r,o){let s=n.node(e),a=o?n.indexAfter(e):n.index(e);if(a==s.childCount&&!t.compatibleContent(s.type))return null;let u=r.fillBefore(s.content,!0,a);return u&&!UA(t,s.content,a)?u:null}function UA(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function qA(n){return n.spec.defining||n.spec.definingForContent}function KA(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let o=n.doc.resolve(e),s=n.doc.resolve(t);if($w(o,s,r))return n.step(new St(e,t,r));let a=Hw(o,n.doc.resolve(t));a[a.length-1]==0&&a.pop();let u=-(o.depth+1);a.unshift(u);for(let w=o.depth,y=o.pos-1;w>0;w--,y--){let x=o.node(w).type.spec;if(x.defining||x.definingAsContext||x.isolating)break;a.indexOf(w)>-1?u=w:o.before(w)==y&&a.splice(1,0,-w)}let f=a.indexOf(u),d=[],h=r.openStart;for(let w=r.content,y=0;;y++){let x=w.firstChild;if(d.push(x),y==r.openStart)break;w=x.content}for(let w=h-1;w>=0;w--){let y=d[w],x=qA(y.type);if(x&&!y.sameMarkup(o.node(Math.abs(u)-1)))h=w;else if(x||!y.type.isTextblock)break}for(let w=r.openStart;w>=0;w--){let y=(w+h+1)%(r.openStart+1),x=d[y];if(x)for(let k=0;k<a.length;k++){let S=a[(k+f)%a.length],C=!0;S<0&&(C=!1,S=-S);let T=o.node(S-1),N=o.index(S-1);if(T.canReplaceWith(N,N,x.type,x.marks))return n.replace(o.before(S),C?s.after(S):t,new ne(Vw(r.content,0,r.openStart,y),y,r.openEnd))}}let g=n.steps.length;for(let w=a.length-1;w>=0&&(n.replace(e,t,r),!(n.steps.length>g));w--){let y=a[w];y<0||(e=o.before(y),t=s.after(y))}}function Vw(n,e,t,r,o){if(e<t){let s=n.firstChild;n=n.replaceChild(0,s.copy(Vw(s.content,e+1,t,r,s)))}if(e>r){let s=o.contentMatchAt(0),a=s.fillBefore(n).append(n);n=a.append(s.matchFragment(a).fillBefore(q.empty,!0))}return n}function JA(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let o=VA(n.doc,e,r.type);o!=null&&(e=t=o)}n.replaceRange(e,t,new ne(q.from(r),0,0))}function QA(n,e,t){let r=n.doc.resolve(e),o=n.doc.resolve(t),s=Hw(r,o);for(let a=0;a<s.length;a++){let u=s[a],f=a==s.length-1;if(f&&u==0||r.node(u).type.contentMatch.validEnd)return n.delete(r.start(u),o.end(u));if(u>0&&(f||r.node(u-1).canReplace(r.index(u-1),o.indexAfter(u-1))))return n.delete(r.before(u),o.after(u))}for(let a=1;a<=r.depth&&a<=o.depth;a++)if(e-r.start(a)==r.depth-a&&t>r.end(a)&&o.end(a)-t!=o.depth-a&&r.start(a-1)==o.start(a-1)&&r.node(a-1).canReplace(r.index(a-1),o.index(a-1)))return n.delete(r.before(a),t);n.delete(e,t)}function Hw(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let o=r;o>=0;o--){let s=n.start(o);if(s<n.pos-(n.depth-o)||e.end(o)>e.pos+(e.depth-o)||n.node(o).type.spec.isolating||e.node(o).type.spec.isolating)break;(s==e.start(o)||o==n.depth&&o==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&o&&e.start(o-1)==s-1)&&t.push(o)}return t}class Xi extends Bt{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return pt.fail("No node at attribute step's position");let r=Object.create(null);for(let s in t.attrs)r[s]=t.attrs[s];r[this.attr]=this.value;let o=t.type.create(r,null,t.marks);return pt.fromReplace(e,this.pos,this.pos+1,new ne(q.from(o),0,t.isLeaf?0:1))}getMap(){return gn.empty}invert(e){return new Xi(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Xi(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Xi(t.pos,t.attr,t.value)}}Bt.jsonID("attr",Xi);class pl extends Bt{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let o in e.attrs)t[o]=e.attrs[o];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return pt.ok(r)}getMap(){return gn.empty}invert(e){return new pl(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new pl(t.attr,t.value)}}Bt.jsonID("docAttr",pl);let as=class extends Error{};as=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};as.prototype=Object.create(Error.prototype);as.prototype.constructor=as;as.prototype.name="TransformError";class GA{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Yi}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new as(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=ne.empty){let o=Vu(this.doc,e,t,r);return o&&this.step(o),this}replaceWith(e,t,r){return this.replace(e,t,new ne(q.from(r),0,0))}delete(e,t){return this.replace(e,t,ne.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return KA(this,e,t,r),this}replaceRangeWith(e,t,r){return JA(this,e,t,r),this}deleteRange(e,t){return QA(this,e,t),this}lift(e,t){return DA(this,e,t),this}join(e,t=1){return BA(this,e,t),this}wrap(e,t){return _A(this,e,t),this}setBlockType(e,t=e,r,o=null){return zA(this,e,t,r,o),this}setNodeMarkup(e,t,r=null,o){return LA(this,e,t,r,o),this}setNodeAttribute(e,t,r){return this.step(new Xi(e,t,r)),this}setDocAttribute(e,t){return this.step(new pl(e,t)),this}addNodeMark(e,t){return this.step(new go(e,t)),this}removeNodeMark(e,t){if(!(t instanceof We)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t=t.isInSet(r.marks),!t)return this}return this.step(new ls(e,t)),this}split(e,t=1,r){return jA(this,e,t,r),this}addMark(e,t,r){return NA(this,e,t,r),this}removeMark(e,t,r){return RA(this,e,t,r),this}clearIncompatible(e,t,r){return Dp(this,e,t,r),this}}const dd=Object.create(null);class Ie{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new YA(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=ne.empty){let r=t.content.lastChild,o=null;for(let u=0;u<t.openEnd;u++)o=r,r=r.lastChild;let s=e.steps.length,a=this.ranges;for(let u=0;u<a.length;u++){let{$from:f,$to:d}=a[u],h=e.mapping.slice(s);e.replaceRange(h.map(f.pos),h.map(d.pos),u?ne.empty:t),u==0&&rv(e,s,(r?r.isInline:o&&o.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,o=this.ranges;for(let s=0;s<o.length;s++){let{$from:a,$to:u}=o[s],f=e.mapping.slice(r),d=f.map(a.pos),h=f.map(u.pos);s?e.deleteRange(d,h):(e.replaceRangeWith(d,h,t),rv(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let o=e.parent.inlineContent?new Re(e):Hi(e.node(0),e.parent,e.pos,e.index(),t,r);if(o)return o;for(let s=e.depth-1;s>=0;s--){let a=t<0?Hi(e.node(0),e.node(s),e.before(s+1),e.index(s),t,r):Hi(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,t,r);if(a)return a}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new wn(e.node(0))}static atStart(e){return Hi(e,e,0,0,1)||new wn(e)}static atEnd(e){return Hi(e,e,e.content.size,e.childCount,-1)||new wn(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=dd[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in dd)throw new RangeError("Duplicate use of selection JSON ID "+e);return dd[e]=t,t.prototype.jsonID=e,t}getBookmark(){return Re.between(this.$anchor,this.$head).getBookmark()}}Ie.prototype.visible=!0;class YA{constructor(e,t){this.$from=e,this.$to=t}}let tv=!1;function nv(n){!tv&&!n.parent.inlineContent&&(tv=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class Re extends Ie{constructor(e,t=e){nv(e),nv(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return Ie.near(r);let o=e.resolve(t.map(this.anchor));return new Re(o.parent.inlineContent?o:r,r)}replace(e,t=ne.empty){if(super.replace(e,t),t==ne.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Re&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Hu(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Re(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let o=e.resolve(t);return new this(o,r==t?o:e.resolve(r))}static between(e,t,r){let o=e.pos-t.pos;if((!r||o)&&(r=o>=0?1:-1),!t.parent.inlineContent){let s=Ie.findFrom(t,r,!0)||Ie.findFrom(t,-r,!0);if(s)t=s.$head;else return Ie.near(t,r)}return e.parent.inlineContent||(o==0?e=t:(e=(Ie.findFrom(e,-r,!0)||Ie.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=o<0&&(e=t))),new Re(e,t)}}Ie.jsonID("text",Re);class Hu{constructor(e,t){this.anchor=e,this.head=t}map(e){return new Hu(e.map(this.anchor),e.map(this.head))}resolve(e){return Re.between(e.resolve(this.anchor),e.resolve(this.head))}}class be extends Ie{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:o}=t.mapResult(this.anchor),s=e.resolve(o);return r?Ie.near(s):new be(s)}content(){return new ne(q.from(this.node),0,0)}eq(e){return e instanceof be&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Ip(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new be(e.resolve(t.anchor))}static create(e,t){return new be(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}be.prototype.visible=!1;Ie.jsonID("node",be);class Ip{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new Hu(r,r):new Ip(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&be.isSelectable(r)?new be(t):Ie.near(t)}}class wn extends Ie{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=ne.empty){if(t==ne.empty){e.delete(0,e.doc.content.size);let r=Ie.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new wn(e)}map(e){return new wn(e)}eq(e){return e instanceof wn}getBookmark(){return XA}}Ie.jsonID("all",wn);const XA={map(){return this},resolve(n){return new wn(n)}};function Hi(n,e,t,r,o,s=!1){if(e.inlineContent)return Re.create(n,t);for(let a=r-(o>0?0:1);o>0?a<e.childCount:a>=0;a+=o){let u=e.child(a);if(u.isAtom){if(!s&&be.isSelectable(u))return be.create(n,t-(o<0?u.nodeSize:0))}else{let f=Hi(n,u,t+o,o<0?u.childCount:0,o,s);if(f)return f}t+=u.nodeSize*o}return null}function rv(n,e,t){let r=n.steps.length-1;if(r<e)return;let o=n.steps[r];if(!(o instanceof St||o instanceof bt))return;let s=n.mapping.maps[r],a;s.forEach((u,f,d,h)=>{a==null&&(a=h)}),n.setSelection(Ie.near(n.doc.resolve(a),t))}const ov=1,iv=2,sv=4;class ZA extends GA{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|ov)&-3,this.storedMarks=null,this}get selectionSet(){return(this.updated&ov)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=iv,this}ensureMarks(e){return We.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&iv)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&-3,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||We.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let o=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(o.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),r=r??t,!e)return this.deleteRange(t,r);let s=this.storedMarks;if(!s){let a=this.doc.resolve(t);s=r==t?a.marks():a.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,o.text(e,s)),this.selection.empty||this.setSelection(Ie.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=sv,this}get scrolledIntoView(){return(this.updated&sv)>0}}function lv(n,e){return!e||!n?n:n.bind(e)}class ol{constructor(e,t,r){this.name=e,this.init=lv(t.init,r),this.apply=lv(t.apply,r)}}const eD=[new ol("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new ol("selection",{init(n,e){return n.selection||Ie.atStart(e.doc)},apply(n){return n.selection}}),new ol("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new ol("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class pd{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=eD.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new ol(r.key,r.spec.state,r))})}}class qi{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let o=this.config.plugins[r];if(o.spec.filterTransaction&&!o.spec.filterTransaction.call(o,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),o=null;for(;;){let s=!1;for(let a=0;a<this.config.plugins.length;a++){let u=this.config.plugins[a];if(u.spec.appendTransaction){let f=o?o[a].n:0,d=o?o[a].state:this,h=f<t.length&&u.spec.appendTransaction.call(u,f?t.slice(f):t,d,r);if(h&&r.filterTransaction(h,a)){if(h.setMeta("appendedTransaction",e),!o){o=[];for(let g=0;g<this.config.plugins.length;g++)o.push(g<a?{state:r,n:t.length}:{state:this,n:0})}t.push(h),r=r.applyInner(h),s=!0}o&&(o[a]={state:r,n:t.length})}}if(!s)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new qi(this.config),r=this.config.fields;for(let o=0;o<r.length;o++){let s=r[o];t[s.name]=s.apply(e,this[s.name],this,t)}return t}get tr(){return new ZA(this)}static create(e){let t=new pd(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new qi(t);for(let o=0;o<t.fields.length;o++)r[t.fields[o].name]=t.fields[o].init(e,r);return r}reconfigure(e){let t=new pd(this.schema,e.plugins),r=t.fields,o=new qi(t);for(let s=0;s<r.length;s++){let a=r[s].name;o[a]=this.hasOwnProperty(a)?this[a]:r[s].init(e,o)}return o}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let o=e[r],s=o.spec.state;s&&s.toJSON&&(t[r]=s.toJSON.call(o,this[o.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let o=new pd(e.schema,e.plugins),s=new qi(o);return o.fields.forEach(a=>{if(a.name=="doc")s.doc=xo.fromJSON(e.schema,t.doc);else if(a.name=="selection")s.selection=Ie.fromJSON(s.doc,t.selection);else if(a.name=="storedMarks")t.storedMarks&&(s.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let u in r){let f=r[u],d=f.spec.state;if(f.key==a.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(t,u)){s[a.name]=d.fromJSON.call(f,e,t[u],s);return}}s[a.name]=a.init(e,s)}}),s}}function Ww(n,e,t){for(let r in n){let o=n[r];o instanceof Function?o=o.bind(e):r=="handleDOMEvents"&&(o=Ww(o,e,{})),t[r]=o}return t}class xn{constructor(e){this.spec=e,this.props={},e.props&&Ww(e.props,this,this.props),this.key=e.key?e.key.key:Uw("plugin")}getState(e){return e[this.key]}}const hd=Object.create(null);function Uw(n){return n in hd?n+"$"+ ++hd[n]:(hd[n]=0,n+"$")}class Yn{constructor(e="key"){this.key=Uw(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const It=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},hl=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let Gd=null;const Pr=function(n,e,t){let r=Gd||(Gd=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},tD=function(){Gd=null},ai=function(n,e,t,r){return t&&(av(n,e,t,r,-1)||av(n,e,t,r,1))},nD=/^(img|br|input|textarea|hr)$/i;function av(n,e,t,r,o){for(;;){if(n==t&&e==r)return!0;if(e==(o<0?0:In(n))){let s=n.parentNode;if(!s||s.nodeType!=1||bl(n)||nD.test(n.nodeName)||n.contentEditable=="false")return!1;e=It(n)+(o<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(o<0?-1:0)],n.contentEditable=="false")return!1;e=o<0?In(n):0}else return!1}}function In(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function rD(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=In(n)}else if(n.parentNode&&!bl(n))e=It(n),n=n.parentNode;else return null}}function oD(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!bl(n))e=It(n)+1,n=n.parentNode;else return null}}function iD(n,e,t){for(let r=e==0,o=e==In(n);r||o;){if(n==t)return!0;let s=It(n);if(n=n.parentNode,!n)return!1;r=r&&s==0,o=o&&s==In(n)}}function bl(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const Wu=function(n){return n.focusNode&&ai(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function qo(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function sD(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function lD(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(In(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(In(r.startContainer),r.startOffset)}}}const pr=typeof navigator<"u"?navigator:null,uv=typeof document<"u"?document:null,Mo=pr&&pr.userAgent||"",Yd=/Edge\/(\d+)/.exec(Mo),qw=/MSIE \d/.exec(Mo),Xd=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Mo),ln=!!(qw||Xd||Yd),So=qw?document.documentMode:Xd?+Xd[1]:Yd?+Yd[1]:0,Gn=!ln&&/gecko\/(\d+)/i.test(Mo);Gn&&+(/Firefox\/(\d+)/.exec(Mo)||[0,0])[1];const Zd=!ln&&/Chrome\/(\d+)/.exec(Mo),$t=!!Zd,Kw=Zd?+Zd[1]:0,Jt=!ln&&!!pr&&/Apple Computer/.test(pr.vendor),us=Jt&&(/Mobile\/\w+/.test(Mo)||!!pr&&pr.maxTouchPoints>2),Dn=us||(pr?/Mac/.test(pr.platform):!1),aD=pr?/Win/.test(pr.platform):!1,Fr=/Android \d/.test(Mo),Cl=!!uv&&"webkitFontSmoothing"in uv.documentElement.style,uD=Cl?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function cD(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function Ir(n,e){return typeof n=="number"?n:n[e]}function fD(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function cv(n,e,t){let r=n.someProp("scrollThreshold")||0,o=n.someProp("scrollMargin")||5,s=n.dom.ownerDocument;for(let a=t||n.dom;a;a=hl(a)){if(a.nodeType!=1)continue;let u=a,f=u==s.body,d=f?cD(s):fD(u),h=0,g=0;if(e.top<d.top+Ir(r,"top")?g=-(d.top-e.top+Ir(o,"top")):e.bottom>d.bottom-Ir(r,"bottom")&&(g=e.bottom-e.top>d.bottom-d.top?e.top+Ir(o,"top")-d.top:e.bottom-d.bottom+Ir(o,"bottom")),e.left<d.left+Ir(r,"left")?h=-(d.left-e.left+Ir(o,"left")):e.right>d.right-Ir(r,"right")&&(h=e.right-d.right+Ir(o,"right")),h||g)if(f)s.defaultView.scrollBy(h,g);else{let w=u.scrollLeft,y=u.scrollTop;g&&(u.scrollTop+=g),h&&(u.scrollLeft+=h);let x=u.scrollLeft-w,k=u.scrollTop-y;e={left:e.left-x,top:e.top-k,right:e.right-x,bottom:e.bottom-k}}if(f||/^(fixed|sticky)$/.test(getComputedStyle(a).position))break}}function dD(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,o;for(let s=(e.left+e.right)/2,a=t+1;a<Math.min(innerHeight,e.bottom);a+=5){let u=n.root.elementFromPoint(s,a);if(!u||u==n.dom||!n.dom.contains(u))continue;let f=u.getBoundingClientRect();if(f.top>=t-20){r=u,o=f.top;break}}return{refDOM:r,refTop:o,stack:Jw(n.dom)}}function Jw(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=hl(r));return e}function pD({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;Qw(t,r==0?0:r-e)}function Qw(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:o,left:s}=n[t];r.scrollTop!=o+e&&(r.scrollTop=o+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let ji=null;function hD(n){if(n.setActive)return n.setActive();if(ji)return n.focus(ji);let e=Jw(n);n.focus(ji==null?{get preventScroll(){return ji={preventScroll:!0},!0}}:void 0),ji||(ji=!1,Qw(e,0))}function Gw(n,e){let t,r=2e8,o,s=0,a=e.top,u=e.top,f,d;for(let h=n.firstChild,g=0;h;h=h.nextSibling,g++){let w;if(h.nodeType==1)w=h.getClientRects();else if(h.nodeType==3)w=Pr(h).getClientRects();else continue;for(let y=0;y<w.length;y++){let x=w[y];if(x.top<=a&&x.bottom>=u){a=Math.max(x.bottom,a),u=Math.min(x.top,u);let k=x.left>e.left?x.left-e.left:x.right<e.left?e.left-x.right:0;if(k<r){t=h,r=k,o=k&&t.nodeType==3?{left:x.right<e.left?x.right:x.left,top:e.top}:e,h.nodeType==1&&k&&(s=g+(e.left>=(x.left+x.right)/2?1:0));continue}}else x.top>e.top&&!f&&x.left<=e.left&&x.right>=e.left&&(f=h,d={left:Math.max(x.left,Math.min(x.right,e.left)),top:x.top});!t&&(e.left>=x.right&&e.top>=x.top||e.left>=x.left&&e.top>=x.bottom)&&(s=g+1)}}return!t&&f&&(t=f,o=d,r=0),t&&t.nodeType==3?mD(t,o):!t||r&&t.nodeType==1?{node:n,offset:s}:Gw(t,o)}function mD(n,e){let t=n.nodeValue.length,r=document.createRange();for(let o=0;o<t;o++){r.setEnd(n,o+1),r.setStart(n,o);let s=uo(r,1);if(s.top!=s.bottom&&Pp(e,s))return{node:n,offset:o+(e.left>=(s.left+s.right)/2?1:0)}}return{node:n,offset:0}}function Pp(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function gD(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function yD(n,e,t){let{node:r,offset:o}=Gw(e,t),s=-1;if(r.nodeType==1&&!r.firstChild){let a=r.getBoundingClientRect();s=a.left!=a.right&&t.left>(a.left+a.right)/2?1:-1}return n.docView.posFromDOM(r,o,s)}function vD(n,e,t,r){let o=-1;for(let s=e,a=!1;s!=n.dom;){let u=n.docView.nearestDesc(s,!0),f;if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent||!u.contentDOM)&&((f=u.dom.getBoundingClientRect()).width||f.height)&&(u.node.isBlock&&u.parent&&(!a&&f.left>r.left||f.top>r.top?o=u.posBefore:(!a&&f.right<r.left||f.bottom<r.top)&&(o=u.posAfter),a=!0),!u.contentDOM&&o<0&&!u.node.isText))return(u.node.isBlock?r.top<(f.top+f.bottom)/2:r.left<(f.left+f.right)/2)?u.posBefore:u.posAfter;s=u.dom.parentNode}return o>-1?o:n.docView.posFromDOM(e,t,-1)}function Yw(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let o=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),s=o;;){let a=n.childNodes[s];if(a.nodeType==1){let u=a.getClientRects();for(let f=0;f<u.length;f++){let d=u[f];if(Pp(e,d))return Yw(a,e,d)}}if((s=(s+1)%r)==o)break}return n}function wD(n,e){let t=n.dom.ownerDocument,r,o=0,s=lD(t,e.left,e.top);s&&({node:r,offset:o}=s);let a=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),u;if(!a||!n.dom.contains(a.nodeType!=1?a.parentNode:a)){let d=n.dom.getBoundingClientRect();if(!Pp(e,d)||(a=Yw(n.dom,e,d),!a))return null}if(Jt)for(let d=a;r&&d;d=hl(d))d.draggable&&(r=void 0);if(a=gD(a,e),r){if(Gn&&r.nodeType==1&&(o=Math.min(o,r.childNodes.length),o<r.childNodes.length)){let h=r.childNodes[o],g;h.nodeName=="IMG"&&(g=h.getBoundingClientRect()).right<=e.left&&g.bottom>e.top&&o++}let d;Cl&&o&&r.nodeType==1&&(d=r.childNodes[o-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&o--,r==n.dom&&o==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?u=n.state.doc.content.size:(o==0||r.nodeType!=1||r.childNodes[o-1].nodeName!="BR")&&(u=vD(n,r,o,e))}u==null&&(u=yD(n,a,e));let f=n.docView.nearestDesc(a,!0);return{pos:u,inside:f?f.posAtStart-f.border:-1}}function fv(n){return n.top<n.bottom||n.left<n.right}function uo(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(fv(r))return r}return Array.prototype.find.call(t,fv)||n.getBoundingClientRect()}const xD=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Xw(n,e,t){let{node:r,offset:o,atom:s}=n.docView.domFromPos(e,t<0?-1:1),a=Cl||Gn;if(r.nodeType==3)if(a&&(xD.test(r.nodeValue)||(t<0?!o:o==r.nodeValue.length))){let f=uo(Pr(r,o,o),t);if(Gn&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){let d=uo(Pr(r,o-1,o-1),-1);if(d.top==f.top){let h=uo(Pr(r,o,o+1),-1);if(h.top!=f.top)return Zs(h,h.left<d.left)}}return f}else{let f=o,d=o,h=t<0?1:-1;return t<0&&!o?(d++,h=-1):t>=0&&o==r.nodeValue.length?(f--,h=1):t<0?f--:d++,Zs(uo(Pr(r,f,d),h),h<0)}if(!n.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&o&&(t<0||o==In(r))){let f=r.childNodes[o-1];if(f.nodeType==1)return md(f.getBoundingClientRect(),!1)}if(s==null&&o<In(r)){let f=r.childNodes[o];if(f.nodeType==1)return md(f.getBoundingClientRect(),!0)}return md(r.getBoundingClientRect(),t>=0)}if(s==null&&o&&(t<0||o==In(r))){let f=r.childNodes[o-1],d=f.nodeType==3?Pr(f,In(f)-(a?0:1)):f.nodeType==1&&(f.nodeName!="BR"||!f.nextSibling)?f:null;if(d)return Zs(uo(d,1),!1)}if(s==null&&o<In(r)){let f=r.childNodes[o];for(;f.pmViewDesc&&f.pmViewDesc.ignoreForCoords;)f=f.nextSibling;let d=f?f.nodeType==3?Pr(f,0,a?0:1):f.nodeType==1?f:null:null;if(d)return Zs(uo(d,-1),!0)}return Zs(uo(r.nodeType==3?Pr(r):r,-t),t>=0)}function Zs(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function md(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function Zw(n,e,t){let r=n.state,o=n.root.activeElement;r!=e&&n.updateState(e),o!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),o!=n.dom&&o&&o.focus()}}function kD(n,e,t){let r=e.selection,o=t=="up"?r.$from:r.$to;return Zw(n,e,()=>{let{node:s}=n.docView.domFromPos(o.pos,t=="up"?-1:1);for(;;){let u=n.docView.nearestDesc(s,!0);if(!u)break;if(u.node.isBlock){s=u.contentDOM||u.dom;break}s=u.dom.parentNode}let a=Xw(n,o.pos,1);for(let u=s.firstChild;u;u=u.nextSibling){let f;if(u.nodeType==1)f=u.getClientRects();else if(u.nodeType==3)f=Pr(u,0,u.nodeValue.length).getClientRects();else continue;for(let d=0;d<f.length;d++){let h=f[d];if(h.bottom>h.top+1&&(t=="up"?a.top-h.top>(h.bottom-a.top)*2:h.bottom-a.bottom>(a.bottom-h.top)*2))return!1}}return!0})}const SD=/[\u0590-\u08ac]/;function bD(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let o=r.parentOffset,s=!o,a=o==r.parent.content.size,u=n.domSelection();return u?!SD.test(r.parent.textContent)||!u.modify?t=="left"||t=="backward"?s:a:Zw(n,e,()=>{let{focusNode:f,focusOffset:d,anchorNode:h,anchorOffset:g}=n.domSelectionRange(),w=u.caretBidiLevel;u.modify("move",t,"character");let y=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:x,focusOffset:k}=n.domSelectionRange(),S=x&&!y.contains(x.nodeType==1?x:x.parentNode)||f==x&&d==k;try{u.collapse(h,g),f&&(f!=h||d!=g)&&u.extend&&u.extend(f,d)}catch{}return w!=null&&(u.caretBidiLevel=w),S}):r.pos==r.start()||r.pos==r.end()}let dv=null,pv=null,hv=!1;function CD(n,e,t){return dv==e&&pv==t?hv:(dv=e,pv=t,hv=t=="up"||t=="down"?kD(n,e,t):bD(n,e,t))}const _n=0,mv=1,Jo=2,hr=3;class El{constructor(e,t,r,o){this.parent=e,this.children=t,this.dom=r,this.contentDOM=o,this.dirty=_n,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let o=this.children[t];if(o==e)return r;r+=o.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,a;if(e==this.contentDOM)s=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(a)+a.size:this.posAtStart}else{let s,a;if(e==this.contentDOM)s=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((a=s.pmViewDesc)&&a.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(a):this.posAtEnd}let o;if(e==this.dom&&this.contentDOM)o=t>It(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))o=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let s=e;;s=s.parentNode){if(s==this.dom){o=!1;break}if(s.previousSibling)break}if(o==null&&t==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){o=!0;break}if(s.nextSibling)break}}return o??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,o=e;o;o=o.parentNode){let s=this.getDesc(o),a;if(s&&(!t||s.node))if(r&&(a=s.nodeDOM)&&!(a.nodeType==1?a.contains(e.nodeType==1?e:e.parentNode):a==e))r=!1;else return s}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let o=e;o;o=o.parentNode){let s=this.getDesc(o);if(s)return s.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let o=this.children[t],s=r+o.size;if(r==e&&s!=r){for(;!o.border&&o.children.length;)for(let a=0;a<o.children.length;a++){let u=o.children[a];if(u.size){o=u;break}}return o}if(e<s)return o.descAt(e-r-o.border);r=s}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,o=0;for(let s=0;r<this.children.length;r++){let a=this.children[r],u=s+a.size;if(u>e||a instanceof tx){o=e-s;break}s=u}if(o)return this.children[r].domFromPos(o-this.children[r].border,t);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof ex&&s.side>=0;r--);if(t<=0){let s,a=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,a=!1);return s&&t&&a&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?It(s.dom)+1:0}}else{let s,a=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,a=!1);return s&&a&&!s.border&&!s.domAtom?s.domFromPos(0,t):{node:this.contentDOM,offset:s?It(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let o=-1,s=-1;for(let a=r,u=0;;u++){let f=this.children[u],d=a+f.size;if(o==-1&&e<=d){let h=a+f.border;if(e>=h&&t<=d-f.border&&f.node&&f.contentDOM&&this.contentDOM.contains(f.contentDOM))return f.parseRange(e,t,h);e=a;for(let g=u;g>0;g--){let w=this.children[g-1];if(w.size&&w.dom.parentNode==this.contentDOM&&!w.emptyChildAt(1)){o=It(w.dom)+1;break}e-=w.size}o==-1&&(o=0)}if(o>-1&&(d>t||u==this.children.length-1)){t=d;for(let h=u+1;h<this.children.length;h++){let g=this.children[h];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(-1)){s=It(g.dom);break}t+=g.size}s==-1&&(s=this.contentDOM.childNodes.length);break}a=d}return{node:this.contentDOM,from:e,to:t,fromOffset:o,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,o=!1){let s=Math.min(e,t),a=Math.max(e,t);for(let y=0,x=0;y<this.children.length;y++){let k=this.children[y],S=x+k.size;if(s>x&&a<S)return k.setSelection(e-x-k.border,t-x-k.border,r,o);x=S}let u=this.domFromPos(e,e?-1:1),f=t==e?u:this.domFromPos(t,t?-1:1),d=r.root.getSelection(),h=r.domSelectionRange(),g=!1;if((Gn||Jt)&&e==t){let{node:y,offset:x}=u;if(y.nodeType==3){if(g=!!(x&&y.nodeValue[x-1]==`
`),g&&x==y.nodeValue.length)for(let k=y,S;k;k=k.parentNode){if(S=k.nextSibling){S.nodeName=="BR"&&(u=f={node:S.parentNode,offset:It(S)+1});break}let C=k.pmViewDesc;if(C&&C.node&&C.node.isBlock)break}}else{let k=y.childNodes[x-1];g=k&&(k.nodeName=="BR"||k.contentEditable=="false")}}if(Gn&&h.focusNode&&h.focusNode!=f.node&&h.focusNode.nodeType==1){let y=h.focusNode.childNodes[h.focusOffset];y&&y.contentEditable=="false"&&(o=!0)}if(!(o||g&&Jt)&&ai(u.node,u.offset,h.anchorNode,h.anchorOffset)&&ai(f.node,f.offset,h.focusNode,h.focusOffset))return;let w=!1;if((d.extend||e==t)&&!g){d.collapse(u.node,u.offset);try{e!=t&&d.extend(f.node,f.offset),w=!0}catch{}}if(!w){if(e>t){let x=u;u=f,f=x}let y=document.createRange();y.setEnd(f.node,f.offset),y.setStart(u.node,u.offset),d.removeAllRanges(),d.addRange(y)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,o=0;o<this.children.length;o++){let s=this.children[o],a=r+s.size;if(r==a?e<=a&&t>=r:e<a&&t>r){let u=r+s.border,f=a-s.border;if(e>=u&&t<=f){this.dirty=e==r||t==a?Jo:mv,e==u&&t==f&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=hr:s.markDirty(e-u,t-u);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Jo:hr}r=a}this.dirty=Jo}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?Jo:mv;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class ex extends El{constructor(e,t,r,o){let s,a=t.type.toDOM;if(typeof a=="function"&&(a=a(r,()=>{if(!s)return o;if(s.parent)return s.parent.posBeforeChild(s)})),!t.type.spec.raw){if(a.nodeType!=1){let u=document.createElement("span");u.appendChild(a),a=u}a.contentEditable="false",a.classList.add("ProseMirror-widget")}super(e,[],a,null),this.widget=t,this.widget=t,s=this}matchesWidget(e){return this.dirty==_n&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class ED extends El{constructor(e,t,r,o){super(e,[],t,null),this.textDOM=r,this.text=o}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class ui extends El{constructor(e,t,r,o,s){super(e,[],r,o),this.mark=t,this.spec=s}static create(e,t,r,o){let s=o.nodeViews[t.type.name],a=s&&s(t,o,r);return(!a||!a.dom)&&(a=ci.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new ui(e,t,a.dom,a.contentDOM||a.dom,a)}parseRule(){return this.dirty&hr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=hr&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=_n){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=_n}}slice(e,t,r){let o=ui.create(this.parent,this.mark,!0,r),s=this.children,a=this.size;t<a&&(s=tp(s,t,a,r)),e>0&&(s=tp(s,0,e,r));for(let u=0;u<s.length;u++)s[u].parent=o;return o.children=s,o}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class bo extends El{constructor(e,t,r,o,s,a,u,f,d){super(e,[],s,a),this.node=t,this.outerDeco=r,this.innerDeco=o,this.nodeDOM=u}static create(e,t,r,o,s,a){let u=s.nodeViews[t.type.name],f,d=u&&u(t,s,()=>{if(!f)return a;if(f.parent)return f.parent.posBeforeChild(f)},r,o),h=d&&d.dom,g=d&&d.contentDOM;if(t.isText){if(!h)h=document.createTextNode(t.text);else if(h.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else h||({dom:h,contentDOM:g}=ci.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!g&&!t.isText&&h.nodeName!="BR"&&(h.hasAttribute("contenteditable")||(h.contentEditable="false"),t.type.spec.draggable&&(h.draggable=!0));let w=h;return h=ox(h,r,t),d?f=new TD(e,t,r,o,h,g||null,w,d,s,a+1):t.isText?new Uu(e,t,r,o,h,w,s):new bo(e,t,r,o,h,g||null,w,s,a+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>q.empty)}return e}matchesNode(e,t,r){return this.dirty==_n&&e.eq(this.node)&&vu(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,o=t,s=e.composing?this.localCompositionInfo(e,t):null,a=s&&s.pos>-1?s:null,u=s&&s.pos<0,f=new MD(this,a&&a.node,e);AD(this.node,this.innerDeco,(d,h,g)=>{d.spec.marks?f.syncToMarks(d.spec.marks,r,e):d.type.side>=0&&!g&&f.syncToMarks(h==this.node.childCount?We.none:this.node.child(h).marks,r,e),f.placeWidget(d,e,o)},(d,h,g,w)=>{f.syncToMarks(d.marks,r,e);let y;f.findNodeMatch(d,h,g,w)||u&&e.state.selection.from>o&&e.state.selection.to<o+d.nodeSize&&(y=f.findIndexWithChild(s.node))>-1&&f.updateNodeAt(d,h,g,y,e)||f.updateNextNode(d,h,g,e,w,o)||f.addNode(d,h,g,e,o),o+=d.nodeSize}),f.syncToMarks([],r,e),this.node.isTextblock&&f.addTextblockHacks(),f.destroyRest(),(f.changed||this.dirty==Jo)&&(a&&this.protectLocalComposition(e,a),nx(this.contentDOM,this.children,e),us&&DD(this.dom))}localCompositionInfo(e,t){let{from:r,to:o}=e.state.selection;if(!(e.state.selection instanceof Re)||r<t||o>t+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,u=ID(this.node.content,a,r-t,o-t);return u<0?null:{node:s,pos:u,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:o}){if(this.getDesc(t))return;let s=t;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let a=new ED(this,s,t,o);e.input.compositionNodes.push(a),this.children=tp(this.children,r,r+o.length,e,a)}update(e,t,r,o){return this.dirty==hr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,o),!0)}updateInner(e,t,r,o){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(o,this.posAtStart),this.dirty=_n}updateOuterDeco(e){if(vu(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=rx(this.dom,this.nodeDOM,ep(this.outerDeco,this.node,t),ep(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function gv(n,e,t,r,o){ox(r,e,n);let s=new bo(void 0,n,e,t,r,r,r,o,0);return s.contentDOM&&s.updateChildren(o,0),s}class Uu extends bo{constructor(e,t,r,o,s,a,u){super(e,t,r,o,s,null,a,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,o){return this.dirty==hr||this.dirty!=_n&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=_n||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,o.trackWrites==this.nodeDOM&&(o.trackWrites=null)),this.node=e,this.dirty=_n,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let o=this.node.cut(e,t),s=document.createTextNode(o.text);return new Uu(this.parent,o,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=hr)}get domAtom(){return!1}isText(e){return this.node.text==e}}class tx extends El{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==_n&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class TD extends bo{constructor(e,t,r,o,s,a,u,f,d,h){super(e,t,r,o,s,a,u,d,h),this.spec=f}update(e,t,r,o){if(this.dirty==hr)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,t,r);return s&&this.updateInner(e,t,r,o),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,o)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,o){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,o)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function nx(n,e,t){let r=n.firstChild,o=!1;for(let s=0;s<e.length;s++){let a=e[s],u=a.dom;if(u.parentNode==n){for(;u!=r;)r=yv(r),o=!0;r=r.nextSibling}else o=!0,n.insertBefore(u,r);if(a instanceof ui){let f=r?r.previousSibling:n.lastChild;nx(a.contentDOM,a.children,t),r=f?f.nextSibling:n.firstChild}}for(;r;)r=yv(r),o=!0;o&&t.trackWrites==n&&(t.trackWrites=null)}const al=function(n){n&&(this.nodeName=n)};al.prototype=Object.create(null);const Qo=[new al];function ep(n,e,t){if(n.length==0)return Qo;let r=t?Qo[0]:new al,o=[r];for(let s=0;s<n.length;s++){let a=n[s].type.attrs;if(a){a.nodeName&&o.push(r=new al(a.nodeName));for(let u in a){let f=a[u];f!=null&&(t&&o.length==1&&o.push(r=new al(e.isInline?"span":"div")),u=="class"?r.class=(r.class?r.class+" ":"")+f:u=="style"?r.style=(r.style?r.style+";":"")+f:u!="nodeName"&&(r[u]=f))}}}return o}function rx(n,e,t,r){if(t==Qo&&r==Qo)return e;let o=e;for(let s=0;s<r.length;s++){let a=r[s],u=t[s];if(s){let f;u&&u.nodeName==a.nodeName&&o!=n&&(f=o.parentNode)&&f.nodeName.toLowerCase()==a.nodeName||(f=document.createElement(a.nodeName),f.pmIsDeco=!0,f.appendChild(o),u=Qo[0]),o=f}OD(o,u||Qo[0],a)}return o}function OD(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],o=t.class?t.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)o.indexOf(r[s])==-1&&n.classList.remove(r[s]);for(let s=0;s<o.length;s++)r.indexOf(o[s])==-1&&n.classList.add(o[s]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,o;for(;o=r.exec(e.style);)n.style.removeProperty(o[1])}t.style&&(n.style.cssText+=t.style)}}function ox(n,e,t){return rx(n,n,Qo,ep(e,t,n.nodeType!=1))}function vu(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function yv(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class MD{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=ND(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let o=0,s=this.stack.length>>1,a=Math.min(s,e.length);for(;o<a&&(o==s-1?this.top:this.stack[o+1<<1]).matchesMark(e[o])&&e[o].type.spec.spanning!==!1;)o++;for(;o<s;)this.destroyRest(),this.top.dirty=_n,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let f=this.index;f<Math.min(this.index+3,this.top.children.length);f++){let d=this.top.children[f];if(d.matchesMark(e[s])&&!this.isLocked(d.dom)){u=f;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let f=ui.create(this.top,e[s],t,r);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,s++}}findNodeMatch(e,t,r,o){let s=-1,a;if(o>=this.preMatch.index&&(a=this.preMatch.matches[o-this.preMatch.index]).parent==this.top&&a.matchesNode(e,t,r))s=this.top.children.indexOf(a,this.index);else for(let u=this.index,f=Math.min(this.top.children.length,u+5);u<f;u++){let d=this.top.children[u];if(d.matchesNode(e,t,r)&&!this.preMatch.matched.has(d)){s=u;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,t,r,o,s){let a=this.top.children[o];return a.dirty==hr&&a.dom==a.contentDOM&&(a.dirty=Jo),a.update(e,t,r,s)?(this.destroyBetween(this.index,o),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let o=this.index;o<this.top.children.length;o++)if(this.top.children[o]==r)return o}return-1}e=t}}updateNextNode(e,t,r,o,s,a){for(let u=this.index;u<this.top.children.length;u++){let f=this.top.children[u];if(f instanceof bo){let d=this.preMatch.matched.get(f);if(d!=null&&d!=s)return!1;let h=f.dom,g,w=this.isLocked(h)&&!(e.isText&&f.node&&f.node.isText&&f.nodeDOM.nodeValue==e.text&&f.dirty!=hr&&vu(t,f.outerDeco));if(!w&&f.update(e,t,r,o))return this.destroyBetween(this.index,u),f.dom!=h&&(this.changed=!0),this.index++,!0;if(!w&&(g=this.recreateWrapper(f,e,t,r,o,a)))return this.destroyBetween(this.index,u),this.top.children[this.index]=g,g.contentDOM&&(g.dirty=Jo,g.updateChildren(o,a+1),g.dirty=_n),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,o,s,a){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!vu(r,e.outerDeco)||!o.eq(e.innerDeco))return null;let u=bo.create(this.top,t,r,o,s,a);if(u.contentDOM){u.children=e.children,e.children=[];for(let f of u.children)f.parent=u}return e.destroy(),u}addNode(e,t,r,o,s){let a=bo.create(this.top,e,t,r,o,s);a.contentDOM&&a.updateChildren(o,s+1),this.top.children.splice(this.index++,0,a),this.changed=!0}placeWidget(e,t,r){let o=this.index<this.top.children.length?this.top.children[this.index]:null;if(o&&o.matchesWidget(e)&&(e==o.widget||!o.widget.type.toDOM.parentNode))this.index++;else{let s=new ex(this.top,e,t,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof ui;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof Uu)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Jt||$t)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let o=new tx(this.top,[],r,null);t!=this.top?t.children.push(o):t.children.splice(this.index++,0,o),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function ND(n,e){let t=e,r=t.children.length,o=n.childCount,s=new Map,a=[];e:for(;o>0;){let u;for(;;)if(r){let d=t.children[r-1];if(d instanceof ui)t=d,r=d.children.length;else{u=d,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let f=u.node;if(f){if(f!=n.child(o-1))break;--o,s.set(u,o),a.push(u)}}return{index:o,matched:s,matches:a.reverse()}}function RD(n,e){return n.type.side-e.type.side}function AD(n,e,t,r){let o=e.locals(n),s=0;if(o.length==0){for(let d=0;d<n.childCount;d++){let h=n.child(d);r(h,o,e.forChild(s,h),d),s+=h.nodeSize}return}let a=0,u=[],f=null;for(let d=0;;){let h,g;for(;a<o.length&&o[a].to==s;){let S=o[a++];S.widget&&(h?(g||(g=[h])).push(S):h=S)}if(h)if(g){g.sort(RD);for(let S=0;S<g.length;S++)t(g[S],d,!!f)}else t(h,d,!!f);let w,y;if(f)y=-1,w=f,f=null;else if(d<n.childCount)y=d,w=n.child(d++);else break;for(let S=0;S<u.length;S++)u[S].to<=s&&u.splice(S--,1);for(;a<o.length&&o[a].from<=s&&o[a].to>s;)u.push(o[a++]);let x=s+w.nodeSize;if(w.isText){let S=x;a<o.length&&o[a].from<S&&(S=o[a].from);for(let C=0;C<u.length;C++)u[C].to<S&&(S=u[C].to);S<x&&(f=w.cut(S-s),w=w.cut(0,S-s),x=S,y=-1)}else for(;a<o.length&&o[a].to<x;)a++;let k=w.isInline&&!w.isLeaf?u.filter(S=>!S.inline):u.slice();r(w,k,e.forChild(s,w),y),s=x}}function DD(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function ID(n,e,t,r){for(let o=0,s=0;o<n.childCount&&s<=r;){let a=n.child(o++),u=s;if(s+=a.nodeSize,!a.isText)continue;let f=a.text;for(;o<n.childCount;){let d=n.child(o++);if(s+=d.nodeSize,!d.isText)break;f+=d.text}if(s>=t){if(s>=r&&f.slice(r-e.length-u,r-u)==e)return r-e.length;let d=u<r?f.lastIndexOf(e,r-u-1):-1;if(d>=0&&d+e.length+u>=t)return u+d;if(t==r&&f.length>=r+e.length-u&&f.slice(r-u,r-u+e.length)==e)return r}}return-1}function tp(n,e,t,r,o){let s=[];for(let a=0,u=0;a<n.length;a++){let f=n[a],d=u,h=u+=f.size;d>=t||h<=e?s.push(f):(d<e&&s.push(f.slice(0,e-d,r)),o&&(s.push(o),o=void 0),h>t&&s.push(f.slice(t-d,f.size,r)))}return s}function _p(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let o=n.docView.nearestDesc(t.focusNode),s=o&&o.size==0,a=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(a<0)return null;let u=r.resolve(a),f,d;if(Wu(t)){for(f=a;o&&!o.node;)o=o.parent;let g=o.node;if(o&&g.isAtom&&be.isSelectable(g)&&o.parent&&!(g.isInline&&iD(t.focusNode,t.focusOffset,o.dom))){let w=o.posBefore;d=new be(a==w?u:r.resolve(w))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let g=a,w=a;for(let y=0;y<t.rangeCount;y++){let x=t.getRangeAt(y);g=Math.min(g,n.docView.posFromDOM(x.startContainer,x.startOffset,1)),w=Math.max(w,n.docView.posFromDOM(x.endContainer,x.endOffset,-1))}if(g<0)return null;[f,a]=w==n.state.selection.anchor?[w,g]:[g,w],u=r.resolve(a)}else f=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(f<0)return null}let h=r.resolve(f);if(!d){let g=e=="pointer"||n.state.selection.head<u.pos&&!s?1:-1;d=zp(n,h,u,g)}return d}function ix(n){return n.editable?n.hasFocus():lx(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function $r(n,e=!1){let t=n.state.selection;if(sx(n,t),!!ix(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&$t){let r=n.domSelectionRange(),o=n.domObserver.currentSelection;if(r.anchorNode&&o.anchorNode&&ai(r.anchorNode,r.anchorOffset,o.anchorNode,o.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)_D(n);else{let{anchor:r,head:o}=t,s,a;vv&&!(t instanceof Re)&&(t.$from.parent.inlineContent||(s=wv(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(a=wv(n,t.to))),n.docView.setSelection(r,o,n,e),vv&&(s&&xv(s),a&&xv(a)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&PD(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const vv=Jt||$t&&Kw<63;function wv(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),o=r<t.childNodes.length?t.childNodes[r]:null,s=r?t.childNodes[r-1]:null;if(Jt&&o&&o.contentEditable=="false")return gd(o);if((!o||o.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(o)return gd(o);if(s)return gd(s)}}function gd(n){return n.contentEditable="true",Jt&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function xv(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function PD(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,o=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=o)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!ix(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function _D(n){let e=n.domSelection(),t=document.createRange();if(!e)return;let r=n.cursorWrapper.dom,o=r.nodeName=="IMG";o?t.setStart(r.parentNode,It(r)+1):t.setStart(r,0),t.collapse(!0),e.removeAllRanges(),e.addRange(t),!o&&!n.state.selection.visible&&ln&&So<=11&&(r.disabled=!0,r.disabled=!1)}function sx(n,e){if(e instanceof be){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(kv(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else kv(n)}function kv(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function zp(n,e,t,r){return n.someProp("createSelectionBetween",o=>o(n,e,t))||Re.between(e,t,r)}function Sv(n){return n.editable&&!n.hasFocus()?!1:lx(n)}function lx(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function zD(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return ai(e.node,e.offset,t.anchorNode,t.anchorOffset)}function np(n,e){let{$anchor:t,$head:r}=n.selection,o=e>0?t.max(r):t.min(r),s=o.parent.inlineContent?o.depth?n.doc.resolve(e>0?o.after():o.before()):null:o;return s&&Ie.findFrom(s,e)}function co(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function bv(n,e,t){let r=n.state.selection;if(r instanceof Re)if(t.indexOf("s")>-1){let{$head:o}=r,s=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let a=n.state.doc.resolve(o.pos+s.nodeSize*(e<0?-1:1));return co(n,new Re(r.$anchor,a))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let o=np(n.state,e);return o&&o instanceof be?co(n,o):!1}else if(!(Dn&&t.indexOf("m")>-1)){let o=r.$head,s=o.textOffset?null:e<0?o.nodeBefore:o.nodeAfter,a;if(!s||s.isText)return!1;let u=e<0?o.pos-s.nodeSize:o.pos;return s.isAtom||(a=n.docView.descAt(u))&&!a.contentDOM?be.isSelectable(s)?co(n,new be(e<0?n.state.doc.resolve(o.pos-s.nodeSize):o)):Cl?co(n,new Re(n.state.doc.resolve(e<0?u:u+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof be&&r.node.isInline)return co(n,new Re(e>0?r.$to:r.$from));{let o=np(n.state,e);return o?co(n,o):!1}}}function wu(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function ul(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function $i(n,e){return e<0?FD(n):LD(n)}function FD(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let o,s,a=!1;for(Gn&&t.nodeType==1&&r<wu(t)&&ul(t.childNodes[r],-1)&&(a=!0);;)if(r>0){if(t.nodeType!=1)break;{let u=t.childNodes[r-1];if(ul(u,-1))o=t,s=--r;else if(u.nodeType==3)t=u,r=t.nodeValue.length;else break}}else{if(ax(t))break;{let u=t.previousSibling;for(;u&&ul(u,-1);)o=t.parentNode,s=It(u),u=u.previousSibling;if(u)t=u,r=wu(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}a?rp(n,t,r):o&&rp(n,o,s)}function LD(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let o=wu(t),s,a;for(;;)if(r<o){if(t.nodeType!=1)break;let u=t.childNodes[r];if(ul(u,1))s=t,a=++r;else break}else{if(ax(t))break;{let u=t.nextSibling;for(;u&&ul(u,1);)s=u.parentNode,a=It(u)+1,u=u.nextSibling;if(u)t=u,r=0,o=wu(t);else{if(t=t.parentNode,t==n.dom)break;r=o=0}}}s&&rp(n,s,a)}function ax(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function jD(n,e){for(;n&&e==n.childNodes.length&&!bl(n);)e=It(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function $D(n,e){for(;n&&!e&&!bl(n);)e=It(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function rp(n,e,t){if(e.nodeType!=3){let s,a;(a=jD(e,t))?(e=a,t=0):(s=$D(e,t))&&(e=s,t=s.nodeValue.length)}let r=n.domSelection();if(!r)return;if(Wu(r)){let s=document.createRange();s.setEnd(e,t),s.setStart(e,t),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:o}=n;setTimeout(()=>{n.state==o&&$r(n)},50)}function Cv(n,e){let t=n.state.doc.resolve(e);if(!($t||aD)&&t.parent.inlineContent){let o=n.coordsAtPos(e);if(e>t.start()){let s=n.coordsAtPos(e-1),a=(s.top+s.bottom)/2;if(a>o.top&&a<o.bottom&&Math.abs(s.left-o.left)>1)return s.left<o.left?"ltr":"rtl"}if(e<t.end()){let s=n.coordsAtPos(e+1),a=(s.top+s.bottom)/2;if(a>o.top&&a<o.bottom&&Math.abs(s.left-o.left)>1)return s.left>o.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function Ev(n,e,t){let r=n.state.selection;if(r instanceof Re&&!r.empty||t.indexOf("s")>-1||Dn&&t.indexOf("m")>-1)return!1;let{$from:o,$to:s}=r;if(!o.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let a=np(n.state,e);if(a&&a instanceof be)return co(n,a)}if(!o.parent.inlineContent){let a=e<0?o:s,u=r instanceof wn?Ie.near(a,e):Ie.findFrom(a,e);return u?co(n,u):!1}return!1}function Tv(n,e){if(!(n.state.selection instanceof Re))return!0;let{$head:t,$anchor:r,empty:o}=n.state.selection;if(!t.sameParent(r))return!0;if(!o)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(s&&!s.isText){let a=n.state.tr;return e<0?a.delete(t.pos-s.nodeSize,t.pos):a.delete(t.pos,t.pos+s.nodeSize),n.dispatch(a),!0}return!1}function Ov(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function BD(n){if(!Jt||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Ov(n,r,"true"),setTimeout(()=>Ov(n,r,"false"),20)}return!1}function VD(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function HD(n,e){let t=e.keyCode,r=VD(e);if(t==8||Dn&&t==72&&r=="c")return Tv(n,-1)||$i(n,-1);if(t==46&&!e.shiftKey||Dn&&t==68&&r=="c")return Tv(n,1)||$i(n,1);if(t==13||t==27)return!0;if(t==37||Dn&&t==66&&r=="c"){let o=t==37?Cv(n,n.state.selection.from)=="ltr"?-1:1:-1;return bv(n,o,r)||$i(n,o)}else if(t==39||Dn&&t==70&&r=="c"){let o=t==39?Cv(n,n.state.selection.from)=="ltr"?1:-1:1;return bv(n,o,r)||$i(n,o)}else{if(t==38||Dn&&t==80&&r=="c")return Ev(n,-1,r)||$i(n,-1);if(t==40||Dn&&t==78&&r=="c")return BD(n)||Ev(n,1,r)||$i(n,1);if(r==(Dn?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function ux(n,e){n.someProp("transformCopied",y=>{e=y(e,n)});let t=[],{content:r,openStart:o,openEnd:s}=e;for(;o>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){o--,s--;let y=r.firstChild;t.push(y.type.name,y.attrs!=y.type.defaultAttrs?y.attrs:null),r=y.content}let a=n.someProp("clipboardSerializer")||ci.fromSchema(n.state.schema),u=mx(),f=u.createElement("div");f.appendChild(a.serializeFragment(r,{document:u}));let d=f.firstChild,h,g=0;for(;d&&d.nodeType==1&&(h=hx[d.nodeName.toLowerCase()]);){for(let y=h.length-1;y>=0;y--){let x=u.createElement(h[y]);for(;f.firstChild;)x.appendChild(f.firstChild);f.appendChild(x),g++}d=f.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${o} ${s}${g?` -${g}`:""} ${JSON.stringify(t)}`);let w=n.someProp("clipboardTextSerializer",y=>y(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:f,text:w,slice:e}}function cx(n,e,t,r,o){let s=o.parent.type.spec.code,a,u;if(!t&&!e)return null;let f=e&&(r||s||!t);if(f){if(n.someProp("transformPastedText",w=>{e=w(e,s||r,n)}),s)return e?new ne(q.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):ne.empty;let g=n.someProp("clipboardTextParser",w=>w(e,o,r,n));if(g)u=g;else{let w=o.marks(),{schema:y}=n.state,x=ci.fromSchema(y);a=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(k=>{let S=a.appendChild(document.createElement("p"));k&&S.appendChild(x.serializeNode(y.text(k,w)))})}}else n.someProp("transformPastedHTML",g=>{t=g(t,n)}),a=KD(t),Cl&&JD(a);let d=a&&a.querySelector("[data-pm-slice]"),h=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let g=+h[3];g>0;g--){let w=a.firstChild;for(;w&&w.nodeType!=1;)w=w.nextSibling;if(!w)break;a=w}if(u||(u=(n.someProp("clipboardParser")||n.someProp("domParser")||ko.fromSchema(n.state.schema)).parseSlice(a,{preserveWhitespace:!!(f||h),context:o,ruleFromNode(w){return w.nodeName=="BR"&&!w.nextSibling&&w.parentNode&&!WD.test(w.parentNode.nodeName)?{ignore:!0}:null}})),h)u=QD(Mv(u,+h[1],+h[2]),h[4]);else if(u=ne.maxOpen(UD(u.content,o),!0),u.openStart||u.openEnd){let g=0,w=0;for(let y=u.content.firstChild;g<u.openStart&&!y.type.spec.isolating;g++,y=y.firstChild);for(let y=u.content.lastChild;w<u.openEnd&&!y.type.spec.isolating;w++,y=y.lastChild);u=Mv(u,g,w)}return n.someProp("transformPasted",g=>{u=g(u,n)}),u}const WD=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function UD(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let o=e.node(t).contentMatchAt(e.index(t)),s,a=[];if(n.forEach(u=>{if(!a)return;let f=o.findWrapping(u.type),d;if(!f)return a=null;if(d=a.length&&s.length&&dx(f,s,u,a[a.length-1],0))a[a.length-1]=d;else{a.length&&(a[a.length-1]=px(a[a.length-1],s.length));let h=fx(u,f);a.push(h),o=o.matchType(h.type),s=f}}),a)return q.from(a)}return n}function fx(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,q.from(n));return n}function dx(n,e,t,r,o){if(o<n.length&&o<e.length&&n[o]==e[o]){let s=dx(n,e,t,r.lastChild,o+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(o==n.length-1?t.type:n[o+1]))return r.copy(r.content.append(q.from(fx(t,n,o+1))))}}function px(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,px(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(q.empty,!0);return n.copy(t.append(r))}function op(n,e,t,r,o,s){let a=e<0?n.firstChild:n.lastChild,u=a.content;return n.childCount>1&&(s=0),o<r-1&&(u=op(u,e,t,r,o+1,s)),o>=t&&(u=e<0?a.contentMatchAt(0).fillBefore(u,s<=o).append(u):u.append(a.contentMatchAt(a.childCount).fillBefore(q.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,a.copy(u))}function Mv(n,e,t){return e<n.openStart&&(n=new ne(op(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new ne(op(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const hx={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Nv=null;function mx(){return Nv||(Nv=document.implementation.createHTMLDocument("title"))}let yd=null;function qD(n){let e=window.trustedTypes;return e?(yd||(yd=e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),yd.createHTML(n)):n}function KD(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=mx().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),o;if((o=r&&hx[r[1].toLowerCase()])&&(n=o.map(s=>"<"+s+">").join("")+n+o.map(s=>"</"+s+">").reverse().join("")),t.innerHTML=qD(n),o)for(let s=0;s<o.length;s++)t=t.querySelector(o[s])||t;return t}function JD(n){let e=n.querySelectorAll($t?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function QD(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:o,openStart:s,openEnd:a}=n;for(let u=r.length-2;u>=0;u-=2){let f=t.nodes[r[u]];if(!f||f.hasRequiredAttrs())break;o=q.from(f.create(r[u+1],o)),s++,a++}return new ne(o,s,a)}const Qt={},Gt={},GD={touchstart:!0,touchmove:!0};class YD{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function XD(n){for(let e in Qt){let t=Qt[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{eI(n,r)&&!Fp(n,r)&&(n.editable||!(r.type in Gt))&&t(n,r)},GD[e]?{passive:!0}:void 0)}Jt&&n.dom.addEventListener("input",()=>null),ip(n)}function yo(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function ZD(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function ip(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>Fp(n,r))})}function Fp(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function eI(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function tI(n,e){!Fp(n,e)&&Qt[e.type]&&(n.editable||!(e.type in Gt))&&Qt[e.type](n,e)}Gt.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!yx(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Fr&&$t&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),us&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",o=>o(n,qo(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||HD(n,t)?t.preventDefault():yo(n,"key")};Gt.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};Gt.keypress=(n,e)=>{let t=e;if(yx(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||Dn&&t.metaKey)return;if(n.someProp("handleKeyPress",o=>o(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof Re)||!r.$from.sameParent(r.$to)){let o=String.fromCharCode(t.charCode);!/[\r\n]/.test(o)&&!n.someProp("handleTextInput",s=>s(n,r.$from.pos,r.$to.pos,o))&&n.dispatch(n.state.tr.insertText(o).scrollIntoView()),t.preventDefault()}};function qu(n){return{left:n.clientX,top:n.clientY}}function nI(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function Lp(n,e,t,r,o){if(r==-1)return!1;let s=n.state.doc.resolve(r);for(let a=s.depth+1;a>0;a--)if(n.someProp(e,u=>a>s.depth?u(n,t,s.nodeAfter,s.before(a),o,!0):u(n,t,s.node(a),s.before(a),o,!1)))return!0;return!1}function Zi(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function rI(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&be.isSelectable(r)?(Zi(n,new be(t)),!0):!1}function oI(n,e){if(e==-1)return!1;let t=n.state.selection,r,o;t instanceof be&&(r=t.node);let s=n.state.doc.resolve(e);for(let a=s.depth+1;a>0;a--){let u=a>s.depth?s.nodeAfter:s.node(a);if(be.isSelectable(u)){r&&t.$from.depth>0&&a>=t.$from.depth&&s.before(t.$from.depth+1)==t.$from.pos?o=s.before(t.$from.depth):o=s.before(a);break}}return o!=null?(Zi(n,be.create(n.state.doc,o)),!0):!1}function iI(n,e,t,r,o){return Lp(n,"handleClickOn",e,t,r)||n.someProp("handleClick",s=>s(n,e,r))||(o?oI(n,t):rI(n,t))}function sI(n,e,t,r){return Lp(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",o=>o(n,e,r))}function lI(n,e,t,r){return Lp(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",o=>o(n,e,r))||aI(n,t,r)}function aI(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(Zi(n,Re.create(r,0,r.content.size)),!0):!1;let o=r.resolve(e);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s),u=o.before(s);if(a.inlineContent)Zi(n,Re.create(r,u+1,u+1+a.content.size));else if(be.isSelectable(a))Zi(n,be.create(r,u));else continue;return!0}}function jp(n){return xu(n)}const gx=Dn?"metaKey":"ctrlKey";Qt.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=jp(n),o=Date.now(),s="singleClick";o-n.input.lastClick.time<500&&nI(t,n.input.lastClick)&&!t[gx]&&(n.input.lastClick.type=="singleClick"?s="doubleClick":n.input.lastClick.type=="doubleClick"&&(s="tripleClick")),n.input.lastClick={time:o,x:t.clientX,y:t.clientY,type:s};let a=n.posAtCoords(qu(t));a&&(s=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new uI(n,a,t,!!r)):(s=="doubleClick"?sI:lI)(n,a.pos,a.inside,t)?t.preventDefault():yo(n,"pointer"))};class uI{constructor(e,t,r,o){this.view=e,this.pos=t,this.event=r,this.flushed=o,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[gx],this.allowDefault=r.shiftKey;let s,a;if(t.inside>-1)s=e.state.doc.nodeAt(t.inside),a=t.inside;else{let h=e.state.doc.resolve(t.pos);s=h.parent,a=h.depth?h.before():0}const u=o?null:r.target,f=u?e.docView.nearestDesc(u,!0):null;this.target=f&&f.dom.nodeType==1?f.dom:null;let{selection:d}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||d instanceof be&&d.from<=a&&d.to>a)&&(this.mightDrag={node:s,pos:a,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Gn&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),yo(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>$r(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(qu(e))),this.updateAllowDefault(e),this.allowDefault||!t?yo(this.view,"pointer"):iI(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Jt&&this.mightDrag&&!this.mightDrag.node.isAtom||$t&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(Zi(this.view,Ie.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):yo(this.view,"pointer")}move(e){this.updateAllowDefault(e),yo(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Qt.touchstart=n=>{n.input.lastTouch=Date.now(),jp(n),yo(n,"pointer")};Qt.touchmove=n=>{n.input.lastTouch=Date.now(),yo(n,"pointer")};Qt.contextmenu=n=>jp(n);function yx(n,e){return n.composing?!0:Jt&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const cI=Fr?5e3:-1;Gt.compositionstart=Gt.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof Re&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))n.markCursor=n.state.storedMarks||t.marks(),xu(n,!0),n.markCursor=null;else if(xu(n,!e.selection.empty),Gn&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let o=r.focusNode,s=r.focusOffset;o&&o.nodeType==1&&s!=0;){let a=s<0?o.lastChild:o.childNodes[s-1];if(!a)break;if(a.nodeType==3){let u=n.domSelection();u&&u.collapse(a,a.nodeValue.length);break}else o=a,s=-1}}n.input.composing=!0}vx(n,cI)};Gt.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,vx(n,20))};function vx(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>xu(n),e))}function wx(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=dI());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function fI(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=rD(e.focusNode,e.focusOffset),r=oD(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let o=r.pmViewDesc,s=n.domObserver.lastChangedTextNode;if(t==s||r==s)return s;if(!o||!o.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let a=t.pmViewDesc;if(!(!a||!a.isText(t.nodeValue)))return r}}return t||r}function dI(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function xu(n,e=!1){if(!(Fr&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),wx(n),e||n.docView&&n.docView.dirty){let t=_p(n);return t&&!t.eq(n.state.selection)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!n.state.selection.empty?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function pI(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),o=document.createRange();o.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const ml=ln&&So<15||us&&uD<604;Qt.copy=Gt.cut=(n,e)=>{let t=e,r=n.state.selection,o=t.type=="cut";if(r.empty)return;let s=ml?null:t.clipboardData,a=r.content(),{dom:u,text:f}=ux(n,a);s?(t.preventDefault(),s.clearData(),s.setData("text/html",u.innerHTML),s.setData("text/plain",f)):pI(n,u),o&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function hI(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function mI(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let o=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?gl(n,r.value,null,o,e):gl(n,r.textContent,r.innerHTML,o,e)},50)}function gl(n,e,t,r,o){let s=cx(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",f=>f(n,o,s||ne.empty)))return!0;if(!s)return!1;let a=hI(s),u=a?n.state.tr.replaceSelectionWith(a,r):n.state.tr.replaceSelection(s);return n.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function xx(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}Gt.paste=(n,e)=>{let t=e;if(n.composing&&!Fr)return;let r=ml?null:t.clipboardData,o=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&gl(n,xx(r),r.getData("text/html"),o,t)?t.preventDefault():mI(n,t)};class kx{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const Sx=Dn?"altKey":"ctrlKey";Qt.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let o=n.state.selection,s=o.empty?null:n.posAtCoords(qu(t)),a;if(!(s&&s.pos>=o.from&&s.pos<=(o instanceof be?o.to-1:o.to))){if(r&&r.mightDrag)a=be.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let g=n.docView.nearestDesc(t.target,!0);g&&g.node.type.spec.draggable&&g!=n.docView&&(a=be.create(n.state.doc,g.posBefore))}}let u=(a||n.state.selection).content(),{dom:f,text:d,slice:h}=ux(n,u);(!t.dataTransfer.files.length||!$t||Kw>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(ml?"Text":"text/html",f.innerHTML),t.dataTransfer.effectAllowed="copyMove",ml||t.dataTransfer.setData("text/plain",d),n.dragging=new kx(h,!t[Sx],a)};Qt.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};Gt.dragover=Gt.dragenter=(n,e)=>e.preventDefault();Gt.drop=(n,e)=>{let t=e,r=n.dragging;if(n.dragging=null,!t.dataTransfer)return;let o=n.posAtCoords(qu(t));if(!o)return;let s=n.state.doc.resolve(o.pos),a=r&&r.slice;a?n.someProp("transformPasted",x=>{a=x(a,n)}):a=cx(n,xx(t.dataTransfer),ml?null:t.dataTransfer.getData("text/html"),!1,s);let u=!!(r&&!t[Sx]);if(n.someProp("handleDrop",x=>x(n,t,a||ne.empty,u))){t.preventDefault();return}if(!a)return;t.preventDefault();let f=a?HA(n.state.doc,s.pos,a):s.pos;f==null&&(f=s.pos);let d=n.state.tr;if(u){let{node:x}=r;x?x.replace(d):d.deleteSelection()}let h=d.mapping.map(f),g=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,w=d.doc;if(g?d.replaceRangeWith(h,h,a.content.firstChild):d.replaceRange(h,h,a),d.doc.eq(w))return;let y=d.doc.resolve(h);if(g&&be.isSelectable(a.content.firstChild)&&y.nodeAfter&&y.nodeAfter.sameMarkup(a.content.firstChild))d.setSelection(new be(y));else{let x=d.mapping.map(f);d.mapping.maps[d.mapping.maps.length-1].forEach((k,S,C,T)=>x=T),d.setSelection(zp(n,y,d.doc.resolve(x)))}n.focus(),n.dispatch(d.setMeta("uiEvent","drop"))};Qt.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&$r(n)},20))};Qt.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};Qt.beforeinput=(n,e)=>{if($t&&Fr&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",s=>s(n,qo(8,"Backspace")))))return;let{$cursor:o}=n.state.selection;o&&o.pos>0&&n.dispatch(n.state.tr.delete(o.pos-1,o.pos).scrollIntoView())},50)}};for(let n in Gt)Qt[n]=Gt[n];function yl(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class ku{constructor(e,t){this.toDOM=e,this.spec=t||ti,this.side=this.spec.side||0}map(e,t,r,o){let{pos:s,deleted:a}=e.mapResult(t.from+o,this.side<0?-1:1);return a?null:new yn(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof ku&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&yl(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Co{constructor(e,t){this.attrs=e,this.spec=t||ti}map(e,t,r,o){let s=e.map(t.from+o,this.spec.inclusiveStart?-1:1)-r,a=e.map(t.to+o,this.spec.inclusiveEnd?1:-1)-r;return s>=a?null:new yn(s,a,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Co&&yl(this.attrs,e.attrs)&&yl(this.spec,e.spec)}static is(e){return e.type instanceof Co}destroy(){}}class $p{constructor(e,t){this.attrs=e,this.spec=t||ti}map(e,t,r,o){let s=e.mapResult(t.from+o,1);if(s.deleted)return null;let a=e.mapResult(t.to+o,-1);return a.deleted||a.pos<=s.pos?null:new yn(s.pos-r,a.pos-r,this)}valid(e,t){let{index:r,offset:o}=e.content.findIndex(t.from),s;return o==t.from&&!(s=e.child(r)).isText&&o+s.nodeSize==t.to}eq(e){return this==e||e instanceof $p&&yl(this.attrs,e.attrs)&&yl(this.spec,e.spec)}destroy(){}}class yn{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new yn(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new yn(e,e,new ku(t,r))}static inline(e,t,r,o){return new yn(e,t,new Co(r,o))}static node(e,t,r,o){return new yn(e,t,new $p(r,o))}get spec(){return this.type.spec}get inline(){return this.type instanceof Co}get widget(){return this.type instanceof ku}}const Wi=[],ti={};class dt{constructor(e,t){this.local=e.length?e:Wi,this.children=t.length?t:Wi}static create(e,t){return t.length?Su(t,e,0,ti):jt}find(e,t,r){let o=[];return this.findInner(e??0,t??1e9,o,0,r),o}findInner(e,t,r,o,s){for(let a=0;a<this.local.length;a++){let u=this.local[a];u.from<=t&&u.to>=e&&(!s||s(u.spec))&&r.push(u.copy(u.from+o,u.to+o))}for(let a=0;a<this.children.length;a+=3)if(this.children[a]<t&&this.children[a+1]>e){let u=this.children[a]+1;this.children[a+2].findInner(e-u,t-u,r,o+u,s)}}map(e,t,r){return this==jt||e.maps.length==0?this:this.mapInner(e,t,0,0,r||ti)}mapInner(e,t,r,o,s){let a;for(let u=0;u<this.local.length;u++){let f=this.local[u].map(e,r,o);f&&f.type.valid(t,f)?(a||(a=[])).push(f):s.onRemove&&s.onRemove(this.local[u].spec)}return this.children.length?gI(this.children,a||[],e,t,r,o,s):a?new dt(a.sort(ni),Wi):jt}add(e,t){return t.length?this==jt?dt.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let o,s=0;e.forEach((u,f)=>{let d=f+r,h;if(h=Cx(t,u,d)){for(o||(o=this.children.slice());s<o.length&&o[s]<f;)s+=3;o[s]==f?o[s+2]=o[s+2].addInner(u,h,d+1):o.splice(s,0,f,f+u.nodeSize,Su(h,u,d+1,ti)),s+=3}});let a=bx(s?Ex(t):t,-r);for(let u=0;u<a.length;u++)a[u].type.valid(e,a[u])||a.splice(u--,1);return new dt(a.length?this.local.concat(a).sort(ni):this.local,o||this.children)}remove(e){return e.length==0||this==jt?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,o=this.local;for(let s=0;s<r.length;s+=3){let a,u=r[s]+t,f=r[s+1]+t;for(let h=0,g;h<e.length;h++)(g=e[h])&&g.from>u&&g.to<f&&(e[h]=null,(a||(a=[])).push(g));if(!a)continue;r==this.children&&(r=this.children.slice());let d=r[s+2].removeInner(a,u+1);d!=jt?r[s+2]=d:(r.splice(s,3),s-=3)}if(o.length){for(let s=0,a;s<e.length;s++)if(a=e[s])for(let u=0;u<o.length;u++)o[u].eq(a,t)&&(o==this.local&&(o=this.local.slice()),o.splice(u--,1))}return r==this.children&&o==this.local?this:o.length||r.length?new dt(o,r):jt}forChild(e,t){if(this==jt)return this;if(t.isLeaf)return dt.empty;let r,o;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(r=this.children[u+2]);break}let s=e+1,a=s+t.content.size;for(let u=0;u<this.local.length;u++){let f=this.local[u];if(f.from<a&&f.to>s&&f.type instanceof Co){let d=Math.max(s,f.from)-s,h=Math.min(a,f.to)-s;d<h&&(o||(o=[])).push(f.copy(d,h))}}if(o){let u=new dt(o.sort(ni),Wi);return r?new ho([u,r]):u}return r||jt}eq(e){if(this==e)return!0;if(!(e instanceof dt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Bp(this.localsInner(e))}localsInner(e){if(this==jt)return Wi;if(e.inlineContent||!this.local.some(Co.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Co||t.push(this.local[r]);return t}forEachSet(e){e(this)}}dt.empty=new dt([],[]);dt.removeOverlap=Bp;const jt=dt.empty;class ho{constructor(e){this.members=e}map(e,t){const r=this.members.map(o=>o.map(e,t,ti));return ho.from(r)}forChild(e,t){if(t.isLeaf)return dt.empty;let r=[];for(let o=0;o<this.members.length;o++){let s=this.members[o].forChild(e,t);s!=jt&&(s instanceof ho?r=r.concat(s.members):r.push(s))}return ho.from(r)}eq(e){if(!(e instanceof ho)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let o=0;o<this.members.length;o++){let s=this.members[o].localsInner(e);if(s.length)if(!t)t=s;else{r&&(t=t.slice(),r=!1);for(let a=0;a<s.length;a++)t.push(s[a])}}return t?Bp(r?t:t.sort(ni)):Wi}static from(e){switch(e.length){case 0:return jt;case 1:return e[0];default:return new ho(e.every(t=>t instanceof dt)?e:e.reduce((t,r)=>t.concat(r instanceof dt?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function gI(n,e,t,r,o,s,a){let u=n.slice();for(let d=0,h=s;d<t.maps.length;d++){let g=0;t.maps[d].forEach((w,y,x,k)=>{let S=k-x-(y-w);for(let C=0;C<u.length;C+=3){let T=u[C+1];if(T<0||w>T+h-g)continue;let N=u[C]+h-g;y>=N?u[C+1]=w<=N?-2:-1:w>=h&&S&&(u[C]+=S,u[C+1]+=S)}g+=S}),h=t.maps[d].map(h,-1)}let f=!1;for(let d=0;d<u.length;d+=3)if(u[d+1]<0){if(u[d+1]==-2){f=!0,u[d+1]=-1;continue}let h=t.map(n[d]+s),g=h-o;if(g<0||g>=r.content.size){f=!0;continue}let w=t.map(n[d+1]+s,-1),y=w-o,{index:x,offset:k}=r.content.findIndex(g),S=r.maybeChild(x);if(S&&k==g&&k+S.nodeSize==y){let C=u[d+2].mapInner(t,S,h+1,n[d]+s+1,a);C!=jt?(u[d]=g,u[d+1]=y,u[d+2]=C):(u[d+1]=-2,f=!0)}else f=!0}if(f){let d=yI(u,n,e,t,o,s,a),h=Su(d,r,0,a);e=h.local;for(let g=0;g<u.length;g+=3)u[g+1]<0&&(u.splice(g,3),g-=3);for(let g=0,w=0;g<h.children.length;g+=3){let y=h.children[g];for(;w<u.length&&u[w]<y;)w+=3;u.splice(w,0,h.children[g],h.children[g+1],h.children[g+2])}}return new dt(e.sort(ni),u)}function bx(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let o=n[r];t.push(new yn(o.from+e,o.to+e,o.type))}return t}function yI(n,e,t,r,o,s,a){function u(f,d){for(let h=0;h<f.local.length;h++){let g=f.local[h].map(r,o,d);g?t.push(g):a.onRemove&&a.onRemove(f.local[h].spec)}for(let h=0;h<f.children.length;h+=3)u(f.children[h+2],f.children[h]+d+1)}for(let f=0;f<n.length;f+=3)n[f+1]==-1&&u(n[f+2],e[f]+s+1);return t}function Cx(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,o=null;for(let s=0,a;s<n.length;s++)(a=n[s])&&a.from>t&&a.to<r&&((o||(o=[])).push(a),n[s]=null);return o}function Ex(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function Su(n,e,t,r){let o=[],s=!1;e.forEach((u,f)=>{let d=Cx(n,u,f+t);if(d){s=!0;let h=Su(d,u,t+f+1,r);h!=jt&&o.push(f,f+u.nodeSize,h)}});let a=bx(s?Ex(n):n,-t).sort(ni);for(let u=0;u<a.length;u++)a[u].type.valid(e,a[u])||(r.onRemove&&r.onRemove(a[u].spec),a.splice(u--,1));return a.length||o.length?new dt(a,o):jt}function ni(n,e){return n.from-e.from||n.to-e.to}function Bp(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let o=t+1;o<e.length;o++){let s=e[o];if(s.from==r.from){s.to!=r.to&&(e==n&&(e=n.slice()),e[o]=s.copy(s.from,r.to),Rv(e,o+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,s.from),Rv(e,o,r.copy(s.from,r.to)));break}}}return e}function Rv(n,e,t){for(;e<n.length&&ni(t,n[e])>0;)e++;n.splice(e,0,t)}function vd(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=jt&&e.push(r)}),n.cursorWrapper&&e.push(dt.create(n.state.doc,[n.cursorWrapper.deco])),ho.from(e)}const vI={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},wI=ln&&So<=11;class xI{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class kI{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new xI,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let o=0;o<r.length;o++)this.queue.push(r[o]);ln&&So<=11&&r.some(o=>o.type=="childList"&&o.removedNodes.length||o.type=="characterData"&&o.oldValue.length>o.target.nodeValue.length)?this.flushSoon():this.flush()}),wI&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,vI)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Sv(this.view)){if(this.suppressingSelectionUpdates)return $r(this.view);if(ln&&So<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ai(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let s=e.focusNode;s;s=hl(s))t.add(s);for(let s=e.anchorNode;s;s=hl(s))if(t.has(s)){r=s;break}let o=r&&this.view.docView.nearestDesc(r);if(o&&o.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),o=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Sv(e)&&!this.ignoreSelectionChange(r),s=-1,a=-1,u=!1,f=[];if(e.editable)for(let h=0;h<t.length;h++){let g=this.registerMutation(t[h],f);g&&(s=s<0?g.from:Math.min(g.from,s),a=a<0?g.to:Math.max(g.to,a),g.typeOver&&(u=!0))}if(Gn&&f.length){let h=f.filter(g=>g.nodeName=="BR");if(h.length==2){let[g,w]=h;g.parentNode&&g.parentNode.parentNode==w.parentNode?w.remove():g.remove()}else{let{focusNode:g}=this.currentSelection;for(let w of h){let y=w.parentNode;y&&y.nodeName=="LI"&&(!g||CI(e,g)!=y)&&w.remove()}}}let d=null;s<0&&o&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Wu(r)&&(d=_p(e))&&d.eq(Ie.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,$r(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||o)&&(s>-1&&(e.docView.markDirty(s,a),SI(e)),this.handleDOMChange(s,a,u,f),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||$r(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let h=0;h<e.addedNodes.length;h++){let g=e.addedNodes[h];t.push(g),g.nodeType==3&&(this.lastChangedTextNode=g)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let o=e.previousSibling,s=e.nextSibling;if(ln&&So<=11&&e.addedNodes.length)for(let h=0;h<e.addedNodes.length;h++){let{previousSibling:g,nextSibling:w}=e.addedNodes[h];(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(o=g),(!w||Array.prototype.indexOf.call(e.addedNodes,w)<0)&&(s=w)}let a=o&&o.parentNode==e.target?It(o)+1:0,u=r.localPosFromDOM(e.target,a,-1),f=s&&s.parentNode==e.target?It(s):e.target.childNodes.length,d=r.localPosFromDOM(e.target,f,1);return{from:u,to:d}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Av=new WeakMap,Dv=!1;function SI(n){if(!Av.has(n)&&(Av.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=Gn,Dv)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Dv=!0}}function Iv(n,e){let t=e.startContainer,r=e.startOffset,o=e.endContainer,s=e.endOffset,a=n.domAtPos(n.state.selection.anchor);return ai(a.node,a.offset,o,s)&&([t,r,o,s]=[o,s,t,r]),{anchorNode:t,anchorOffset:r,focusNode:o,focusOffset:s}}function bI(n,e){if(e.getComposedRanges){let o=e.getComposedRanges(n.root)[0];if(o)return Iv(n,o)}let t;function r(o){o.preventDefault(),o.stopImmediatePropagation(),t=o.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?Iv(n,t):null}function CI(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function EI(n,e,t){let{node:r,fromOffset:o,toOffset:s,from:a,to:u}=n.docView.parseRange(e,t),f=n.domSelectionRange(),d,h=f.anchorNode;if(h&&n.dom.contains(h.nodeType==1?h:h.parentNode)&&(d=[{node:h,offset:f.anchorOffset}],Wu(f)||d.push({node:f.focusNode,offset:f.focusOffset})),$t&&n.input.lastKeyCode===8)for(let S=s;S>o;S--){let C=r.childNodes[S-1],T=C.pmViewDesc;if(C.nodeName=="BR"&&!T){s=S;break}if(!T||T.size)break}let g=n.state.doc,w=n.someProp("domParser")||ko.fromSchema(n.state.schema),y=g.resolve(a),x=null,k=w.parse(r,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:o,to:s,preserveWhitespace:y.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:TI,context:y});if(d&&d[0].pos!=null){let S=d[0].pos,C=d[1]&&d[1].pos;C==null&&(C=S),x={anchor:S+a,head:C+a}}return{doc:k,sel:x,from:a,to:u}}function TI(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(Jt&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||Jt&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const OI=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function MI(n,e,t,r,o){let s=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let Q=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,G=_p(n,Q);if(G&&!n.state.selection.eq(G)){if($t&&Fr&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",fe=>fe(n,qo(13,"Enter"))))return;let ge=n.state.tr.setSelection(G);Q=="pointer"?ge.setMeta("pointer",!0):Q=="key"&&ge.scrollIntoView(),s&&ge.setMeta("composition",s),n.dispatch(ge)}return}let a=n.state.doc.resolve(e),u=a.sharedDepth(t);e=a.before(u+1),t=n.state.doc.resolve(t).after(u+1);let f=n.state.selection,d=EI(n,e,t),h=n.state.doc,g=h.slice(d.from,d.to),w,y;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(w=n.state.selection.to,y="end"):(w=n.state.selection.from,y="start"),n.input.lastKeyCode=null;let x=AI(g.content,d.doc.content,d.from,w,y);if(x&&n.input.domChangeCount++,(us&&n.input.lastIOSEnter>Date.now()-225||Fr)&&o.some(Q=>Q.nodeType==1&&!OI.test(Q.nodeName))&&(!x||x.endA>=x.endB)&&n.someProp("handleKeyDown",Q=>Q(n,qo(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!x)if(r&&f instanceof Re&&!f.empty&&f.$head.sameParent(f.$anchor)&&!n.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))x={start:f.from,endA:f.to,endB:f.to};else{if(d.sel){let Q=Pv(n,n.state.doc,d.sel);if(Q&&!Q.eq(n.state.selection)){let G=n.state.tr.setSelection(Q);s&&G.setMeta("composition",s),n.dispatch(G)}}return}n.state.selection.from<n.state.selection.to&&x.start==x.endB&&n.state.selection instanceof Re&&(x.start>n.state.selection.from&&x.start<=n.state.selection.from+2&&n.state.selection.from>=d.from?x.start=n.state.selection.from:x.endA<n.state.selection.to&&x.endA>=n.state.selection.to-2&&n.state.selection.to<=d.to&&(x.endB+=n.state.selection.to-x.endA,x.endA=n.state.selection.to)),ln&&So<=11&&x.endB==x.start+1&&x.endA==x.start&&x.start>d.from&&d.doc.textBetween(x.start-d.from-1,x.start-d.from+1)=="  "&&(x.start--,x.endA--,x.endB--);let k=d.doc.resolveNoCache(x.start-d.from),S=d.doc.resolveNoCache(x.endB-d.from),C=h.resolve(x.start),T=k.sameParent(S)&&k.parent.inlineContent&&C.end()>=x.endA,N;if((us&&n.input.lastIOSEnter>Date.now()-225&&(!T||o.some(Q=>Q.nodeName=="DIV"||Q.nodeName=="P"))||!T&&k.pos<d.doc.content.size&&!k.sameParent(S)&&(N=Ie.findFrom(d.doc.resolve(k.pos+1),1,!0))&&N.head==S.pos)&&n.someProp("handleKeyDown",Q=>Q(n,qo(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>x.start&&RI(h,x.start,x.endA,k,S)&&n.someProp("handleKeyDown",Q=>Q(n,qo(8,"Backspace")))){Fr&&$t&&n.domObserver.suppressSelectionUpdates();return}$t&&x.endB==x.start&&(n.input.lastChromeDelete=Date.now()),Fr&&!T&&k.start()!=S.start()&&S.parentOffset==0&&k.depth==S.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==x.endA&&(x.endB-=2,S=d.doc.resolveNoCache(x.endB-d.from),setTimeout(()=>{n.someProp("handleKeyDown",function(Q){return Q(n,qo(13,"Enter"))})},20));let I=x.start,P=x.endA,B,U,X;if(T){if(k.pos==S.pos)ln&&So<=11&&k.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>$r(n),20)),B=n.state.tr.delete(I,P),U=h.resolve(x.start).marksAcross(h.resolve(x.endA));else if(x.endA==x.endB&&(X=NI(k.parent.content.cut(k.parentOffset,S.parentOffset),C.parent.content.cut(C.parentOffset,x.endA-C.start()))))B=n.state.tr,X.type=="add"?B.addMark(I,P,X.mark):B.removeMark(I,P,X.mark);else if(k.parent.child(k.index()).isText&&k.index()==S.index()-(S.textOffset?0:1)){let Q=k.parent.textBetween(k.parentOffset,S.parentOffset);if(n.someProp("handleTextInput",G=>G(n,I,P,Q)))return;B=n.state.tr.insertText(Q,I,P)}}if(B||(B=n.state.tr.replace(I,P,d.doc.slice(x.start-d.from,x.endB-d.from))),d.sel){let Q=Pv(n,B.doc,d.sel);Q&&!($t&&n.composing&&Q.empty&&(x.start!=x.endB||n.input.lastChromeDelete<Date.now()-100)&&(Q.head==I||Q.head==B.mapping.map(P)-1)||ln&&Q.empty&&Q.head==I)&&B.setSelection(Q)}U&&B.ensureMarks(U),s&&B.setMeta("composition",s),n.dispatch(B.scrollIntoView())}function Pv(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:zp(n,e.resolve(t.anchor),e.resolve(t.head))}function NI(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,o=t,s=r,a,u,f;for(let h=0;h<r.length;h++)o=r[h].removeFromSet(o);for(let h=0;h<t.length;h++)s=t[h].removeFromSet(s);if(o.length==1&&s.length==0)u=o[0],a="add",f=h=>h.mark(u.addToSet(h.marks));else if(o.length==0&&s.length==1)u=s[0],a="remove",f=h=>h.mark(u.removeFromSet(h.marks));else return null;let d=[];for(let h=0;h<e.childCount;h++)d.push(f(e.child(h)));if(q.from(d).eq(n))return{mark:u,type:a}}function RI(n,e,t,r,o){if(t-e<=o.pos-r.pos||wd(r,!0,!1)<o.pos)return!1;let s=n.resolve(e);if(!r.parent.isTextblock){let u=s.nodeAfter;return u!=null&&t==e+u.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let a=n.resolve(wd(s,!0,!0));return!a.parent.isTextblock||a.pos>t||wd(a,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(a.parent.content)}function wd(n,e,t){let r=n.depth,o=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,o++,e=!1;if(t){let s=n.node(r).maybeChild(n.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,o++}return o}function AI(n,e,t,r,o){let s=n.findDiffStart(e,t);if(s==null)return null;let{a,b:u}=n.findDiffEnd(e,t+n.size,t+e.size);if(o=="end"){let f=Math.max(0,s-Math.min(a,u));r-=a+f-s}if(a<s&&n.size<e.size){let f=r<=s&&r>=a?s-r:0;s-=f,s&&s<e.size&&_v(e.textBetween(s-1,s+1))&&(s+=f?1:-1),u=s+(u-a),a=s}else if(u<s){let f=r<=s&&r>=u?s-r:0;s-=f,s&&s<n.size&&_v(n.textBetween(s-1,s+1))&&(s+=f?1:-1),a=s+(a-u),u=s}return{start:s,endA:a,endB:u}}function _v(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class DI{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new YD,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach($v),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Lv(this),Fv(this),this.nodeViews=jv(this),this.docView=gv(this.state.doc,zv(this),vd(this),this.dom,this),this.domObserver=new kI(this,(r,o,s,a)=>MI(this,r,o,s,a)),this.domObserver.start(),XD(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&ip(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach($v),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let o=this.state,s=!1,a=!1;e.storedMarks&&this.composing&&(wx(this),a=!0),this.state=e;let u=o.plugins!=e.plugins||this._props.plugins!=t.plugins;if(u||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let y=jv(this);PI(y,this.nodeViews)&&(this.nodeViews=y,s=!0)}(u||t.handleDOMEvents!=this._props.handleDOMEvents)&&ip(this),this.editable=Lv(this),Fv(this);let f=vd(this),d=zv(this),h=o.plugins!=e.plugins&&!o.doc.eq(e.doc)?"reset":e.scrollToSelection>o.scrollToSelection?"to selection":"preserve",g=s||!this.docView.matchesNode(e.doc,d,f);(g||!e.selection.eq(o.selection))&&(a=!0);let w=h=="preserve"&&a&&this.dom.style.overflowAnchor==null&&dD(this);if(a){this.domObserver.stop();let y=g&&(ln||$t)&&!this.composing&&!o.selection.empty&&!e.selection.empty&&II(o.selection,e.selection);if(g){let x=$t?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=fI(this)),(s||!this.docView.update(e.doc,d,f,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=gv(e.doc,d,f,this.dom,this)),x&&!this.trackWrites&&(y=!0)}y||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&zD(this))?$r(this,y):(sx(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(o),!((r=this.dragging)===null||r===void 0)&&r.node&&!o.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,o),h=="reset"?this.dom.scrollTop=0:h=="to selection"?this.scrollToSelection():w&&pD(w)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof be){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&cv(this,t.getBoundingClientRect(),e)}else cv(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,o=-1;if(this.state.doc.nodeAt(r.from)==r.node)o=r.from;else{let s=r.from+(this.state.doc.content.size-t.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(o=s)}this.dragging=new kx(e.slice,e.move,o<0?void 0:be.create(this.state.doc,o))}someProp(e,t){let r=this._props&&this._props[e],o;if(r!=null&&(o=t?t(r):r))return o;for(let a=0;a<this.directPlugins.length;a++){let u=this.directPlugins[a].props[e];if(u!=null&&(o=t?t(u):u))return o}let s=this.state.plugins;if(s)for(let a=0;a<s.length;a++){let u=s[a].props[e];if(u!=null&&(o=t?t(u):u))return o}}hasFocus(){if(ln){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&hD(this.dom),$r(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return wD(this,e)}coordsAtPos(e,t=1){return Xw(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let o=this.docView.posFromDOM(e,t,r);if(o==null)throw new RangeError("DOM position not inside the editor");return o}endOfTextblock(e,t){return CD(this,t||this.state,e)}pasteHTML(e,t){return gl(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return gl(this,e,null,!0,t||new ClipboardEvent("paste"))}destroy(){this.docView&&(ZD(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],vd(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,tD())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return tI(this,e)}dispatch(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Jt&&this.root.nodeType===11&&sD(this.dom.ownerDocument)==this.dom&&bI(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function zv(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[yn.node(0,n.state.doc.content.size,e)]}function Fv(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:yn.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function Lv(n){return!n.someProp("editable",e=>e(n.state)===!1)}function II(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function jv(n){let e=Object.create(null);function t(r){for(let o in r)Object.prototype.hasOwnProperty.call(e,o)||(e[o]=r[o])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function PI(n,e){let t=0,r=0;for(let o in n){if(n[o]!=e[o])return!0;t++}for(let o in e)r++;return t!=r}function $v(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var To={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},bu={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},_I=typeof navigator<"u"&&/Mac/.test(navigator.platform),zI=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Pt=0;Pt<10;Pt++)To[48+Pt]=To[96+Pt]=String(Pt);for(var Pt=1;Pt<=24;Pt++)To[Pt+111]="F"+Pt;for(var Pt=65;Pt<=90;Pt++)To[Pt]=String.fromCharCode(Pt+32),bu[Pt]=String.fromCharCode(Pt);for(var xd in To)bu.hasOwnProperty(xd)||(bu[xd]=To[xd]);function FI(n){var e=_I&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||zI&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?bu:To)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const LI=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function jI(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,o,s,a;for(let u=0;u<e.length-1;u++){let f=e[u];if(/^(cmd|meta|m)$/i.test(f))a=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))o=!0;else if(/^s(hift)?$/i.test(f))s=!0;else if(/^mod$/i.test(f))LI?a=!0:o=!0;else throw new Error("Unrecognized modifier name: "+f)}return r&&(t="Alt-"+t),o&&(t="Ctrl-"+t),a&&(t="Meta-"+t),s&&(t="Shift-"+t),t}function $I(n){let e=Object.create(null);for(let t in n)e[jI(t)]=n[t];return e}function kd(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function BI(n){return new xn({props:{handleKeyDown:VI(n)}})}function VI(n){let e=$I(n);return function(t,r){let o=FI(r),s,a=e[kd(o,r)];if(a&&a(t.state,t.dispatch,t))return!0;if(o.length==1&&o!=" "){if(r.shiftKey){let u=e[kd(o,r,!1)];if(u&&u(t.state,t.dispatch,t))return!0}if((r.shiftKey||r.altKey||r.metaKey||o.charCodeAt(0)>127)&&(s=To[r.keyCode])&&s!=o){let u=e[kd(s,r)];if(u&&u(t.state,t.dispatch,t))return!0}}return!1}}const Vp=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function Tx(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const Ox=(n,e,t)=>{let r=Tx(n,t);if(!r)return!1;let o=Hp(r);if(!o){let a=r.blockRange(),u=a&&ps(a);return u==null?!1:(e&&e(n.tr.lift(a,u).scrollIntoView()),!0)}let s=o.nodeBefore;if(zx(n,o,e,-1))return!0;if(r.parent.content.size==0&&(cs(s,"end")||be.isSelectable(s)))for(let a=r.depth;;a--){let u=Vu(n.doc,r.before(a),r.after(a),ne.empty);if(u&&u.slice.size<u.to-u.from){if(e){let f=n.tr.step(u);f.setSelection(cs(s,"end")?Ie.findFrom(f.doc.resolve(f.mapping.map(o.pos,-1)),-1):be.create(f.doc,o.pos-s.nodeSize)),e(f.scrollIntoView())}return!0}if(a==1||r.node(a-1).childCount>1)break}return s.isAtom&&o.depth==r.depth-1?(e&&e(n.tr.delete(o.pos-s.nodeSize,o.pos).scrollIntoView()),!0):!1},HI=(n,e,t)=>{let r=Tx(n,t);if(!r)return!1;let o=Hp(r);return o?Mx(n,o,e):!1},WI=(n,e,t)=>{let r=Rx(n,t);if(!r)return!1;let o=Wp(r);return o?Mx(n,o,e):!1};function Mx(n,e,t){let r=e.nodeBefore,o=r,s=e.pos-1;for(;!o.isTextblock;s--){if(o.type.spec.isolating)return!1;let h=o.lastChild;if(!h)return!1;o=h}let a=e.nodeAfter,u=a,f=e.pos+1;for(;!u.isTextblock;f++){if(u.type.spec.isolating)return!1;let h=u.firstChild;if(!h)return!1;u=h}let d=Vu(n.doc,s,f,ne.empty);if(!d||d.from!=s||d instanceof St&&d.slice.size>=f-s)return!1;if(t){let h=n.tr.step(d);h.setSelection(Re.create(h.doc,s)),t(h.scrollIntoView())}return!0}function cs(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const Nx=(n,e,t)=>{let{$head:r,empty:o}=n.selection,s=r;if(!o)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;s=Hp(r)}let a=s&&s.nodeBefore;return!a||!be.isSelectable(a)?!1:(e&&e(n.tr.setSelection(be.create(n.doc,s.pos-a.nodeSize)).scrollIntoView()),!0)};function Hp(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function Rx(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const Ax=(n,e,t)=>{let r=Rx(n,t);if(!r)return!1;let o=Wp(r);if(!o)return!1;let s=o.nodeAfter;if(zx(n,o,e,1))return!0;if(r.parent.content.size==0&&(cs(s,"start")||be.isSelectable(s))){let a=Vu(n.doc,r.before(),r.after(),ne.empty);if(a&&a.slice.size<a.to-a.from){if(e){let u=n.tr.step(a);u.setSelection(cs(s,"start")?Ie.findFrom(u.doc.resolve(u.mapping.map(o.pos)),1):be.create(u.doc,u.mapping.map(o.pos))),e(u.scrollIntoView())}return!0}}return s.isAtom&&o.depth==r.depth-1?(e&&e(n.tr.delete(o.pos,o.pos+s.nodeSize).scrollIntoView()),!0):!1},Dx=(n,e,t)=>{let{$head:r,empty:o}=n.selection,s=r;if(!o)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;s=Wp(r)}let a=s&&s.nodeAfter;return!a||!be.isSelectable(a)?!1:(e&&e(n.tr.setSelection(be.create(n.doc,s.pos)).scrollIntoView()),!0)};function Wp(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const UI=(n,e)=>{let t=n.selection,r=t instanceof be,o;if(r){if(t.node.isTextblock||!fi(n.doc,t.from))return!1;o=t.from}else if(o=Bu(n.doc,t.from,-1),o==null)return!1;if(e){let s=n.tr.join(o);r&&s.setSelection(be.create(s.doc,o-n.doc.resolve(o).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},qI=(n,e)=>{let t=n.selection,r;if(t instanceof be){if(t.node.isTextblock||!fi(n.doc,t.to))return!1;r=t.to}else if(r=Bu(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},KI=(n,e)=>{let{$from:t,$to:r}=n.selection,o=t.blockRange(r),s=o&&ps(o);return s==null?!1:(e&&e(n.tr.lift(o,s).scrollIntoView()),!0)},Ix=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function Up(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const JI=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let o=t.node(-1),s=t.indexAfter(-1),a=Up(o.contentMatchAt(s));if(!a||!o.canReplaceWith(s,s,a))return!1;if(e){let u=t.after(),f=n.tr.replaceWith(u,u,a.createAndFill());f.setSelection(Ie.near(f.doc.resolve(u),1)),e(f.scrollIntoView())}return!0},Px=(n,e)=>{let t=n.selection,{$from:r,$to:o}=t;if(t instanceof wn||r.parent.inlineContent||o.parent.inlineContent)return!1;let s=Up(o.parent.contentMatchAt(o.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let a=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,u=n.tr.insert(a,s.createAndFill());u.setSelection(Re.create(u.doc,a+1)),e(u.scrollIntoView())}return!0},_x=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let s=t.before();if(jr(n.doc,s))return e&&e(n.tr.split(s).scrollIntoView()),!0}let r=t.blockRange(),o=r&&ps(r);return o==null?!1:(e&&e(n.tr.lift(r,o).scrollIntoView()),!0)};function QI(n){return(e,t)=>{let{$from:r,$to:o}=e.selection;if(e.selection instanceof be&&e.selection.node.isBlock)return!r.parentOffset||!jr(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],a,u,f=!1,d=!1;for(let y=r.depth;;y--)if(r.node(y).isBlock){f=r.end(y)==r.pos+(r.depth-y),d=r.start(y)==r.pos-(r.depth-y),u=Up(r.node(y-1).contentMatchAt(r.indexAfter(y-1))),s.unshift(f&&u?{type:u}:null),a=y;break}else{if(y==1)return!1;s.unshift(null)}let h=e.tr;(e.selection instanceof Re||e.selection instanceof wn)&&h.deleteSelection();let g=h.mapping.map(r.pos),w=jr(h.doc,g,s.length,s);if(w||(s[0]=u?{type:u}:null,w=jr(h.doc,g,s.length,s)),h.split(g,s.length,s),!f&&d&&r.node(a).type!=u){let y=h.mapping.map(r.before(a)),x=h.doc.resolve(y);u&&r.node(a-1).canReplaceWith(x.index(),x.index()+1,u)&&h.setNodeMarkup(h.mapping.map(r.before(a)),u)}return t&&t(h.scrollIntoView()),!0}}const GI=QI(),YI=(n,e)=>{let{$from:t,to:r}=n.selection,o,s=t.sharedDepth(r);return s==0?!1:(o=t.before(s),e&&e(n.tr.setSelection(be.create(n.doc,o))),!0)};function XI(n,e,t){let r=e.nodeBefore,o=e.nodeAfter,s=e.index();return!r||!o||!r.type.compatibleContent(o.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(o.isTextblock||fi(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function zx(n,e,t,r){let o=e.nodeBefore,s=e.nodeAfter,a,u,f=o.type.spec.isolating||s.type.spec.isolating;if(!f&&XI(n,e,t))return!0;let d=!f&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(a=(u=o.contentMatchAt(o.childCount)).findWrapping(s.type))&&u.matchType(a[0]||s.type).validEnd){if(t){let y=e.pos+s.nodeSize,x=q.empty;for(let C=a.length-1;C>=0;C--)x=q.from(a[C].create(null,x));x=q.from(o.copy(x));let k=n.tr.step(new bt(e.pos-1,y,e.pos,y,new ne(x,1,0),a.length,!0)),S=k.doc.resolve(y+2*a.length);S.nodeAfter&&S.nodeAfter.type==o.type&&fi(k.doc,S.pos)&&k.join(S.pos),t(k.scrollIntoView())}return!0}let h=s.type.spec.isolating||r>0&&f?null:Ie.findFrom(e,1),g=h&&h.$from.blockRange(h.$to),w=g&&ps(g);if(w!=null&&w>=e.depth)return t&&t(n.tr.lift(g,w).scrollIntoView()),!0;if(d&&cs(s,"start",!0)&&cs(o,"end")){let y=o,x=[];for(;x.push(y),!y.isTextblock;)y=y.lastChild;let k=s,S=1;for(;!k.isTextblock;k=k.firstChild)S++;if(y.canReplace(y.childCount,y.childCount,k.content)){if(t){let C=q.empty;for(let N=x.length-1;N>=0;N--)C=q.from(x[N].copy(C));let T=n.tr.step(new bt(e.pos-x.length,e.pos+s.nodeSize,e.pos+S,e.pos+s.nodeSize-S,new ne(C,x.length,0),0,!0));t(T.scrollIntoView())}return!0}}return!1}function Fx(n){return function(e,t){let r=e.selection,o=n<0?r.$from:r.$to,s=o.depth;for(;o.node(s).isInline;){if(!s)return!1;s--}return o.node(s).isTextblock?(t&&t(e.tr.setSelection(Re.create(e.doc,n<0?o.start(s):o.end(s)))),!0):!1}}const ZI=Fx(-1),eP=Fx(1);function tP(n,e=null){return function(t,r){let{$from:o,$to:s}=t.selection,a=o.blockRange(s),u=a&&zw(a,n,e);return u?(r&&r(t.tr.wrap(a,u).scrollIntoView()),!0):!1}}function Bv(n,e=null){return function(t,r){let o=!1;for(let s=0;s<t.selection.ranges.length&&!o;s++){let{$from:{pos:a},$to:{pos:u}}=t.selection.ranges[s];t.doc.nodesBetween(a,u,(f,d)=>{if(o)return!1;if(!(!f.isTextblock||f.hasMarkup(n,e)))if(f.type==n)o=!0;else{let h=t.doc.resolve(d),g=h.index();o=h.parent.canReplaceWith(g,g+1,n)}})}if(!o)return!1;if(r){let s=t.tr;for(let a=0;a<t.selection.ranges.length;a++){let{$from:{pos:u},$to:{pos:f}}=t.selection.ranges[a];s.setBlockType(u,f,n,e)}r(s.scrollIntoView())}return!0}}function qp(...n){return function(e,t,r){for(let o=0;o<n.length;o++)if(n[o](e,t,r))return!0;return!1}}qp(Vp,Ox,Nx);qp(Vp,Ax,Dx);qp(Ix,Px,_x,GI);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function nP(n,e=null){return function(t,r){let{$from:o,$to:s}=t.selection,a=o.blockRange(s);if(!a)return!1;let u=r?t.tr:null;return rP(u,a,n,e)?(r&&r(u.scrollIntoView()),!0):!1}}function rP(n,e,t,r=null){let o=!1,s=e,a=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let f=a.resolve(e.start-2);s=new gu(f,f,e.depth),e.endIndex<e.parent.childCount&&(e=new gu(e.$from,a.resolve(e.$to.end(e.depth)),e.depth)),o=!0}let u=zw(s,t,r,e);return u?(n&&oP(n,e,u,o,t),!0):!1}function oP(n,e,t,r,o){let s=q.empty;for(let h=t.length-1;h>=0;h--)s=q.from(t[h].type.create(t[h].attrs,s));n.step(new bt(e.start-(r?2:0),e.end,e.start,e.end,new ne(s,0,0),t.length,!0));let a=0;for(let h=0;h<t.length;h++)t[h].type==o&&(a=h+1);let u=t.length-a,f=e.start+t.length-(r?2:0),d=e.parent;for(let h=e.startIndex,g=e.endIndex,w=!0;h<g;h++,w=!1)!w&&jr(n.doc,f,u)&&(n.split(f,u),f+=2*u),f+=d.child(h).nodeSize;return n}function iP(n){return function(e,t){let{$from:r,$to:o}=e.selection,s=r.blockRange(o,a=>a.childCount>0&&a.firstChild.type==n);return s?t?r.node(s.depth-1).type==n?sP(e,t,n,s):lP(e,t,s):!0:!1}}function sP(n,e,t,r){let o=n.tr,s=r.end,a=r.$to.end(r.depth);s<a&&(o.step(new bt(s-1,a,s,a,new ne(q.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new gu(o.doc.resolve(r.$from.pos),o.doc.resolve(a),r.depth));const u=ps(r);if(u==null)return!1;o.lift(r,u);let f=o.mapping.map(s,-1)-1;return fi(o.doc,f)&&o.join(f),e(o.scrollIntoView()),!0}function lP(n,e,t){let r=n.tr,o=t.parent;for(let y=t.end,x=t.endIndex-1,k=t.startIndex;x>k;x--)y-=o.child(x).nodeSize,r.delete(y-1,y+1);let s=r.doc.resolve(t.start),a=s.nodeAfter;if(r.mapping.map(t.end)!=t.start+s.nodeAfter.nodeSize)return!1;let u=t.startIndex==0,f=t.endIndex==o.childCount,d=s.node(-1),h=s.index(-1);if(!d.canReplace(h+(u?0:1),h+1,a.content.append(f?q.empty:q.from(o))))return!1;let g=s.pos,w=g+a.nodeSize;return r.step(new bt(g-(u?1:0),w+(f?1:0),g+1,w-1,new ne((u?q.empty:q.from(o.copy(q.empty))).append(f?q.empty:q.from(o.copy(q.empty))),u?0:1,f?0:1),u?0:1)),e(r.scrollIntoView()),!0}function aP(n){return function(e,t){let{$from:r,$to:o}=e.selection,s=r.blockRange(o,d=>d.childCount>0&&d.firstChild.type==n);if(!s)return!1;let a=s.startIndex;if(a==0)return!1;let u=s.parent,f=u.child(a-1);if(f.type!=n)return!1;if(t){let d=f.lastChild&&f.lastChild.type==u.type,h=q.from(d?n.create():null),g=new ne(q.from(n.create(null,q.from(u.type.create(null,h)))),d?3:1,0),w=s.start,y=s.end;t(e.tr.step(new bt(w-(d?3:1),y,w,y,g,1,!0)).scrollIntoView())}return!0}}function Ku(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:o}=t,{storedMarks:s}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return o},get tr(){return r=t.selection,o=t.doc,s=t.storedMarks,t}}}class Ju{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:r}=this,{view:o}=t,{tr:s}=r,a=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([u,f])=>[u,(...h)=>{const g=f(...h)(a);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(s),g}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,u=[],f=!!e,d=e||s.tr,h=()=>(!f&&t&&!d.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(d),u.every(w=>w===!0)),g={...Object.fromEntries(Object.entries(r).map(([w,y])=>[w,(...k)=>{const S=this.buildProps(d,t),C=y(...k)(S);return u.push(C),g}])),run:h};return g}createCan(e){const{rawCommands:t,state:r}=this,o=!1,s=e||r.tr,a=this.buildProps(s,o);return{...Object.fromEntries(Object.entries(t).map(([f,d])=>[f,(...h)=>d(...h)({...a,dispatch:void 0})])),chain:()=>this.createChain(s,o)}}buildProps(e,t=!0){const{rawCommands:r,editor:o,state:s}=this,{view:a}=o,u={tr:e,editor:o,view:a,state:Ku({state:s,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([f,d])=>[f,(...h)=>d(...h)(u)]))}};return u}}class uP{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const r=this.callbacks[e];return r&&r.forEach(o=>o.apply(this,t)),this}off(e,t){const r=this.callbacks[e];return r&&(t?this.callbacks[e]=r.filter(o=>o!==t):delete this.callbacks[e]),this}once(e,t){const r=(...o)=>{this.off(e,r),t.apply(this,o)};return this.on(e,r)}removeAllListeners(){this.callbacks={}}}function ue(n,e,t){return n.config[e]===void 0&&n.parent?ue(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?ue(n.parent,e,t):null}):n.config[e]}function Qu(n){const e=n.filter(o=>o.type==="extension"),t=n.filter(o=>o.type==="node"),r=n.filter(o=>o.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function Lx(n){const e=[],{nodeExtensions:t,markExtensions:r}=Qu(n),o=[...t,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(a=>{const u={name:a.name,options:a.options,storage:a.storage,extensions:o},f=ue(a,"addGlobalAttributes",u);if(!f)return;f().forEach(h=>{h.types.forEach(g=>{Object.entries(h.attributes).forEach(([w,y])=>{e.push({type:g,name:w,attribute:{...s,...y}})})})})}),o.forEach(a=>{const u={name:a.name,options:a.options,storage:a.storage},f=ue(a,"addAttributes",u);if(!f)return;const d=f();Object.entries(d).forEach(([h,g])=>{const w={...s,...g};typeof(w==null?void 0:w.default)=="function"&&(w.default=w.default()),w!=null&&w.isRequired&&(w==null?void 0:w.default)===void 0&&delete w.default,e.push({type:a.name,name:h,attribute:w})})}),e}function Et(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}function Kp(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([o,s])=>{if(!r[o]){r[o]=s;return}if(o==="class"){const u=s?String(s).split(" "):[],f=r[o]?r[o].split(" "):[],d=u.filter(h=>!f.includes(h));r[o]=[...f,...d].join(" ")}else if(o==="style"){const u=s?s.split(";").map(h=>h.trim()).filter(Boolean):[],f=r[o]?r[o].split(";").map(h=>h.trim()).filter(Boolean):[],d=new Map;f.forEach(h=>{const[g,w]=h.split(":").map(y=>y.trim());d.set(g,w)}),u.forEach(h=>{const[g,w]=h.split(":").map(y=>y.trim());d.set(g,w)}),r[o]=Array.from(d.entries()).map(([h,g])=>`${h}: ${g}`).join("; ")}else r[o]=s}),r},{})}function sp(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>Kp(t,r),{})}function jx(n){return typeof n=="function"}function Fe(n,e=void 0,...t){return jx(n)?e?n.bind(e)(...t):n(...t):n}function cP(n={}){return Object.keys(n).length===0&&n.constructor===Object}function fP(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function Vv(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const o=e.reduce((s,a)=>{const u=a.attribute.parseHTML?a.attribute.parseHTML(t):fP(t.getAttribute(a.name));return u==null?s:{...s,[a.name]:u}},{});return{...r,...o}}}}function Hv(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&cP(t)?!1:t!=null))}function dP(n,e){var t;const r=Lx(n),{nodeExtensions:o,markExtensions:s}=Qu(n),a=(t=o.find(d=>ue(d,"topNode")))===null||t===void 0?void 0:t.name,u=Object.fromEntries(o.map(d=>{const h=r.filter(C=>C.type===d.name),g={name:d.name,options:d.options,storage:d.storage,editor:e},w=n.reduce((C,T)=>{const N=ue(T,"extendNodeSchema",g);return{...C,...N?N(d):{}}},{}),y=Hv({...w,content:Fe(ue(d,"content",g)),marks:Fe(ue(d,"marks",g)),group:Fe(ue(d,"group",g)),inline:Fe(ue(d,"inline",g)),atom:Fe(ue(d,"atom",g)),selectable:Fe(ue(d,"selectable",g)),draggable:Fe(ue(d,"draggable",g)),code:Fe(ue(d,"code",g)),whitespace:Fe(ue(d,"whitespace",g)),linebreakReplacement:Fe(ue(d,"linebreakReplacement",g)),defining:Fe(ue(d,"defining",g)),isolating:Fe(ue(d,"isolating",g)),attrs:Object.fromEntries(h.map(C=>{var T;return[C.name,{default:(T=C==null?void 0:C.attribute)===null||T===void 0?void 0:T.default}]}))}),x=Fe(ue(d,"parseHTML",g));x&&(y.parseDOM=x.map(C=>Vv(C,h)));const k=ue(d,"renderHTML",g);k&&(y.toDOM=C=>k({node:C,HTMLAttributes:sp(C,h)}));const S=ue(d,"renderText",g);return S&&(y.toText=S),[d.name,y]})),f=Object.fromEntries(s.map(d=>{const h=r.filter(S=>S.type===d.name),g={name:d.name,options:d.options,storage:d.storage,editor:e},w=n.reduce((S,C)=>{const T=ue(C,"extendMarkSchema",g);return{...S,...T?T(d):{}}},{}),y=Hv({...w,inclusive:Fe(ue(d,"inclusive",g)),excludes:Fe(ue(d,"excludes",g)),group:Fe(ue(d,"group",g)),spanning:Fe(ue(d,"spanning",g)),code:Fe(ue(d,"code",g)),attrs:Object.fromEntries(h.map(S=>{var C;return[S.name,{default:(C=S==null?void 0:S.attribute)===null||C===void 0?void 0:C.default}]}))}),x=Fe(ue(d,"parseHTML",g));x&&(y.parseDOM=x.map(S=>Vv(S,h)));const k=ue(d,"renderHTML",g);return k&&(y.toDOM=S=>k({mark:S,HTMLAttributes:sp(S,h)})),[d.name,y]}));return new Mw({topNode:a,nodes:u,marks:f})}function Sd(n,e){return e.nodes[n]||e.marks[n]||null}function Wv(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function Jp(n,e){const t=ci.fromSchema(e).serializeFragment(n),o=document.implementation.createHTMLDocument().createElement("div");return o.appendChild(t),o.innerHTML}const pP=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(o,s,a,u)=>{var f,d;const h=((d=(f=o.type.spec).toText)===null||d===void 0?void 0:d.call(f,{node:o,pos:s,parent:a,index:u}))||o.textContent||"%leaf%";t+=o.isAtom&&!o.isText?h:h.slice(0,Math.max(0,r-s))}),t};function Qp(n){return Object.prototype.toString.call(n)==="[object RegExp]"}const hP=(n,e)=>{if(Qp(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function Va(n){var e;const{editor:t,from:r,to:o,text:s,rules:a,plugin:u}=n,{view:f}=t;if(f.composing)return!1;const d=f.state.doc.resolve(r);if(d.parent.type.spec.code||!((e=d.nodeBefore||d.nodeAfter)===null||e===void 0)&&e.marks.find(w=>w.type.spec.code))return!1;let h=!1;const g=pP(d)+s;return a.forEach(w=>{if(h)return;const y=hP(g,w.find);if(!y)return;const x=f.state.tr,k=Ku({state:f.state,transaction:x}),S={from:r-(y[0].length-s.length),to:o},{commands:C,chain:T,can:N}=new Ju({editor:t,state:k});w.handler({state:k,range:S,match:y,commands:C,chain:T,can:N})===null||!x.steps.length||(x.setMeta(u,{transform:x,from:r,to:o,text:s}),f.dispatch(x),h=!0)}),h}function mP(n){const{editor:e,rules:t}=n,r=new xn({state:{init(){return null},apply(o,s,a){const u=o.getMeta(r);if(u)return u;const f=o.getMeta("applyInputRules");return!!f&&setTimeout(()=>{let{text:h}=f;typeof h=="string"?h=h:h=Jp(q.from(h),a.schema);const{from:g}=f,w=g+h.length;Va({editor:e,from:g,to:w,text:h,rules:t,plugin:r})}),o.selectionSet||o.docChanged?null:s}},props:{handleTextInput(o,s,a,u){return Va({editor:e,from:s,to:a,text:u,rules:t,plugin:r})},handleDOMEvents:{compositionend:o=>(setTimeout(()=>{const{$cursor:s}=o.state.selection;s&&Va({editor:e,from:s.pos,to:s.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(o,s){if(s.key!=="Enter")return!1;const{$cursor:a}=o.state.selection;return a?Va({editor:e,from:a.pos,to:a.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function gP(n){return Object.prototype.toString.call(n).slice(8,-1)}function Ha(n){return gP(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function Gu(n,e){const t={...n};return Ha(n)&&Ha(e)&&Object.keys(e).forEach(r=>{Ha(e[r])&&Ha(n[r])?t[r]=Gu(n[r],e[r]):t[r]=e[r]}),t}class Cu{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Fe(ue(this,"addOptions",{name:this.name}))),this.storage=Fe(ue(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Cu(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Gu(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new Cu(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Fe(ue(t,"addOptions",{name:t.name})),t.storage=Fe(ue(t,"addStorage",{name:t.name,options:t.options})),t}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,o=e.state.selection.$from;if(o.pos===o.end()){const a=o.marks();if(!!!a.find(d=>(d==null?void 0:d.type.name)===t.name))return!1;const f=a.find(d=>(d==null?void 0:d.type.name)===t.name);return f&&r.removeStoredMark(f),r.insertText(" ",o.pos),e.view.dispatch(r),!0}return!1}}function yP(n){return typeof n=="number"}const vP=(n,e,t)=>{if(Qp(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(o=>{const s=[o.text];return s.index=o.index,s.input=n,s.data=o.data,o.replaceWith&&(o.text.includes(o.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(o.replaceWith)),s}):[]};function wP(n){const{editor:e,state:t,from:r,to:o,rule:s,pasteEvent:a,dropEvent:u}=n,{commands:f,chain:d,can:h}=new Ju({editor:e,state:t}),g=[];return t.doc.nodesBetween(r,o,(y,x)=>{if(!y.isTextblock||y.type.spec.code)return;const k=Math.max(r,x),S=Math.min(o,x+y.content.size),C=y.textBetween(k-x,S-x,void 0,"￼");vP(C,s.find,a).forEach(N=>{if(N.index===void 0)return;const I=k+N.index+1,P=I+N[0].length,B={from:t.tr.mapping.map(I),to:t.tr.mapping.map(P)},U=s.handler({state:t,range:B,match:N,commands:f,chain:d,can:h,pasteEvent:a,dropEvent:u});g.push(U)})}),g.every(y=>y!==null)}let Wa=null;const xP=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)===null||e===void 0||e.setData("text/html",n),t};function kP(n){const{editor:e,rules:t}=n;let r=null,o=!1,s=!1,a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,u;try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}const f=({state:h,from:g,to:w,rule:y,pasteEvt:x})=>{const k=h.tr,S=Ku({state:h,transaction:k});if(!(!wP({editor:e,state:S,from:Math.max(g-1,0),to:w.b-1,rule:y,pasteEvent:x,dropEvent:u})||!k.steps.length)){try{u=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{u=null}return a=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,k}};return t.map(h=>new xn({view(g){const w=x=>{var k;r=!((k=g.dom.parentElement)===null||k===void 0)&&k.contains(x.target)?g.dom.parentElement:null,r&&(Wa=e)},y=()=>{Wa&&(Wa=null)};return window.addEventListener("dragstart",w),window.addEventListener("dragend",y),{destroy(){window.removeEventListener("dragstart",w),window.removeEventListener("dragend",y)}}},props:{handleDOMEvents:{drop:(g,w)=>{if(s=r===g.dom.parentElement,u=w,!s){const y=Wa;y&&setTimeout(()=>{const x=y.state.selection;x&&y.commands.deleteRange({from:x.from,to:x.to})},10)}return!1},paste:(g,w)=>{var y;const x=(y=w.clipboardData)===null||y===void 0?void 0:y.getData("text/html");return a=w,o=!!(x!=null&&x.includes("data-pm-slice")),!1}}},appendTransaction:(g,w,y)=>{const x=g[0],k=x.getMeta("uiEvent")==="paste"&&!o,S=x.getMeta("uiEvent")==="drop"&&!s,C=x.getMeta("applyPasteRules"),T=!!C;if(!k&&!S&&!T)return;if(T){let{text:P}=C;typeof P=="string"?P=P:P=Jp(q.from(P),y.schema);const{from:B}=C,U=B+P.length,X=xP(P);return f({rule:h,state:y,from:B,to:{b:U},pasteEvt:X})}const N=w.doc.content.findDiffStart(y.doc.content),I=w.doc.content.findDiffEnd(y.doc.content);if(!(!yP(N)||!I||N===I.b))return f({rule:h,state:y,from:N,to:I,pasteEvt:a})}}))}function SP(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}class Ki{constructor(e,t){this.splittableMarks=[],this.editor=t,this.extensions=Ki.resolve(e),this.schema=dP(this.extensions,t),this.setupExtensions()}static resolve(e){const t=Ki.sort(Ki.flatten(e)),r=SP(t.map(o=>o.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(o=>`'${o}'`).join(", ")}]. This can lead to issues.`),t}static flatten(e){return e.map(t=>{const r={name:t.name,options:t.options,storage:t.storage},o=ue(t,"addExtensions",r);return o?[t,...this.flatten(o())]:t}).flat(10)}static sort(e){return e.sort((r,o)=>{const s=ue(r,"priority")||100,a=ue(o,"priority")||100;return s>a?-1:s<a?1:0})}get commands(){return this.extensions.reduce((e,t)=>{const r={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:Sd(t.name,this.schema)},o=ue(t,"addCommands",r);return o?{...e,...o()}:e},{})}get plugins(){const{editor:e}=this,t=Ki.sort([...this.extensions].reverse()),r=[],o=[],s=t.map(a=>{const u={name:a.name,options:a.options,storage:a.storage,editor:e,type:Sd(a.name,this.schema)},f=[],d=ue(a,"addKeyboardShortcuts",u);let h={};if(a.type==="mark"&&ue(a,"exitable",u)&&(h.ArrowRight=()=>Cu.handleExit({editor:e,mark:a})),d){const k=Object.fromEntries(Object.entries(d()).map(([S,C])=>[S,()=>C({editor:e})]));h={...h,...k}}const g=BI(h);f.push(g);const w=ue(a,"addInputRules",u);Wv(a,e.options.enableInputRules)&&w&&r.push(...w());const y=ue(a,"addPasteRules",u);Wv(a,e.options.enablePasteRules)&&y&&o.push(...y());const x=ue(a,"addProseMirrorPlugins",u);if(x){const k=x();f.push(...k)}return f}).flat();return[mP({editor:e,rules:r}),...kP({editor:e,rules:o}),...s]}get attributes(){return Lx(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=Qu(this.extensions);return Object.fromEntries(t.filter(r=>!!ue(r,"addNodeView")).map(r=>{const o=this.attributes.filter(f=>f.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:Et(r.name,this.schema)},a=ue(r,"addNodeView",s);if(!a)return[];const u=(f,d,h,g,w)=>{const y=sp(f,o);return a()({node:f,view:d,getPos:h,decorations:g,innerDecorations:w,editor:e,extension:r,HTMLAttributes:y})};return[r.name,u]}))}setupExtensions(){this.extensions.forEach(e=>{var t;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Sd(e.name,this.schema)};e.type==="mark"&&(!((t=Fe(ue(e,"keepOnSplit",r)))!==null&&t!==void 0)||t)&&this.splittableMarks.push(e.name);const o=ue(e,"onBeforeCreate",r),s=ue(e,"onCreate",r),a=ue(e,"onUpdate",r),u=ue(e,"onSelectionUpdate",r),f=ue(e,"onTransaction",r),d=ue(e,"onFocus",r),h=ue(e,"onBlur",r),g=ue(e,"onDestroy",r);o&&this.editor.on("beforeCreate",o),s&&this.editor.on("create",s),a&&this.editor.on("update",a),u&&this.editor.on("selectionUpdate",u),f&&this.editor.on("transaction",f),d&&this.editor.on("focus",d),h&&this.editor.on("blur",h),g&&this.editor.on("destroy",g)})}}class an{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Fe(ue(this,"addOptions",{name:this.name}))),this.storage=Fe(ue(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new an(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Gu(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new an({...this.config,...e});return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Fe(ue(t,"addOptions",{name:t.name})),t.storage=Fe(ue(t,"addStorage",{name:t.name,options:t.options})),t}}function $x(n,e,t){const{from:r,to:o}=e,{blockSeparator:s=`

`,textSerializers:a={}}=t||{};let u="";return n.nodesBetween(r,o,(f,d,h,g)=>{var w;f.isBlock&&d>r&&(u+=s);const y=a==null?void 0:a[f.type.name];if(y)return h&&(u+=y({node:f,pos:d,parent:h,index:g,range:e})),!1;f.isText&&(u+=(w=f==null?void 0:f.text)===null||w===void 0?void 0:w.slice(Math.max(r,d)-d,o-d))}),u}function Bx(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}const bP=an.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new xn({key:new Yn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:o}=e,{ranges:s}=o,a=Math.min(...s.map(h=>h.$from.pos)),u=Math.max(...s.map(h=>h.$to.pos)),f=Bx(t);return $x(r,{from:a,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:f})}}})]}}),CP=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window==null?void 0:window.getSelection())===null||t===void 0||t.removeAllRanges())}),!0),EP=(n=!1)=>({commands:e})=>e.setContent("",n),TP=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:o}=r;return t&&o.forEach(({$from:s,$to:a})=>{n.doc.nodesBetween(s.pos,a.pos,(u,f)=>{if(u.type.isText)return;const{doc:d,mapping:h}=e,g=d.resolve(h.map(f)),w=d.resolve(h.map(f+u.nodeSize)),y=g.blockRange(w);if(!y)return;const x=ps(y);if(u.type.isTextblock){const{defaultType:k}=g.parent.contentMatchAt(g.index());e.setNodeMarkup(y.start,k)}(x||x===0)&&e.lift(y,x)})}),!0},OP=n=>e=>n(e),MP=()=>({state:n,dispatch:e})=>Px(n,e),NP=(n,e)=>({editor:t,tr:r})=>{const{state:o}=t,s=o.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const a=r.mapping.map(e);return r.insert(a,s.content),r.setSelection(new Re(r.doc.resolve(a-1))),!0},RP=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const o=n.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===r.type){if(e){const u=o.before(s),f=o.after(s);n.delete(u,f).scrollIntoView()}return!0}return!1},AP=n=>({tr:e,state:t,dispatch:r})=>{const o=Et(n,t.schema),s=e.selection.$anchor;for(let a=s.depth;a>0;a-=1)if(s.node(a).type===o){if(r){const f=s.before(a),d=s.after(a);e.delete(f,d).scrollIntoView()}return!0}return!1},DP=n=>({tr:e,dispatch:t})=>{const{from:r,to:o}=n;return t&&e.delete(r,o),!0},IP=()=>({state:n,dispatch:e})=>Vp(n,e),PP=()=>({commands:n})=>n.keyboardShortcut("Enter"),_P=()=>({state:n,dispatch:e})=>JI(n,e);function Eu(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(o=>t.strict?e[o]===n[o]:Qp(e[o])?e[o].test(n[o]):e[o]===n[o]):!0}function Vx(n,e,t={}){return n.find(r=>r.type===e&&Eu(Object.fromEntries(Object.keys(t).map(o=>[o,r.attrs[o]])),t))}function Uv(n,e,t={}){return!!Vx(n,e,t)}function Hx(n,e,t){var r;if(!n||!e)return;let o=n.parent.childAfter(n.parentOffset);if((!o.node||!o.node.marks.some(h=>h.type===e))&&(o=n.parent.childBefore(n.parentOffset)),!o.node||!o.node.marks.some(h=>h.type===e)||(t=t||((r=o.node.marks[0])===null||r===void 0?void 0:r.attrs),!Vx([...o.node.marks],e,t)))return;let a=o.index,u=n.start()+o.offset,f=a+1,d=u+o.node.nodeSize;for(;a>0&&Uv([...n.parent.child(a-1).marks],e,t);)a-=1,u-=n.parent.child(a).nodeSize;for(;f<n.parent.childCount&&Uv([...n.parent.child(f).marks],e,t);)d+=n.parent.child(f).nodeSize,f+=1;return{from:u,to:d}}function No(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}const zP=(n,e={})=>({tr:t,state:r,dispatch:o})=>{const s=No(n,r.schema),{doc:a,selection:u}=t,{$from:f,from:d,to:h}=u;if(o){const g=Hx(f,s,e);if(g&&g.from<=d&&g.to>=h){const w=Re.create(a,g.from,g.to);t.setSelection(w)}}return!0},FP=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function Wx(n){return n instanceof Re}function Go(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function Ux(n,e=null){if(!e)return null;const t=Ie.atStart(n),r=Ie.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const o=t.from,s=r.to;return e==="all"?Re.create(n,Go(0,o,s),Go(n.content.size,o,s)):Re.create(n,Go(e,o,s),Go(e,o,s))}function LP(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Gp(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const jP=(n=null,e={})=>({editor:t,view:r,tr:o,dispatch:s})=>{e={scrollIntoView:!0,...e};const a=()=>{(Gp()||LP())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(s&&n===null&&!Wx(t.state.selection))return a(),!0;const u=Ux(o.doc,n)||t.state.selection,f=t.state.selection.eq(u);return s&&(f||o.setSelection(u),f&&o.storedMarks&&o.setStoredMarks(o.storedMarks),a()),!0},$P=(n,e)=>t=>n.every((r,o)=>e(r,{...t,index:o})),BP=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),qx=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&qx(r)}return n};function Ua(n){const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return qx(t)}function Tu(n,e,t){if(n instanceof xo||n instanceof q)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,o=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return q.fromArray(n.map(u=>e.nodeFromJSON(u)));const a=e.nodeFromJSON(n);return t.errorOnInvalidContent&&a.check(),a}catch(s){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",s),Tu("",e,t)}if(o){if(t.errorOnInvalidContent){let a=!1,u="";const f=new Mw({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(a=!0,u=typeof d=="string"?d:d.outerHTML,null)}]}})});if(t.slice?ko.fromSchema(f).parseSlice(Ua(n),t.parseOptions):ko.fromSchema(f).parse(Ua(n),t.parseOptions),t.errorOnInvalidContent&&a)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${u}`)})}const s=ko.fromSchema(e);return t.slice?s.parseSlice(Ua(n),t.parseOptions).content:s.parse(Ua(n),t.parseOptions)}return Tu("",e,t)}function VP(n,e,t){const r=n.steps.length-1;if(r<e)return;const o=n.steps[r];if(!(o instanceof St||o instanceof bt))return;const s=n.mapping.maps[r];let a=0;s.forEach((u,f,d,h)=>{a===0&&(a=h)}),n.setSelection(Ie.near(n.doc.resolve(a),t))}const HP=n=>!("type"in n),WP=(n,e,t)=>({tr:r,dispatch:o,editor:s})=>{var a;if(o){t={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let u;try{u=Tu(e,s.schema,{parseOptions:{preserveWhitespace:"full",...t.parseOptions},errorOnInvalidContent:(a=t.errorOnInvalidContent)!==null&&a!==void 0?a:s.options.enableContentCheck})}catch(x){return s.emit("contentError",{editor:s,error:x,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}}),!1}let{from:f,to:d}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},h=!0,g=!0;if((HP(u)?u:[u]).forEach(x=>{x.check(),h=h?x.isText&&x.marks.length===0:!1,g=g?x.isBlock:!1}),f===d&&g){const{parent:x}=r.doc.resolve(f);x.isTextblock&&!x.type.spec.code&&!x.childCount&&(f-=1,d+=1)}let y;if(h){if(Array.isArray(e))y=e.map(x=>x.text||"").join("");else if(e instanceof q){let x="";e.forEach(k=>{k.text&&(x+=k.text)}),y=x}else typeof e=="object"&&e&&e.text?y=e.text:y=e;r.insertText(y,f,d)}else y=u,r.replaceWith(f,d,y);t.updateSelection&&VP(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:f,text:y}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:f,text:y})}return!0},UP=()=>({state:n,dispatch:e})=>UI(n,e),qP=()=>({state:n,dispatch:e})=>qI(n,e),KP=()=>({state:n,dispatch:e})=>Ox(n,e),JP=()=>({state:n,dispatch:e})=>Ax(n,e),QP=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Bu(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},GP=()=>({state:n,dispatch:e,tr:t})=>{try{const r=Bu(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},YP=()=>({state:n,dispatch:e})=>HI(n,e),XP=()=>({state:n,dispatch:e})=>WI(n,e);function Kx(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function ZP(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,o,s,a;for(let u=0;u<e.length-1;u+=1){const f=e[u];if(/^(cmd|meta|m)$/i.test(f))a=!0;else if(/^a(lt)?$/i.test(f))r=!0;else if(/^(c|ctrl|control)$/i.test(f))o=!0;else if(/^s(hift)?$/i.test(f))s=!0;else if(/^mod$/i.test(f))Gp()||Kx()?a=!0:o=!0;else throw new Error(`Unrecognized modifier name: ${f}`)}return r&&(t=`Alt-${t}`),o&&(t=`Ctrl-${t}`),a&&(t=`Meta-${t}`),s&&(t=`Shift-${t}`),t}const e_=n=>({editor:e,view:t,tr:r,dispatch:o})=>{const s=ZP(n).split(/-(?!$)/),a=s.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),u=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),f=e.captureTransaction(()=>{t.someProp("handleKeyDown",d=>d(t,u))});return f==null||f.steps.forEach(d=>{const h=d.map(r.mapping);h&&o&&r.maybeStep(h)}),!0};function vl(n,e,t={}){const{from:r,to:o,empty:s}=n.selection,a=e?Et(e,n.schema):null,u=[];n.doc.nodesBetween(r,o,(g,w)=>{if(g.isText)return;const y=Math.max(r,w),x=Math.min(o,w+g.nodeSize);u.push({node:g,from:y,to:x})});const f=o-r,d=u.filter(g=>a?a.name===g.node.type.name:!0).filter(g=>Eu(g.node.attrs,t,{strict:!1}));return s?!!d.length:d.reduce((g,w)=>g+w.to-w.from,0)>=f}const t_=(n,e={})=>({state:t,dispatch:r})=>{const o=Et(n,t.schema);return vl(t,o,e)?KI(t,r):!1},n_=()=>({state:n,dispatch:e})=>_x(n,e),r_=n=>({state:e,dispatch:t})=>{const r=Et(n,e.schema);return iP(r)(e,t)},o_=()=>({state:n,dispatch:e})=>Ix(n,e);function Yu(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function qv(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,o)=>(t.includes(o)||(r[o]=n[o]),r),{})}const i_=(n,e)=>({tr:t,state:r,dispatch:o})=>{let s=null,a=null;const u=Yu(typeof n=="string"?n:n.name,r.schema);return u?(u==="node"&&(s=Et(n,r.schema)),u==="mark"&&(a=No(n,r.schema)),o&&t.selection.ranges.forEach(f=>{r.doc.nodesBetween(f.$from.pos,f.$to.pos,(d,h)=>{s&&s===d.type&&t.setNodeMarkup(h,void 0,qv(d.attrs,e)),a&&d.marks.length&&d.marks.forEach(g=>{a===g.type&&t.addMark(h,h+d.nodeSize,a.create(qv(g.attrs,e)))})})}),!0):!1},s_=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),l_=()=>({tr:n,dispatch:e})=>{if(e){const t=new wn(n.doc);n.setSelection(t)}return!0},a_=()=>({state:n,dispatch:e})=>Nx(n,e),u_=()=>({state:n,dispatch:e})=>Dx(n,e),c_=()=>({state:n,dispatch:e})=>YI(n,e),f_=()=>({state:n,dispatch:e})=>eP(n,e),d_=()=>({state:n,dispatch:e})=>ZI(n,e);function lp(n,e,t={},r={}){return Tu(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}const p_=(n,e=!1,t={},r={})=>({editor:o,tr:s,dispatch:a,commands:u})=>{var f,d;const{doc:h}=s;if(t.preserveWhitespace!=="full"){const g=lp(n,o.schema,t,{errorOnInvalidContent:(f=r.errorOnInvalidContent)!==null&&f!==void 0?f:o.options.enableContentCheck});return a&&s.replaceWith(0,h.content.size,g).setMeta("preventUpdate",!e),!0}return a&&s.setMeta("preventUpdate",!e),u.insertContentAt({from:0,to:h.content.size},n,{parseOptions:t,errorOnInvalidContent:(d=r.errorOnInvalidContent)!==null&&d!==void 0?d:o.options.enableContentCheck})};function Jx(n,e){const t=No(e,n.schema),{from:r,to:o,empty:s}=n.selection,a=[];s?(n.storedMarks&&a.push(...n.storedMarks),a.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,o,f=>{a.push(...f.marks)});const u=a.find(f=>f.type.name===t.name);return u?{...u.attrs}:{}}function h_(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function m_(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function Yp(n){return e=>m_(e.$from,n)}function g_(n,e){const t={from:0,to:n.content.size};return $x(n,t,e)}function y_(n,e){const t=Et(e,n.schema),{from:r,to:o}=n.selection,s=[];n.doc.nodesBetween(r,o,u=>{s.push(u)});const a=s.reverse().find(u=>u.type.name===t.name);return a?{...a.attrs}:{}}function v_(n,e){const t=Yu(typeof e=="string"?e:e.name,n.schema);return t==="node"?y_(n,e):t==="mark"?Jx(n,e):{}}function Ya(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const o=n.find(s=>s.type===e&&s.name===r);return o?o.attribute.keepOnSplit:!1}))}function ap(n,e,t={}){const{empty:r,ranges:o}=n.selection,s=e?No(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(g=>s?s.name===g.type.name:!0).find(g=>Eu(g.attrs,t,{strict:!1}));let a=0;const u=[];if(o.forEach(({$from:g,$to:w})=>{const y=g.pos,x=w.pos;n.doc.nodesBetween(y,x,(k,S)=>{if(!k.isText&&!k.marks.length)return;const C=Math.max(y,S),T=Math.min(x,S+k.nodeSize),N=T-C;a+=N,u.push(...k.marks.map(I=>({mark:I,from:C,to:T})))})}),a===0)return!1;const f=u.filter(g=>s?s.name===g.mark.type.name:!0).filter(g=>Eu(g.mark.attrs,t,{strict:!1})).reduce((g,w)=>g+w.to-w.from,0),d=u.filter(g=>s?g.mark.type!==s&&g.mark.type.excludes(s):!0).reduce((g,w)=>g+w.to-w.from,0);return(f>0?f+d:f)>=a}function w_(n,e,t={}){if(!e)return vl(n,null,t)||ap(n,null,t);const r=Yu(e,n.schema);return r==="node"?vl(n,e,t):r==="mark"?ap(n,e,t):!1}function Kv(n,e){const{nodeExtensions:t}=Qu(e),r=t.find(a=>a.name===n);if(!r)return!1;const o={name:r.name,options:r.options,storage:r.storage},s=Fe(ue(r,"group",o));return typeof s!="string"?!1:s.split(" ").includes("list")}function Xu(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!==null&&r!==void 0?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let o=!0;return n.content.forEach(s=>{o!==!1&&(Xu(s,{ignoreWhitespace:t,checkChildren:e})||(o=!1))}),o}return!1}function x_(n,e,t){var r;const{selection:o}=e;let s=null;if(Wx(o)&&(s=o.$cursor),s){const u=(r=n.storedMarks)!==null&&r!==void 0?r:s.marks();return!!t.isInSet(u)||!u.some(f=>f.type.excludes(t))}const{ranges:a}=o;return a.some(({$from:u,$to:f})=>{let d=u.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(u.pos,f.pos,(h,g,w)=>{if(d)return!1;if(h.isInline){const y=!w||w.type.allowsMarkType(t),x=!!t.isInSet(h.marks)||!h.marks.some(k=>k.type.excludes(t));d=y&&x}return!d}),d})}const k_=(n,e={})=>({tr:t,state:r,dispatch:o})=>{const{selection:s}=t,{empty:a,ranges:u}=s,f=No(n,r.schema);if(o)if(a){const d=Jx(r,f);t.addStoredMark(f.create({...d,...e}))}else u.forEach(d=>{const h=d.$from.pos,g=d.$to.pos;r.doc.nodesBetween(h,g,(w,y)=>{const x=Math.max(y,h),k=Math.min(y+w.nodeSize,g);w.marks.find(C=>C.type===f)?w.marks.forEach(C=>{f===C.type&&t.addMark(x,k,f.create({...C.attrs,...e}))}):t.addMark(x,k,f.create(e))})});return x_(r,t,f)},S_=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),b_=(n,e={})=>({state:t,dispatch:r,chain:o})=>{const s=Et(n,t.schema);let a;return t.selection.$anchor.sameParent(t.selection.$head)&&(a=t.selection.$anchor.parent.attrs),s.isTextblock?o().command(({commands:u})=>Bv(s,{...a,...e})(t)?!0:u.clearNodes()).command(({state:u})=>Bv(s,{...a,...e})(u,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},C_=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,o=Go(n,0,r.content.size),s=be.create(r,o);e.setSelection(s)}return!0},E_=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:o,to:s}=typeof n=="number"?{from:n,to:n}:n,a=Re.atStart(r).from,u=Re.atEnd(r).to,f=Go(o,a,u),d=Go(s,a,u),h=Re.create(r,f,d);e.setSelection(h)}return!0},T_=n=>({state:e,dispatch:t})=>{const r=Et(n,e.schema);return aP(r)(e,t)};function Jv(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(o=>e==null?void 0:e.includes(o.type.name));n.tr.ensureMarks(r)}}const O_=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:o})=>{const{selection:s,doc:a}=e,{$from:u,$to:f}=s,d=o.extensionManager.attributes,h=Ya(d,u.node().type.name,u.node().attrs);if(s instanceof be&&s.node.isBlock)return!u.parentOffset||!jr(a,u.pos)?!1:(r&&(n&&Jv(t,o.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;const g=f.parentOffset===f.parent.content.size,w=u.depth===0?void 0:h_(u.node(-1).contentMatchAt(u.indexAfter(-1)));let y=g&&w?[{type:w,attrs:h}]:void 0,x=jr(e.doc,e.mapping.map(u.pos),1,y);if(!y&&!x&&jr(e.doc,e.mapping.map(u.pos),1,w?[{type:w}]:void 0)&&(x=!0,y=w?[{type:w,attrs:h}]:void 0),r){if(x&&(s instanceof Re&&e.deleteSelection(),e.split(e.mapping.map(u.pos),1,y),w&&!g&&!u.parentOffset&&u.parent.type!==w)){const k=e.mapping.map(u.before()),S=e.doc.resolve(k);u.node(-1).canReplaceWith(S.index(),S.index()+1,w)&&e.setNodeMarkup(e.mapping.map(u.before()),w)}n&&Jv(t,o.extensionManager.splittableMarks),e.scrollIntoView()}return x},M_=(n,e={})=>({tr:t,state:r,dispatch:o,editor:s})=>{var a;const u=Et(n,r.schema),{$from:f,$to:d}=r.selection,h=r.selection.node;if(h&&h.isBlock||f.depth<2||!f.sameParent(d))return!1;const g=f.node(-1);if(g.type!==u)return!1;const w=s.extensionManager.attributes;if(f.parent.content.size===0&&f.node(-1).childCount===f.indexAfter(-1)){if(f.depth===2||f.node(-3).type!==u||f.index(-2)!==f.node(-2).childCount-1)return!1;if(o){let C=q.empty;const T=f.index(-1)?1:f.index(-2)?2:3;for(let X=f.depth-T;X>=f.depth-3;X-=1)C=q.from(f.node(X).copy(C));const N=f.indexAfter(-1)<f.node(-2).childCount?1:f.indexAfter(-2)<f.node(-3).childCount?2:3,I={...Ya(w,f.node().type.name,f.node().attrs),...e},P=((a=u.contentMatch.defaultType)===null||a===void 0?void 0:a.createAndFill(I))||void 0;C=C.append(q.from(u.createAndFill(null,P)||void 0));const B=f.before(f.depth-(T-1));t.replace(B,f.after(-N),new ne(C,4-T,0));let U=-1;t.doc.nodesBetween(B,t.doc.content.size,(X,Q)=>{if(U>-1)return!1;X.isTextblock&&X.content.size===0&&(U=Q+1)}),U>-1&&t.setSelection(Re.near(t.doc.resolve(U))),t.scrollIntoView()}return!0}const y=d.pos===f.end()?g.contentMatchAt(0).defaultType:null,x={...Ya(w,g.type.name,g.attrs),...e},k={...Ya(w,f.node().type.name,f.node().attrs),...e};t.delete(f.pos,d.pos);const S=y?[{type:u,attrs:x},{type:y,attrs:k}]:[{type:u,attrs:x}];if(!jr(t.doc,f.pos,2))return!1;if(o){const{selection:C,storedMarks:T}=r,{splittableMarks:N}=s.extensionManager,I=T||C.$to.parentOffset&&C.$from.marks();if(t.split(f.pos,2,S).scrollIntoView(),!I||!o)return!0;const P=I.filter(B=>N.includes(B.type.name));t.ensureMarks(P)}return!0},bd=(n,e)=>{const t=Yp(a=>a.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const o=n.doc.nodeAt(r);return t.node.type===(o==null?void 0:o.type)&&fi(n.doc,t.pos)&&n.join(t.pos),!0},Cd=(n,e)=>{const t=Yp(a=>a.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const o=n.doc.nodeAt(r);return t.node.type===(o==null?void 0:o.type)&&fi(n.doc,r)&&n.join(r),!0},N_=(n,e,t,r={})=>({editor:o,tr:s,state:a,dispatch:u,chain:f,commands:d,can:h})=>{const{extensions:g,splittableMarks:w}=o.extensionManager,y=Et(n,a.schema),x=Et(e,a.schema),{selection:k,storedMarks:S}=a,{$from:C,$to:T}=k,N=C.blockRange(T),I=S||k.$to.parentOffset&&k.$from.marks();if(!N)return!1;const P=Yp(B=>Kv(B.type.name,g))(k);if(N.depth>=1&&P&&N.depth-P.depth<=1){if(P.node.type===y)return d.liftListItem(x);if(Kv(P.node.type.name,g)&&y.validContent(P.node.content)&&u)return f().command(()=>(s.setNodeMarkup(P.pos,y),!0)).command(()=>bd(s,y)).command(()=>Cd(s,y)).run()}return!t||!I||!u?f().command(()=>h().wrapInList(y,r)?!0:d.clearNodes()).wrapInList(y,r).command(()=>bd(s,y)).command(()=>Cd(s,y)).run():f().command(()=>{const B=h().wrapInList(y,r),U=I.filter(X=>w.includes(X.type.name));return s.ensureMarks(U),B?!0:d.clearNodes()}).wrapInList(y,r).command(()=>bd(s,y)).command(()=>Cd(s,y)).run()},R_=(n,e={},t={})=>({state:r,commands:o})=>{const{extendEmptyMarkRange:s=!1}=t,a=No(n,r.schema);return ap(r,a,e)?o.unsetMark(a,{extendEmptyMarkRange:s}):o.setMark(a,e)},A_=(n,e,t={})=>({state:r,commands:o})=>{const s=Et(n,r.schema),a=Et(e,r.schema),u=vl(r,s,t);let f;return r.selection.$anchor.sameParent(r.selection.$head)&&(f=r.selection.$anchor.parent.attrs),u?o.setNode(a,f):o.setNode(s,{...f,...t})},D_=(n,e={})=>({state:t,commands:r})=>{const o=Et(n,t.schema);return vl(t,o,e)?r.lift(o):r.wrapIn(o,e)},I_=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const o=t[r];let s;if(o.spec.isInputRules&&(s=o.getState(n))){if(e){const a=n.tr,u=s.transform;for(let f=u.steps.length-1;f>=0;f-=1)a.step(u.steps[f].invert(u.docs[f]));if(s.text){const f=a.doc.resolve(s.from).marks();a.replaceWith(s.from,s.to,n.schema.text(s.text,f))}else a.delete(s.from,s.to)}return!0}}return!1},P_=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:o}=t;return r||e&&o.forEach(s=>{n.removeMark(s.$from.pos,s.$to.pos)}),!0},__=(n,e={})=>({tr:t,state:r,dispatch:o})=>{var s;const{extendEmptyMarkRange:a=!1}=e,{selection:u}=t,f=No(n,r.schema),{$from:d,empty:h,ranges:g}=u;if(!o)return!0;if(h&&a){let{from:w,to:y}=u;const x=(s=d.marks().find(S=>S.type===f))===null||s===void 0?void 0:s.attrs,k=Hx(d,f,x);k&&(w=k.from,y=k.to),t.removeMark(w,y,f)}else g.forEach(w=>{t.removeMark(w.$from.pos,w.$to.pos,f)});return t.removeStoredMark(f),!0},z_=(n,e={})=>({tr:t,state:r,dispatch:o})=>{let s=null,a=null;const u=Yu(typeof n=="string"?n:n.name,r.schema);return u?(u==="node"&&(s=Et(n,r.schema)),u==="mark"&&(a=No(n,r.schema)),o&&t.selection.ranges.forEach(f=>{const d=f.$from.pos,h=f.$to.pos;let g,w,y,x;t.selection.empty?r.doc.nodesBetween(d,h,(k,S)=>{s&&s===k.type&&(y=Math.max(S,d),x=Math.min(S+k.nodeSize,h),g=S,w=k)}):r.doc.nodesBetween(d,h,(k,S)=>{S<d&&s&&s===k.type&&(y=Math.max(S,d),x=Math.min(S+k.nodeSize,h),g=S,w=k),S>=d&&S<=h&&(s&&s===k.type&&t.setNodeMarkup(S,void 0,{...k.attrs,...e}),a&&k.marks.length&&k.marks.forEach(C=>{if(a===C.type){const T=Math.max(S,d),N=Math.min(S+k.nodeSize,h);t.addMark(T,N,a.create({...C.attrs,...e}))}}))}),w&&(g!==void 0&&t.setNodeMarkup(g,void 0,{...w.attrs,...e}),a&&w.marks.length&&w.marks.forEach(k=>{a===k.type&&t.addMark(y,x,a.create({...k.attrs,...e}))}))}),!0):!1},F_=(n,e={})=>({state:t,dispatch:r})=>{const o=Et(n,t.schema);return tP(o,e)(t,r)},L_=(n,e={})=>({state:t,dispatch:r})=>{const o=Et(n,t.schema);return nP(o,e)(t,r)};var j_=Object.freeze({__proto__:null,blur:CP,clearContent:EP,clearNodes:TP,command:OP,createParagraphNear:MP,cut:NP,deleteCurrentNode:RP,deleteNode:AP,deleteRange:DP,deleteSelection:IP,enter:PP,exitCode:_P,extendMarkRange:zP,first:FP,focus:jP,forEach:$P,insertContent:BP,insertContentAt:WP,joinBackward:KP,joinDown:qP,joinForward:JP,joinItemBackward:QP,joinItemForward:GP,joinTextblockBackward:YP,joinTextblockForward:XP,joinUp:UP,keyboardShortcut:e_,lift:t_,liftEmptyBlock:n_,liftListItem:r_,newlineInCode:o_,resetAttributes:i_,scrollIntoView:s_,selectAll:l_,selectNodeBackward:a_,selectNodeForward:u_,selectParentNode:c_,selectTextblockEnd:f_,selectTextblockStart:d_,setContent:p_,setMark:k_,setMeta:S_,setNode:b_,setNodeSelection:C_,setTextSelection:E_,sinkListItem:T_,splitBlock:O_,splitListItem:M_,toggleList:N_,toggleMark:R_,toggleNode:A_,toggleWrap:D_,undoInputRule:I_,unsetAllMarks:P_,unsetMark:__,updateAttributes:z_,wrapIn:F_,wrapInList:L_});const $_=an.create({name:"commands",addCommands(){return{...j_}}}),B_=an.create({name:"drop",addProseMirrorPlugins(){return[new xn({key:new Yn("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),V_=an.create({name:"editable",addProseMirrorPlugins(){return[new xn({key:new Yn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),H_=an.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new xn({key:new Yn("focusEvents"),props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),W_=an.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:u})=>{const{selection:f,doc:d}=u,{empty:h,$anchor:g}=f,{pos:w,parent:y}=g,x=g.parent.isTextblock&&w>0?u.doc.resolve(w-1):g,k=x.parent.type.spec.isolating,S=g.pos-g.parentOffset,C=k&&x.parent.childCount===1?S===g.pos:Ie.atStart(d).from===w;return!h||!y.type.isTextblock||y.textContent.length||!C||C&&g.parent.type.name==="paragraph"?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.deleteCurrentNode(),()=>a.joinForward(),()=>a.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},o={...r},s={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Gp()||Kx()?s:o},addProseMirrorPlugins(){return[new xn({key:new Yn("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(k=>k.getMeta("composition")))return;const r=n.some(k=>k.docChanged)&&!e.doc.eq(t.doc),o=n.some(k=>k.getMeta("preventClearDocument"));if(!r||o)return;const{empty:s,from:a,to:u}=e.selection,f=Ie.atStart(e.doc).from,d=Ie.atEnd(e.doc).to;if(s||!(a===f&&u===d)||!Xu(t.doc))return;const w=t.tr,y=Ku({state:t,transaction:w}),{commands:x}=new Ju({editor:this.editor,state:y});if(x.clearNodes(),!!w.steps.length)return w}})]}}),U_=an.create({name:"paste",addProseMirrorPlugins(){return[new xn({key:new Yn("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),q_=an.create({name:"tabindex",addProseMirrorPlugins(){return[new xn({key:new Yn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Ko{get name(){return this.node.type.name}constructor(e,t,r=!1,o=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=o}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new Ko(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Ko(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Ko(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const o=t.isBlock&&!t.isTextblock,s=t.isAtom&&!t.isText,a=this.pos+r+(s?0:1),u=this.resolvedPos.doc.resolve(a);if(!o&&u.depth<=this.depth)return;const f=new Ko(u,this.editor,o,o?t:null);o&&(f.actualDepth=this.depth+1),e.push(new Ko(u,this.editor,o,o?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,o=this.parent;for(;o&&!r;){if(o.node.type.name===e)if(Object.keys(t).length>0){const s=o.node.attrs,a=Object.keys(t);for(let u=0;u<a.length;u+=1){const f=a[u];if(s[f]!==t[f])break}}else r=o;o=o.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let o=[];if(!this.children||this.children.length===0)return o;const s=Object.keys(t);return this.children.forEach(a=>{r&&o.length>0||(a.node.type.name===e&&s.every(f=>t[f]===a.node.attrs[f])&&o.push(a),!(r&&o.length>0)&&(o=o.concat(a.querySelectorAll(e,t,r))))}),o}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}}const K_=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function J_(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const o=document.createElement("style");return e&&o.setAttribute("nonce",e),o.setAttribute("data-tiptap-style",""),o.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(o),o}class Q_ extends uP{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:t})=>{throw t},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:t,slice:r,moved:o})=>this.options.onDrop(t,r,o)),this.on("paste",({event:t,slice:r})=>this.options.onPaste(t,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=J_(K_,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,t){const r=jx(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],o=this.state.reconfigure({plugins:r});return this.view.updateState(o),o}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let r=t;if([].concat(e).forEach(s=>{const a=typeof s=="string"?`${s}$`:s.key;r=t.filter(u=>!u.key.startsWith(a))}),t.length===r.length)return;const o=this.state.reconfigure({plugins:r});return this.view.updateState(o),o}createExtensionManager(){var e,t;const o=[...this.options.enableCoreExtensions?[V_,bP.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||t===void 0?void 0:t.blockSeparator}),$_,H_,W_,q_,B_,U_].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new Ki(o,this)}createCommandManager(){this.commandManager=new Ju({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var e;let t;try{t=lp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(a){if(!(a instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(a.message))throw a;this.emit("contentError",{editor:this,error:a,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(u=>u.name!=="collaboration"),this.createExtensionManager()}}),t=lp(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const r=Ux(t,this.options.autofocus);this.view=new DI(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)===null||e===void 0?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:qi.create({doc:t,selection:r||void 0})});const o=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(o),this.createNodeViews(),this.prependClass();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(a=>{var u;return(u=this.capturedTransaction)===null||u===void 0?void 0:u.step(a)});return}const t=this.state.apply(e),r=!this.state.selection.eq(t.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const o=e.getMeta("focus"),s=e.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return v_(this.state,e)}isActive(e,t){const r=typeof e=="string"?e:null,o=typeof e=="string"?t:e;return w_(this.state,r,o)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Jp(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:r={}}=e||{};return g_(this.state.doc,{blockSeparator:t,textSerializers:{...Bx(this.schema),...r}})}get isEmpty(){return Xu(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,t))||null}$nodes(e,t){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new Ko(t,this)}get $doc(){return this.$pos(0)}}let Zu=class up{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Fe(ue(this,"addOptions",{name:this.name}))),this.storage=Fe(ue(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new up(e)}configure(e={}){const t=this.extend({...this.config,addOptions:()=>Gu(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new up(e);return t.parent=this,this.child=t,t.name=e.name?e.name:t.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${t.name}".`),t.options=Fe(ue(t,"addOptions",{name:t.name})),t.storage=Fe(ue(t,"addStorage",{name:t.name,options:t.options})),t}};function G_(n){return n.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function Y_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Qx={exports:{}},Ed={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function X_(){if(Qv)return Ed;Qv=1;var n=He;function e(g,w){return g===w&&(g!==0||1/g===1/w)||g!==g&&w!==w}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,o=n.useEffect,s=n.useLayoutEffect,a=n.useDebugValue;function u(g,w){var y=w(),x=r({inst:{value:y,getSnapshot:w}}),k=x[0].inst,S=x[1];return s(function(){k.value=y,k.getSnapshot=w,f(k)&&S({inst:k})},[g,y,w]),o(function(){return f(k)&&S({inst:k}),g(function(){f(k)&&S({inst:k})})},[g]),a(y),y}function f(g){var w=g.getSnapshot;g=g.value;try{var y=w();return!t(g,y)}catch{return!0}}function d(g,w){return w()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return Ed.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:h,Ed}Qx.exports=X_();var Xp=Qx.exports;const Z_=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},ez=({contentComponent:n})=>{const e=Xp.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return He.createElement(He.Fragment,null,Object.values(e))};function tz(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:tR.createPortal(r.reactElement,r.element,t)},n.forEach(o=>o())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(o=>o())}}}class nz extends He.Component{constructor(e){var t;super(e),this.editorContentRef=He.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((t=e.editor)===null||t===void 0)&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.options.element.childNodes),e.setOptions({element:t}),e.contentComponent=tz(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const t=document.createElement("div");t.append(...e.options.element.childNodes),e.setOptions({element:t})}render(){const{editor:e,innerRef:t,...r}=this.props;return He.createElement(He.Fragment,null,He.createElement("div",{ref:Z_(t,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&He.createElement(ez,{contentComponent:e.contentComponent}))}}const rz=O.forwardRef((n,e)=>{const t=He.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return He.createElement(nz,{key:t,innerRef:e,...n})}),oz=He.memo(rz);var iz=function n(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,o,s;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(o=r;o--!==0;)if(!n(e[o],t[o]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o of e.entries())if(!t.has(o[0]))return!1;for(o of e.entries())if(!n(o[1],t.get(o[0])))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o of e.entries())if(!t.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(r=e.length,r!=t.length)return!1;for(o=r;o--!==0;)if(e[o]!==t[o])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(t).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(t,s[o]))return!1;for(o=r;o--!==0;){var a=s[o];if(!(a==="_owner"&&e.$$typeof)&&!n(e[a],t[a]))return!1}return!0}return e!==e&&t!==t},sz=Y_(iz),Gx={exports:{}},Td={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function lz(){if(Gv)return Td;Gv=1;var n=He,e=Xp;function t(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:t,o=e.useSyncExternalStore,s=n.useRef,a=n.useEffect,u=n.useMemo,f=n.useDebugValue;return Td.useSyncExternalStoreWithSelector=function(d,h,g,w,y){var x=s(null);if(x.current===null){var k={hasValue:!1,value:null};x.current=k}else k=x.current;x=u(function(){function C(B){if(!T){if(T=!0,N=B,B=w(B),y!==void 0&&k.hasValue){var U=k.value;if(y(U,B))return I=U}return I=B}if(U=I,r(N,B))return U;var X=w(B);return y!==void 0&&y(U,X)?U:(N=B,I=X)}var T=!1,N,I,P=g===void 0?null:g;return[function(){return C(h())},P===null?void 0:function(){return C(P())}]},[h,g,w,y]);var S=o(d,x[0],x[1]);return a(function(){k.hasValue=!0,k.value=S},[S]),f(S),S},Td}Gx.exports=lz();var az=Gx.exports;const uz=typeof window<"u"?O.useLayoutEffect:O.useEffect;class cz{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(o=>o())},r=this.editor;return r.on("transaction",t),()=>{r.off("transaction",t)}}}}function fz(n){var e;const[t]=O.useState(()=>new cz(n.editor)),r=az.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!==null&&e!==void 0?e:sz);return uz(()=>t.watch(n.editor),[n.editor,t]),O.useDebugValue(r),r}const dz=!1,cp=typeof window>"u",pz=cp||!!(typeof window<"u"&&window.next);class Zp{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?cp||pz?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var o,s;return(s=(o=this.options.current).onBeforeCreate)===null||s===void 0?void 0:s.call(o,...r)},onBlur:(...r)=>{var o,s;return(s=(o=this.options.current).onBlur)===null||s===void 0?void 0:s.call(o,...r)},onCreate:(...r)=>{var o,s;return(s=(o=this.options.current).onCreate)===null||s===void 0?void 0:s.call(o,...r)},onDestroy:(...r)=>{var o,s;return(s=(o=this.options.current).onDestroy)===null||s===void 0?void 0:s.call(o,...r)},onFocus:(...r)=>{var o,s;return(s=(o=this.options.current).onFocus)===null||s===void 0?void 0:s.call(o,...r)},onSelectionUpdate:(...r)=>{var o,s;return(s=(o=this.options.current).onSelectionUpdate)===null||s===void 0?void 0:s.call(o,...r)},onTransaction:(...r)=>{var o,s;return(s=(o=this.options.current).onTransaction)===null||s===void 0?void 0:s.call(o,...r)},onUpdate:(...r)=>{var o,s;return(s=(o=this.options.current).onUpdate)===null||s===void 0?void 0:s.call(o,...r)},onContentError:(...r)=>{var o,s;return(s=(o=this.options.current).onContentError)===null||s===void 0?void 0:s.call(o,...r)},onDrop:(...r)=>{var o,s;return(s=(o=this.options.current).onDrop)===null||s===void 0?void 0:s.call(o,...r)},onPaste:(...r)=>{var o,s;return(s=(o=this.options.current).onPaste)===null||s===void 0?void 0:s.call(o,...r)}};return new Q_(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((o,s)=>{var a;return o===((a=t.extensions)===null||a===void 0?void 0:a[s])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?Zp.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,o)=>r===e[o]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function hz(n={},e=[]){const t=O.useRef(n);t.current=n;const[r]=O.useState(()=>new Zp(t)),o=Xp.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return O.useDebugValue(o),O.useEffect(r.onRender(e)),fz({editor:o,selector:({transactionNumber:s})=>n.shouldRerenderOnTransaction===!1?null:n.immediatelyRender&&s===0?0:s+1}),o}const mz=O.createContext({editor:null});mz.Consumer;const gz=O.createContext({onDragStart:void 0}),yz=()=>O.useContext(gz);He.forwardRef((n,e)=>{const{onDragStart:t}=yz(),r=n.as||"div";return He.createElement(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});const vz=Zu.create({name:"doc",topNode:!0,content:"block+"});var Ou=200,Ct=function(){};Ct.prototype.append=function(e){return e.length?(e=Ct.from(e),!this.length&&e||e.length<Ou&&this.leafAppend(e)||this.length<Ou&&e.leafPrepend(this)||this.appendInner(e)):this};Ct.prototype.prepend=function(e){return e.length?Ct.from(e).append(this):this};Ct.prototype.appendInner=function(e){return new wz(this,e)};Ct.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Ct.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Ct.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ct.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};Ct.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var o=[];return this.forEach(function(s,a){return o.push(e(s,a))},t,r),o};Ct.from=function(e){return e instanceof Ct?e:e&&e.length?new Yx(e):Ct.empty};var Yx=function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(o,s){return o==0&&s==this.length?this:new e(this.values.slice(o,s))},e.prototype.getInner=function(o){return this.values[o]},e.prototype.forEachInner=function(o,s,a,u){for(var f=s;f<a;f++)if(o(this.values[f],u+f)===!1)return!1},e.prototype.forEachInvertedInner=function(o,s,a,u){for(var f=s-1;f>=a;f--)if(o(this.values[f],u+f)===!1)return!1},e.prototype.leafAppend=function(o){if(this.length+o.length<=Ou)return new e(this.values.concat(o.flatten()))},e.prototype.leafPrepend=function(o){if(this.length+o.length<=Ou)return new e(o.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e}(Ct);Ct.empty=new Yx([]);var wz=function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,o,s,a){var u=this.left.length;if(o<u&&this.left.forEachInner(r,o,Math.min(s,u),a)===!1||s>u&&this.right.forEachInner(r,Math.max(o-u,0),Math.min(this.length,s)-u,a+u)===!1)return!1},e.prototype.forEachInvertedInner=function(r,o,s,a){var u=this.left.length;if(o>u&&this.right.forEachInvertedInner(r,o-u,Math.max(s,u)-u,a+u)===!1||s<u&&this.left.forEachInvertedInner(r,Math.min(o,u),s,a)===!1)return!1},e.prototype.sliceInner=function(r,o){if(r==0&&o==this.length)return this;var s=this.left.length;return o<=s?this.left.slice(r,o):r>=s?this.right.slice(r-s,o-s):this.left.slice(r,s).append(this.right.slice(0,o-s))},e.prototype.leafAppend=function(r){var o=this.right.leafAppend(r);if(o)return new e(this.left,o)},e.prototype.leafPrepend=function(r){var o=this.left.leafPrepend(r);if(o)return new e(o,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Ct);const xz=500;class Kn{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let o,s;t&&(o=this.remapping(r,this.items.length),s=o.maps.length);let a=e.tr,u,f,d=[],h=[];return this.items.forEach((g,w)=>{if(!g.step){o||(o=this.remapping(r,w+1),s=o.maps.length),s--,h.push(g);return}if(o){h.push(new lr(g.map));let y=g.step.map(o.slice(s)),x;y&&a.maybeStep(y).doc&&(x=a.mapping.maps[a.mapping.maps.length-1],d.push(new lr(x,void 0,void 0,d.length+h.length))),s--,x&&o.appendMap(x,s)}else a.maybeStep(g.step);if(g.selection)return u=o?g.selection.map(o.slice(s)):g.selection,f=new Kn(this.items.slice(0,r).append(h.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:f,transform:a,selection:u}}addTransform(e,t,r,o){let s=[],a=this.eventCount,u=this.items,f=!o&&u.length?u.get(u.length-1):null;for(let h=0;h<e.steps.length;h++){let g=e.steps[h].invert(e.docs[h]),w=new lr(e.mapping.maps[h],g,t),y;(y=f&&f.merge(w))&&(w=y,h?s.pop():u=u.slice(0,u.length-1)),s.push(w),t&&(a++,t=void 0),o||(f=w)}let d=a-r.depth;return d>Sz&&(u=kz(u,d),a-=d),new Kn(u.append(s),a)}remapping(e,t){let r=new Yi;return this.items.forEach((o,s)=>{let a=o.mirrorOffset!=null&&s-o.mirrorOffset>=e?r.maps.length-o.mirrorOffset:void 0;r.appendMap(o.map,a)},e,t),r}addMaps(e){return this.eventCount==0?this:new Kn(this.items.append(e.map(t=>new lr(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],o=Math.max(0,this.items.length-t),s=e.mapping,a=e.steps.length,u=this.eventCount;this.items.forEach(w=>{w.selection&&u--},o);let f=t;this.items.forEach(w=>{let y=s.getMirror(--f);if(y==null)return;a=Math.min(a,y);let x=s.maps[y];if(w.step){let k=e.steps[y].invert(e.docs[y]),S=w.selection&&w.selection.map(s.slice(f+1,y));S&&u++,r.push(new lr(x,k,S))}else r.push(new lr(x))},o);let d=[];for(let w=t;w<a;w++)d.push(new lr(s.maps[w]));let h=this.items.slice(0,o).append(d).append(r),g=new Kn(h,u);return g.emptyItemCount()>xz&&(g=g.compress(this.items.length-r.length)),g}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,o=[],s=0;return this.items.forEach((a,u)=>{if(u>=e)o.push(a),a.selection&&s++;else if(a.step){let f=a.step.map(t.slice(r)),d=f&&f.getMap();if(r--,d&&t.appendMap(d,r),f){let h=a.selection&&a.selection.map(t.slice(r));h&&s++;let g=new lr(d.invert(),f,h),w,y=o.length-1;(w=o.length&&o[y].merge(g))?o[y]=w:o.push(g)}}else a.map&&r--},this.items.length,0),new Kn(Ct.from(o.reverse()),s)}}Kn.empty=new Kn(Ct.empty,0);function kz(n,e){let t;return n.forEach((r,o)=>{if(r.selection&&e--==0)return t=o,!1}),n.slice(t)}class lr{constructor(e,t,r,o){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=o}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new lr(t.getMap().invert(),t,this.selection)}}}class fo{constructor(e,t,r,o,s){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=o,this.prevComposition=s}}const Sz=20;function bz(n,e,t,r){let o=t.getMeta(ri),s;if(o)return o.historyState;t.getMeta(Tz)&&(n=new fo(n.done,n.undone,null,0,-1));let a=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(a&&a.getMeta(ri))return a.getMeta(ri).redo?new fo(n.done.addTransform(t,void 0,r,Xa(e)),n.undone,Yv(t.mapping.maps),n.prevTime,n.prevComposition):new fo(n.done,n.undone.addTransform(t,void 0,r,Xa(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){let u=t.getMeta("composition"),f=n.prevTime==0||!a&&n.prevComposition!=u&&(n.prevTime<(t.time||0)-r.newGroupDelay||!Cz(t,n.prevRanges)),d=a?Od(n.prevRanges,t.mapping):Yv(t.mapping.maps);return new fo(n.done.addTransform(t,f?e.selection.getBookmark():void 0,r,Xa(e)),Kn.empty,d,t.time,u??n.prevComposition)}else return(s=t.getMeta("rebased"))?new fo(n.done.rebased(t,s),n.undone.rebased(t,s),Od(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new fo(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),Od(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function Cz(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,o)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&o>=e[s]&&(t=!0)}),t}function Yv(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,o,s,a)=>e.push(s,a));return e}function Od(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let o=e.map(n[r],1),s=e.map(n[r+1],-1);o<=s&&t.push(o,s)}return t}function Ez(n,e,t){let r=Xa(e),o=ri.get(e).spec.config,s=(t?n.undone:n.done).popEvent(e,r);if(!s)return null;let a=s.selection.resolve(s.transform.doc),u=(t?n.done:n.undone).addTransform(s.transform,e.selection.getBookmark(),o,r),f=new fo(t?u:s.remaining,t?s.remaining:u,null,0,-1);return s.transform.setSelection(a).setMeta(ri,{redo:t,historyState:f})}let Md=!1,Xv=null;function Xa(n){let e=n.plugins;if(Xv!=e){Md=!1,Xv=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){Md=!0;break}}return Md}const ri=new Yn("history"),Tz=new Yn("closeHistory");function Oz(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new xn({key:ri,state:{init(){return new fo(Kn.empty,Kn.empty,null,0,-1)},apply(e,t,r){return bz(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,o=r=="historyUndo"?Zx:r=="historyRedo"?e1:null;return o?(t.preventDefault(),o(e.state,e.dispatch)):!1}}}})}function Xx(n,e){return(t,r)=>{let o=ri.getState(t);if(!o||(n?o.undone:o.done).eventCount==0)return!1;if(r){let s=Ez(o,t,n);s&&r(e?s.scrollIntoView():s)}return!0}}const Zx=Xx(!1,!0),e1=Xx(!0,!0),Mz=an.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>Zx(n,e),redo:()=>({state:n,dispatch:e})=>e1(n,e)}},addProseMirrorPlugins(){return[Oz(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),Nz=Zu.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",Kp(this.options.HTMLAttributes,n),0]},addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Rz=an.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new xn({key:new Yn("placeholder"),props:{decorations:({doc:n,selection:e})=>{const t=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,o=[];if(!t)return null;const s=this.editor.isEmpty;return n.descendants((a,u)=>{const f=r>=u&&r<=u+a.nodeSize,d=!a.isLeaf&&Xu(a);if((f||!this.options.showOnlyCurrent)&&d){const h=[this.options.emptyNodeClass];s&&h.push(this.options.emptyEditorClass);const g=yn.node(u,u+a.nodeSize,{class:h.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:a,pos:u,hasAnchor:f}):this.options.placeholder});o.push(g)}return this.options.includeChildren}),dt.create(n,o)}}})]}}),Az=Zu.create({name:"text",group:"inline"}),Nd="mac",Rd={mac:{command:"⌘",option:"⌥",shift:"⇧"},windows:{command:"Ctrl",option:"Alt",shift:"Shift"},linux:{command:"Ctrl",option:"Alt",shift:"Shift"}},Dz=()=>({getSymbolForPlatform:e=>{switch(e.type){case"command":return Rd[Nd].command;case"option":return Rd[Nd].option;case"shift":return Rd[Nd].shift;default:return""}}}),Iz=(n,e,t)=>{const r=e.some(u=>u.type==="command"),o=e.some(u=>u.type==="option"),s=e.some(u=>u.type==="shift");return n.metaKey===r&&n.altKey===o&&n.shiftKey===s&&n.key.toLowerCase()===t.toLowerCase()},Pz=(n,e)=>{He.useEffect(()=>{const t=r=>{n(r)&&(r.preventDefault(),e())};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}},[n,e])};function _z(n){var e;const{char:t,allowSpaces:r,allowToIncludeChar:o,allowedPrefixes:s,startOfLine:a,$position:u}=n,f=r&&!o,d=G_(t),h=new RegExp(`\\s${d}$`),g=a?"^":"",w=o?"":d,y=f?new RegExp(`${g}${d}.*?(?=\\s${w}|$)`,"gm"):new RegExp(`${g}(?:^)?${d}[^\\s${w}]*`,"gm"),x=((e=u.nodeBefore)===null||e===void 0?void 0:e.isText)&&u.nodeBefore.text;if(!x)return null;const k=u.pos-x.length,S=Array.from(x.matchAll(y)).pop();if(!S||S.input===void 0||S.index===void 0)return null;const C=S.input.slice(Math.max(0,S.index-1),S.index),T=new RegExp(`^[${s==null?void 0:s.join("")}\0]?$`).test(C);if(s!==null&&!T)return null;const N=k+S.index;let I=N+S[0].length;return f&&h.test(x.slice(I-1,I+1))&&(S[0]+=" ",I+=1),N<u.pos&&I>=u.pos?{range:{from:N,to:I},query:S[0].slice(t.length),text:S[0]}:null}const zz=new Yn("suggestion");function Fz({pluginKey:n=zz,editor:e,char:t="@",allowSpaces:r=!1,allowToIncludeChar:o=!1,allowedPrefixes:s=[" "],startOfLine:a=!1,decorationTag:u="span",decorationClass:f="suggestion",command:d=()=>null,items:h=()=>[],render:g=()=>({}),allow:w=()=>!0,findSuggestionMatch:y=_z}){let x;const k=g==null?void 0:g(),S=new xn({key:n,view(){return{update:async(C,T)=>{var N,I,P,B,U,X,Q;const G=(N=this.key)===null||N===void 0?void 0:N.getState(T),ge=(I=this.key)===null||I===void 0?void 0:I.getState(C.state),fe=G.active&&ge.active&&G.range.from!==ge.range.from,re=!G.active&&ge.active,ye=G.active&&!ge.active,oe=!re&&!ye&&G.query!==ge.query,Z=re||fe&&oe,ie=oe||fe,L=ye||fe&&oe;if(!Z&&!ie&&!L)return;const V=L&&!Z?G:ge,j=C.dom.querySelector(`[data-decoration-id="${V.decorationId}"]`);x={editor:e,range:V.range,query:V.query,text:V.text,items:[],command:M=>d({editor:e,range:V.range,props:M}),decorationNode:j,clientRect:j?()=>{var M;const{decorationId:$}=(M=this.key)===null||M===void 0?void 0:M.getState(e.state),pe=C.dom.querySelector(`[data-decoration-id="${$}"]`);return(pe==null?void 0:pe.getBoundingClientRect())||null}:null},Z&&((P=k==null?void 0:k.onBeforeStart)===null||P===void 0||P.call(k,x)),ie&&((B=k==null?void 0:k.onBeforeUpdate)===null||B===void 0||B.call(k,x)),(ie||Z)&&(x.items=await h({editor:e,query:V.query})),L&&((U=k==null?void 0:k.onExit)===null||U===void 0||U.call(k,x)),ie&&((X=k==null?void 0:k.onUpdate)===null||X===void 0||X.call(k,x)),Z&&((Q=k==null?void 0:k.onStart)===null||Q===void 0||Q.call(k,x))},destroy:()=>{var C;x&&((C=k==null?void 0:k.onExit)===null||C===void 0||C.call(k,x))}}},state:{init(){return{active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}},apply(C,T,N,I){const{isEditable:P}=e,{composing:B}=e.view,{selection:U}=C,{empty:X,from:Q}=U,G={...T};if(G.composing=B,P&&(X||e.view.composing)){(Q<T.range.from||Q>T.range.to)&&!B&&!T.composing&&(G.active=!1);const ge=y({char:t,allowSpaces:r,allowToIncludeChar:o,allowedPrefixes:s,startOfLine:a,$position:U.$from}),fe=`id_${Math.floor(Math.random()*4294967295)}`;ge&&w({editor:e,state:I,range:ge.range,isActive:T.active})?(G.active=!0,G.decorationId=T.decorationId?T.decorationId:fe,G.range=ge.range,G.query=ge.query,G.text=ge.text):G.active=!1}else G.active=!1;return G.active||(G.decorationId=null,G.range={from:0,to:0},G.query=null,G.text=null),G}},props:{handleKeyDown(C,T){var N;const{active:I,range:P}=S.getState(C.state);return I&&((N=k==null?void 0:k.onKeyDown)===null||N===void 0?void 0:N.call(k,{view:C,event:T,range:P}))||!1},decorations(C){const{active:T,range:N,decorationId:I}=S.getState(C);return T?dt.create(C.doc,[yn.inline(N.from,N.to,{nodeName:u,class:f,"data-decoration-id":I})]):null}}});return S}const Lz=n=>an.create({name:"fileReference",addOptions(){return{suggestion:{char:"#",startOfLine:!1,command:({editor:t,range:r,props:o})=>{t.chain().focus().deleteRange(o.query?{from:r.from,to:r.from+1+o.query.length}:r).insertContent({type:"contextPill",attrs:{id:Math.round(Math.random()*1e5),label:o.path}}).run()},render:()=>jz(n)}}},addProseMirrorPlugins(){return[Fz({editor:this.editor,...this.options.suggestion})]}});function jz(n){return{onStart:e=>{const t=e.clientRect();n.setState({active:!0,query:"",x:t.x,y:t.y,command:r=>{var s;const o=((s=n.loadState())==null?void 0:s.query)||"";e.command({query:o,path:r})}})},onUpdate:({query:e})=>{n.setState({query:e})},onKeyDown:e=>e.event.key==="Enter",onExit:()=>{n.setState({active:!1})}}}const $z="/codeIcon.svg",Bz="/fileIcon.svg",Vz="/localizationIcon.svg",Hz={"codeIcon.svg":$z,"fileIcon.svg":Bz,"localizationIcon.svg":Vz},Wz=n=>{const e=window.mediaPath;return e?`${e}/${n}`:Hz[n]},Uz=Zu.create({name:"contextPill",group:"inline",inline:!0,selectable:!1,atom:!0,addAttributes(){return{id:{},label:{}}},parseHTML(){return[{tag:'span[data-type="context-pill"]'}]},renderHTML({node:n,HTMLAttributes:e}){const t=Wz("fileIcon.svg"),r=n.attrs.label.split("/").at(-1);return["span",Kp(e,{"data-type":"context-pill",class:"contextPill"}),["img",{src:t}],r]}});function qz(n){const[e,t]=O.useState({x:0,y:0,query:"",active:!1}),[r,o]=O.useState();O.useEffect(()=>{o(e.query)},[e.query]);const{itemsMap:s,forceReload:a}=yS(),{addSearchItems:u,getSearchResults:f}=AS({itemsMap:s}),{addListener:d}=O.useContext(fs);O.useEffect(()=>d("onContextProviderItems",({items:P,action:B})=>{B==="add"&&(P.some(({type:U})=>U==="folder")?a():u(P)),B==="remove"&&a()}),[d,u,a]);const g=hz({extensions:[vz,Az,Nz,Mz,Lz({loadState:()=>{let I;return t(P=>(I=P,P)),I},setState:I=>{t(P=>({...P,...I}))}}),Uz,Rz.configure({placeholder:n.placeholder})],content:n.value,onUpdate:({editor:I})=>{n.setValue(I.getJSON())},autofocus:!0}),{context:w,floatingStyles:y,refs:x}=tA({middleware:[OR(4),MR()],open:!1,placement:"bottom-start",onOpenChange:I=>{I||o(void 0)},whileElementsMounted:SR}),k=O.createRef(),{getReferenceProps:S,getFloatingProps:C}=rA([GR(w),ZR(w),nA(w)]),T=I=>{t(P=>(setTimeout(()=>{P.command&&P.command(I)},0),P))},N=Dz();return Pz(I=>Iz(I,[{type:"command"}],"Enter"),n.onSubmit?n.onSubmit:()=>{}),{editor:g,contextPopup:e,contextSelectInputValue:r,newContextInputRef:k,getSearchResults:f,onSelect:T,commandSymbol:N.getSymbolForPlatform({type:"command"}),onSubmit:n.onSubmit,floating:{refs:x,floatingStyles:y,context:w,getFloatingProps:C,getReferenceProps:S}}}function Kz(n){const{contextPopup:e,editor:t,floating:r,newContextInputRef:o,contextSelectInputValue:s,getSearchResults:a,onSelect:u,onSubmit:f}=qz(n),d=!n.editorHasContent,h=n.isLoading;return D.jsxs(aN,{isLoading:h,children:[D.jsx(oz,{editor:t,style:{paddingInline:"var(--spacing-lg)",paddingBlock:"var(--spacing-md)",paddingInlineEnd:"calc(4 * var(--spacing-lg))",height:"120px",maxHeight:"100%",opacity:h?"0.5":"1",overflowY:d?"hidden":"auto"},"data-testid":"rich-text-editor",disabled:h}),D.jsx("div",{style:{position:"absolute",top:"var(--spacing-md)",right:"var(--spacing-lg)"},children:D.jsx(ur,{variant:"submit",disabled:d||h,onClick:f,children:h?D.jsx(yt,{type:"loading",modifier:"spin"}):D.jsx(yt,{type:"newline"})})}),e.active&&D.jsx(WR,{children:D.jsx(QR,{context:r.context,initialFocus:o,modal:!1,children:D.jsx("div",{ref:r.refs.setFloating,style:{...r.floatingStyles,left:e.x,top:e.y+30},...r.getFloatingProps(),className:"focus-visible:outline-0",children:D.jsx(nS,{defaultMenu:"file",inputValue:s,getSearchResults:a,onSelect:u})})})})]})}var es;(function(n){n.FileEdited="fileEdited",n.FileCreated="fileCreated",n.FileDeleted="fileDeleted",n.UserTriggered="userTriggered"})(es||(es={}));var fp;(function(n){n.AskAgent="askAgent"})(fp||(fp={}));var Ji;(function(n){n.DevMode="enableDevMode",n.TrustedCommands="trustedCommands",n.AutoApproveAgentCommands="autoApproveAgentCommands",n.ConfigureMCP="configureMCP"})(Ji||(Ji={}));Ji.DevMode+"",Ji.TrustedCommands+"",Ji.AutoApproveAgentCommands+"",Ji.ConfigureMCP+"";var Zv;(function(n){n.Extension="kiroAgent",n.Test="kiroAgent.test"})(Zv||(Zv={}));var e0;(function(n){n.Queued="Queued",n.InProgress="InProgress",n.Paused="Paused",n.NeedAction="NeedAction",n.Success="Success",n.Failed="Failed",n.Canceled="Canceled",n.Yielded="Yielded"})(e0||(e0={}));var t0;(function(n){n.Queued="Queued",n.Active="Active",n.History="History"})(t0||(t0={}));var n0;(function(n){n.Code="Code"})(n0||(n0={}));var r0;(function(n){n.PendingAction="PendingAction",n.Running="Running",n.Success="Success",n.Error="Error",n.Accepted="Accepted",n.Rejected="Rejected",n.Canceled="Canceled",n.HandledError="HandledError"})(r0||(r0={}));var o0;(function(n){n.Autopilot="Autopilot",n.Supervised="Supervised"})(o0||(o0={}));var i0;(function(n){n.NotStarted="not_started",n.InProgress="in_progress",n.Completed="completed"})(i0||(i0={}));const s0=n=>{let e;const t=new Set,r=(d,h)=>{const g=typeof d=="function"?d(e):d;if(!Object.is(g,e)){const w=e;e=h??(typeof g!="object"||g===null)?g:Object.assign({},e,g),t.forEach(y=>y(e,w))}},o=()=>e,u={setState:r,getState:o,getInitialState:()=>f,subscribe:d=>(t.add(d),()=>t.delete(d))},f=e=n(r,o,u);return u},Jz=n=>n?s0(n):s0,Qz=n=>n;function Gz(n,e=Qz){const t=He.useSyncExternalStore(n.subscribe,()=>e(n.getState()),()=>e(n.getInitialState()));return He.useDebugValue(t),t}const l0=n=>{const e=Jz(n),t=r=>Gz(e,r);return Object.assign(t,e),t},eh=n=>n?l0(n):l0;var Br=(n=>(n.Generate="Generate",n.View="View",n.Loading="Loading",n))(Br||{});const ec=eh(n=>({view:"Loading",justCreatedHook:!1,setView:e=>{n(()=>({view:e}))},setJustCreatedHook:e=>{n({justCreatedHook:e})}})),th=eh(n=>({hookId:"",hook:void 0,isRunning:!1,hookPath:void 0,activeExecutionSessionId:void 0,setHookPath:e=>{n({hookPath:e})},setHookId:e=>{n({hookId:e})},setHook:e=>{n({hook:e})},setRunningState:e=>{n({isRunning:e})},setActiveExecutionSessionId:e=>{n({activeExecutionSessionId:e})}})),Yz=n=>({type:"doc",content:[{type:"paragraph",content:[{type:"text",text:n}]}]}),a0=n=>({id:"new-hook",filePath:"",enabled:!0,name:n.name,description:n.description,version:"1",when:{type:es.FileEdited,patterns:n.filePatterns.split(",").map(e=>e.trim())},then:{type:fp.AskAgent,prompt:n.outputPrompt}});function Xz(){const[n,e]=O.useState(),[t,r]=O.useState(1),o=y=>{r(Math.random()),e(Yz(y))},[s,a]=O.useState(!1),[u,f]=O.useState(!1);O.useEffect(()=>{var x;const y=(x=n==null?void 0:n.content)==null?void 0:x.some(k=>{var S;return(S=k.content)==null?void 0:S.some(C=>{var T;return C.type==="text"&&((T=C.text)==null?void 0:T.trim())||C.type==="contextPill"})});f(!!y)},[n]);const{callApi:d}=O.useContext(fs),h=ec(),g=th();return O.useEffect(()=>{const y=x=>{const k=x.data;if(k.type==="handleRetryGenerate"&&(a(!1),k.result&&typeof k.result=="object"&&"id"in k.result)){const S=k.result,C=a0(S);(async()=>{try{await d("saveHook",{id:S.id,data:C}),await d("updateHookPage",{generateHookFoId:S.id}),a(!1),g.setHookId(S.id),g.setHook(C),h.setJustCreatedHook(!0),h.setView(Br.View)}catch{a(!1)}})()}k.type==="setLoading"&&a(!!k.result)};return window.addEventListener("message",y),()=>{window.removeEventListener("message",y)}},[d,h,g]),{editorContent:n,setEditorContent:o,setEditorContentJson:e,editorId:t,isLoading:s,editorHasContent:u,callGenerateHook:async()=>{let y="";const x=[];if(n!=null&&n.content){for(const k of n.content)if(k.content){let S="";for(const C of k.content)if(C.type==="text")S+=C.text;else if(C.type==="contextPill"){const T=C.attrs.label;S+=T,x.push(T)}y+=S+`
`}}a(!0);try{const k=await d("generateHook",{description:y,context:x}),S=a0(k);await d("saveHook",{id:k.id,data:S}),await d("updateHookPage",{generateHookFoId:k.id}),a(!1),g.setHookId(k.id),g.setHook(S),h.setJustCreatedHook(!0),h.setView(Br.View)}catch{a(!1)}}}}function Zz(){const{editorContent:n,setEditorContent:e,setEditorContentJson:t,editorId:r,isLoading:o,editorHasContent:s,callGenerateHook:a}=Xz();return D.jsxs(vo,{children:[D.jsx(vo.Header,{children:"Create an agent hook"}),D.jsxs(vo.Body,{children:[D.jsx("p",{children:"Agent Hooks listen to file changes and automatically trigger Kiro to take followup action. You can configure file paths, event triggers, and follow-up actions to take."}),D.jsxs(tl.List,{children:[D.jsx(tl,{icon:"githubAction",heading:"1. Event occurs",body:"Hooks listen for an event to occur such as file creation, file save or file deletion"}),D.jsx(tl,{icon:"quote",heading:"2. Prompt is sent to agent",body:"The agent receives a prompt in the background to execute a pre-written task on files in your app"}),D.jsx(tl,{icon:"sparkle",heading:"3. Kiro makes updates",body:"Kiro is invoked and takes actions to automatically update files in your workspace"})]}),D.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-md"},children:[D.jsxs(mn,{children:[D.jsx(mn.Label,{children:"Describe a hook using natural language"}),D.jsx(Kz,{placeholder:"Describe a hook or select a prompt from below",value:n,setValue:t,onSubmit:()=>void a(),isLoading:o,editorHasContent:s},r)]}),D.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"var(--spacing-md)",justifyContent:"center"},children:[D.jsxs(ur,{onClick:()=>{e("Listen to all source files in this repository. For example, if this is a typescript project, listen to *.ts, if this is python listen to *.py. Also listen to relevant specific other files or other pattern that are related to the source. On change on these files, ask the agent to make change to docs in either the README or if there is a specific /docs folder update there too.")},children:[D.jsx(yt,{type:"book"}),D.jsx("span",{children:"Update my documentation"})]}),D.jsxs(ur,{onClick:()=>{e("Listen to source code files in the repository. When changes are detected, analyze the modified code for potential improvements, including code smells, design patterns, and best practices. Generate suggestions for improving code quality while maintaining the existing functionality. Focus on readability, maintainability, and performance optimizations.")},children:[D.jsx(yt,{type:"code"}),D.jsx("span",{children:"Optimize my code"})]}),D.jsxs(ur,{onClick:()=>{e("Monitor changes to files containing user-facing text content (such as .json, .yaml, or other localization files) in the primary language. When changes are detected, automatically identify the new or modified text and generate translations for all configured target languages. Ensure translations maintain proper context and meaning while adhering to locale-specific conventions.")},children:[D.jsx(yt,{type:"organization"}),D.jsx("span",{children:"Language localization"})]})]})]})]})]})}function eF(){var f,d,h,g,w;const n=ec(),e=th(),{callApi:t}=O.useContext(fs),r=async()=>{const y=await t("readHook",{id:e.hookId});y&&(e.setHookPath(y.filePath),e.setHook(y))};O.useEffect(()=>{e.hookId&&!e.hook&&r(),e.hookId||n.setView(Br.Generate)},[e.hookId,e.hook,e.hookPath]);const o=async y=>{if(!e.hook||Object.keys(e.hook).length===0)return;const x={...e.hook,...y};e.setHook(x),await t("saveHook",{id:e.hookId,data:x})},s=(y=!0)=>{if(!e.hook||Object.keys(e.hook).length===0)return;const x={...e.hook,enabled:y};e.setHook(x),t("setHookEnabled",{id:e.hookId,enabled:y})};let a=[];e.hook&&e.hook.when.type!==es.UserTriggered&&(a=e.hook.when.patterns);let u="";return e.hook&&(u=e.hook.then.prompt||""),{name:(f=e.hook)==null?void 0:f.name,id:e.hookId,setName:y=>{o({name:y})},description:(d=e.hook)==null?void 0:d.description,setDescription:y=>{o({description:y})},eventType:(h=e.hook)==null?void 0:h.when.type,setEventType:y=>{const x=JSON.parse(JSON.stringify(e.hook));x.when.type=y,o(x)},matchPattern:a,setMatchPattern:y=>{const x=JSON.parse(JSON.stringify(e.hook));x.when.type!==es.UserTriggered&&(x.when.patterns=y,o(x))},prompt:u,setPrompt:y=>{const x=JSON.parse(JSON.stringify(e.hook));x.then.prompt=y,o(x)},enabled:((g=e.hook)==null?void 0:g.enabled)!==!1,toggleEnabled:()=>{var y;s(!((y=e.hook)!=null&&y.enabled))},deleteHook:async()=>{await t("deleteHook",{id:e.hookId})&&(e.setHook(void 0),t("updateHookPage",{deleteHookFoId:e.hookId}))},fileOptions:{path:e.hookPath,open:async()=>{await t("updateHookPage",{hookFilePath:e.hookPath})}},isRunning:e.isRunning,setRunningState:y=>{e.setRunningState(y)},syncRunningState:async()=>{await t("syncRunningState",{id:e.hookId})},isManualTrigger:((w=e.hook)==null?void 0:w.when.type)===es.UserTriggered,triggerHook:async()=>{await t("triggerHook",{id:e.hookId})},setActiveExecutionSessionId:e.setActiveExecutionSessionId,activeExecutionSessionId:e.activeExecutionSessionId,openActiveHookExecutionTab:async y=>{y&&await t("openActiveHookExecutionTab",{chatSessionId:y})}}}const tF="_loadingContainer_eijly_77",nF="_fadeIn_eijly_103",rF="_fadeOut_eijly_111",oF="_animationWrapper_eijly_119",iF="_logoImage_eijly_133",sF="_lineLoader_eijly_147",Bi={loadingContainer:tF,fadeIn:nF,fadeOut:rF,animationWrapper:oF,logoImage:iF,lineLoader:sF},lF="/logoLoader.svg",aF="/lineLoader.svg",uF={"logoLoader.svg":lF,"lineLoader.svg":aF},u0=n=>{const e=window.mediaPath;return e?`${e}/${n}`:uF[n]};function cF({isLoading:n,error:e,children:t}){const r=u0("logoLoader.svg"),o=u0("lineLoader.svg"),[s,a]=O.useState(!0);return O.useEffect(()=>{if(n)a(!0);else{const u=setTimeout(()=>{a(!1)},200);return()=>{clearTimeout(u)}}},[n]),e?D.jsx("p",{children:e}):s?D.jsx("div",{"data-testid":"loading-container",className:`${Bi.loadingContainer} ${n?Bi.fadeIn:Bi.fadeOut}`,children:D.jsxs("div",{className:Bi.animationWrapper,children:[D.jsx("img",{src:r,alt:"Logo",className:Bi.logoImage}),D.jsx("img",{src:o,alt:"LineLoader",className:Bi.lineLoader})]})}):D.jsx(D.Fragment,{children:t})}function t1(){const[n,e]=O.useState(!0);return O.useEffect(()=>()=>{e(!1)},[]),D.jsx(cF,{isLoading:n,children:D.jsx(D.Fragment,{}),error:""})}function fF(){const{name:n,id:e,setName:t,description:r,setDescription:o,deleteHook:s,eventType:a,setEventType:u,matchPattern:f,setMatchPattern:d,prompt:h,setPrompt:g,enabled:w,toggleEnabled:y,fileOptions:x,isRunning:k,setRunningState:S,syncRunningState:C,isManualTrigger:T,triggerHook:N,activeExecutionSessionId:I,setActiveExecutionSessionId:P,openActiveHookExecutionTab:B}=eF(),U=ec(),[X,Q]=O.useState(!1);return O.useEffect(()=>{if(U.justCreatedHook){Q(!0),U.setJustCreatedHook(!1);const G=setTimeout(()=>{Q(!1)},2e3);return()=>{clearTimeout(G)}}},[U]),O.useEffect(()=>{C()},[]),B(I),O.useEffect(()=>{const G=ge=>{const fe=ge.data;fe.type==="updateHookToggle"&&fe.hookId===e&&y(),fe.type==="updateHookRunning"&&fe.hookId===e&&S(fe.status),fe.type==="updateHookRunning"&&fe.activeChatSessionId&&P(fe.activeChatSessionId)};return window.addEventListener("message",G),()=>{window.removeEventListener("message",G)}},[e,S,y,P]),!e||!a?D.jsx(t1,{}):D.jsxs(vo,{children:[D.jsxs(vo.Header,{children:[!k&&!X&&x.path&&D.jsx(lN,{name:x.path,lang:"json",filePath:x.path,onClick:()=>{x.open()}}),X&&!k&&D.jsxs("div",{className:"editable-top-bar-banner-content",children:[D.jsx(yt,{type:"check"}),D.jsx("span",{children:"Hook created"})]}),k&&D.jsxs("div",{className:"editable-top-bar-banner-content",children:[D.jsx("span",{children:"Hook is running..."}),D.jsx(yt,{type:"sync",modifier:"spin"})]}),!X&&!k&&(T?D.jsxs(ur,{variant:"primary",onClick:()=>{N()},children:[D.jsx("span",{children:"Start Hook"}),D.jsx(yt,{type:"play"})]}):D.jsx(pN,{checked:w,onChange:y,label:w?"Hook enabled":"Hook disabled"})),k&&I&&D.jsxs(ur,{variant:"primary",onClick:()=>{B(I)},children:[D.jsx(yt,{type:"eye"}),D.jsx("span",{children:"Follow session"})]})]}),D.jsxs(vo.Body,{children:[D.jsxs(mn,{children:[D.jsx(mn.Label,{htmlFor:"title-input",children:"Title"}),D.jsx("input",{id:"title-input",type:"text",placeholder:"Title",value:n,onChange:G=>{t(G.target.value)},"aria-label":"Edit title"})]}),D.jsxs(mn,{children:[D.jsx(mn.Label,{htmlFor:"description-input",children:"Description"}),D.jsx("textarea",{id:"description-input",value:r,placeholder:"Description",onChange:G=>{o(G.target.value)},rows:((r==null?void 0:r.split(`
`).length)||1)+2})]}),D.jsxs(mn,{children:[D.jsx(mn.Label,{children:"Event"}),D.jsxs(Vi,{value:a,isExclusive:!0,onChange:G=>{G&&u(G)},children:[D.jsxs(Vi.Button,{value:"fileCreated",children:[D.jsx(yt,{type:"newFile"}),D.jsx("span",{children:"File Created"})]}),D.jsxs(Vi.Button,{value:"fileEdited",children:[D.jsx(yt,{type:"save"}),D.jsx("span",{children:"File Saved"})]}),D.jsxs(Vi.Button,{value:"fileDeleted",children:[D.jsx(yt,{type:"trash"}),D.jsx("span",{children:"File Deleted"})]}),D.jsxs(Vi.Button,{value:"userTriggered",children:[D.jsx(yt,{type:"play"}),D.jsx("span",{children:"Manual Trigger"})]})]})]}),D.jsxs(mn,{className:T?"disabled":"",children:[D.jsx(mn.Label,{htmlFor:"file-paths-input",children:"File path(s) to watch"}),D.jsx(_0,{id:"file-paths-input",value:f,icon:"fileCode",onChange:G=>{d(G)}})]}),D.jsxs(mn,{children:[D.jsx(mn.Label,{htmlFor:"instructions-input",children:"Instructions for Kiro agent"}),D.jsx("textarea",{id:"instructions-input",value:h,placeholder:"Instructions",onChange:G=>{g(G.target.value)},rows:(h.split(`
`).length||1)+2})]}),D.jsxs(ur,{severity:"negative",onClick:()=>{s()},children:[D.jsx(yt,{type:"trash"}),D.jsx("span",{children:"Delete Hook"})]})]})]})}const dF=eh(n=>({x:0,y:0,active:!1,query:"",currentFocusedItem:"",open:(e,t)=>{n({x:e,y:t,active:!0})},close:()=>{n({active:!1,query:""})},update:e=>{n({query:e})},setOnSelectHandler:e=>{n({onSelect:e})},onSelect:()=>{}})),pF={[Br.Generate]:D.jsx(Zz,{}),[Br.View]:D.jsx(fF,{}),[Br.Loading]:D.jsx(t1,{})};function hF(){const n=ec(),{setHookId:e}=th(),t=dF();return O.useEffect(()=>{},[t]),O.useEffect(()=>{const r=(window.variables||{}).hook;r?(e(r),n.setView(Br.View)):n.setView(Br.Generate)},[]),D.jsx("div",{className:"vscode-editor-background",children:pF[n.view]})}const mF=SN.createRoot(document.getElementById("root"));mF.render(D.jsx(He.StrictMode,{children:D.jsx(hS,{editorApi:window.vscode,children:D.jsx(gS,{children:D.jsx(hF,{})})})}));
