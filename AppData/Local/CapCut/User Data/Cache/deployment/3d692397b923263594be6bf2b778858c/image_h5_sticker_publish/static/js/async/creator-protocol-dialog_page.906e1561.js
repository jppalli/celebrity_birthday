/*! For license information please see creator-protocol-dialog_page.906e1561.js.LICENSE.txt */
(self.webpackChunkartist_op_web=self.webpackChunkartist_op_web||[]).push([[898],{19608:(e,t,r)=>{"use strict";function o(e){e.stopPropagation(),e.preventDefault()}r.d(t,{Jt:()=>o})},75108:(e,t,r)=>{"use strict";r.d(t,{q7:()=>o});const o="Enter"},74777:(e,t,r)=>{"use strict";function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{prefix:t="",length:r=7}=e,o="0123456789abcdefghijklmnopqrstuvwxyz";let n="";for(let a=0;a<r;a++){const e=Math.floor(36*Math.random());n+=o.charAt(e)}return t?`${t}-${n}`:n}r.d(t,{Ms:()=>o})},60153:(e,t,r)=>{"use strict";r.d(t,{GO:()=>i,UW:()=>n,vY:()=>a});r(50959);var o=r(50840);function n(e,t){e&&"function"==typeof e.stopPropagation&&e.stopPropagation(),!t&&e.nativeEvent&&"function"==typeof e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()}function a(){return document?document.activeElement:null}function i(e){if(!(0,o.Z)(e))return[];const t=["input:not([disabled]):not([tabindex='-1'])","textarea:not([disabled]):not([tabindex='-1'])","button:not([disabled]):not([tabindex='-1'])","a[href]:not([tabindex='-1'])","select:not([disabled]):not([tabindex='-1'])","area[href]:not([tabindex='-1'])","iframe:not([tabindex='-1'])","object:not([tabindex='-1'])","*[tabindex]:not([tabindex='-1'])","*[contenteditable]:not([tabindex='-1'])"].join(",");return Array.from(e.querySelectorAll(t))}},10491:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ge});var o,n,a=r(50959),i=r(84875),s=r.n(i),c=r(45599),l=(r(32913),r(99891)),d=r(76021),u=r(11643),f=r(11449),p=r(98052);function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},m.apply(this,arguments)}const h=e=>a.createElement("svg",m({xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 18 18"},e),o||(o=a.createElement("rect",{width:18,height:18,fill:"#29292D",opacity:.5,rx:9})),n||(n=a.createElement("path",{stroke:"#FAFAFA",strokeWidth:1.35,d:"M13.925 9a4.924 4.924 0 1 0-1.443 3.482"}))),v="root-yumxDJ",g="animated-IHczOy";var b=r(11527);const x=(0,a.memo)((e=>{const{className:t,size:r,circleColor:o="var(--black-4)",arcColor:n="var(--white-0)",animated:a=!0}=e;return(0,b.jsx)(h,{className:s()(t,v,a&&g),width:r,height:r,style:{"--heycan-loading-circle-color":o,"--heycan-loading-arc-color":n}})})),_="card-f4fcSb",w="text-RGDuHx",j=e=>{const{className:t,status:r,children:o}=e;return(0,b.jsxs)("div",{className:s()(t,_),children:["loading"===r?(0,b.jsx)(x,{size:18},r):(0,b.jsx)(x,{size:18,circleColor:"#c30000",animated:!1},r),o&&(0,b.jsx)("div",{className:w,children:o})]})};var y=r(46309),E=r(8129);const C=({lang:e,region:t})=>`https://www.capcut.com/clause/creator-agreement?lang=${e}&store_region=${t}`;var k,N=r(54847),O=r(2555),P=r(23479),S=r(73224);function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},A.apply(this,arguments)}const L=e=>a.createElement("svg",A({xmlns:"http://www.w3.org/2000/svg",width:12,height:12,fill:"none",viewBox:"0 0 12 12"},e),k||(k=a.createElement("path",{fill:"#D4D4D4",d:"M6.708 6 11 10.292l-.708.708L6 6.708 1.708 11 1 10.292 5.292 6 1 1.708 1.708 1 6 5.292 10.292 1l.708.708L6.708 6Z"})));var I=r(44478),M=r(26800),W=r(20468),Z=r(76896);const F={root:"root-wurvCd",point:"point-E_OjHv",tooltipWrapper:"tooltipWrapper-f4Ku2I","fade-in":"fade-in-CYzcgC",fadeIn:"fade-in-CYzcgC",fadingOut:"fadingOut-WkHWF7","fade-out":"fade-out-S__jW6",fadeOut:"fade-out-S__jW6"},z=(0,a.forwardRef)(((e,t)=>{const{tooltipProps:r,getPopupContainer:o,onClosePopover:n,position:i,cursor:c="default"}=e,[l,d]=(0,a.useState)(!0),[f,p]=(0,a.useState)(!1),{top:m}=i,h=i.left-10,v=(0,a.useRef)(null),g=(0,a.useRef)(null),x=(0,M.Z)((()=>{var e;null===(e=g.current)||void 0===e||e.destroy(),p(!1),d(!1)})),_=(0,M.Z)((()=>{var e;const t=o().querySelector(`.${F.tooltipWrapper}`);if(!t||(null===(e=g.current)||void 0===e?void 0:e.tooltipWrapper)===t)return;t.addEventListener("animationend",x);const r=new O.B;r.timeout(500).then(x),g.current={tooltipWrapper:t,destroy:()=>{t.removeEventListener("animationend",x),r.cancel(),g.current=null}}}));(0,a.useImperativeHandle)(t,(()=>({hide:()=>{_(),p(!0)}})));const w=(0,a.useMemo)((()=>({default:{height:18,width:12},"not-allowed":{height:(0,Z.c)()?30:15,width:15}})),[]),j=w[c]||w.default;return(0,b.jsx)(u.Z,{autoAdjustOverflow:!0,position:"bottomLeft",motion:!1,...r,className:s()(r.className,F.tooltipWrapper,f&&F.fadingOut),trigger:"custom",visible:l,showArrow:!1,rePosKey:`${m}-${h}`,getPopupContainer:o,onVisibleChange:e=>{var t;!e&&n(),null===(t=r.onVisibleChange)||void 0===t||t.call(r,e)},children:(0,b.jsx)("div",{className:F.point,tabIndex:-1,ref:v,style:{top:m,left:h,...j}})})}));function H(e){const{zIndex:t=1060,cursor:r="default",checkIsTarget:o,getEllipsisDOM:n,...i}=e,s=(0,a.useRef)(null),l=(0,a.useRef)(null),[d,u]=(0,a.useState)(null),{i18n:f}=(0,c.$)(),p=()=>{const{content:e}=i;if("function"!=typeof e)return e;if(!s.current)return null;const{targetElement:t}=s.current;return r=>e({...r,target:t})},m=(0,M.Z)((()=>{s.current&&(s.current.destroy(),s.current=null,u(null))})),h=(0,M.Z)((()=>{var e;null===(e=s.current)||void 0===e||e.destroy(),s.current=null})),v=(0,M.Z)(((e,r)=>{const o=null==n?void 0:n(r);if(o&&o.offsetWidth>=o.scrollWidth)return;if(s.current){if(!s.current.hasLeaved&&s.current.targetElement===r)return;m()}const a=document.createElement("div");a.className=F.root,a.style.zIndex=`${t}`;const i=e=>{u({left:e.clientX,top:e.clientY})},c=e=>{r===e.target&&(s.current&&(s.current.hasLeaved=!0),l.current?l.current.hide():m())};r.addEventListener("mousemove",i),r.addEventListener("mouseleave",c),document.body.appendChild(a);const d=(0,I.createRoot)(a);s.current={container:a,targetElement:r,hasLeaved:!1,reactRoot:d,destroy:()=>{a.remove(),Promise.resolve().then((()=>d.unmount())),r.removeEventListener("mousemove",i),r.removeEventListener("mouseleave",c)}},u({left:e.clientX,top:e.clientY})})),g=(0,M.Z)((e=>{const t=e.currentTarget;v(e,t)})),x=(0,M.Z)((e=>{var t;const r=e.target;(null!==(t=null==o?void 0:o(r))&&void 0!==t?t:e.currentTarget===r)&&v(e,r)}));return(0,a.useLayoutEffect)((()=>h),[]),(0,a.useLayoutEffect)((()=>{(()=>{if(!s.current||!d)return;const{reactRoot:e,container:o}=s.current;o.style.zIndex=`${t}`,e.render((0,b.jsx)(W.a,{i18n:f,children:(0,b.jsx)(z,{ref:l,tooltipProps:{...i,content:p()},getPopupContainer:()=>o,onClosePopover:m,position:d,cursor:r})}))})()})),{handleMouseEnter:g,handleMouseOver:x}}const R="protocol-VspS8l",D="content-OyCrKs",$="withBorder-jbe4Zm",B="flexHeight-OlM20e",T="footer-PL68kt",X="btn-az9uHG",Y="confirmArea-HME5C1",J="confirmCheckbox-lf6E1b",q="confirmCheckboxText-Tkueuw",G="confirmCheckboxProtocolTitle-WvrrOC",Q="protocolContent-jt8xnN",V="root-QktMQ3",K="title-QI6laf",U="right-vx9IoL",ee="closeIcon-Z6vdI8";let te=function(e){return e.Origin="originUserAuthProtocol",e.OriginalForSubscription="originalWorkProtocolForSubscription",e.OriginalForCommercial="originalWorkProtocolForCommercial",e.Creator="createProtocol",e.AuthorAgreement="AuthorAgreementProtocol",e}({});const re={[te.Origin]:"https://sf16-draftcdn-sg.ibytedtos.com/obj/ies-hotsoon-draft-sg/faceu/db84e32a-66a5-425a-afb2-0f32186f3cce_en.html",[te.OriginalForSubscription]:"https://sf16-draftcdn-sg.ibytedtos.com/obj/ies-hotsoon-draft-sg/faceu/db84e32a-66a5-425a-afb2-0f32186f3cce_en.html",[te.OriginalForCommercial]:"https://sf16-draftcdn-sg.ibytedtos.com/obj/ies-hotsoon-draft-sg/capcut/original_work_notice_for_commercial_material_en.html",[te.Creator]:C({}),[te.AuthorAgreement]:"https://sf16-draftcdn-sg.ibytedtos.com/obj/ies-hotsoon-draft-sg/capcut/e39ca47a-4796-4c2b-8fb6-fb0cfd41e1e3.html"},oe={[te.Origin]:"Original Work Notice",[te.OriginalForSubscription]:"Original Work Notice",[te.OriginalForCommercial]:"Original Work Notice",[te.Creator]:S.I18n.t("pc_capcut_creator_agreement_web"),[te.AuthorAgreement]:S.I18n.t("cc_pc_material_publish_paid_authorize_popup_title_web")},ne=((0,P.Pi)((({onCancel:e,onOk:t,protocol:r,handleBtnText:o,closeIcon:n=!1,needReview:i=!0,useIframe:u=!0,needHasRead:f=!0,renderConfirmExtra:p,getCanConfirmExtra:m})=>{const{t:h}=(0,c.$)(),[v,g]=(0,a.useState)(!1),[x,_]=(0,a.useState)(!1),w=!f||v,j=()=>!i||w&&x&&(!m||m()),{handleMouseEnter:y}=H({content:h("pc_template_authorize_read_all_web"),cursor:"not-allowed"}),C=(0,a.useRef)(null),k={disabled:!w,handleMouseEnter:!i||w?void 0:y},N=()=>{j()&&(null==t||t())};(0,a.useEffect)((()=>{const e=e=>{const t=e.data;try{const e=JSON.parse(t),r=document.getElementById("protocol-content"),o="protocal"===e.from||"protocol"===e.from;if(o&&"load"===e.event)if(r){const{clientHeight:t}=r;e.scrollHeight<=t&&g(!0)}else g(!0);o&&"bottom"===e.event&&g(!0)}catch(r){g(!0),(0,E.RF)("[Protocol] handle protocol message",r,{text:t})}};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[]);const O=()=>{if(C.current&&!u){const{scrollHeight:e,clientHeight:t,scrollTop:r}=C.current;!w&&r+t>=e&&g(!0)}};return(0,a.useEffect)((()=>{var e;return null===(e=C.current)||void 0===e||e.addEventListener("scroll",O),()=>{var e;null===(e=C.current)||void 0===e||e.removeEventListener("scroll",O)}}),[C.current]),(0,a.useLayoutEffect)((()=>{const e=document.getElementById("protocol-content");if(e&&!u){const{scrollHeight:t,clientHeight:r}=e;g(!(t>r)),C.current=e}}),[]),(0,b.jsxs)("div",{className:R,children:[(0,b.jsxs)("div",{className:V,children:[(0,b.jsx)("div",{className:K,children:oe[r]}),(0,b.jsx)("div",{className:U,children:n&&(0,b.jsx)(L,{className:ee,onClick:()=>{null==e||e("close")}})})]}),(0,b.jsx)("div",{className:s()(D,!i&&$,i&&B),id:"protocol-content",children:u?(0,b.jsx)("iframe",{id:"frame",src:re[r]}):(0,b.jsx)("div",{className:Q,children:null})}),o&&i?(0,b.jsxs)("div",{className:Y,children:[(0,b.jsx)(d.ZP,{className:J,checked:x,disabled:k.disabled,onMouseEnter:k.handleMouseEnter,onChange:e=>_(Boolean(e.target.checked)),autoFocus:!1,children:(0,b.jsx)("span",{className:q,children:h("pc_template_authorize_read_agree_web",{X:(0,b.jsx)("span",{className:G,children:oe[r]},"X")})})}),null==p?void 0:p()]}):null,(()=>{const e=o;return e?(0,b.jsx)("div",{className:s()(T,i&&$),children:(0,b.jsx)(l.Z,{className:X,type:"primary",theme:"solid",disabled:!j(),onClick:N,children:e})}):null})()]})})),"Protoal-UH5T2G"),ae="content-yJY8ZY",ie="check-B3Sm_8",se="checkField-owDrOw",ce="checkboxContainer-igqjYD",le="disabled-gnikvo",de="word-N1jdwD",ue="checkbox-rsms3p",fe="footer-PERq2T",pe="btn-BncqQ_",me="errorContainer-HV1YR0",he="retryText-dBFhyJ",ve=({needReview:e=!0})=>{const[t,r]=(0,a.useState)(!1),{t:o,i18n:n}=(0,c.$)(),[i,u]=(0,a.useState)(!e),m=(0,a.useRef)(null),h=(0,a.useMemo)((()=>new O.B),[]),[v,g]=(0,a.useState)(!1),{language:x,region:_}=N.appModel.appInfo,w=(0,a.useMemo)((()=>C({lang:x,region:_})),[x,_]),{handleMouseEnter:k}=H({content:o("pc_template_authorize_read_all_web"),cursor:"not-allowed"});var P;(0,a.useEffect)((()=>{const e=e=>{try{if("string"!=typeof e.data)return;const t=JSON.parse(e.data);"protocal"!==t.from&&"protocol"!==t.from||"bottom"!==t.event||u(!0)}catch(t){console.log(t),(0,f.Z)("captureException",t),u(!0)}};return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}}),[]),(0,a.useEffect)((()=>{var e;if(!v)return h.timeout(1e4).then((()=>{g(!0)})),null===(e=m.current)||void 0===e||e.addEventListener("load",(()=>h.cancel())),()=>{h.cancel()}}),[v]),P={title:oe[te.Creator],pid:"creator-protocol-dialog"},(0,a.useEffect)((()=>{(0,y.Td)({title:P.title}),(0,E.$G)({pid:P.pid})}),[]);return(0,b.jsxs)("div",{className:ne,children:[(0,b.jsx)("div",{className:ae,children:v?(0,b.jsx)("div",{className:me,children:(0,b.jsx)(j,{status:"error",children:o("pc_sticker_abnormal_{X}_web",{X:(0,b.jsx)("span",{className:he,onClick:()=>g(!1),children:o("pc_sticker_retry_web")},"X")})})}):(0,b.jsx)("iframe",{id:"frame",ref:m,src:w})}),(0,b.jsx)("div",{className:ie,children:(0,b.jsx)("div",{className:se,onClick:()=>{return e=!t,void(i&&r(e));var e},children:(0,b.jsxs)("div",{className:s()(ce,!i&&le),onMouseEnter:i?void 0:k,children:[(0,b.jsx)(d.ZP,{checked:t,disabled:!i,className:ue}),o("pc_sticker_agree_{X}_web",{X:(0,b.jsx)("span",{className:de,children:oe[te.Creator]},"X")})]})})}),(0,b.jsxs)("div",{className:fe,children:[(0,b.jsx)(l.Z,{className:pe,theme:"solid",disabled:!t||!i,onClick:()=>{p.Jn.call("creatorProtocolDialogAction",{action:"Confirm"})},children:o("pc_stickers_release_confirm_agree_web")}),(0,b.jsx)(l.Z,{theme:"solid",type:"secondary",className:pe,onClick:()=>{p.Jn.call("creatorProtocolDialogAction",{action:"Cancel"})},children:o("pc_stickers_release_cancel_disagree_web")})]})]})},ge=()=>(0,b.jsx)(ve,{})},84875:(e,t)=>{var r;!function(){"use strict";var o={}.hasOwnProperty;function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)){if(r.length){var i=n.apply(null,r);i&&e.push(i)}}else if("object"===a){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var s in r)o.call(r,s)&&r[s]&&e.push(s)}}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(r=function(){return n}.apply(t,[]))||(e.exports=r)}()},61022:(e,t,r)=>{"use strict";r.d(t,{jd:()=>a.O,FY:()=>i.F,Pi:()=>s.P});r(20673);var o=r(57210),n=r(2882),a=(r(66727),r(7215)),i=r(13046),s=r(32990);r(44258),r(50959);var c;r(44968),r(6628);(0,n.z0)(o.m);c=a.O.finalizeAllImmediately},38459:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});const o=function(e,t,r){var o=-1,n=e.length;t<0&&(t=-t>n?0:n+t),(r=r>n?n:r)<0&&(r+=n),n=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(n);++o<n;)a[o]=e[o+t];return a}}}]);