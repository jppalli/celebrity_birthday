/*! For license information please see 300.afe31f27.js.LICENSE.txt */
(self.webpackChunkartist_op_web=self.webpackChunkartist_op_web||[]).push([[300],{26800:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(50959);const i=function(e){var t=(0,n.useRef)();return t.current=(0,n.useMemo)((function(){return e}),[e]),(0,n.useCallback)((function(){var e=t.current;return e&&e.apply(void 0,arguments)}),[t])}},27049:function(e){var t;"undefined"!=typeof self&&self,t=function(){return function(e){var t={};function r(n){var i;return(t[n]||(i=t[n]={i:n,l:!1,exports:{}},e[n].call(i.exports,i,i.exports,r),i.l=!0,i)).exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=9)}([function(e,t,r){"use strict";var n="object"==typeof Reflect?Reflect:null,i=n&&"function"==typeof n.apply?n.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},o=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)},s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}m(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&m(e,"error",t,r)}(e,i,{once:!0})}))},(a.EventEmitter=a).prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function d(e,t,r,n){var i,o;return l(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener||r),i=e._events),o=i[t]),void 0===o?(o=i[t]=r,++e._eventsCount):("function"==typeof o?o=i[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),0<(i=u(e))&&o.length>i&&!o.warned&&(o.warned=!0,(n=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",n.emitter=e,n.type=t,n.count=o.length,function(e){console&&console.warn&&console.warn(e)}(n))),e}function h(e,t,r){return t=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(e={fired:!1,wrapFn:void 0,target:e,type:t,listener:r}),t.listener=r,e.wrapFn=t}function p(e,t,r){return void 0===(e=e._events)||void 0===(e=e[t])?[]:"function"==typeof e?r?[e.listener||e]:[e]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(e):g(e,e.length)}function f(e){var t=this._events;if(void 0!==t){if("function"==typeof(t=t[e]))return 1;if(void 0!==t)return t.length}return 0}function g(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function m(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){if((s=0<t.length?t[0]:s)instanceof Error)throw s;throw(n=new Error("Unhandled error."+(s?" ("+s.message+")":""))).context=s,n}var s=o[e];if(void 0===s)return!1;if("function"==typeof s)i(s,this,t);else{var a=s.length,c=g(s,a);for(r=0;r<a;++r)i(c[r],this,t)}return!0},a.prototype.on=a.prototype.addListener=function(e,t){return d(this,e,t,!1)},a.prototype.prependListener=function(e,t){return d(this,e,t,!0)},a.prototype.once=function(e,t){return l(t),this.on(e,h(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,h(this,e,t)),this},a.prototype.off=a.prototype.removeListener=function(e,t){var r,n,i,o,s;if(l(t),void 0!==(n=this._events)&&void 0!==(r=n[e]))if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;0<=o;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.removeAllListeners=function(e){var t,r=this._events;if(void 0!==r)if(void 0===r.removeListener)0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]);else if(0===arguments.length){for(var n,i=Object.keys(r),o=0;o<i.length;++o)"removeListener"!==(n=i[o])&&this.removeAllListeners(n);this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0}else if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(o=t.length-1;0<=o;o--)this.removeListener(e,t[o]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},a.prototype.listenerCount=f,a.prototype.eventNames=function(){return 0<this._eventsCount?o(this._events):[]}},function(e,t,r){(function(t){e.exports=function(){"use strict";function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&r.path)}},r.exports),r.exports}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;var n=r((function(e,t){var r;e.exports=(r=r||function(e,t){var r=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),n={},i=n.lib={},o=i.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var s=r[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=s<<24-(n+o)%4*8}else for(o=0;o<i;o+=4)t[n+o>>>2]=r[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r,n=[],i=function(t){var r=987654321,n=4294967295;return function(){var i=((r=36969*(65535&r)+(r>>16)&n)<<16)+(t=18e3*(65535&t)+(t>>16)&n)&n;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var a=i(4294967296*(r||e.random()));r=987654071*a(),n.push(4294967296*a()|0)}return new s.init(n,t)}}),a=n.enc={},c=a.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new s.init(r,t/2)}},l=a.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new s.init(r,t)}},u=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},d=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,i=r.sigBytes,o=this.blockSize,a=i/(4*o),c=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*o,l=e.min(4*c,i);if(c){for(var u=0;u<c;u+=o)this._doProcessBlock(n,u);var d=n.splice(0,c);r.sigBytes-=l}return new s.init(d,l)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),h=(i.Hasher=d.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new h.HMAC.init(e,r).finalize(t)}}}),n.algo={});return n}(Math),r)})),i=r((function(e,t){var r;e.exports=(r=n,function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,s=t.algo,a=[],c=[];!function(){function t(t){for(var r=e.sqrt(t),n=2;n<=r;n++)if(!(t%n))return!1;return!0}function r(e){return 4294967296*(e-(0|e))|0}for(var n=2,i=0;i<64;)t(n)&&(i<8&&(a[i]=r(e.pow(n,.5))),c[i]=r(e.pow(n,1/3)),i++),n++}();var l=[],u=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],u=r[5],d=r[6],h=r[7],p=0;p<64;p++){if(p<16)l[p]=0|e[t+p];else{var f=l[p-15],g=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,m=l[p-2],y=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;l[p]=g+l[p-7]+y+l[p-16]}var v=n&i^n&o^i&o,b=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),_=h+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&u^~a&d)+c[p]+l[p];h=d,d=u,u=a,a=s+_|0,s=o,o=i,i=n,n=_+(b+v)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+a|0,r[5]=r[5]+u|0,r[6]=r[6]+d|0,r[7]=r[7]+h|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=e.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(u),t.HmacSHA256=o._createHmacHelper(u)}(Math),r.SHA256)})),o=(r((function(e,t){var r,i,o;e.exports=(i=(r=n).lib.Base,o=r.enc.Utf8,void(r.algo.HMAC=i.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=o.parse(t));var r=e.blockSize,n=4*r;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),s=this._iKey=t.clone(),a=i.words,c=s.words,l=0;l<r;l++)a[l]^=1549556828,c[l]^=909522486;i.sigBytes=s.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})))})),r((function(e,t){e.exports=n.HmacSHA256}))),s=function(e,t){return o(t,e)},a=function(e){return i(e)},c=["authorization","content-type","content-length","user-agent","presigned-expires","expect","x-amzn-trace-id"],l="aws4_request",u=function(e){try{return encodeURIComponent(e).replace(/[^A-Za-z0-9_.~\-%]+/g,escape).replace(/[*]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))}catch(e){return""}},d=function(e){return Object.keys(e).sort().map((function(t){var r=e[t];if(null!=r){var n=u(t);if(n)return Array.isArray(r)?"".concat(n,"=").concat(r.map(u).sort().join("&".concat(n,"="))):"".concat(n,"=").concat(u(r))}})).filter((function(e){return e})).join("&")};return function(){function t(e,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.request=e,this.request.headers=e.headers||{},this.serviceName=r,n=n||{},this.signatureCache="boolean"!=typeof n.signatureCache||n.signatureCache,this.operation=n.operation,this.signatureVersion=n.signatureVersion}var r,n;return r=t,(n=[{key:"addAuthorization",value:function(e,t){var r=this.iso8601(t).replace(/[:\-]|\.\d{3}/g,"");this.addHeaders(e,r),this.request.headers.Authorization=this.authorization(e,r)}},{key:"addHeaders",value:function(e,t){this.request.headers["X-Amz-Date"]=t,e.sessionToken&&(this.request.headers["x-amz-security-token"]=e.sessionToken),this.request.body&&(this.request.headers["X-Amz-Content-Sha256"]=a(JSON.stringify(this.request.body)).toString())}},{key:"authorization",value:function(e,t){var r=[],n=this.credentialString(t);return r.push("".concat("AWS4-HMAC-SHA256"," Credential=").concat(e.accessKeyId,"/").concat(n)),r.push("SignedHeaders=".concat(this.signedHeaders())),r.push("Signature=".concat(this.signature(e,t))),r.join(", ")}},{key:"signature",value:function(e,t){var r=this.getSigningKey(e,t.substr(0,8),this.request.region,this.serviceName,this.signatureCache);return s(r,this.stringToSign(t),"hex")}},{key:"stringToSign",value:function(e){var t=[];return t.push("AWS4-HMAC-SHA256"),t.push(e),t.push(this.credentialString(e)),t.push(this.hexEncodedHash(this.canonicalString())),t.join("\n")}},{key:"canonicalString",value:function(){var e=[],t=this.request.pathname||"/";return e.push(this.request.method.toUpperCase()),e.push(t),e.push(d(this.request.params)||""),e.push("".concat(this.canonicalHeaders(),"\n")),e.push(this.signedHeaders()),e.push(this.hexEncodedBodyHash()),e.join("\n")}},{key:"canonicalHeaders",value:function(){var e=this,t=[];Object.keys(this.request.headers).forEach((function(r){t.push([r,e.request.headers[r]])})),t.sort((function(e,t){return e[0].toLowerCase()<t[0].toLowerCase()?-1:1}));var r=[];return t.forEach((function(t){var n=t[0].toLowerCase();if(e.isSignableHeader(n)){var i=t[1];if(null==i||"function"!=typeof i.toString)throw new Error("Header ".concat(n," contains invalid value"));r.push("".concat(n,":").concat(e.canonicalHeaderValues(i.toString())))}})),r.join("\n")}},{key:"canonicalHeaderValues",value:function(e){return e.replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")}},{key:"signedHeaders",value:function(){var e=this,t=[];return Object.keys(this.request.headers).forEach((function(r){r=r.toLowerCase(),e.isSignableHeader(r)&&t.push(r)})),t.sort().join(";")}},{key:"credentialString",value:function(e){return this.createScope(e.substr(0,8),this.request.region,this.serviceName)}},{key:"hexEncodedHash",value:function(e){return a(e)}},{key:"hexEncodedBodyHash",value:function(){return this.request.headers["X-Amz-Content-Sha256"]?this.request.headers["X-Amz-Content-Sha256"]:this.request.body?this.hexEncodedHash(d(this.request.body)):this.hexEncodedHash("")}},{key:"isSignableHeader",value:function(e){return 0===e.toLowerCase().indexOf("x-amz-")||c.indexOf(e)<0}},{key:"iso8601",value:function(e){return void 0===e&&(e=new Date),e.toISOString().replace(/\.\d{3}Z$/,"Z")}},{key:"getSigningKey",value:function(e,t,r,n){var i=s("AWS4".concat(e.secretAccessKey),t),o=s(i,r),a=s(o,n);return s(a,l)}},{key:"createScope",value:function(e,t,r){return[e.substr(0,8),t,r,l].join("/")}}])&&e(r.prototype,n),t}()}()}).call(this,r(7))},function(e,t,r){e.exports=function(){return r(8)('!function(t){var n={};function __webpack_require__(r){var e;return(n[r]||(e=n[r]={i:r,l:!1,exports:{}},t[r].call(e.exports,e,e.exports,__webpack_require__),e.l=!0,e)).exports}__webpack_require__.m=t,__webpack_require__.c=n,__webpack_require__.d=function(r,e,t){__webpack_require__.o(r,e)||Object.defineProperty(r,e,{enumerable:!0,get:t})},__webpack_require__.r=function(r){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},__webpack_require__.t=function(e,r){if(1&r&&(e=__webpack_require__(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(__webpack_require__.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)__webpack_require__.d(t,n,function(r){return e[r]}.bind(null,n));return t},__webpack_require__.n=function(r){var e=r&&r.__esModule?function getDefault(){return r.default}:function getModuleExports(){return r};return __webpack_require__.d(e,"a",e),e},__webpack_require__.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=9)}([function(r,e,t){r.exports=function(){var r=r||function(u,t){var n=Object.create||function(){function F(){}return function(r){var e;F.prototype=r;e=new F;F.prototype=null;return e}}();var r={};var e=r.lib={};var i=e.Base=function(){return{extend:function(r){var e=n(this);if(r)e.mixIn(r);if(!e.hasOwnProperty("init")||this.init===e.init)e.init=function(){e.$super.init.apply(this,arguments)};e.init.prototype=e;e.$super=this;return e},create:function(){var r=this.extend();r.init.apply(r,arguments);return r},init:function(){},mixIn:function(r){for(var e in r)if(r.hasOwnProperty(e))this[e]=r[e];if(r.hasOwnProperty("toString"))this.toString=r.toString},clone:function(){return this.init.prototype.extend(this)}}}();var h=e.WordArray=i.extend({init:function(r,e){r=this.words=r||[];if(e!=t)this.sigBytes=e;else this.sigBytes=r.length*4},toString:function(r){return(r||o).stringify(this)},concat:function(r){var e=this.words;var t=r.words;var n=this.sigBytes;var i=r.sigBytes;this.clamp();if(n%4)for(var a=0;a<i;a++){var o=t[a>>>2]>>>24-a%4*8&255;e[n+a>>>2]|=o<<24-(n+a)%4*8}else for(var a=0;a<i;a+=4)e[n+a>>>2]=t[a>>>2];this.sigBytes+=i;return this},clamp:function(){var r=this.words;var e=this.sigBytes;r[e>>>2]&=4294967295<<32-e%4*8;r.length=u.ceil(e/4)},clone:function(){var r=i.clone.call(this);r.words=this.words.slice(0);return r},random:function(r){var e=[];var t=function(e){var e=e;var t=987654321;var n=4294967295;return function(){t=36969*(t&65535)+(t>>16)&n;e=18e3*(e&65535)+(e>>16)&n;var r=(t<<16)+e&n;r/=4294967296;r+=.5;return r*(u.random()>.5?1:-1)}};for(var n=0,i;n<r;n+=4){var a=t((i||u.random())*4294967296);i=a()*987654071;e.push(a()*4294967296|0)}return new h.init(e,r)}});var a=r.enc={};var o=a.Hex={stringify:function(r){var e=r.words;var t=r.sigBytes;var n=[];for(var i=0;i<t;i++){var a=e[i>>>2]>>>24-i%4*8&255;n.push((a>>>4).toString(16));n.push((a&15).toString(16))}return n.join("")},parse:function(r){var e=r.length;var t=[];for(var n=0;n<e;n+=2)t[n>>>3]|=parseInt(r.substr(n,2),16)<<24-n%8*4;return new h.init(t,e/2)}};var s=a.Latin1={stringify:function(r){var e=r.words;var t=r.sigBytes;var n=[];for(var i=0;i<t;i++){var a=e[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(a))}return n.join("")},parse:function(r){var e=r.length;var t=[];for(var n=0;n<e;n++)t[n>>>2]|=(r.charCodeAt(n)&255)<<24-n%4*8;return new h.init(t,e)}};var c=a.Utf8={stringify:function(r){try{return decodeURIComponent(escape(s.stringify(r)))}catch(r){throw new Error("Malformed UTF-8 data")}},parse:function(r){return s.parse(unescape(encodeURIComponent(r)))}};var v=e.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new h.init;this._nDataBytes=0},_append:function(r){if(typeof r=="string")r=c.parse(r);this._data.concat(r);this._nDataBytes+=r.sigBytes},_process:function(r){var e=this._data;var t=e.words;var n=e.sigBytes;var i=this.blockSize;var a=i*4;var o=n/a;if(r)o=u.ceil(o);else o=u.max((o|0)-this._minBufferSize,0);var s=o*i;var c=u.min(s*4,n);if(s){for(var v=0;v<s;v+=i)this._doProcessBlock(t,v);var f=t.splice(0,s);e.sigBytes-=c}return new h.init(f,c)},clone:function(){var r=i.clone.call(this);r._data=this._data.clone();return r},_minBufferSize:0});var f=e.Hasher=v.extend({cfg:i.extend(),init:function(r){this.cfg=this.cfg.extend(r);this.reset()},reset:function(){v.reset.call(this);this._doReset()},update:function(r){this._append(r);this._process();return this},finalize:function(r){if(r)this._append(r);var e=this._doFinalize();return e},blockSize:512/32,_createHelper:function(t){return function(r,e){return new t.init(e).finalize(r)}},_createHmacHelper:function(t){return function(r,e){return new p.HMAC.init(t,e).finalize(r)}}});var p=r.algo={};return r}(Math);return r}()},function(r,e,t){r.exports=function(F){F.lib.Cipher||function(o){var r=F;var e=r.lib;var t=e.Base;var c=e.WordArray;var n=e.BufferedBlockAlgorithm;var i=r.enc;var a=i.Utf8;var s=i.Base64;var v=r.algo;var f=v.EvpKDF;var u=e.Cipher=n.extend({cfg:t.extend(),createEncryptor:function(r,e){return this.create(this._ENC_XFORM_MODE,r,e)},createDecryptor:function(r,e){return this.create(this._DEC_XFORM_MODE,r,e)},init:function(r,e,t){this.cfg=this.cfg.extend(t);this._xformMode=r;this._key=e;this.reset()},reset:function(){n.reset.call(this);this._doReset()},process:function(r){this._append(r);return this._process()},finalize:function(r){if(r)this._append(r);var e=this._doFinalize();return e},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function selectCipherStrategy(r){if(typeof r=="string")return S;else return m}return function(n){return{encrypt:function(r,e,t){return selectCipherStrategy(e).encrypt(n,r,e,t)},decrypt:function(r,e,t){return selectCipherStrategy(e).decrypt(n,r,e,t)}}}}()});var h=e.StreamCipher=u.extend({_doFinalize:function(){var r=this._process(!!"flush");return r},blockSize:1});var p=r.mode={};var l=e.BlockCipherMode=t.extend({createEncryptor:function(r,e){return this.Encryptor.create(r,e)},createDecryptor:function(r,e){return this.Decryptor.create(r,e)},init:function(r,e){this._cipher=r;this._iv=e}});var _=p.CBC=function(){var r=l.extend();r.Encryptor=r.extend({processBlock:function(r,e){var t=this._cipher;var n=t.blockSize;xorBlock.call(this,r,e,n);t.encryptBlock(r,e);this._prevBlock=r.slice(e,e+n)}});r.Decryptor=r.extend({processBlock:function(r,e){var t=this._cipher;var n=t.blockSize;var i=r.slice(e,e+n);t.decryptBlock(r,e);xorBlock.call(this,r,e,n);this._prevBlock=i}});function xorBlock(r,e,t){var n=this._iv;if(n){var i=n;this._iv=o}else var i=this._prevBlock;for(var a=0;a<t;a++)r[e+a]^=i[a]}return r}();var d=r.pad={};var y=d.Pkcs7={pad:function(r,e){var t=e*4;var n=t-r.sigBytes%t;var i=n<<24|n<<16|n<<8|n;var a=[];for(var o=0;o<n;o+=4)a.push(i);var s=c.create(a,n);r.concat(s)},unpad:function(r){var e=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=e}};var g=e.BlockCipher=u.extend({cfg:u.cfg.extend({mode:_,padding:y}),reset:function(){u.reset.call(this);var r=this.cfg;var e=r.iv;var t=r.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=t.createEncryptor;else{var n=t.createDecryptor;this._minBufferSize=1}if(this._mode&&this._mode.__creator==n)this._mode.init(this,e&&e.words);else{this._mode=n.call(t,this,e&&e.words);this._mode.__creator=n}},_doProcessBlock:function(r,e){this._mode.processBlock(r,e)},_doFinalize:function(){var r=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){r.pad(this._data,this.blockSize);var e=this._process(!!"flush")}else{var e=this._process(!!"flush");r.unpad(e)}return e},blockSize:128/32});var k=e.CipherParams=t.extend({init:function(r){this.mixIn(r)},toString:function(r){return(r||this.formatter).stringify(this)}});var x=r.format={};var B=x.OpenSSL={stringify:function(r){var e=r.ciphertext;var t=r.salt;if(t)var n=c.create([1398893684,1701076831]).concat(t).concat(e);else var n=e;return n.toString(s)},parse:function(r){var e=s.parse(r);var t=e.words;if(t[0]==1398893684&&t[1]==1701076831){var n=c.create(t.slice(2,4));t.splice(0,4);e.sigBytes-=16}return k.create({ciphertext:e,salt:n})}};var m=e.SerializableCipher=t.extend({cfg:t.extend({format:B}),encrypt:function(r,e,t,n){n=this.cfg.extend(n);var i=r.createEncryptor(t,n);var a=i.finalize(e);var o=i.cfg;return k.create({ciphertext:a,key:t,iv:o.iv,algorithm:r,mode:o.mode,padding:o.padding,blockSize:r.blockSize,formatter:n.format})},decrypt:function(r,e,t,n){n=this.cfg.extend(n);e=this._parse(e,n.format);var i=r.createDecryptor(t,n).finalize(e.ciphertext);return i},_parse:function(r,e){if(typeof r=="string")return e.parse(r,this);else return r}});var w=r.kdf={};var b=w.OpenSSL={execute:function(r,e,t,n){if(!n)n=c.random(64/8);var i=f.create({keySize:e+t}).compute(r,n);var a=c.create(i.words.slice(e),t*4);i.sigBytes=e*4;return k.create({key:i,iv:a,salt:n})}};var S=e.PasswordBasedCipher=m.extend({cfg:m.cfg.extend({kdf:b}),encrypt:function(r,e,t,n){n=this.cfg.extend(n);var i=n.kdf.execute(t,r.keySize,r.ivSize);n.iv=i.iv;var a=m.encrypt.call(this,r,e,i.key,n);a.mixIn(i);return a},decrypt:function(r,e,t,n){n=this.cfg.extend(n);e=this._parse(e,n.format);var i=n.kdf.execute(t,r.keySize,r.ivSize,e.salt);n.iv=i.iv;var a=m.decrypt.call(this,r,e,i.key,n);return a}})}()}(t(0),t(5))},function(r,e,t){r.exports=function(a){return function(){var r=a;var e=r.lib;var t=e.BlockCipher;var n=r.algo;var f=[];var v=[];var u=[];var h=[];var p=[];var l=[];var _=[];var d=[];var y=[];var g=[];(function(){var r=[];for(var e=0;e<256;e++)if(e<128)r[e]=e<<1;else r[e]=e<<1^283;var t=0;var n=0;for(var e=0;e<256;e++){var i=n^n<<1^n<<2^n<<3^n<<4;i=i>>>8^i&255^99;f[t]=i;v[i]=t;var a=r[t];var o=r[a];var s=r[o];var c=r[i]*257^i*16843008;u[t]=c<<24|c>>>8;h[t]=c<<16|c>>>16;p[t]=c<<8|c>>>24;l[t]=c;var c=s*16843009^o*65537^a*257^t*16843008;_[i]=c<<24|c>>>8;d[i]=c<<16|c>>>16;y[i]=c<<8|c>>>24;g[i]=c;if(!t)t=n=1;else{t=a^r[r[r[s^a]]];n^=r[r[n]]}}})();var k=[0,1,2,4,8,16,32,64,128,27,54];var i=n.AES=t.extend({_doReset:function(){if(this._nRounds&&this._keyPriorReset===this._key)return;var r=this._keyPriorReset=this._key;var e=r.words;var t=r.sigBytes/4;var n=this._nRounds=t+6;var i=(n+1)*4;var a=this._keySchedule=[];for(var o=0;o<i;o++)if(o<t)a[o]=e[o];else{var s=a[o-1];if(!(o%t)){s=s<<8|s>>>24;s=f[s>>>24]<<24|f[s>>>16&255]<<16|f[s>>>8&255]<<8|f[s&255];s^=k[o/t|0]<<24}else if(t>6&&o%t==4)s=f[s>>>24]<<24|f[s>>>16&255]<<16|f[s>>>8&255]<<8|f[s&255];a[o]=a[o-t]^s}var c=this._invKeySchedule=[];for(var v=0;v<i;v++){var o=i-v;if(v%4)var s=a[o];else var s=a[o-4];if(v<4||o<=4)c[v]=s;else c[v]=_[f[s>>>24]]^d[f[s>>>16&255]]^y[f[s>>>8&255]]^g[f[s&255]]}},encryptBlock:function(r,e){this._doCryptBlock(r,e,this._keySchedule,u,h,p,l,f)},decryptBlock:function(r,e){var t=r[e+1];r[e+1]=r[e+3];r[e+3]=t;this._doCryptBlock(r,e,this._invKeySchedule,_,d,y,g,v);var t=r[e+1];r[e+1]=r[e+3];r[e+3]=t},_doCryptBlock:function(r,e,t,n,i,a,o,s){var c=this._nRounds;var v=r[e]^t[0];var f=r[e+1]^t[1];var u=r[e+2]^t[2];var h=r[e+3]^t[3];var p=4;for(var l=1;l<c;l++){var _=n[v>>>24]^i[f>>>16&255]^a[u>>>8&255]^o[h&255]^t[p++];var d=n[f>>>24]^i[u>>>16&255]^a[h>>>8&255]^o[v&255]^t[p++];var y=n[u>>>24]^i[h>>>16&255]^a[v>>>8&255]^o[f&255]^t[p++];var g=n[h>>>24]^i[v>>>16&255]^a[f>>>8&255]^o[u&255]^t[p++];v=_;f=d;u=y;h=g}var _=(s[v>>>24]<<24|s[f>>>16&255]<<16|s[u>>>8&255]<<8|s[h&255])^t[p++];var d=(s[f>>>24]<<24|s[u>>>16&255]<<16|s[h>>>8&255]<<8|s[v&255])^t[p++];var y=(s[u>>>24]<<24|s[h>>>16&255]<<16|s[v>>>8&255]<<8|s[f&255])^t[p++];var g=(s[h>>>24]<<24|s[v>>>16&255]<<16|s[f>>>8&255]<<8|s[u&255])^t[p++];r[e]=_;r[e+1]=d;r[e+2]=y;r[e+3]=g},keySize:256/32});r.AES=t._createHelper(i)}(),a.AES}(t(0),(t(10),t(11),t(5),t(1)))},function(r,e,t){r.exports=function(e){return e.mode.ECB=function(){var r=e.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(r,e){this._cipher.encryptBlock(r,e)}});r.Decryptor=r.extend({processBlock:function(r,e){this._cipher.decryptBlock(r,e)}});return r}(),e.mode.ECB}(t(0),t(1))},function(r,e,t){r.exports=function(r){return r.enc.Utf8}(t(0))},function(r,e,t){r.exports=function(o){return function(){var r=o;var e=r.lib;var t=e.Base;var f=e.WordArray;var n=r.algo;var i=n.MD5;var a=n.EvpKDF=t.extend({cfg:t.extend({keySize:128/32,hasher:i,iterations:1}),init:function(r){this.cfg=this.cfg.extend(r)},compute:function(r,e){var t=this.cfg;var n=t.hasher.create();var i=f.create();var a=i.words;var o=t.keySize;var s=t.iterations;while(a.length<o){if(c)n.update(c);var c=n.update(r).finalize(e);n.reset();for(var v=1;v<s;v++){c=n.finalize(c);n.reset()}i.concat(c)}i.sigBytes=o*4;return i}});r.EvpKDF=function(r,e,t){return a.create(t).compute(r,e)}}(),o.EvpKDF}(t(0),(t(12),t(13)))},function(r,e,t){r.exports=function(r){return r.pad.Pkcs7}(t(0),t(1))},function(r,e,t){r.exports=function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding}(t(0),t(1))},function(r,e,t){r.exports=function(a){return function(){if(typeof ArrayBuffer!="function")return;var r=a;var e=r.lib;var t=e.WordArray;var i=t.init;var n=t.init=function(r){if(r instanceof ArrayBuffer)r=new Uint8Array(r);if(r instanceof Int8Array||typeof Uint8ClampedArray!=="undefined"&&r instanceof Uint8ClampedArray||r instanceof Int16Array||r instanceof Uint16Array||r instanceof Int32Array||r instanceof Uint32Array||r instanceof Float32Array||r instanceof Float64Array)r=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);if(r instanceof Uint8Array){var e=r.byteLength;var t=[];for(var n=0;n<e;n++)t[n>>>2]|=r[n]<<24-n%4*8;i.call(this,t,e)}else i.apply(this,arguments)};n.prototype=t}(),a.lib.WordArray}(t(0))},function(r,e,t){"use strict";t.r(e);var e=t(2),o=t.n(e),e=t(3),s=t.n(e),e=t(6),c=t.n(e),e=t(7),v=t.n(e),e=t(8),f=t.n(e),e=t(4),u=t.n(e);function crc32(r,e){for(var t=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],n=("undefined"!=typeof Int32Array&&(t=new Int32Array(t)),-1^~~e),i=(r=new Uint8Array(r)).length,a=0;a<i;a++)n=t[255&(n^r[a])]^n>>>8;return(-1^n)>>>0}function dec2hex(r){if(void 0!==r)return function toEight(r){return r.length<8?toEight(r="0".concat(r)):r}(Number(r).toString(16))}self.onmessage=function(r){var r=r.data,e=r[0],t=r[1],n=r[2],i=r[3],a=r[4],r=r[5];i?(i=f.a.create(e),i=crc32(r=function wordArrayToUint8Array(r){for(var e=r.sigBytes,t=r.words,n=new Uint8Array(e),i=0,a=0;i!==e;){var o=t[a++];if(n[i++]=(4278190080&o)>>>24,i===e)break;if(n[i++]=(16711680&o)>>>16,i===e)break;if(n[i++]=(65280&o)>>>8,i===e)break;n[i++]=255&o}return n}((r&&e.byteLength%16!=0?o.a.encrypt(i,u.a.parse(a),{mode:s.a,padding:c.a}):o.a.encrypt(i,u.a.parse(a),{mode:s.a,padding:v.a})).ciphertext),0),postMessage([r.buffer,dec2hex(i),t,n],[r.buffer])):(a=crc32(e,0),postMessage([e,dec2hex(a),t,n],[e]))}},function(r,e,t){r.exports=function(i){return function(){var r=i;var e=r.lib;var c=e.WordArray;var t=r.enc;var n=t.Base64={stringify:function(r){var e=r.words;var t=r.sigBytes;var n=this._map;r.clamp();var i=[];for(var a=0;a<t;a+=3){var o=e[a>>>2]>>>24-a%4*8&255;var s=e[a+1>>>2]>>>24-(a+1)%4*8&255;var c=e[a+2>>>2]>>>24-(a+2)%4*8&255;var v=o<<16|s<<8|c;for(var f=0;f<4&&a+f*.75<t;f++)i.push(n.charAt(v>>>6*(3-f)&63))}var u=n.charAt(64);if(u)while(i.length%4)i.push(u);return i.join("")},parse:function(r){var e=r.length;var t=this._map;var n=this._reverseMap;if(!n){n=this._reverseMap=[];for(var i=0;i<t.length;i++)n[t.charCodeAt(i)]=i}var a=t.charAt(64);if(a){var o=r.indexOf(a);if(o!==-1)e=o}return parseLoop(r,e,n)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function parseLoop(r,e,t){var n=[];var i=0;for(var a=0;a<e;a++)if(a%4){var o=t[r.charCodeAt(a-1)]<<a%4*2;var s=t[r.charCodeAt(a)]>>>6-a%4*2;n[i>>>2]|=(o|s)<<24-i%4*8;i++}return c.create(n,i)}}(),i.enc.Base64}(t(0))},function(r,e,t){r.exports=function(o){return function(f){var r=o;var e=r.lib;var t=e.WordArray;var n=e.Hasher;var i=r.algo;var F=[];(function(){for(var r=0;r<64;r++)F[r]=f.abs(f.sin(r+1))*4294967296|0})();var a=i.MD5=n.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(r,e){for(var t=0;t<16;t++){var n=e+t;var i=r[n];r[n]=(i<<8|i>>>24)&16711935|(i<<24|i>>>8)&4278255360}var a=this._hash.words;var o=r[e+0];var s=r[e+1];var c=r[e+2];var v=r[e+3];var f=r[e+4];var u=r[e+5];var h=r[e+6];var p=r[e+7];var l=r[e+8];var _=r[e+9];var d=r[e+10];var y=r[e+11];var g=r[e+12];var k=r[e+13];var x=r[e+14];var B=r[e+15];var m=a[0];var w=a[1];var b=a[2];var S=a[3];m=FF(m,w,b,S,o,7,F[0]);S=FF(S,m,w,b,s,12,F[1]);b=FF(b,S,m,w,c,17,F[2]);w=FF(w,b,S,m,v,22,F[3]);m=FF(m,w,b,S,f,7,F[4]);S=FF(S,m,w,b,u,12,F[5]);b=FF(b,S,m,w,h,17,F[6]);w=FF(w,b,S,m,p,22,F[7]);m=FF(m,w,b,S,l,7,F[8]);S=FF(S,m,w,b,_,12,F[9]);b=FF(b,S,m,w,d,17,F[10]);w=FF(w,b,S,m,y,22,F[11]);m=FF(m,w,b,S,g,7,F[12]);S=FF(S,m,w,b,k,12,F[13]);b=FF(b,S,m,w,x,17,F[14]);w=FF(w,b,S,m,B,22,F[15]);m=GG(m,w,b,S,s,5,F[16]);S=GG(S,m,w,b,h,9,F[17]);b=GG(b,S,m,w,y,14,F[18]);w=GG(w,b,S,m,o,20,F[19]);m=GG(m,w,b,S,u,5,F[20]);S=GG(S,m,w,b,d,9,F[21]);b=GG(b,S,m,w,B,14,F[22]);w=GG(w,b,S,m,f,20,F[23]);m=GG(m,w,b,S,_,5,F[24]);S=GG(S,m,w,b,x,9,F[25]);b=GG(b,S,m,w,v,14,F[26]);w=GG(w,b,S,m,l,20,F[27]);m=GG(m,w,b,S,k,5,F[28]);S=GG(S,m,w,b,c,9,F[29]);b=GG(b,S,m,w,p,14,F[30]);w=GG(w,b,S,m,g,20,F[31]);m=HH(m,w,b,S,u,4,F[32]);S=HH(S,m,w,b,l,11,F[33]);b=HH(b,S,m,w,y,16,F[34]);w=HH(w,b,S,m,x,23,F[35]);m=HH(m,w,b,S,s,4,F[36]);S=HH(S,m,w,b,f,11,F[37]);b=HH(b,S,m,w,p,16,F[38]);w=HH(w,b,S,m,d,23,F[39]);m=HH(m,w,b,S,k,4,F[40]);S=HH(S,m,w,b,o,11,F[41]);b=HH(b,S,m,w,v,16,F[42]);w=HH(w,b,S,m,h,23,F[43]);m=HH(m,w,b,S,_,4,F[44]);S=HH(S,m,w,b,g,11,F[45]);b=HH(b,S,m,w,B,16,F[46]);w=HH(w,b,S,m,c,23,F[47]);m=II(m,w,b,S,o,6,F[48]);S=II(S,m,w,b,p,10,F[49]);b=II(b,S,m,w,x,15,F[50]);w=II(w,b,S,m,u,21,F[51]);m=II(m,w,b,S,g,6,F[52]);S=II(S,m,w,b,v,10,F[53]);b=II(b,S,m,w,d,15,F[54]);w=II(w,b,S,m,s,21,F[55]);m=II(m,w,b,S,l,6,F[56]);S=II(S,m,w,b,B,10,F[57]);b=II(b,S,m,w,h,15,F[58]);w=II(w,b,S,m,k,21,F[59]);m=II(m,w,b,S,f,6,F[60]);S=II(S,m,w,b,y,10,F[61]);b=II(b,S,m,w,c,15,F[62]);w=II(w,b,S,m,_,21,F[63]);a[0]=a[0]+m|0;a[1]=a[1]+w|0;a[2]=a[2]+b|0;a[3]=a[3]+S|0},_doFinalize:function(){var r=this._data;var e=r.words;var t=this._nDataBytes*8;var n=r.sigBytes*8;e[n>>>5]|=128<<24-n%32;var i=f.floor(t/4294967296);var a=t;e[(n+64>>>9<<4)+15]=(i<<8|i>>>24)&16711935|(i<<24|i>>>8)&4278255360;e[(n+64>>>9<<4)+14]=(a<<8|a>>>24)&16711935|(a<<24|a>>>8)&4278255360;r.sigBytes=(e.length+1)*4;this._process();var o=this._hash;var s=o.words;for(var c=0;c<4;c++){var v=s[c];s[c]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360}return o},clone:function(){var r=n.clone.call(this);r._hash=this._hash.clone();return r}});function FF(r,e,t,n,i,a,o){var s=r+(e&t|~e&n)+i+o;return(s<<a|s>>>32-a)+e}function GG(r,e,t,n,i,a,o){var s=r+(e&n|t&~n)+i+o;return(s<<a|s>>>32-a)+e}function HH(r,e,t,n,i,a,o){var s=r+(e^t^n)+i+o;return(s<<a|s>>>32-a)+e}function II(r,e,t,n,i,a,o){var s=r+(t^(e|~n))+i+o;return(s<<a|s>>>32-a)+e}r.MD5=n._createHelper(a);r.HmacMD5=n._createHmacHelper(a)}(Math),o.MD5}(t(0))},function(r,e,t){r.exports=function(o){return function(){var r=o;var e=r.lib;var t=e.WordArray;var n=e.Hasher;var i=r.algo;var u=[];var a=i.SHA1=n.extend({_doReset:function(){this._hash=new t.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(r,e){var t=this._hash.words;var n=t[0];var i=t[1];var a=t[2];var o=t[3];var s=t[4];for(var c=0;c<80;c++){if(c<16)u[c]=r[e+c]|0;else{var v=u[c-3]^u[c-8]^u[c-14]^u[c-16];u[c]=v<<1|v>>>31}var f=(n<<5|n>>>27)+s+u[c];if(c<20)f+=(i&a|~i&o)+1518500249;else if(c<40)f+=(i^a^o)+1859775393;else if(c<60)f+=(i&a|i&o|a&o)-1894007588;else f+=(i^a^o)-899497514;s=o;o=a;a=i<<30|i>>>2;i=n;n=f}t[0]=t[0]+n|0;t[1]=t[1]+i|0;t[2]=t[2]+a|0;t[3]=t[3]+o|0;t[4]=t[4]+s|0},_doFinalize:function(){var r=this._data;var e=r.words;var t=this._nDataBytes*8;var n=r.sigBytes*8;e[n>>>5]|=128<<24-n%32;e[(n+64>>>9<<4)+14]=Math.floor(t/4294967296);e[(n+64>>>9<<4)+15]=t;r.sigBytes=e.length*4;this._process();return this._hash},clone:function(){var r=n.clone.call(this);r._hash=this._hash.clone();return r}});r.SHA1=n._createHelper(a);r.HmacSHA1=n._createHmacHelper(a)}(),o.SHA1}(t(0))},function(r,e,t){r.exports=function(o){(function(){var r=o;var e=r.lib;var t=e.Base;var n=r.enc;var v=n.Utf8;var i=r.algo;var a=i.HMAC=t.extend({init:function(r,e){r=this._hasher=new r.init;if(typeof e=="string")e=v.parse(e);var t=r.blockSize;var n=t*4;if(e.sigBytes>n)e=r.finalize(e);e.clamp();var i=this._oKey=e.clone();var a=this._iKey=e.clone();var o=i.words;var s=a.words;for(var c=0;c<t;c++){o[c]^=1549556828;s[c]^=909522486}i.sigBytes=a.sigBytes=n;this.reset()},reset:function(){var r=this._hasher;r.reset();r.update(this._iKey)},update:function(r){this._hasher.update(r);return this},finalize:function(r){var e=this._hasher;var t=e.finalize(r);e.reset();var n=e.finalize(this._oKey.clone().concat(t));return n}})})()}(t(0))}]);',null)}},function(e,t,r){e.exports=function(){var e=e||function(e,t){var r=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),n={},i=n.lib={},o=i.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},s=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var s=r[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=s<<24-(n+o)%4*8}else for(o=0;o<i;o+=4)t[n+o>>>2]=r[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r,n=[],i=function(t){var r=987654321,n=4294967295;return function(){var i=((r=36969*(65535&r)+(r>>16)&n)<<16)+(t=18e3*(65535&t)+(t>>16)&n)&n;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var a=i(4294967296*(r||e.random()));r=987654071*a(),n.push(4294967296*a()|0)}return new s.init(n,t)}}),a=n.enc={},c=a.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new s.init(r,t/2)}},l=a.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new s.init(r,t)}},u=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},d=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,i=r.sigBytes,o=this.blockSize,a=i/(4*o),c=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*o,l=e.min(4*c,i);if(c){for(var u=0;u<c;u+=o)this._doProcessBlock(n,u);var d=n.splice(0,c);r.sigBytes-=l}return new s.init(d,l)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),h=(i.Hasher=d.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new h.HMAC.init(e,r).finalize(t)}}}),n.algo={});return n}(Math);return e}()},function(e,t,r){var n;e.exports=(n=r(3),function(e){var t=n,r=t.lib,i=r.WordArray,o=r.Hasher,s=t.algo,a=[],c=[];!function(){function t(t){for(var r=e.sqrt(t),n=2;n<=r;n++)if(!(t%n))return!1;return!0}function r(e){return 4294967296*(e-(0|e))|0}for(var n=2,i=0;i<64;)t(n)&&(i<8&&(a[i]=r(e.pow(n,.5))),c[i]=r(e.pow(n,1/3)),i++),n++}();var l=[],u=s.SHA256=o.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],s=r[3],a=r[4],u=r[5],d=r[6],h=r[7],p=0;p<64;p++){if(p<16)l[p]=0|e[t+p];else{var f=l[p-15],g=(f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3,m=l[p-2],y=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;l[p]=g+l[p-7]+y+l[p-16]}var v=n&i^n&o^i&o,b=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),_=h+((a<<26|a>>>6)^(a<<21|a>>>11)^(a<<7|a>>>25))+(a&u^~a&d)+c[p]+l[p];h=d,d=u,u=a,a=s+_|0,s=o,o=i,i=n,n=_+(b+v)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+s|0,r[4]=r[4]+a|0,r[5]=r[5]+u|0,r[6]=r[6]+d|0,r[7]=r[7]+h|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=e.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(u),t.HmacSHA256=o._createHmacHelper(u)}(Math),n.SHA256)},function(e,t,r){e.exports=function(e){return e.HmacSHA256}(r(3),(r(4),r(6)))},function(e,t,r){var n;e.exports=(n=r(3),void function(){var e=n,t=e.lib.Base,r=e.enc.Utf8;e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=r.parse(t));var n=e.blockSize,i=4*n;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),s=this._iKey=t.clone(),a=o.words,c=s.words,l=0;l<n;l++)a[l]^=1549556828,c[l]^=909522486;o.sigBytes=s.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})}())},function(e,t){var r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";var n=window.URL||window.webkitURL;e.exports=function(t,r){try{try{var i;try{(i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(t),i=i.getBlob()}catch(e){i=new Blob([t])}return new Worker(n.createObjectURL(i))}catch(e){return new Worker("data:application/javascript,"+encodeURIComponent(t))}}catch(e){if(r)return new Worker(r);throw Error("Inline worker is not supported")}}},function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return Pr})),t=r(0);var n=r.n(t),i="{tosDomain}/upload/v1/{oid}?uploadid={uploadId}&part_number={part_number}&phase=transfer",o="{tosDomain}/upload/v1/{oid}",s={debug:!1,region:"us-east-1",external:{},getSliceFunc:null,uploadSliceCount:3,retryUploadTime:2,retryProcess:!0,retryProcessTime:3,retryTaskTime:2,progressMonitorTime:10,progressMonitorSpeed:50,schema:"https",replace:{}},a=function(){return(a=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function c(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,i,o=r.call(e),s=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)s.push(n.value)}catch(e){i={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(i)throw i.error}}return s}(arguments[t]));return e}function l(e){return null!=e&&"[object Object]"==Object.prototype.toString.call(e)}function u(e){return function(e){if("string"==typeof e){for(var t=[],r=String.fromCharCode(122),n=e.split(r),i=0;i<n.length;i++){var o=64^+parseInt(n[i],25);o=String.fromCharCode(o),t.push(o)}return t.join("")}}(e)}function d(e){var t=document.createElement("a");return t.href=e,t}function h(e){var t={};try{d(e).search.slice(1).split("&").forEach((function(e){var r,n,i=e.split("=");i.length&&(r=i[0],n=i[1]);try{t[r]=decodeURIComponent(void 0===n?"":n)}catch(e){t[r]=n}}))}catch(e){}return t}function p(e){for(var t=0,r=0,n=(e+="").length,i=0;i<n;i++)(0x7fffffffffff<(t=31*t+e.charCodeAt(r++))||t<-0x800000000000)&&(t&=0xffffffffffff);return t<0&&(t+=0x7ffffffffffff),t}function f(e,t){try{return b.get(e,{domain:t||document.domain})}catch(e){return""}}function g(e,t,r,n){try{var i=n||document.domain,o=+new Date+(r||6048e5);b.set(e,t,{expires:new Date(o),path:"/",domain:i})}catch(e){}}var m,y,v=function(){function e(){this._hooks={},this._cache=[],this._hooksCache={}}return e.prototype.on=function(e,t){e&&t&&"function"==typeof t&&(this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t))},e.prototype.once=function(e,t){var r=this;e&&t&&"function"==typeof t&&this.on(e,(function n(i){t(i),r.off(e,n)}))},e.prototype.off=function(e,t){e&&this._hooks[e]&&this._hooks[e].length&&(t?-1!==(t=this._hooks[e].indexOf(t))&&this._hooks[e].splice(t,1):this._hooks[e]=[])},e.prototype.emit=function(e,t,r){r?e&&(-1!==this._cache.indexOf(r)?this._emit(e,t):(this._hooksCache.hasOwnProperty(r)||(this._hooksCache[r]={}),this._hooksCache[r].hasOwnProperty(e)||(this._hooksCache[r][e]=[]),this._hooksCache[r][e].push(t))):this._emit(e,t)},e.prototype._emit=function(e,t){e&&this._hooks[e]&&this._hooks[e].length&&c(this._hooks[e]).forEach((function(e){try{e(t)}catch(e){}}))},e.prototype.set=function(e){e&&-1===this._cache.indexOf(e)&&this._cache.push(e)},e}(),b=(m=+Date.now()+Number((""+Math.random()).slice(2,8)),(t={exports:{}}).exports=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r,n=arguments[e];for(r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function i(){}function o(t,r,o){if("undefined"!=typeof document){"number"==typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(+new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var s=JSON.stringify(r);/^[\{\[]/.test(s)&&(r=s)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a,c="";for(a in o)o[a]&&(c+="; "+a,!0!==o[a])&&(c+="="+o[a].split(";")[0]);return document.cookie=t+"="+r+c}}function s(e,r){if("undefined"!=typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],s=0;s<o.length;s++){var a=o[s].split("="),c=a.slice(1).join("=");r||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(a[0]);if(c=(n.read||n)(c,l)||t(c),r)try{c=JSON.parse(c)}catch(e){}if(i[l]=c,e===l)break}catch(e){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return s(e,!1)},i.getJSON=function(e){return s(e,!0)},i.remove=function(t,r){o(t,"",e(r,{expires:-1}))},i.defaults={},i.withConverter=r,i}((function(){}))}(),t.exports),_=function(){function e(){this.cache={}}return e.prototype.setItem=function(e,t){this.cache[e]=t},e.prototype.getItem=function(e){return this.cache[e]},e.prototype.removeItem=function(e){this.cache[e]=void 0},e.prototype.getCookie=function(e,t){return f(e,t)},e.prototype.setCookie=function(e,t,r,n){g(e,t,r,n)},e}(),w={getItem:function(e){try{var t=localStorage.getItem(e),r=t;try{t&&"string"==typeof t&&(r=JSON.parse(t))}catch(e){}return r||{}}catch(e){}return{}},setItem:function(e,t){try{var r="string"==typeof t?t:JSON.stringify(t);localStorage.setItem(e,r)}catch(e){}},removeItem:function(e){try{localStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return f(e,t)},setCookie:function(e,t,r,n){g(e,t,r,n)},isSupportLS:function(){try{return localStorage.setItem("_ranger-test-key","hi"),localStorage.getItem("_ranger-test-key"),localStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},S={getItem:function(e){try{var t=sessionStorage.getItem(e),r=t;try{t&&"string"==typeof t&&(r=JSON.parse(t))}catch(e){}return r||{}}catch(e){}return{}},setItem:function(e,t){try{var r="string"==typeof t?t:JSON.stringify(t);sessionStorage.setItem(e,r)}catch(e){}},removeItem:function(e){try{sessionStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return f(e,t)},setCookie:function(e,t,r,n){g(e,t,r,n)},isSupportSession:function(){try{return sessionStorage.setItem("_ranger-test-key","hi"),sessionStorage.getItem("_ranger-test-key"),sessionStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},O=function(){function e(e,t){this._storage=t&&"session"===t?S:!e&&w.isSupportLS?w:new _}return e.prototype.getItem=function(e){return this._storage.getItem(e)},e.prototype.setItem=function(e,t){this._storage.setItem(e,t)},e.prototype.getCookie=function(e,t){return this._storage.getCookie(e,t)},e.prototype.setCookie=function(e,t,r,n){this._storage.setCookie(e,t,r,n)},e.prototype.removeItem=function(e){this._storage.removeItem(e)},e}(),E=function(){function e(e,t,r){this.appid=e,this.domain=t,this.userAgent=window.navigator.userAgent,this.appVersion=window.navigator.appVersion,this.cookie_expire=r}return e.prototype.init=function(){var e=window.navigator.userAgent,t=window.navigator.language,r=document.referrer,n=r?d(r).hostname:"",i=h(window.location.href),o=/Mobile|htc|mini|Android|iP(ad|od|hone)/.test(this.appVersion)?"wap":"web",s=(this.utm=function(e,t,r,n){var i=new O(!1),o=new O(!1,"session"),s=e?"_tea_utm_cache_"+e:"_tea_utm_cache",a=e?"_$utm_from_url_"+e:"_$utm_from_url",c={},l=["tr_shareuser","tr_admaster","tr_param1","tr_param2","tr_param3","tr_param4","$utm_from_url"],u={ad_id:Number(t.ad_id)||void 0,campaign_id:Number(t.campaign_id)||void 0,creative_id:Number(t.creative_id)||void 0,utm_source:t.utm_source,utm_medium:t.utm_medium,utm_campaign:t.utm_campaign,utm_term:t.utm_term,utm_content:t.utm_content,tr_shareuser:t.tr_shareuser,tr_admaster:t.tr_admaster,tr_param1:t.tr_param1,tr_param2:t.tr_param2,tr_param3:t.tr_param3,tr_param4:t.tr_param4};try{var d,h,p=!1;for(d in u)u[d]&&(-1!==l.indexOf(d)?(c.hasOwnProperty("tracer_data")||(c.tracer_data={}),c.tracer_data[d]=u[d]):c[d]=u[d],p=!0);p?(o.setItem(a,"1"),i.setCookie(s,JSON.stringify(c),n,r)):(h=i.getCookie(s,r))&&(c=JSON.parse(h)),o.getItem(a)&&(c.hasOwnProperty("tracer_data")||(c.tracer_data={}),c.tracer_data.$utm_from_url=1)}catch(e){return u}return c}(this.appid,i,this.domain,this.cookie_expire),i=this.browser(),this.os());return{browser:i.browser,browser_version:i.browser_version,platform:o,os_name:s.os_name,os_version:s.os_version,userAgent:e,screen_width:window.screen&&window.screen.width,screen_height:window.screen&&window.screen.height,device_model:this.getDeviceModel(s.os_name),language:t,referrer:r,referrer_host:n,utm:this.utm,latest_data:this.last(r,n)}},e.prototype.last=function(e,t){var r="",n="",i="",o=location.hostname,s=!1;return e&&t&&o!==t&&(n=t,s=!0,(o=h(r=e)).keyword)&&(i=o.keyword),{$latest_referrer:r,$latest_referrer_host:n,$latest_search_keyword:i,isLast:s}},e.prototype.browser=function(){var e,t="",r=""+parseFloat(this.appVersion),n=this.userAgent;return-1!==n.indexOf("Edge")||-1!==n.indexOf("Edg")?(t="Microsoft Edge",r=-1!==n.indexOf("Edge")?(e=n.indexOf("Edge"),n.substring(e+5)):(e=n.indexOf("Edg"),n.substring(e+4))):-1!==(e=n.indexOf("MSIE"))?(t="Microsoft Internet Explorer",r=n.substring(e+5)):-1!==(e=n.indexOf("Lark"))?(t="Lark",r=n.substring(e+5,e+11)):-1!==n.indexOf("Chrome")?-1!==(e=n.indexOf("TTWebView"))?(t="TTWebView",r=n.substring(e+10,e+23)):-1===(e=n.indexOf("Chrome"))&&-1===(e=n.indexOf("Chrome"))||(t="Chrome",r=n.substring(e+7)):-1!==n.indexOf("Safari")?-1!==(e=n.indexOf("Safari"))&&(t="Safari",r=n.substring(e+7),-1!==(e=n.indexOf("Version")))&&(r=n.substring(e+8)):-1!==(e=n.indexOf("Firefox"))&&(t="Firefox",r=n.substring(e+8)),{browser:t,browser_version:r=-1!==(n=(r=-1!==(n=(r=-1!==(n=r.indexOf(";"))?r.substring(0,n):r).indexOf(" "))?r.substring(0,n):r).indexOf(")"))?r.substring(0,n):r}},e.prototype.os=function(){for(var e="",t="",r=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0|Windows NT 10.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Android",r:/Android/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/}],n=0;n<r.length;n++){var i=r[n];if(i.r.test(this.userAgent)){"Mac OS X"===(e=i.s)&&this.isNewIpad()&&(e="iOS");break}}function o(e,t){return(e=e.exec(t))&&e[1]?e[1]:""}function s(e,t){return(e=RegExp("(?:^|[^A-Z0-9-_]|[^A-Z0-9-]_|sprd-)(?:"+e+")","i").exec(t))?e.slice(1)[0]:""}var a;switch(/Windows/.test(e)&&(t=o(/Windows (.*)/,e),e="windows"),e){case"Mac OS X":t=s("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent),e="mac";break;case"Android":t=o(/Android ([\.\_\d]+)/,a=this.userAgent)||o(/Android\/([\.\_\d]+)/,a),e="android";break;case"iOS":t=this.isNewIpad()?s("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent):(t=/OS (\d+)_(\d+)_?(\d+)?/.exec(this.appVersion))?t[1]+"."+t[2]+"."+(0|t[3]):"",e="ios"}return{os_name:e,os_version:t}},e.prototype.getDeviceModel=function(e){var t,r,n="";try{"android"===e?navigator.userAgent.split(";").forEach((function(e){-1<e.indexOf("Build/")&&(n=e.slice(0,e.indexOf("Build/")))})):"ios"!==e&&"mac"!==e&&"windows"!==e||(n=this.isNewIpad()?"iPad":(r=(t=navigator.userAgent.replace("Mozilla/5.0 (","")).indexOf(";"),t.slice(0,r)))}catch(e){}return n.trim()},e.prototype.isNewIpad=function(){return void 0!==this.userAgent&&"MacIntel"===navigator.platform&&"number"==typeof navigator.maxTouchPoints&&1<navigator.maxTouchPoints},e}(),C={sg:"1fz22z22z1nz21z4mz4bz4bz21z1ez18z1jz1gz49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz18z1jz1gz24z18z49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k"},x={va:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",in:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k"},T={sg:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z21z1ez4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z24z18z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",in:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z24z18z49z23z21z1cz18z21z22z4ez18z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k"},k={sg:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az23z21z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az23z21z4az22z1gz1iz22z1mz1iz4az1az1mz1k"},I="5.0.37_oversea",P=function(){function e(e,t){this.collector=e,this.config=t,this.eventNameWhiteList=["__bav_page","__bav_beat","__bav_page_statistics","__bav_click","__bav_page_exposure"],this.paramsNameWhiteList=["$inactive","$inline","$target_uuid_list","$source_uuid","$is_spider","$source_id","$is_first_time","_staging_flag"],this.regStr=new RegExp("^[a-zA-Z0-9][a-z0-9A-Z_.-]{1,255}$")}return e.prototype.checkVerify=function(e){var t,r,n,i=this;return!!(e&&e.length&&(e=e[0])&&(t=e.events,r=e.header,t)&&t.length)&&(n=!0,t.forEach((function(e){e?(i.checkEventName(e.event)||(n=!1,e.checkEvent="\u4e8b\u4ef6\u540d\u4e0d\u80fd\u4ee5 $ or __\u5f00\u5934"),i.checkEventParams(e.params)||(n=!1,e.checkParams="\u5c5e\u6027\u540d\u4e0d\u80fd\u4ee5 $ or __\u5f00\u5934")):(n=!1,e.checkEvent="\u4e8b\u4ef6\u5f02\u5e38")})),n=!!this.checkEventParams(r)&&n)},e.prototype.checkEventName=function(e){return!!e&&this.calculate(e,"event")},e.prototype.checkEventParams=function(e){var t=e;if("string"==typeof e&&(t=JSON.parse(t)),Object.keys(t).length)for(var r in t)return!(!this.calculate(r,"params")||"string"==typeof t[r]&&1024<t[r].length&&(console.warn("params: "+r+" can not over 1024 byte, please check;"),1));return!0},e.prototype.calculate=function(e,t){return-1!==("event"===t?this.eventNameWhiteList:this.paramsNameWhiteList).indexOf(e)||!new RegExp("^\\$").test(e)&&!new RegExp("^__").test(e)||(console.warn(("event"===t?"event":"params")+" name: "+e+" can not start with $ or __, pleace check;"),!1)},e}(),j=(function(e){e.Init="init",e.Config="config",e.Start="start",e.Ready="ready",e.TokenComplete="token-complete",e.TokenStorage="token-storage",e.TokenFetch="token-fetch",e.TokenError="token-error",e.ConfigUuid="config-uuid",e.ConfigWebId="config-webid",e.ConfigDomain="config-domain",e.CustomWebId="custom-webid",e.TokenChange="token-change",e.TokenReset="token-reset",e.ConfigTransform="config-transform",e.EnvTransform="env-transform",e.SessionReset="session-reset",e.SessionResetTime="session-reset-time",e.Event="event",e.Events="events",e.EventNow="event-now",e.CleanEvents="clean-events",e.BeconEvent="becon-event",e.SubmitBefore="submit-before",e.SubmitScuess="submit-scuess",e.SubmitAfter="submit-after",e.SubmitError="submit-error",e.SubmitVerify="submit-verify",e.Stay="stay",e.ResetStay="reset-stay",e.StayReady="stay-ready",e.SetStay="set-stay",e.RouteChange="route-change",e.RouteReady="route-ready",e.Ab="ab",e.AbVar="ab-var",e.AbAllVars="ab-all-vars",e.AbConfig="ab-config",e.AbExternalVersion="ab-external-version",e.AbVersionChangeOn="ab-version-change-on",e.AbVersionChangeOff="ab-version-change-off",e.AbOpenLayer="ab-open-layer",e.AbCloseLayer="ab-close-layer",e.AbReady="ab-ready",e.AbComplete="ab-complete",e.AbTimeout="ab-timeout",e.Profile="profile",e.ProfileSet="profile-set",e.ProfileSetOnce="profile-set-once",e.ProfileUnset="profile-unset",e.ProfileIncrement="profile-increment",e.ProfileAppend="profile-append",e.ProfileClear="profile-clear",e.Autotrack="autotrack",e.AutotrackReady="autotrack-ready",e.CepReady="cep-ready",e.TracerReady="tracer-ready",e.sessionRecord="session-record",e.SessionRecordStart="session-record-start",e.SessionRecordPause="session-record-pause",e.SessionRecordEnd="session-record-end",e.SessionRecordReport="session-record-report"}(Y=Y||{}),function(e){e.DEBUGGER_MESSAGE="debugger-message",e.DEBUGGER_MESSAGE_SDK="debugger-message-sdk",e.DEBUGGER_MESSAGE_FETCH="debugger-message-fetch",e.DEBUGGER_MESSAGE_FETCH_RESULT="debugger-message-fetch-result",e.DEBUGGER_MESSAGE_EVENT="debugger-message-event",e.DEVTOOL_WEB_READY="devtool-web-ready"}(y=y||{}),Y),D=void 0,A=(t=(new Date).getTimezoneOffset(),parseInt(""+-t/60,10)),R=60*t,M=function(){function e(e,t){this.is_first_time=!0,this.configPersist=!1,this.initConfig=t,this.collect=e;var r=new E(t.app_id,t.cookie_domain||"",t.cookie_expire||6048e5).init();this.eventCheck=new P(e,t),e="__tea_cache_first_"+t.app_id,this.configKey="__tea_cache_config_"+t.app_id,this.sessionStorage=new O(!1,"session"),this.localStorage=new O(!1,"local"),this.channelUrl="tcpy"===t.channel_type||"ttp"===t.channel_type?{WEBID_URL:"/v1/user/webid",TOB_URL:"",REPORT_URL:"/v1/list"}:{WEBID_URL:"/webid",TOB_URL:"/tobid",REPORT_URL:"/list"},t.configPersist&&(this.configPersist=!0,this.storage=1===t.configPersist?this.sessionStorage:this.localStorage),(t=this.localStorage.getItem(e))&&1==t?this.is_first_time=!1:(this.is_first_time=!0,this.localStorage.setItem(e,"1")),this.envInfo={user:{user_unique_id:D,user_type:D,user_id:D,user_is_auth:D,user_is_login:D,device_id:D,web_id:D,ip_addr_id:D,user_unique_id_type:D},header:{app_id:D,app_name:D,app_install_id:D,install_id:D,app_package:D,app_channel:D,app_version:D,ab_version:D,os_name:r.os_name,os_version:r.os_version,device_model:r.device_model,ab_client:D,traffic_type:D,client_ip:D,device_brand:D,os_api:D,access:D,language:r.language,region:D,app_language:D,app_region:D,creative_id:r.utm.creative_id,ad_id:r.utm.ad_id,campaign_id:r.utm.campaign_id,log_type:D,rnd:D,platform:r.platform,sdk_version:I,sdk_lib:"js",province:D,city:D,timezone:A,tz_offset:R,tz_name:D,sim_region:D,carrier:D,resolution:r.screen_width+"x"+r.screen_height,browser:r.browser,browser_version:r.browser_version,referrer:r.referrer,referrer_host:r.referrer_host,width:r.screen_width,height:r.screen_height,screen_width:r.screen_width,screen_height:r.screen_height,utm_term:r.utm.utm_term,utm_content:r.utm.utm_content,utm_source:r.utm.utm_source,utm_medium:r.utm.utm_medium,utm_campaign:r.utm.utm_campaign,tracer_data:JSON.stringify(r.utm.tracer_data),custom:{},wechat_unionid:D,wechat_openid:D}},this.ab_version="",this.ab_uuid_cache={},this.evtParams={},this.reportErrorCallback=function(){},this.isLast=!1,this.setCustom(r),this.initDomain(),this.initABData()}return e.prototype.initDomain=function(e){var t=this.initConfig.channel_domain;t?this.domain=t:(t=e||this.initConfig.channel,e=(this.initConfig&&this.initConfig.channel_type?"tcpy"===this.initConfig.channel_type?T:k:C)[t],this.domain=u(e))},e.prototype.setDomain=function(e){this.customDomain=!0,this.domain=e},e.prototype.getDomain=function(e){return this.customDomain||e&&this.initDomain(e),this.domain},e.prototype.initABData=function(){var e,t,r="__tea_sdk_ab_version_"+this.initConfig.app_id;t=this.initConfig.ab_cross?(e=this.localStorage.getCookie(r,this.initConfig.ab_cookie_domain))?JSON.parse(e):null:this.localStorage.getItem(r),this.setAbCache(t)},e.prototype.setAbCache=function(e){this.ab_cache=e},e.prototype.getAbCache=function(){return this.ab_cache},e.prototype.clearAbCache=function(){this.ab_cache={},this.ab_version=""},e.prototype.setAbVersion=function(e){this.ab_version=e},e.prototype.getAbVersion=function(){return this.ab_version},e.prototype.setAbUuidCache=function(e,t){t=t||this.envInfo.user.user_unique_id,this.ab_uuid_cache[""+t]||(this.ab_uuid_cache[""+t]=[]),-1===this.ab_uuid_cache[""+t].indexOf(e)&&this.ab_uuid_cache[""+t].push(e)},e.prototype.getAbUuidCache=function(e){return this.ab_uuid_cache[""+e]},e.prototype.getUrl=function(e){var t="";switch(e){case"event":t=this.initConfig.report_url||this.channelUrl.REPORT_URL;break;case"webid":t=this.channelUrl.WEBID_URL;break;case"tobid":t=this.channelUrl.TOB_URL}return e="",this.initConfig.caller&&(e="?sdk_version="+I+"&sdk_name=web&app_id="+this.initConfig.app_id+"&caller="+this.initConfig.caller),""+this.getDomain()+t+e},e.prototype.setCustom=function(e){if(e&&e.latest_data&&e.latest_data.isLast)for(var t in delete e.latest_data.isLast,this.isLast=!0,e.latest_data)this.envInfo.header.custom[t]=e.latest_data[t]},e.prototype.setAppid=function(e){this.envInfo.header.app_id=e},e.prototype.set=function(e){var t=this;Object.keys(e).forEach((function(r){void 0!==e[r]&&null!==e[r]||t.delete(r);try{t.eventCheck.calculate(r,"config")}catch(r){}var n,i,o;"traffic_type"===r&&t.isLast&&(t.envInfo.header.custom.$latest_traffic_source_type=e[r]),"evtParams"===r?t.evtParams=a({},t.evtParams||{},e.evtParams||{}):"_staging_flag"===r?t.evtParams=a({},t.evtParams||{},{_staging_flag:e._staging_flag}):"reportErrorCallback"===r&&"function"==typeof e[r]?t.reportErrorCallback=e[r]:(o=i="",-1<r.indexOf(".")&&(i=(n=r.split("."))[0],o=n[1]),i?"user"===i||"header"===i?t.envInfo[i][o]=e[r]:t.envInfo.header.custom[o]=e[r]:Object.hasOwnProperty.call(t.envInfo.user,r)?-1<["user_type","ip_addr_id"].indexOf(r)?t.envInfo.user[r]=e[r]&&Number(e[r]):-1<["user_id","web_id","user_unique_id","user_unique_id_type"].indexOf(r)?t.envInfo.user[r]=e[r]&&String(e[r]):-1<["user_is_auth","user_is_login"].indexOf(r)?t.envInfo.user[r]=Boolean(e[r]):"device_id"===r&&(t.envInfo.user[r]=e[r]):Object.hasOwnProperty.call(t.envInfo.header,r)?t.envInfo.header[r]=e[r]:t.envInfo.header.custom[r]=e[r])}))},e.prototype.get=function(e){try{return e?"evtParams"===e?this.evtParams:"reportErrorCallback"===e?this[e]:Object.hasOwnProperty.call(this.envInfo.user,e)?this.envInfo.user[e]:Object.hasOwnProperty.call(this.envInfo.header,e)?this.envInfo.header[e]:JSON.parse(JSON.stringify(this.envInfo[e])):JSON.parse(JSON.stringify(this.envInfo))}catch(e){console.log("get config stringify error "),this.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}},e.prototype.setStore=function(e){try{var t,r;this.configPersist&&(t=this.storage.getItem(this.configKey)||{})&&Object.keys(e).length&&(r=Object.assign(e,t),this.storage.setItem(this.configKey,r))}catch(e){console.log("setStore error"),this.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}},e.prototype.getStore=function(){try{var e;return this.configPersist&&(e=this.storage.getItem(this.configKey)||{})&&Object.keys(e).length?e:null}catch(e){return this.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message}),null}},e.prototype.delete=function(e){try{var t;this.configPersist&&(t=this.storage.getItem(this.configKey)||{})&&Object.hasOwnProperty.call(t,e)&&(delete t[e],this.storage.setItem(this.configKey,t))}catch(e){this.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message}),console.log("delete error")}},e}(),N=function(){function e(e,t){this.isLog=t||!1,this.name=e||""}return e.prototype.info=function(e){this.isLog&&console.log("%c %s","color: yellow; background-color: black;","[instance: "+this.name+"] "+e)},e.prototype.warn=function(e){this.isLog&&console.warn("[instance: "+this.name+"] "+e)},e.prototype.error=function(e){this.isLog&&console.error("[instance: "+this.name+"] "+e)},e.prototype.throw=function(e){throw this.error(this.name),new Error(e)},e}(),F=function(){function e(){this.spiderBot=["Baiduspider","googlebot","360Spider","haosouspider","YoudaoBot","Sogou News Spider","Yisouspider","Googlebot","Headless","Applebot","Bingbot","PetalBot"]}return e.prototype.checkSpider=function(e){var t,r;return!!e.enable_spider&&(!(t=window.navigator.userAgent)||(r=!1,this.spiderBot.forEach((function(e){-1!==t.indexOf(e)&&(r=!0)})),r))},e}(),z=function(){function e(e,t){this.collect=e,this.native=t}var t=e.prototype;return t.bridgeInject=function(){try{return!!this.native&&(AppLogBridge?(console.log("AppLogBridge is injected"),!0):(console.log("AppLogBridge is not inject"),!1))}catch(e){return console.log("AppLogBridge is not inject"),!1}},t.bridgeReady=function(){var e=this;return new Promise((function(t,r){try{e.bridgeInject()?AppLogBridge.hasStarted((function(e){console.log("AppLogBridge is started? : "+e),e?t(!0):r(!1)})):r(!1)}catch(e){console.log("AppLogBridge, error:"+JSON.stringify(e.stack)),r(!1)}}))},t.setNativeAppId=function(e){try{AppLogBridge.setNativeAppId(JSON.stringify(e)),console.log("change bridge appid, event report with appid: "+e)}catch(e){console.error("setNativeAppId error")}},t.setConfig=function(e){var t=this;try{Object.keys(e).forEach((function(r){"user_unique_id"===r?t.setUserUniqueId(e[r]):e[r]?t.addHeaderInfo(r,e[r]):t.removeHeaderInfo(r)}))}catch(e){console.error("setConfig error")}},t.setUserUniqueId=function(e){try{AppLogBridge.setUserUniqueId(e)}catch(e){console.error("setUserUniqueId error")}},t.addHeaderInfo=function(e,t){try{AppLogBridge.addHeaderInfo(e,t)}catch(e){console.error("addHeaderInfo error")}},t.setHeaderInfo=function(e){try{AppLogBridge.setHeaderInfo(JSON.stringify(e))}catch(e){console.error("setHeaderInfo error")}},t.removeHeaderInfo=function(e){try{AppLogBridge.removeHeaderInfo(e)}catch(e){console.error("removeHeaderInfo error")}},t.reportPv=function(e){this.onEventV3("predefine_pageview",e)},t.onEventV3=function(e,t){try{AppLogBridge.onEventV3(e,t),this.collect.emit(DebuggerMesssge.DEBUGGER_MESSAGE,{type:DebuggerMesssge.DEBUGGER_MESSAGE_EVENT,info:"bridge\u57cb\u70b9\u4e0a\u62a5",time:Date.now(),data:[{events:[{event:e,params:t}]}],code:200,status:"success"})}catch(e){console.error("onEventV3 error")}},t.profileSet=function(e){try{AppLogBridge.profileSet(e)}catch(e){console.error("profileSet error")}},t.profileSetOnce=function(e){try{AppLogBridge.profileSetOnce(e)}catch(e){console.error("profileSetOnce error")}},t.profileIncrement=function(e){try{AppLogBridge.profileIncrement(e)}catch(e){console.error("profileIncrement error")}},t.profileUnset=function(e){try{AppLogBridge.profileUnset(e)}catch(e){console.error("profileUnset error")}},t.profileAppend=function(e){try{AppLogBridge.profileAppend(e)}catch(e){console.error("profileAppend error")}},e}(),L={NO_URL:4001,IMG_ON:4e3,IMG_CATCH:4002,BEACON_FALSE:4003,XHR_ON:500,RESPONSE:5001,TIMEOUT:5005};function Z(e,t,r,n,i,o,s,a,c){try{var l=new XMLHttpRequest,u=a||"POST";l.open(u,""+e,!0),l.setRequestHeader("Content-Type","application/json; charset=utf-8"),s&&l.setRequestHeader("X-MCS-AppKey",""+s),n&&(l.withCredentials=!0),l.onload=function(){if(i){var r=null;if(l.responseText){try{r=JSON.parse(l.responseText)}catch(e){r={}}i(r,t)}}},r&&(l.timeout=r,l.ontimeout=function(){o&&o(t,L.TIMEOUT)}),l.onerror=function(){l.abort(),o&&o(t,L.XHR_ON)},c?l.send(t):l.send(JSON.stringify(t))}catch(e){}}function B(e,t,r,n){try{var i=e.match(/\/v\d\//),o=i?i[0]:-1!==e.indexOf("/v1/")?"/v1/":"/v2/",s=e.split(o)[0];s?t.forEach((function(i){i=function(e){var t,r="";for(t in e)e.hasOwnProperty(t)&&void 0!==e[t]&&(r+="&"+t+"="+encodeURIComponent(JSON.stringify(e[t])));return"&"===r[0]?r.slice(1):r}(i);var o=new Image(1,1);o.onload=function(){o=null,r&&r()},o.onerror=function(){o=null,n&&n(e,t,V)},o.src=s+"/gif?"+i})):n(e,t,H)}catch(r){n&&n(e,t,K,r.message)}}function U(e,t,r,n,i,o,s,a){var c=window.navigator.userAgent;if(-1===window.navigator.appName.indexOf("Microsoft Internet Explorer")||-1===c.indexOf("MSIE 8.0")&&-1===c.indexOf("MSIE 9.0")){if(s)return window.navigator&&window.navigator.sendBeacon?window.navigator.sendBeacon(e,JSON.stringify(t))?i():o(e,t,4003):B(e,t,i,o)}else B(e,t,i,o);Z(e,t,r,n,i,o,"","",a)}function $(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(10):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)}().replace(/-/g,"").slice(0,19)}function G(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}var H=4001,V=4e3,K=4002,W=function(){function e(){this.eventLimit=50,this.enable_ttwebid=!1,this.eventCache=[],this.beconEventCache=[]}return e.prototype.apply=function(e,t){var r=this;this.collect=e,this.config=t,this.configManager=e.configManager,this.eventCheck=new P(e,t),this.cacheStorgae=new O(!0),this.localStorage=new O(!1),this.maxReport=t.max_report||10,this.reportTime=t.reportTime||30,this.timeout=t.timeout||1e5,this.enable_ttwebid=t.enable_ttwebid,this.reportUrl=this.configManager.getUrl("event"),this.eventKey="__tea_cache_events_"+this.configManager.get("app_id"),this.beconKey="__tea_cache_events_becon_"+this.configManager.get("app_id"),this.abKey="__tea_sdk_ab_version_"+this.configManager.get("app_id"),this.refer_key="__tea_cache_refer_"+this.configManager.get("app_id"),this.collect.on(j.Ready,(function(){r.reportAll(!1)})),this.collect.on(j.ConfigDomain,(function(){r.reportUrl=r.configManager.getUrl("event")})),this.collect.on(j.Event,(function(e){r.event(e)})),this.collect.on(j.BeconEvent,(function(e){r.beconEvent(e)})),this.collect.on(j.CleanEvents,(function(){r.reportAll(!1)})),this.linster()},e.prototype.linster=function(){var e=this;window.addEventListener("unload",(function(){e.reportAll(!0)}),!1),function(e){navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.addEventListener("pagehide",e,!1):window.addEventListener("beforeunload",e,!1)}((function(){e.reportAll(!0)})),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e.reportAll(!0)}),!1)},e.prototype.reportAll=function(e){this.report(e),this.reportBecon()},e.prototype.event=function(e){var t=this;try{var r,n=c(e,this.cacheStorgae.getItem(this.eventKey)||[]);this.cacheStorgae.setItem(this.eventKey,n),this.reportTimeout&&clearTimeout(this.reportTimeout),n.length>=this.maxReport?this.report(!1):(r=this.reportTime,this.reportTimeout=setTimeout((function(){t.report(!1),t.reportTimeout=null}),r))}catch(e){this.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}},e.prototype.beconEvent=function(e){e=c(e,this.cacheStorgae.getItem(this.beconKey)||[]),this.cacheStorgae.setItem(this.beconKey,e),this.collect.destroyInstance||this.collect.tokenManager.getReady()&&this.collect.sdkReady&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(e)),!0))},e.prototype.reportBecon=function(){var e;!this.collect.destroyInstance&&this.collect.tokenManager.getReady()&&this.collect.sdkReady&&(e=this.cacheStorgae.getItem(this.beconKey)||[])&&e.length&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(e)),!0))},e.prototype.report=function(e){var t;!this.collect.destroyInstance&&this.collect.tokenManager.getReady()&&this.collect.sdkReady&&(t=this.cacheStorgae.getItem(this.eventKey)||[]).length&&(this.cacheStorgae.removeItem(this.eventKey),this.sliceEvent(t,e))},e.prototype.sliceEvent=function(e,t){if(e.length>this.eventLimit)for(var r=0;r<e.length;r+=this.eventLimit){var n=e.slice(r,r+this.eventLimit),i=this.split(this.merge(n));this.send(i,t)}else i=this.split(this.merge(e)),this.send(i,t)},e.prototype.handleRefer=function(){var e,t="";try{t=(this.config.spa||this.config.autotrack)&&(e=this.localStorage.getItem(this.refer_key)||{}).routeChange?e.refer_key:document.referrer}catch(e){t=document.referrer}return t},e.prototype.merge=function(e,t){var r=this,n=(c=this.configManager.get()).header,i=c.user,o=(n.custom=JSON.stringify(n.custom),n.referrer=this.handleRefer(),this.configManager.get("evtParams")),s=this.configManager.get("user_unique_id_type"),c=e.map((function(e){try{Object.keys(o).length&&!t&&(e.params=a({},o,e.params)),s&&(e.params.$user_unique_id_type=s);var n,c,l=r.configManager.getAbCache(),u=r.configManager.getAbUuidCache(i.user_unique_id);return l&&l.uuid&&l.uuid===i.user_unique_id&&(n=r.configManager.getAbVersion(),r.config.enable_ab_uuid?u&&u.length&&(c=u.join(","),n)&&n.includes(c)&&(e.ab_sdk_version=n):n&&(e.ab_sdk_version=n)),e.session_id=r.collect.sessionManager.getSessionId(),e.params=JSON.stringify(e.params),e}catch(n){return r.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:n.message}),e}}));return((e=JSON.parse(JSON.stringify({events:c,user:i,header:n}))).local_time=Math.floor(Date.now()/1e3),e.user_unique_type=this.config.enable_ttwebid?this.config.user_unique_type:void 0,e.verbose=1,c=[]).push(e),c},e.prototype.split=function(e){return e.map((function(e){var t=[];return t.push(e),t}))},e.prototype.send=function(e,t){var r=this;e.length&&!this.config.disable_track_event&&e.forEach((function(e){try{var n=JSON.parse(JSON.stringify(e)),i=(r.config.filter&&!(n=r.config.filter(n))&&console.warn("filter must return data !!"),r.collect.eventFilter&&n&&((n=r.collect.eventFilter(n))||console.warn("filterEvent api must return data !!")),n||e),o=JSON.parse(JSON.stringify(i));r.eventCheck.checkVerify(o),i.length&&(r.collect.emit(j.SubmitBefore,i),r.collect.emit(j.SubmitVerify,i),U(r.reportUrl,i,r.timeout,r.enable_ttwebid,(function(e,t){e&&0!==e.e?(r.collect.emit(j.SubmitError,{type:"f_data",eventData:t,errorCode:e.e,response:e}),r.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_EVENT,info:"\u57cb\u70b9\u4e0a\u62a5\u5931\u8d25",time:Date.now(),data:o,code:e.e,failType:"\u6570\u636e\u5f02\u5e38",status:"fail"})):(r.collect.emit(j.SubmitScuess,{eventData:t,res:e}),r.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_EVENT,info:"\u57cb\u70b9\u4e0a\u62a5\u6210\u529f",time:Date.now(),data:o,code:200,status:"success"}))}),(function(e,t){r.configManager.get("reportErrorCallback")(e,t),r.collect.emit(j.SubmitError,{type:"f_net",eventData:e,errorCode:t}),r.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_EVENT,info:"\u57cb\u70b9\u4e0a\u62a5\u7f51\u7edc\u5f02\u5e38",time:Date.now(),data:o,code:t,failType:"\u7f51\u7edc\u5f02\u5e38",status:"fail"})}),t,!1),r.collect.emit(j.SubmitAfter,i))}catch(e){console.warn("something error, "+JSON.stringify(e.stack)),r.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}}))},e}(),q=function(){function e(){this.cacheToken={},this.enableCookie=!1,this.enable_ttwebid=!1,this.enableCustomWebid=!1}return e.prototype.apply=function(e,t){var r=this;this.collect=e,this.config=t,this.configManager=this.collect.configManager,this.storage=new O(!1),this.tokenKey="__tea_cache_tokens_"+t.app_id,this.enable_ttwebid=t.enable_ttwebid,this.enableCustomWebid=t.enable_custom_webid,this.collect.on(j.ConfigUuid,(function(e){r.setUuid(e)})),this.collect.on(j.ConfigWebId,(function(e){r.setWebId(e)})),this.enableCookie=t.cross_subdomain,this.expiresTime=t.cookie_expire||6048e5,this.cookieDomain=t.cookie_domain||"",this.checkStorage()},e.prototype.checkStorage=function(){var e,t=this;this.enableCookie?(e=this.storage.getCookie(this.tokenKey,this.cookieDomain),this.cacheToken=e&&"string"==typeof e?JSON.parse(e):{}):this.cacheToken=this.storage.getItem(this.tokenKey)||{},this.tokenType=this.cacheToken&&this.cacheToken._type_?this.cacheToken._type_:"default","custom"!==this.tokenType||this.enableCustomWebid?this.enableCustomWebid?this.collect.on(j.CustomWebId,(function(){t.tokenReady=!0,t.collect.emit(j.TokenComplete)})):this.checkEnv()||(this.enable_ttwebid?this.completeTtWid(this.cacheToken):this.check()):this.remoteWebid()},e.prototype.check=function(){this.cacheToken&&this.cacheToken.web_id?this.complete(this.cacheToken):this.config.disable_webid?this.complete({web_id:$(),user_unique_id:this.configManager.get("user_unique_id")||$()}):this.remoteWebid()},e.prototype.checkEnv=function(){var e=window.navigator.userAgent;return(-1!==e.indexOf("miniProgram")||-1!==e.indexOf("MiniProgram"))&&!(!(e=h(window.location.href))||!e.Web_ID||(this.complete({web_id:""+e.Web_ID,user_unique_id:this.configManager.get("user_unique_id")||""+e.Web_ID}),0))},e.prototype.remoteWebid=function(){var e=this,t=this.configManager.getUrl("webid"),r={app_key:this.config.app_key,app_id:this.config.app_id,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer,user_unique_id:""},n=(this.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"SDK \u53d1\u8d77WEBID\u8bf7\u6c42",logType:"fetch",level:"info",time:Date.now(),data:r}),$());Z(t,r,3e5,!1,(function(t){var r;t&&0===t.e?(r=t.web_id,e.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"WEBID\u8bf7\u6c42\u6210\u529f",logType:"fetch",level:"info",time:Date.now(),data:t})):(e.collect.configManager.set({localWebId:r=n}),e.collect.emit(j.TokenError),e.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"WEBID\u8bf7\u6c42\u8fd4\u56de\u503c\u5f02\u5e38",logType:"fetch",level:"warn",time:Date.now(),data:t}),e.collect.logger.warn("appid: "+e.config.app_id+" get webid error, use local webid~")),e.complete({web_id:e.configManager.get("web_id")||r,user_unique_id:e.configManager.get("user_unique_id")||r})}),(function(){e.complete({web_id:e.configManager.get("web_id")||n,user_unique_id:e.configManager.get("user_unique_id")||n}),e.collect.configManager.set({localWebId:n}),e.collect.emit(j.TokenError),e.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"WEBID\u8bf7\u6c42\u7f51\u7edc\u5f02\u5e38",logType:"fetch",level:"error",time:Date.now(),data:null}),e.collect.logger.warn("appid: "+e.config.app_id+", get webid error, use local webid~")}))},e.prototype.complete=function(e){var t=e.web_id,r=e.user_unique_id;e.timestamp=Date.now(),this.collect.configManager.set({web_id:t,user_unique_id:r}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(j.TokenComplete)},e.prototype.completeTtWid=function(e){var t=e.user_unique_id||"",r=this.configManager.get("user_unique_id");(r||t)&&this.configManager.set({user_unique_id:r||t}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(j.TokenComplete)},e.prototype.setUuid=function(e){var t,r;e&&-1===["null","undefined","Null","None"].indexOf(e)?(e=String(e),t=this.configManager.get("user_unique_id"),r=this.cacheToken&&this.cacheToken.user_unique_id,e===t&&e===r||(this.configManager.set({user_unique_id:e}),this.cacheToken||(this.cacheToken={}),this.cacheToken.user_unique_id=e,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken),this.collect.emit(j.TokenChange,"uuid"),this.collect.emit(j.SessionReset))):this.clearUuid()},e.prototype.clearUuid=function(){this.config.enable_ttwebid||this.configManager.get("web_id")&&(this.configManager.set({user_unique_id:this.configManager.get("web_id")}),this.cacheToken&&this.cacheToken.web_id&&(this.cacheToken.user_unique_id=this.cacheToken.web_id,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken)),this.collect.emit(j.TokenReset))},e.prototype.setWebId=function(e){var t,r;e&&!this.config.enable_ttwebid&&(this.cacheToken&&this.cacheToken.web_id?this.cacheToken.web_id!==e&&(this.cacheToken.user_unique_id=this.cacheToken.web_id===this.cacheToken.user_unique_id?e:this.cacheToken.user_unique_id,this.cacheToken.web_id=e):(this.cacheToken={},this.cacheToken.web_id=e,this.cacheToken.user_unique_id=e),this.cacheToken.timestamp=Date.now(),t=this.configManager.get("web_id"),(r=this.configManager.get("user_unique_id"))&&r!==t||(this.configManager.set({user_unique_id:e}),this.collect.emit(j.TokenChange,"uuid")),t!==e&&(this.configManager.set({web_id:e}),this.collect.emit(j.TokenChange,"webid")),this.setStorage(this.cacheToken))},e.prototype.setStorage=function(e){e._type_=this.enableCustomWebid?"custom":"default",delete e["diss".split("").reverse().join("")],this.enableCookie||this.enable_ttwebid?(this.storage.setCookie(this.tokenKey,e,this.expiresTime,this.cookieDomain),this.enable_ttwebid&&(delete e.web_id,this.storage.setItem(this.tokenKey,e))):this.storage.setItem(this.tokenKey,e),this.cacheToken=e},e.prototype.getReady=function(){return this.tokenReady},e.prototype.getTobId=function(){var e=this,t=this.configManager.getUrl("tobid");return new Promise((function(r){Z(t,{app_id:e.config.app_id,user_unique_id:e.configManager.get("user_unique_id"),web_id:e.configManager.get("web_id"),user_unique_id_type:e.configManager.get("user_unique_id_type")},3e4,e.enable_ttwebid,(function(e){e&&0===e.e?r(e.tobid):r("")}),(function(){r("")}))}))},e}(),X=function(){function e(){}return e.prototype.apply=function(e,t){var r=this;this.collect=e,this.storage=new O(!1,"session"),this.sessionKey="__tea_session_id_"+t.app_id,this.expireTime=t.expireTime||18e5,this.disableSession=t.disable_session,this.disableSession||(this.setSessionId(),this.collect.on(j.SessionReset,(function(){r.resetSessionId()})),this.collect.on(j.SessionResetTime,(function(){r.updateSessionIdTime()})))},e.prototype.updateSessionIdTime=function(){var e,t=this.storage.getItem(this.sessionKey);t&&t.sessionId&&(e=t.timestamp,Date.now()-e>this.expireTime?t={sessionId:G(),timestamp:Date.now()}:t.timestamp=Date.now(),this.storage.setItem(this.sessionKey,t),this.resetExpTime())},e.prototype.setSessionId=function(){var e=this,t=this.storage.getItem(this.sessionKey);t&&t.sessionId?t.timestamp=Date.now():t={sessionId:G(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,t),this.sessionExp=setInterval((function(){e.checkEXp()}),this.expireTime)},e.prototype.getSessionId=function(){var e=this.storage.getItem(this.sessionKey);return!this.disableSession&&e&&e.sessionId?e.sessionId:""},e.prototype.resetExpTime=function(){var e=this;this.sessionExp&&(clearInterval(this.sessionExp),this.sessionExp=setInterval((function(){e.checkEXp()}),this.expireTime))},e.prototype.resetSessionId=function(){var e={sessionId:G(),timestamp:Date.now()};this.storage.setItem(this.sessionKey,e)},e.prototype.checkEXp=function(){var e=this.storage.getItem(this.sessionKey);e&&e.sessionId&&Date.now()-e.timestamp+30>=this.expireTime&&(e={sessionId:G(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,e))},e}(),J=function(){function e(e,t){this.devToolReady=!1,this.devToolOrigin="*",this.sendAlready=!1,this.collect=e,this.config=t,this.app_id=t.app_id,this.filterEvent=["__bav_page","__bav_beat","__bav_page_statistics","__bav_click","__bav_page_exposure","bav2b_page","bav2b_beat","bav2b_page_statistics","bav2b_click","bav2b_page_exposure","_be_active","predefine_pageview","__profile_set","__profile_set_once","__profile_increment","__profile_unset","__profile_append","predefine_page_alive","predefine_page_close","abtest_exposure"],t.enable_debug&&this.load()}return e.prototype.loadScript=function(e){try{var t=document.createElement("script");t.src=e,t.onerror=function(){console.log("load DevTool render fail")},t.onload=function(){console.log("load DevTool render success")},document.getElementsByTagName("body")[0].appendChild(t)}catch(e){console.log("devTool load fail, "+e.message)}},e.prototype.load=function(){try{this.loadBaseInfo(),this.loadHook();var e=h(window.location.href);e.open_devtool_web&&parseInt(e.app_id)===this.app_id&&(this.addLintener(),this.loadDebuggerModule(),this.loadDevTool())}catch(e){console.log("debug fail, "+e.message)}},e.prototype.loadDevTool=function(){this.loadScript("https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/devtool/debug-web.js")},e.prototype.loadBaseInfo=function(){var e=this;this.info=[{title:"\u57fa\u672c\u4fe1\u606f",type:1,infoName:{app_id:this.config.app_id,channel:this.config.channel,\u4e0a\u62a5\u57df\u540d:this.collect.configManager.getDomain(),SDK\u7248\u672c:I,SDK\u5f15\u5165\u65b9\u5f0f:"npm"}},{title:"\u7528\u6237\u4fe1\u606f",type:2,infoName:{uuid:this.collect.configManager.get("user").user_unique_id||"",web_id:this.collect.configManager.get("user").web_id||"",ssid:"\u70b9\u51fb\u83b7\u53d6SSID"}},{title:"\u516c\u5171\u53c2\u6570\u4fe1\u606f",type:2,infoName:{\u6d4f\u89c8\u5668:this.collect.configManager.get("browser"),\u6d4f\u89c8\u5668\u7248\u672c:this.collect.configManager.get("browser_version"),\u5e73\u53f0:this.collect.configManager.get("platform"),\u8bbe\u5907\u578b\u53f7:this.collect.configManager.get("device_model"),\u64cd\u4f5c\u7cfb\u7edf:this.collect.configManager.get("os_name"),\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c:this.collect.configManager.get("os_version"),\u5c4f\u5e55\u5206\u8fa8\u7387:this.collect.configManager.get("os_version"),\u6765\u6e90:this.collect.configManager.get("referrer"),\u81ea\u5b9a\u4e49\u4fe1\u606f:""}},{title:"\u914d\u7f6e\u4fe1\u606f",type:3,infoName:{\u5168\u57cb\u70b9:!!this.config.autotrack,\u505c\u7559\u65f6\u957f:!!this.config.enable_stay_duration}},{title:"A/B\u914d\u7f6e\u4fe1\u606f",type:4,infoName:{"A/B\u5b9e\u9a8c":!!this.config.enable_ab_test}},{title:"\u5ba2\u6237\u7aef\u4fe1\u606f",type:3,infoName:{\u6253\u901a\u5f00\u5173:!!this.config.Native}}],this.log=[],this.event=[],this.collect.on(j.Ready,(function(){e.info[1].infoName.uuid=e.collect.configManager.get("user").user_unique_id,e.info[1].infoName.web_id=e.collect.configManager.get("user").web_id,e.info[2].infoName["\u81ea\u5b9a\u4e49\u4fe1\u606f"]=JSON.stringify(e.collect.configManager.get("custom")),e.config.enable_ab_test&&(e.info[4].infoName["\u5df2\u66dd\u5149VID"]=e.collect.configManager.getAbVersion(),e.info[4].infoName["A/B\u57df\u540d"]=e.config.ab_channel_domain||u(x[e.config.channel]),e.info[4].infoName["\u5168\u90e8\u914d\u7f6e"]=e.collect.configManager.getAbData()),e.config.Native&&(e.info[5].infoName["\u662f\u5426\u6253\u901a"]=!!e.collect.bridgeReport)}))},e.prototype.loadHook=function(){var e=this;this.collect.on(y.DEBUGGER_MESSAGE,(function(t){switch(t.type){case y.DEBUGGER_MESSAGE_SDK:var r={time:t.time,type:t.logType||"sdk",level:t.level,name:t.info,show:!0,levelShow:!0,needDesc:!!t.data};return t.data&&(r.desc={content:JSON.stringify(t.data)}),e.updateLog(r),t.secType&&"AB"===t.secType?(e.info[4].infoName["\u5df2\u66dd\u5149VID"]=e.collect.configManager.getAbVersion(),e.info[4].infoName["\u5168\u90e8\u914d\u7f6e"]=e.collect.configManager.getAbData()):"USER"===t.secType&&(e.info[1].infoName.uuid=e.collect.configManager.get("user").user_unique_id,e.info[1].infoName.web_id=e.collect.configManager.get("user").web_id),void e.updateInfo();case y.DEBUGGER_MESSAGE_EVENT:if(t.data&&t.data.length){var n=(r=t.data[0]).events;if(!n.length)return;n.forEach((function(r){r.checkShow=!0,r.searchShow=!0,r.success=t.status,r.type=-1!==e.filterEvent.indexOf(r.event)?"sdk":"cus",r.type=e.collect.bridgeReport?"bridge":r.type,r.info="","fail"===t.status&&(r.info={message:"code: "+t.code+"\uff0c msg: "+t.failType})})),e.updateEvent(r)}return}}))},e.prototype.addLintener=function(){var e=this;window.addEventListener("message",(function(t){if(t.origin===location.origin){if(t&&t.data&&"devtool:web:ready"===t.data.type){if(e.devToolOrigin=t.origin,e.devToolReady=!0,e.sendAlready)return;console.log("inittttt"),e.sendData("devtool:web:init",{info:e.info,log:e.log,event:e.event}),e.sendAlready=!0}t&&t.data&&"devtool:web:ssid"===t.data.type&&e.collect.getToken((function(t){e.info[1].infoName.ssid=t.tobid,e.updateInfo()}))}}))},e.prototype.sendData=function(e,t){try{var r={type:e,payload:t};(window.opener||window.parent).postMessage(r,this.devToolOrigin)}catch(e){}},e.prototype.updateInfo=function(){this.devToolReady&&this.sendData("devtool:web:info",this.info)},e.prototype.updateLog=function(e){this.devToolReady?this.sendData("devtool:web:log",e):this.log.push(e)},e.prototype.updateEvent=function(e){this.devToolReady?this.sendData("devtool:web:event",e):this.event.push(e)},e.prototype.loadDebuggerModule=function(){var e,t=document.head||document.getElementsByTagName("head")[0];(e=document.createElement("style")).appendChild(document.createTextNode("#debugger-applog-web {\n      position: absolute;\n      width: 90px;\n      height: 30px;\n      background: #23c243;\n      border-radius: 6px;\n      color: #fff;\n      font-size: 12px;\n      bottom: 5%;\n      right: 10%;\n      text-align: center;\n      line-height: 30px;\n      cursor: pointer;\n      z-index:100;\n    }")),t.appendChild(e),((t=document.createElement("div")).innerHTML='<div id="debugger-applog-web" class="debugger-applog-web">AppLog\u8c03\u8bd5</div>',e=document.createElement("div")).innerHTML='<div id="debugger-container" class="debugger-container"></div>',document.getElementsByTagName("body")[0].appendChild(t),document.getElementsByTagName("body")[0].appendChild(e),document.getElementById("debugger-applog-web").addEventListener("click",(function(){(window.opener||window.parent).postMessage({type:"devtool:web:open-draw"},location.origin)}))},e}(),Y=function(){function e(e){this.disableAutoPageView=!1,this.bridgeReport=!1,this.staging=!1,this.pluginInstances=[],this.sended=!1,this.started=!1,this.destroyInstance=!1,this.sdkReady=!1,this.adapters={},this.loadType="base",this.name=e,this.hook=new v,this.remotePlugin=new Map,this.Types=j,this.adapters.fetch=Z,this.adapters.storage=O}return e.usePlugin=function(t,r,n){if(r){for(var i=!1,o=0,s=e.plugins.length;o<s;o++)if(e.plugins[o].name===r){e.plugins[o].plugin=t,e.plugins[o].options=n||{},i=!0;break}i||e.plugins.push({name:r,plugin:t,options:n})}else e.plugins.push({plugin:t})},e.prototype.usePlugin=function(e,t,r){e&&("full"===this.loadType&&this.remotePlugin.get(e)?console.info("your sdk version has "+e+" already ~"):t?"string"==typeof t?this.remotePlugin.get(e)||this.remotePlugin.set(e,{src:t,call:r}):this.remotePlugin.get(e)||this.remotePlugin.set(e,{instance:t}):this.remotePlugin.get(e)||this.remotePlugin.set(e,"sdk"))},e.prototype.init=function(t){var r,n=this;try{r=JSON.parse(JSON.stringify(t))}catch(i){r=t}this.logger=new N(this.name,r.log),this.inited?this.logger.warn("[instance: "+this.name+"], every instance's api: init,  can be call only one time!"):r&&l(r)?r.app_id&&"number"==typeof(t=r.app_id)&&!isNaN(t)?r.app_key&&"string"!=typeof r.app_key?this.logger.warn("app_key param is error, must be string, please check!"):(t=r.channel_type&&"tcpy"===r.channel_type?["sg","va","in"]:["sg","va"],r.channel_domain||-1!==t.indexOf(r.channel)||(this.logger.warn("channel must "+t.join(" ,")+"!!!"),r.channel="sg"),this.spider=new F,this.spider.checkSpider(r)?this.logger.warn("The current environment may be a spider, can not report!"):(this.logger=new N(this.name,r.log),this.appBridge=new z(this,r.enable_native),this.bridgeReport=this.appBridge.bridgeInject(),this.configManager=new M(this,r),this.debugger=new J(this,r),this.initConfig=r,this.emit(j.Init),this.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cINIT",data:r,level:"info",time:Date.now()}),r.disable_auto_pv&&(this.disableAutoPageView=!0),this.bridgeReport||(this.configManager.setAppid(r.app_id),this.eventManager=new W,this.tokenManager=new q,this.sessionManager=new X,Promise.all([new Promise((function(e){n.once(j.TokenComplete,(function(){e(!0)}))})),new Promise((function(e){n.once(j.Start,(function(){e(!0)}))}))]).then((function(){try{e.plugins.reduce((function(e,t){var r=t.plugin;return t=t.options,t=Object.assign(n.initConfig,t),(r=new r).apply(n,t),e.push(r),e}),n.pluginInstances)}catch(i){console.warn("load plugin error, "+i.message),n.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:i.message})}n.sdkReady=!0,n.emit(j.Ready),n.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"SDK \u521d\u59cb\u5316\u5b8c\u6210",time:Date.now(),level:"info",data:n.configManager.get("user")}),n.logger.info("appid: "+r.app_id+", userInfo:"+JSON.stringify(n.configManager.get("user"))),n.logger.info("appid: "+r.app_id+", sdk is ready, version is "+I+", you can report now !!!"),r.disable_auto_pv&&(n.disableAutoPageView=!0);try{("full"===n.loadType&&r.enable_ab_test||r.autotrack)&&(window.opener||window.parent).postMessage("[tea-sdk]ready","*")}catch(i){n.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:i.message})}n.pageView(),n.on(j.TokenChange,(function(e){"webid"===e&&n.pageView(),n.logger.info("appid: "+r.app_id+" token change, new userInfo:"+JSON.stringify(n.configManager.get("user"))),n.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"SDK \u8bbe\u7f6e\u4e86\u7528\u6237\u4fe1\u606f",time:Date.now(),secType:"USER",level:"info",data:n.configManager.get("user")})})),n.on(j.TokenReset,(function(){n.logger.info("appid: "+r.app_id+" token reset, new userInfo:"+JSON.stringify(n.configManager.get("user"))),n.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"SDK \u91cd\u7f6e\u4e86\u7528\u6237\u4fe1\u606f",time:Date.now(),secType:"USER",level:"info",data:n.configManager.get("user")})})),n.on(j.RouteChange,(function(e){e.init||r.disable_route_report||n.pageView()}))})),this.tokenManager.apply(this,r),this.eventManager.apply(this,r),this.sessionManager.apply(this,r)),this.inited=!0)):this.logger.warn("app_id param is error, must be number, please check!"):this.logger.warn("init params error,please check")},e.prototype.config=function(e){if(this.inited)if(e&&l(e)){var t,r;try{t=JSON.parse(JSON.stringify(t))}catch(r){t=e}this.bridgeReport?this.appBridge.setConfig(t):(t._staging_flag&&1===t._staging_flag&&(this.staging=!0),t.disable_auto_pv&&(this.disableAutoPageView=!0,delete t.disable_auto_pv),e=a({},t),this.initConfig&&this.initConfig.configPersist&&((r=this.configManager.getStore())&&(e=Object.assign(r,t)),this.configManager.setStore(t)),e.web_id,e.user_unique_id,r=function(e,t){var r={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&(r[i[n]]=e[i[n]]);return r}(e,["web_id","user_unique_id"]),e.hasOwnProperty("web_id")&&this.emit(j.ConfigWebId,e.web_id),e.hasOwnProperty("user_unique_id")&&this.emit(j.ConfigUuid,e.user_unique_id),this.configManager.set(r),this.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cCONFIG",level:"info",time:Date.now(),data:e}))}else this.logger.warn("config params is error, please check");else this.logger.warn("config must be use after function init")},e.prototype.setDomain=function(e){this.configManager&&this.configManager.setDomain(e),this.emit(j.ConfigDomain)},e.prototype.getConfig=function(e){return this.configManager.get(e)},e.prototype.send=function(){this.start()},e.prototype.start=function(){this.inited&&!this.sended&&(this.sended=!0,this.emit(j.Start),this.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cSTART",level:"info",time:Date.now()}),this.bridgeReport)&&(this.pageView(),this.emit(j.Ready))},e.prototype.event=function(e,t){var r=this;try{var n=[];if(Array.isArray(e))e.forEach((function(e){(e=r.processEvent(e[0],e[1]||{}))&&n.push(e)}));else{var i=this.processEvent(e,t);if(!i)return;n.push(i)}this.bridgeReport?n.forEach((function(e){var t=e.event;e=e.params,r.appBridge.onEventV3(t,JSON.stringify(e))})):n.length&&(this.emit(j.Event,n),this.emit(j.SessionResetTime))}catch(e){this.logger.warn("something error, please check"),this.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}},e.prototype.beconEvent=function(e,t){var r;Array.isArray(e)?this.logger.warn("beconEvent not support batch report, please check"):(r=[],(e=this.processEvent(e,t||{}))&&(r.push(e),r.length)&&(this.emit(j.BeconEvent,r),this.emit(j.SessionResetTime)))},e.prototype.processEvent=function(e,t){void 0===t&&(t={});try{var r,n,i;return e?(/^event\./.test(r=e)&&(r=e.slice(6)),i=void((n="object"!=typeof(n=t)?{}:n).profile?delete n.profile:n.event_index=m+=1),n.local_ms?(i=n.local_ms,delete n.local_ms):i=+new Date,{event:r,params:n,local_time_ms:i,is_bav:this.initConfig&&this.initConfig.autotrack?1:0}):(this.logger.warn("eventName is null\uff0c please check"),null)}catch(r){return this.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:r.message}),{event:e,params:t}}},e.prototype.filterEvent=function(e){this.eventFilter=e},e.prototype.on=function(e,t){this.hook.on(e,t)},e.prototype.once=function(e,t){this.hook.once(e,t)},e.prototype.off=function(e,t){this.hook.off(e,t)},e.prototype.emit=function(e,t,r){this.hook.emit(e,t,r)},e.prototype.set=function(e){this.hook.set(e)},e.prototype.pageView=function(){this.disableAutoPageView||this.predefinePageView()},e.prototype.predefinePageView=function(e){var t;void 0===e&&(e={}),this.inited?(t={title:document.title||location.pathname,url:location.href,url_path:location.pathname,time:Date.now(),referrer:window.document.referrer,$is_first_time:""+(this.configManager&&this.configManager.is_first_time||!1)},t=a({},t,e),this.event("predefine_pageview",t)):this.logger.warn("predefinePageView should call after init")},e.prototype.clearEventCache=function(){this.emit(j.CleanEvents)},e.prototype.setWebIDviaUnionID=function(e){var t;e&&(t=p(e),this.config({web_id:""+t,wechat_unionid:e}),this.emit(j.CustomWebId))},e.prototype.setWebId=function(e){this.config({web_id:""+e})},e.prototype.setWebIDviaOpenID=function(e){var t;e&&(t=p(e),this.config({web_id:""+t,wechat_openid:e}),this.emit(j.CustomWebId))},e.prototype.setNativeAppId=function(e){this.bridgeReport&&this.appBridge.setNativeAppId(e)},e.prototype.resetStayDuration=function(e,t,r){this.emit(j.ResetStay,{url_path:e,title:t,url:r},j.Stay)},e.prototype.resetStayParams=function(e,t,r){this.emit(j.SetStay,{url_path:e=void 0===e?"":e,title:t=void 0===t?"":t,url:r=void 0===r?"":r},j.Stay)},e.prototype.getToken=function(e,t){var r,n,i,o=this;this.inited?(r=!1,n=function(t){var n;if(!r)return r=!0,n=o.configManager.get().user,t&&(n.tobid=t,n["diss".split("").reverse().join("")]=t),e(a({},n))},i=function(){o.tokenManager.getTobId().then((function(e){n(e)}))},this.sdkReady?i():(t&&setTimeout((function(){n()}),t),this.on(j.Ready,(function(){i()})))):this.logger.warn("predefinePageView should call after init")},e.prototype.profileSet=function(e){this.bridgeReport?this.appBridge.profileSet(JSON.stringify(e)):this.emit(j.ProfileSet,e,j.Profile),this.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cprofileSet",level:"info",time:Date.now(),data:e})},e.prototype.profileSetOnce=function(e){this.bridgeReport?this.appBridge.profileSetOnce(JSON.stringify(e)):this.emit(j.ProfileSetOnce,e,j.Profile),this.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cprofileSetOnce",level:"info",time:Date.now(),data:e})},e.prototype.profileIncrement=function(e){this.bridgeReport?this.appBridge.profileIncrement(JSON.stringify(e)):this.emit(j.ProfileIncrement,e,j.Profile),this.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cprofileIncrement",level:"info",time:Date.now(),data:e})},e.prototype.profileUnset=function(e){this.bridgeReport?this.appBridge.profileUnset(e):this.emit(j.ProfileUnset,e,j.Profile),this.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cprofileUnset",level:"info",time:Date.now(),data:e})},e.prototype.profileAppend=function(e){this.bridgeReport?this.appBridge.profileAppend(JSON.stringify(e)):this.emit(j.ProfileAppend,e,j.Profile),this.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"SDK \u6267\u884cprofileAppend",level:"info",time:Date.now(),data:e})},e.prototype.setExternalAbVersion=function(e){this.emit(j.AbExternalVersion,"string"==typeof e&&e?(""+e).trim():null,j.Ab)},e.prototype.getVar=function(e,t,r,n){this.emit(j.AbVar,{name:e,defaultValue:t,callback:r,uuid:n},j.Ab)},e.prototype.getABconfig=function(e,t){this.emit(j.AbConfig,{params:e,callback:t},j.Ab)},e.prototype.getAbSdkVersion=function(){return this.configManager.getAbVersion()},e.prototype.onAbSdkVersionChange=function(e){var t=this;return this.emit(j.AbVersionChangeOn,e,j.Ab),function(){t.emit(j.AbVersionChangeOff,e,j.Ab)}},e.prototype.offAbSdkVersionChange=function(e){this.emit(j.AbVersionChangeOff,e,j.Ab)},e.prototype.openOverlayer=function(){this.emit(j.AbOpenLayer,"",j.Ab)},e.prototype.closeOverlayer=function(){this.emit(j.AbCloseLayer,"",j.Ab)},e.prototype.getAllVars=function(e){this.emit(j.AbAllVars,e,j.Ab)},e.prototype.autoInitializationRangers=function(e){var t=e.app_id,r=e.channel,n=e.onTokenReady,i=(e=C[r]+"/webid",new O(!1)),o="__tea_cache_tokens_"+t;(r=i.getItem(o))&&r.web_id?n(r.web_id):U(e,{app_key:"",app_id:t,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer},3e3,!1,(function(e){e&&0===e.e?(n(e.web_id),e={web_id:e.web_id,user_unique_id:e.web_id,timestamp:Date.now()},i.setItem(o,e)):n("")}),(function(){n("")}),!0)},e.prototype.destoryInstace=function(){this.destroyInstance||(this.destroyInstance=!0,this.off(j.TokenComplete))},e.plugins=[],e}(),Q=(t=function(){function e(){}return e.prototype.apply=function(e,t){var r=this,n=e.adapters.fetch;t.event_verify_url&&("string"==typeof t.event_verify_url?(this.url=t.event_verify_url+"/v1/list_test",this.url&&(t=e.Types,e.on(t.SubmitBefore,(function(e){n(r.url,e,3e4)})))):console.log("please use correct et_test url"))},e}(),function(){function e(){}return e.prototype.apply=function(e,t){var r=this,n=(this.collect=e,this.config=t,this.duration=6e4,this.reportUrl=e.configManager.getDomain()+"/profile/list",e.Types),i=e.adapters.fetch;this.eventCheck=new P(e,t),this.fetch=i,this.cache={},this.collect.on(n.ProfileSet,(function(e){r.setProfile(e)})),this.collect.on(n.ProfileSetOnce,(function(e){r.setOnceProfile(e)})),this.collect.on(n.ProfileUnset,(function(e){r.unsetProfile(e)})),this.collect.on(n.ProfileIncrement,(function(e){r.incrementProfile(e)})),this.collect.on(n.ProfileAppend,(function(e){r.appendProfile(e)})),this.collect.on(n.ProfileClear,(function(){r.cache={}})),this.ready(n.Profile)},e.prototype.ready=function(e){var t=this;if(this.collect.set(e),this.collect.hook._hooksCache.hasOwnProperty(e)){var r=this.collect.hook._hooksCache[e];if(Object.keys(r).length)for(var n in r)!function(e){r[e].length&&r[e].forEach((function(r){t.collect.hook.emit(e,r)}))}(n)}},e.prototype.report=function(e,t){void 0===t&&(t={});try{var r,n;this.config.disable_track_event||((r=[]).push(this.collect.processEvent(e,t)),n=this.collect.eventManager.merge(r),this.fetch(this.reportUrl,n),this.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_EVENT,info:"\u57cb\u70b9\u4e0a\u62a5\u6210\u529f",time:Date.now(),data:n,code:200,status:"success"}))}catch(e){this.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}},e.prototype.setProfile=function(e){(e=this.formatParams(e))&&Object.keys(e).length&&(this.pushCache(e),this.report("__profile_set",a({},e,{profile:!0})))},e.prototype.setOnceProfile=function(e){(e=this.formatParams(e,!0))&&Object.keys(e).length&&(this.pushCache(e),this.report("__profile_set_once",a({},e,{profile:!0})))},e.prototype.incrementProfile=function(e){e?this.report("__profile_increment",a({},e,{profile:!0})):console.warn("please check the params, must be object!!!")},e.prototype.unsetProfile=function(e){var t;e?((t={})[e]="1",this.report("__profile_unset",a({},t,{profile:!0}))):console.warn("please check the key, must be string!!!")},e.prototype.appendProfile=function(e){if(e){var t,r={};for(t in e)"string"==typeof e[t]||"Array"===Object.prototype.toString.call(e[t]).slice(8,-1)?r[t]=e[t]:console.warn("please check the value of param: "+t+", must be string or array !!!");Object.keys(r).length&&this.report("__profile_append",a({},r,{profile:!0}))}else console.warn("please check the params, must be object!!!")},e.prototype.pushCache=function(e){var t=this;Object.keys(e).forEach((function(r){t.cache[r]={val:t.clone(e[r]),timestamp:Date.now()}}))},e.prototype.formatParams=function(e,t){var r=this;void 0===t&&(t=!1);try{if(e&&"[object Object]"===Object.prototype.toString.call(e)){var n,i={};for(n in e)"string"==typeof e[n]||"number"==typeof e[n]||"Array"===Object.prototype.toString.call(e[n]).slice(8,-1)?i[n]=e[n]:console.warn("please check the value of params:"+n+", must be string,number,Array !!!");var o,s=Object.keys(i);if(s.length&&this.eventCheck.checkEventParams(i))return o=Date.now(),s.filter((function(n){var i=r.cache[n];return t?!i:!(i&&r.compare(i.val,e[n])&&o-i.timestamp<r.duration)})).reduce((function(e,t){return e[t]=i[t],e}),{})}else console.warn("please check the params type, must be object !!!")}catch(e){this.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message}),console.log("error")}},e.prototype.compare=function(e,t){try{return JSON.stringify(e)===JSON.stringify(t)}catch(e){return this.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message}),!1}},e.prototype.clone=function(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return this.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:t.message}),e}},e.prototype.unReady=function(){console.warn("sdk is not ready, please use this api after start")},e}()),ee=function(){function e(){var e=this;this.setInterval=function(){e.clearIntervalFunc=function(e,t){void 0===e&&(e=function(){}),void 0===t&&(t=1e3);var r=Date.now()+t,n=window.setTimeout((function i(){var o=Date.now()-r;e(),r+=t,n=window.setTimeout(i,Math.max(0,t-o))}),t);return function(){window.clearTimeout(n)}}((function(){e.isSessionhasEvent&&e.endCurrentSession()}),e.sessionInterval)},this.clearInterval=function(){e.clearIntervalFunc&&e.clearIntervalFunc()}}return e.prototype.apply=function(e,t){var r=this;this.collect=e,t.disable_heartbeat||(this.sessionInterval=6e4,this.startTime=0,this.lastTime=0,this.setInterval(),e=this.collect.Types,this.collect.on(e.SessionReset,(function(){r.process()})))},e.prototype.endCurrentSession=function(){this.collect.event("_be_active",{start_time:this.startTime,end_time:this.lastTime,url:window.location.href,referrer:window.document.referrer,title:document.title||location.pathname}),this.isSessionhasEvent=!1,this.startTime=0},e.prototype.process=function(){this.isSessionhasEvent||(this.isSessionhasEvent=!0,this.startTime=+new Date);var e=this.lastTime||+new Date;this.lastTime=+new Date,this.lastTime-e>this.sessionInterval&&(this.clearInterval(),this.endCurrentSession(),this.setInterval())},e}(),te=function(){function e(){}return e.prototype.apply=function(e,t){var r=this;this.collect=e,this.config=t,this.config.channel_domain||t.disable_track_event||t.disable_sdk_monitor||(t=e.adapters.fetch,this.fetch=t,this.url=e.configManager.getUrl("event"),t=this.collect.Types,this.collect.on(t.Ready,(function(){r.sdkOnload()})),this.collect.on(t.SubmitError,(function(e){var t=e.type,n=e.eventData;e=e.errorCode,"f_data"===t&&r.sdkError(n,e)})))},e.prototype.sdkOnload=function(){var e=this;try{var t=this.collect.configManager.get(),r=t.header,n=t.user,i=r.app_id,o=r.app_name,s=r.sdk_version,a=n.web_id,c={events:[{event:"onload",params:JSON.stringify({app_id:i,app_name:o||"",sdk_version:s,sdk_type:"npm",sdk_config:this.config,sdk_desc:"TOC_OVERSEA"}),local_time_ms:Date.now()}],user:{user_unique_id:a},header:{}};setTimeout((function(){e.fetch(e.url,[c],3e4,!1,(function(){}),(function(){}),"566f58151b0ed37e")}),16)}catch(e){}},e.prototype.sdkError=function(e,t){var r=this;try{var n=e[0],i=n.user,o=n.header,s=[],a=(e.forEach((function(e){e.events.forEach((function(e){s.push(e)}))})),{events:s.map((function(e){return{event:"on_error",params:JSON.stringify({error_code:t,app_id:o.app_id,app_name:o.app_name||"",error_event:e.event,sdk_version:o.sdk_version,local_time_ms:e.local_time_ms,tea_event_index:Date.now(),params:e.params,header:JSON.stringify(o),user:JSON.stringify(i)}),local_time_ms:Date.now()}})),user:{user_unique_id:i.user_unique_id},header:{}});setTimeout((function(){r.fetch(r.url,[a],3e4,!1,(function(){}),(function(){}),"566f58151b0ed37e")}),16)}catch(e){}},e}(),re={autotrack:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/autotrack.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/autotrack.js"},object:"LogAutoTrack"},ab:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/ab.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/ab.js"},object:"LogAb"},stay:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/stay.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/stay.js"},object:"LogStay"},route:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/route.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/route.js"},object:"LogRoute"},cep:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/cep.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/cep.js"},object:"LogCep"},tracer:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/tracer.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/tracer.js"},object:"LogTracer"},visual:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/visual.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/visual.js"},object:"LogVisual"}},ne="undefined"!=typeof window?(window.LogPluginObject||(window.LogPluginObject={}),window.LogPluginObject):null,ie=function(){function e(){}return e.prototype.apply=function(e,t){this._plugin={},this.config=t,this.collect=e,this.channel=t.channel||"cn",this.loadExtend()},e.prototype.loadExtend=function(){var e=this;try{this.collect.remotePlugin.forEach((function(t,r){var n,i;"sdk"===t?re.hasOwnProperty(r)?(n=re[r].object,i=""+re[r].src[e.channel],e.exist(r,n,i)):console.warn("your "+r+" is not exist\uff0cplease check plugin name"):"object"==typeof t&&(t.src?e.exist(r,t.call,t.src):e.process(r,t.instance,"INSTANCE"))}))}catch(e){this.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message}),console.log("load extend error")}},e.prototype.exist=function(e,t,r){var n=this;ne[t]?(this.process(e,ne[t]),console.log("\u5df2\u6709"+e+"\u63d2\u4ef6\uff0c\u907f\u514d\u91cd\u590d\u52a0\u8f7d~")):this.loadPlugin(e,r,(function(){n.process(e,ne[t]),console.log(" %c %s %s %s","color: yellow; background-color: black;","\u2013","load plugin:"+e+" success","-")}),(function(){console.log(" %c %s %s %s","color: red; background-color: yellow;","\u2013","load plugin:"+e+" error","-")}))},e.prototype.process=function(e,t,r){try{var n;r?((n=new t).apply&&n.apply(this.collect,this.config),console.log("excude "+e+" success")):t&&t(this.collect,this.config)}catch(t){this.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:t.message}),console.log("excude "+e+" error, message:"+t.message)}},e.prototype.loadPlugin=function(e,t,r,n){var i=this;try{var o=document.createElement("script");o.src=t,this._plugin[e]||(this._plugin[e]=[]),this._plugin[e].push(r),o.onerror=function(){n(t)},o.onload=function(){i._plugin[e].forEach((function(e){e()}))},document.getElementsByTagName("head")[0].appendChild(o)}catch(e){this.collect.emit(y.DEBUGGER_MESSAGE,{type:y.DEBUGGER_MESSAGE_SDK,info:"\u53d1\u751f\u4e86\u5f02\u5e38",level:"error",time:Date.now(),data:e.message})}},e}(),oe=(Y.usePlugin(ie,"extend"),Y.usePlugin(t,"et"),Y.usePlugin(Q,"profile"),Y.usePlugin(ee,"heartbeat"),Y.usePlugin(te,"monitor"),ie=new Y("default")),se={selectRoute:900,browserError:1e3,crc32:1e3,preUpload:1001,initUploadID:1002,process:1003,fileMerge:1004,complete:1005},ae="video",ce="image",le="object",ue={video:"video_upload",image:"image_upload",object:"object_upload"},de="vod",he="imagex";function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(){return(fe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ge(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){return e=function(e,t){if("object"!==pe(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==pe(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===pe(e)?e:String(e)}(n.key),n)}}var me=function(){function e(t,r){switch(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=t,this.context=r,this.teaLog=oe,this.options.region){case"us-east-1":case"us-east-2":case"us-east-5":case"us-east-red":case"gcp":case"US-TTP":default:this.tea_app_id=2643,this.tea_channel="va";break;case"boei18n":case"ap-singapore-1":this.tea_app_id=2643,this.tea_channel="sg"}this.teaLog.init({app_id:this.tea_app_id,channel:this.tea_channel,log:!1,disable_sdk_monitor:!0,disable_auto_pv:!0}),this.teaLog.config({evtParams:{sdk_version:"2.0.3",line_app_id:this.options.appId},user_unique_id:this.options.userId}),this.teaLog.start()}return function(e,t,r){t&&ge(e.prototype,t),r&&ge(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"send",value:function(e){var t=this.context,r=e.key,n=(t=t.tasks[r],se[e.stage]||999),i=(t=e.fileType||t&&t.fileType,e.fileSize||0),o={log_type:ue[t],stage:n,fk:r,fs:i,req:e.req,res:e.res,ts:Math.round(Date.now()/1e3),sst:e.stageStartTime,set:e.stageEndTime,dur:e.duration,tdur:e.totalDuration,durs:e.duration/1e3,tdurs:e.totalDuration/1e3,eslr:e.enableSelectRoute,ucsrr:e.useClientSelectRouteResult,skipCommit:!!e.skipCommit},s=(r="error"===(r=e.type)||"retry"===r?r:n,"".concat("image"===t?"image":"video","_")+r);switch(n){case 1e3:this.teaLog.event(s,fe({},o,{type:e.type,errc:e.extra&&e.extra.errorCode,ex:JSON.stringify({errc:e.extra&&e.extra.errorCode,msg:e.extra&&e.extra.message,crc32Array:e.crc32Array,isDirect:e.isDirect})}));break;case 1001:this.teaLog.event(s,fe({},o,{type:e.type,oid:e.oid,upload_host:e.tosDomain,errc:e.extra&&e.extra.errorCode,ex:JSON.stringify({errc:e.extra&&e.extra.errorCode,err:e.extra&&e.extra.error,msg:e.extra&&e.extra.message,sig:e.signature,stk:e.proxyStsToken})}));break;case 1002:this.teaLog.event(s,fe({},o,{type:e.type,oid:e.oid,upload_host:e.tosDomain,errc:e.extra&&e.extra.errorCode,ex:JSON.stringify({errc:e.extra&&e.extra.errorCode,msg:e.extra&&e.extra.message,upid:e.uploadID})}));break;case 1003:e.isAllFinish||e.isDirect||(delete o.sst,delete o.set,delete o.dur),this.teaLog.event(s,fe({},o,{type:e.type,oid:e.oid,errc:e.extra&&e.extra.errorCode,upload_host:e.tosDomain,af:e.isAllFinish,cst:e.crc32StartTime,cet:e.crc32EndTime,cdur:e.crc32Duration,slst:e.sliceStartTime,slet:e.sliceEndTime,sldurs:e.sliceDuration&&e.sliceDuration/1e3,ex:JSON.stringify({errc:e.extra&&e.extra.errorCode,msg:e.extra&&e.extra.message,si:e.sliceIndex,af:e.isAllFinish})}));break;case 1004:default:this.teaLog.event(s,fe({},o,{type:e.type,oid:e.oid,upload_host:e.tosDomain,errc:e.extra&&e.extra.errorCode,ex:JSON.stringify({errc:e.extra&&e.extra.errorCode,msg:e.extra&&e.extra.message})}));break;case 1005:this.teaLog.event(s,fe({},o,{type:e.type,oid:e.oid,upload_host:e.tosDomain,errc:e.extra&&e.extra.errorCode,speed:Math.round(i/(e.totalDuration/1e3)/1024),ex:JSON.stringify({errc:e.extra&&e.extra.errorCode,err:e.extra&&e.extra.error,msg:e.extra&&e.extra.message,vid:e.uploadResult&&e.uploadResult.Vid})}));break;case 900:this.teaLog.event(s,fe({},o,{type:e.type,errc:e.extra&&e.extra.errorCode,race_info:e.raceInfo,client_ip:e.lastClientIp,uc:e.useCache,ex:JSON.stringify({errc:e.extra&&e.extra.errorCode,err:e.extra&&e.extra.error,msg:e.extra&&e.extra.message})}))}}},{key:"console",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){this.options.debug&&console.log(e)}))}]),e}(),ye=(t=r(5),r.n(t)),ve=(Q=r(4),r.n(Q)),be={urlTemplate:function(e,t){var r;return t=t||{},Object.keys(t).forEach((function(n){r=new RegExp("{".concat(n,"}"),"g"),e=e.replace(r,t[n])})),e},toQueryString:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map((function(t){return"".concat(t,"=").concat(encodeURIComponent(e[t]))})).join("&")},supportChunked:function(){var e=window.Blob||window.WebKitBlob;try{var t=e.prototype;return!(!FormData||!(t.slice||t.webkitSlice||t.mozSlice))}catch(e){return!1}},supportXhr:function(){return!!window.FormData||window.ProgressEvent&&window.FileReader},supportCrc32:function(){var e=window.FileReader&&window.FileReader.prototype.readAsBinaryString;return"undefined"!=typeof Int32Array&&e&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice)},storage:function(e){var t=e;e={removeItem:function(e){delete t.cache[e]},setItem:function(e,r){t.cache[e]=r},getItem:function(e){return t.cache[e]},clear:function(){delete t.cache,t.cache={}}};try{if(window.localStorage)return window.localStorage.setItem("",""),window.localStorage}catch(e){}return e},noop:function(){},getUnique:function(e){return"".concat(e,"_").concat((new Date).getTime(),"_").concat(parseInt(1e6*Math.random()))},getFileSliceLength:function(e,t){var r=e.size,n=1048576;return t&&"function"==typeof t?t(r)<2097152?2097152:t(r)||r:200*n<r?10*n:r<=200*n&&2*n<=r?5*n:e.size},getFileSuffix:function(e){if(e&&"[object String]"===Object.prototype.toString.call(e)){var t=e.lastIndexOf(".");if(0<t&&(e="."+e.substring(t+1)).length<=8)return e}},fileSlice:function(e,t,r){return(e.slice||e.webkitSlice||e.mozSlice).call(e,t,r)},getPathByURL:function(e){return/^(?:(https?\:)\/\/)?(([^:\/?#]*)(?:\:([0-9]+))?)([\/]{0,1}[^?#]*)(\?[^#]*|)(#.*|)$/.exec(e)[5]||"/"},crypto:{hmac:function(e,t){return ye()(t,e)},sha256:function(e){return ve()(e)}},date:{iso8601:function(e){return(e=void 0===e?be.date.getDate():e).toISOString().replace(/\.\d{3}Z$/,"Z")}},Buffer:Uint8Array,generateKey:function(e){for(var t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=r.charAt(Math.floor(62*Math.random()));return t}},_e=be;function we(e){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){return e=function(e,t){if("object"!==we(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==we(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===we(e)?e:String(e)}(n.key),n)}}function Oe(e,t){return(Oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ee(e){return(Ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ce=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oe(e,t)}(t,n.a);var e=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ee(e);return function(e,t){if(t&&("object"===we(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(r=Ee(this).constructor,Reflect.construct(n,arguments,r)):n.apply(this,arguments))}}(t);function t(){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=e.call(this)).xhr=new XMLHttpRequest,r._data=null,r}return function(e,t,r){t&&Se(e.prototype,t),r&&Se(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"_ajax",value:function(e){var t=this,r=this.xhr;r.upload.onprogress=function(e){t.emit("progress",e)},r.onreadystatechange=function(n){4===r.readyState&&(r.upload.onprogress=_e.noop,r.onreadystatechange=_e.noop,r.params=e,t._data&&t._data.url&&(r.currentUrl=t._data.url),200<=r.status&&r.status<300?t.emit("complete",r):400<=r.status&&t.emit("error",r))},r.onerror=function(){r.errText="unknow net error",t.emit("error",r)},r.ontimeout=function(){r.errText="timeout",t.emit("error",r)},r.onabort=function(){r.errText="abort",t.emit("error",r)},r.send(e)}},{key:"send",value:function(e){var t=this;return this._data=e,this.xhr.open(e.method||"POST",e.url||"",!0),e.headers&&Object.keys(e.headers).forEach((function(r){t.xhr.setRequestHeader(r,e.headers[r])})),this.xhr.timeout=e.timeout||0,e.ontimeout&&(this.xhr.ontimeout=e.ontimeout),e.binary?this.sendAsBinary(e):e.custom?"object"===we(e.custom)?this.sendAsCustom(JSON.stringify(e.custom)):"none"===e.custom?(delete e.custom,this.sendAsCustom()):this.sendAsCustom(e.custom):this.sendAsFormData(e)}},{key:"sendAsBinary",value:function(e){return this.xhr.setRequestHeader("Content-Type","application/octet-stream"),this.xhr.setRequestHeader("Content-Disposition",'attachment; filename="'.concat(encodeURI(e.filename),'"')),this._ajax(e.file)}},{key:"sendAsFormData",value:function(e){t=(t=e.formData?"function"==typeof e.formData?e.formData():e.formData:t)||[];for(var t,r=new FormData,n=0,i=t.length;n<i;n++){var o=r[n];r.append(o.name,o.value)}return e.file&&r.append(e.field,e.file,e.name),this._ajax(r)}},{key:"sendAsCustom",value:function(e){return this._ajax(e)}},{key:"abort",value:function(){this.xhr.onreadystatechange=_e.noop,this.xhr.abort()}},{key:"getResponse",value:function(){return this.xhr.response}},{key:"getText",value:function(){return this.xhr.responseText}},{key:"getJson",value:function(){return JSON.parse(this.xhr.responseText)}}]),t}(),xe=(ee=r(1),r.n(ee));function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)),n}function Ie(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(r),!0).forEach((function(t){!function(e,t,r){(t=De(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Pe(){return(Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function je(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,De(n.key),n)}}function De(e){return e=function(e,t){if("object"!==Te(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==Te(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===Te(e)?e:String(e)}function Ae(e,t){return(Ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Me=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ae(e,t)}(t,n.a);var e=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Re(e);return function(e,t){if(t&&("object"===Te(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(r=Re(this).constructor,Reflect.construct(n,arguments,r)):n.apply(this,arguments))}}(t);function t(r,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this)).options=r,i.config=n,i.uploaderCtx=r.context,i.file=r.file,i.cacheKey="__bd_uploader_cache",i}return function(e,t,r){t&&je(e.prototype,t),r&&je(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"start",value:function(e,t){this._st=Date.now(),this.uploaderCtx._broadcast("startSelectRoute",null,!0),this.clientIp=e.clientIp,this.selectRouteTimeout=e.selectRouteTimeout||5e3,this.selectRouteCacheTime=e.selectRouteCacheTime||36e5,this.selectRouteFileSize=e.selectRouteFileSize||2097152,this.completeCallback=t,(e=this.checkSelect({clientIp:this.clientIp}))?this.success(e,null,!0):this.startSelectRoute()}},{key:"checkSelect",value:function(e){e=e.clientIp;var t=null;try{t=JSON.parse(this.uploaderCtx.storage.getItem(this.cacheKey))}catch(e){return null}if(t){var r=t.lastClientIp,n=t.lastSelectRouteTime;if(e&&e!==r)return null;if((new Date).getTime()-n<this.selectRouteCacheTime)return t}return null}},{key:"startSelectRoute",value:function(){var e=this,t=this.config.region,r=new Ce,n=(r.on("complete",(function(t){if(t.response)try{var r,n=JSON.parse(t.response);n.ResponseMetadata.Error?e.fail({xhr:t,errorCode:n.ResponseMetadata.Error.CodeN,error:n.ResponseMetadata.Error.Code,message:n.ResponseMetadata.Error.Message}):(r=n.Result.Domains,e.race(r,t))}catch(r){e.fail({error:"catch error: ".concat(r.toString()),xhr:t})}else e.fail({error:"request fail: ".concat(t.statusText||t.errText||"UNKNOWN"),xhr:t})})),r.on("error",(function(t){var r={error:"request fail: ".concat(t.statusText||t.errText||"UNKNOWN"),xhr:t};t.response&&(t=JSON.parse(t.response)).ResponseMetadata&&t.ResponseMetadata.Error&&(r.errorCode=t.ResponseMetadata.Error.CodeN,r.error=t.ResponseMetadata.Error.Code,r.message=t.ResponseMetadata.Error.Message),e.fail(r)})),this.config.videoHost),i=de,o=this.config.videoConfig&&this.config.videoConfig.spaceName,s=(o={Action:"GetUploadCandidates",Version:"2020-11-19",SpaceName:o=this.options.type===le&&this.config.objectConfig&&this.config.objectConfig.spaceName?this.config.objectConfig.spaceName:o},this.options.stsToken),a=_e.toQueryString(o),c=s.AccessKeyID,l=s.AccessKeyId,u=s.SecretAccessKey,d=s.SessionToken;s=s.CurrentTime,n={method:"GET",url:"".concat(n,"?").concat(a),timeout:3e4,region:t,params:o},a=new xe.a(n,i),this.config.useServerCurrentTime&&6e4<Math.abs(new Date(s)-new Date)&&(this.systemTimeGap=new Date(s)-new Date),t=this.systemTimeGap?new Date((new Date).getTime()+this.systemTimeGap):new Date,a.addAuthorization({accessKeyId:l||c,secretAccessKey:u,sessionToken:d},t),r.send(n)}},{key:"race",value:function(e,t){var r=this,n=this.file,i=(n.slice||n.webkitSlice||n.mozSlice).call(n,0,Math.min(this.selectRouteFileSize,n.size)),s=e.map((function(e){return{domainName:e.Name,domainInfo:e,percent:0,startTime:(new Date).getTime(),endTime:(new Date).getTime(),complete:!1}})),a=0,c=s.length;s.forEach((function(e,n){var i=new Ce;i.on("complete",(function(){s[n].endTime=(new Date).getTime(),s[n].complete=!0,s.forEach((function(e,t){n!==t&&e.transport&&e.transport.abort()})),r.formatRaceInfo(s,t)})),i.on("error",(function(e){s[n].endTime=(new Date).getTime(),s[n].complete=!0,s[n].error=e.errText,c<=++a&&r.formatRaceInfo(s,t)})),i.on("progress",(function(e){e=e.loaded/e.total,s[n].percent=e})),s[n].transport=i})),s.forEach((function(e){var t={oid:(n=e.domainInfo).StoreID,tosDomain:"".concat(r.config.schema,"://").concat(n.Name)},n=(t=_e.urlTemplate(o,t)+"?speedtest",n.Sign);e.transport.send({method:"post",url:t,headers:{Authorization:n,"Content-CRC32":"ignore"},file:i,binary:1,timeout:r.selectRouteTimeout})}))}},{key:"formatRaceInfo",value:function(e,t){e.sort((function(e,t){return e.percent<t.percent?1:e.percent>t.percent?-1:e.error?1:t.error?-1:0})),e.forEach((function(e){delete e.transport})),e={lastClientIp:this.clientIp,lastSelectRouteTime:(new Date).getTime(),raceInfo:e,type:"success"},this.uploaderCtx.storage.setItem(this.cacheKey,JSON.stringify(e)),this.success(e,t)}},{key:"success",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];t=t&&this.formatXhr(t),this.uploaderCtx.logger.send(Pe(Ie(Ie({stage:"selectRoute",stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,fileSize:this.file&&this.file.size},t),{},{useCache:r}),e)),this.uploaderCtx._broadcast("completeSelectRoute",Ie(Ie({},e),{},{useCache:r}),!0),this.completeCallback({selectRouteResult:e.raceInfo})}},{key:"fail",value:function(e){var t={error:e.error,errorCode:e.errorCode,message:e.message};this.uploaderCtx.logger.send(Pe(Ie({stage:"selectRoute",stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,fileSize:this.file&&this.file.size,extra:t,type:"warn"},this.formatXhr(e.xhr)))),this.uploaderCtx._broadcast("completeSelectRoute",Ie({type:"warn"},t),!0),this.completeCallback()}},{key:"formatXhr",value:function(e){return{req:{url:e.currentUrl,param:e.params},res:{status:e.status,header:e.getAllResponseHeaders(),body:e.responseText}}}}]),t}(),Ne=function(e,t){for(var r=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117],n=("undefined"!=typeof Int32Array&&(r=new Int32Array(r)),-1^~~t),i=(e=new Uint8Array(e)).length,o=0;o<i;o++)n=r[255&(n^e[o])]^n>>>8;return(-1^n)>>>0},Fe=function(e){if(void 0!==e)return function e(t){return t.length<8?e(t="0".concat(t)):t}(Number(e).toString(16))};function ze(e){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){return e=function(e,t){if("object"!==ze(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==ze(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===ze(e)?e:String(e)}(n.key),n)}}var Ze=function(){function e(t,r,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.file=t,this.successProcess=n,this.failProcess=i,this.sliceLength=r,this.retryTime=0,this.fileSize=t.size,this.crc32Array=[]}return function(e,t,r){t&&Le(e.prototype,t),r&&Le(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"start",value:function(){this.readFileCrc32(this.file)}},{key:"readFileCrc32",value:function(e){var t=this,r=this.sliceLength,n=e.slice||e.webkitSlice||e.mozSlice,i=new FileReader,o=0,s=0,a=0;!function c(){s<e.size&&(s=Math.min(o+r,e.size),104857600<e.size)&&e.size-s<=5242880&&(s=e.size),i.readAsArrayBuffer(n.call(e,o,s)),i.onload=function(r){r=r.target.result,a=Ne(r,0),t.crc32Array.push({start:o,end:s,crc32:Fe(a),buffer:r}),(o=s)<e.size?c():t.success(t.crc32Array)}}()}},{key:"success",value:function(e){this.successProcess(e)}},{key:"fail",value:function(e,t,r,n){3<=this.retryTime?this.failProcess():(this.readFileCrc32(e,t,r,n),this.retryTime++)}}]),e}(),Be=1000002,Ue=1000003,$e=1003e3,Ge="The format of stsToken is incorrect.";function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(){return(Ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function We(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){return e=function(e,t){if("object"!==He(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==He(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===He(e)?e:String(e)}(n.key),n)}}var qe=function(){function e(t){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.context=t.context,this.key=t.key,this.isDirect=t.isDirect,this.isImageBatchUpload=t.isImageBatchUpload,this.file=t.file,this.type=(this.isImageBatchUpload?null==(t=this.file[0])?void 0:t.type:null==(t=this.file)?void 0:t.type)||"",this.sliceLength=_e.getFileSliceLength(this.file,r.getSliceFunc),this.config=r}return function(e,t,r){t&&We(e.prototype,t),r&&We(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(e,[{key:"start",value:function(e,t,r){this.successProcess=t,this.failProcess=r,this._st=Date.now(),this.crc32(this.file,this.sliceLength)}},{key:"crc32",value:function(e,t){var r=this;if(this.isImageBatchUpload)for(var n=e.length,i=[],o=function(t){new Ze(e[t],e[t].size,(function(e){i[t]=e[0],i.filter((function(e){return!!e})).length===n&&r.success(i)}),(function(e){r.fail(e)})).start()},s=0;s<n;s++)o(s);else!e||!e.size||e.size<=0?this.fail({errorCode:Ue,message:"There is a problem with the input file or fileSize."}):this.isDirect?new Ze(e,e.size,(function(e){r.success(e)}),(function(e){r.fail({errorCode:Ue,message:"get crc32 error: ".concat(e&&e.message)})})).start():this.sliceFile(e,t,(function(e){r.success(e)}),(function(e){r.fail(e)}))}},{key:"sliceFile",value:function(e,t,r,n){for(var i=[],o=t,s=e.size,a=e.slice||e.webkitSlice||e.mozSlice,c=0,l=0,u=0;l<s;)l=Math.min(c+o,s),i.push({start:c,end:l=104857600<s&&s-l<=5242880?s:l,crc32:0}),c=l;try{!function t(o){var c=new FileReader,l=i[o].start,d=i[o].end;c.readAsArrayBuffer(a.call(e,l,d)),c.onload=function(e){e=e.target.result,u=Fe(Ne(e,0)),i[o].crc32=u,d===s?r(i):t(i.length-1)},c.onerror=function(e){var t=e.target.error.name;e=e.target.error.message,n({crc32Array:i,errorCode:1000003,message:t+": "+e})}}(0)}catch(t){n({message:t&&t.toString()})}}},{key:"getCrc32Key",value:function(e,t){return t="[object Array]"===Object.prototype.toString.call(t)?function(e){return function(e){if(Array.isArray(e))return Ke(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var r;if(e)return"string"==typeof e?Ke(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ke(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t):[t],t.push(e[0].crc32,e[e.length-1].crc32),this.config.instanceId&&t.push(this.config.instanceId),t.join("_")}},{key:"success",value:function(e){var t=this.context,r=this.key,n=[],i=[];if(this.isImageBatchUpload)for(var o=0;o<this.file.length;o++)n.push(this.file[o].size),i.push(this.file[o].name);else n=this.file.size,i=this.file.name;var s=this.getCrc32Key(e,n);(t=t.tasks[r])&&this.successProcess(Ve(t,{key:r,crc32Array:e,crc32Key:s,sdkVersion:"2.0.3",sliceLength:this.sliceLength,extra:{message:"get crc32 success"},stage:"crc32",type:"success",fileSize:n,fileName:i,stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st,isDirect:this.isDirect,isImageBatchUpload:this.isImageBatchUpload}))}},{key:"fail",value:function(e){var t=this.context,r=this.key,n=e&&e.message?e.message:"get crc32 error",i=e&&e.errorCode;e=e&&e.crc32Array,t=Ve(t.tasks[r],{crc32Array:e,extra:{message:n,errorCode:i},type:"error",stage:"crc32",stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st}),this.failProcess(t)}}]),e}(),Xe=function(e){return!e||e.SessionToken&&e.SecretAccessKey&&(e.AccessKeyId||e.AccessKeyID)},Je=function(e,t,r){if(r===de||r===he)return r;if(e!==ae){if(e===ce)return he;if(e===le){if(t.objectConfig&&t.objectConfig.spaceName)return de;if(t.objectConfig&&t.objectConfig.serviceId)return he;if(t.videoConfig&&t.videoConfig.spaceName)return de;if(t.imageConfig&&t.imageConfig.serviceId)return he}}return de};function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qe(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)),n}function et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qe(Object(r),!0).forEach((function(t){!function(e,t,r){(t=nt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tt(){return(tt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function rt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nt(n.key),n)}}function nt(e){return e=function(e,t){if("object"!==Ye(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==Ye(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===Ye(e)?e:String(e)}function it(e,t){return(it=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ot(e){return(ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var st=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&it(e,t)}(t,n.a);var e=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ot(e);return function(e,t){if(t&&("object"===Ye(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(r=ot(this).constructor,Reflect.construct(n,arguments,r)):n.apply(this,arguments))}}(t);function t(r,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this)).options=r,i.config=n,i.uploaderCtx=r.context,i.currFileCtx=r.context.tasks[r.key],i.systemTimeGap=0,i.retryTime=n.retryTaskTime||2,i.hasRetryTime=0,i.isImageBatchUpload=!!i.options.isImageBatchUpload,i.isDirect=i.options.isDirect,i}return function(e,t,r){t&&rt(e.prototype,t),r&&rt(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"start",value:function(e,t,r){this.startOptions=e,this.failProcess=r,this.successProcess=t,this._st=Date.now(),r=(e=this.uploaderCtx._getCache(this.currFileCtx.crc32Key))?JSON.parse(e):{},!this.isDirect&&r.oid&&r.UploadID?this.resumeFromCache(r):this.startPreUpload()}},{key:"startPreUpload",value:function(){var e=this,t=this.config.region,r=new Ce,n=(r.on("complete",(function(t){if(t.response){var r=null;try{var n=JSON.parse(t.response);if(n.ResponseMetadata.Error)return e.fail({xhr:t,errorCode:n.ResponseMetadata.Error.CodeN,error:n.ResponseMetadata.Error.Code,message:n.ResponseMetadata.Error.Message});var i,o,s,a,c,l,u,d=Je(e.options.type,e.config,e.options.serviceType),h=n.Result,p=d===he?h.UploadAddress:h.InnerUploadAddress.UploadNodes[0],f=p.StoreInfos,g=p.UploadHosts,m=p.SessionKey,y=p.UploadHeader,v=void 0===y?{}:y,b=d===he?g[0]:p.UploadHost,_=null==(i=f[0])?void 0:i.UploadID,w=[],S=[];e.isImageBatchUpload&&1<f.length?f.forEach((function(e){w.push(e.Auth),S.push(e.StoreUri)})):(w=f[0].Auth,S=f[0].StoreUri),d===de&&(o=h.InnerUploadAddress.UploadNodes).length&&1<o.length&&(a={SessionKey:(s=o[1]).SessionKey,UploadHeader:s.UploadHeader,StoreInfo:s.StoreInfos[0],UploadHost:s.UploadHost}),e.startOptions&&e.startOptions.enableSelectRoute&&(u=!0,e.startOptions.selectRouteResult)&&(l=!(((c=e.startOptions.selectRouteResult)[0]&&c[0].domainName)!==b)),r=tt(e.currFileCtx,{key:e.options.key,useBackupDomain:e.uploaderCtx.useBackupDomain,signature:w,type:"success",extra:{message:"prepare upload success"},stage:"preUpload",oid:S,systemTimeGap:e.systemTimeGap,tosDomain:"".concat(e.config.schema,"://").concat(b),xhr:t,UploadHeader:v,SessionKey:m,UploadID:_,fallbackStoreInfo:a,stageStartTime:e._st,stageEndTime:Date.now(),duration:Date.now()-e._st,totalDuration:Date.now()-e._st+e.currFileCtx.totalDuration,useClientSelectRouteResult:l,enableSelectRoute:u})}catch(r){return e.fail({error:"catch error: ".concat(r.message||r.toString()),xhr:t})}return e.successProcess(r)}return e.fail({error:"request fail: ".concat(t.statusText||t.errText||"UNKNOWN"),xhr:t})})),r.on("error",(function(t){var r;(e.options.type===ce&&e.config.imageFallbackHost||e.options.type===ae&&e.config.videoFallbackHost)&&!e.uploaderCtx.useBackupDomain?(e.hasRetryTime<e.retryTime-1?e.hasRetryTime++:e.uploaderCtx.useBackupDomain=!0,e.startPreUpload()):(r={error:"request fail: ".concat(t.statusText||t.errText||"UNKNOWN"),xhr:t},t.response&&(t=JSON.parse(t.response)).ResponseMetadata&&t.ResponseMetadata.Error&&(r.errorCode=t.ResponseMetadata.Error.CodeN,r.error=t.ResponseMetadata.Error.Code,r.message=t.ResponseMetadata.Error.Message),e.fail(r))})),""),i={},o=this.uploaderCtx.useBackupDomain,s=Je(this.options.type,this.config,this.options.serviceType),a=(s===he&&(n=o?this.config.imageFallbackHost:this.config.imageHost,i={Action:"ApplyImageUpload",Version:"2018-08-01"},this.options.type===ce&&(this.config.imageConfig&&this.config.imageConfig.serviceId?i.ServiceId=this.config.imageConfig.serviceId:i.SpaceName=this.config.videoConfig&&this.config.videoConfig.spaceName),this.options.type===le&&(i.ServiceId=this.config.objectConfig&&this.config.objectConfig.serviceId||this.config.imageConfig&&this.config.imageConfig.serviceId),this.currFileCtx.fileSize&&1<this.currFileCtx.fileSize.length&&(i.UploadNum=this.currFileCtx.fileSize.length),this.options.storeKey)&&(a=this.options.storeKey,"[object Array]"===Object.prototype.toString.call(a)?i.StoreKeys=a:"[object String]"===Object.prototype.toString.call(a)&&(i.StoreKeys=[a])),s===de&&(a=this.config.videoConfig&&this.config.videoConfig.spaceName,this.options.type===le&&this.config.objectConfig&&this.config.objectConfig.spaceName&&(a=this.config.objectConfig.spaceName),n=o?this.config.videoFallbackHost:this.config.videoHost,i={Action:"ApplyUploadInner",Version:"2020-11-19",SpaceName:a,FileType:this.options.type,IsInner:1},this.currFileCtx.fileSize&&(i.FileSize=this.currFileCtx.fileSize),this.config.enOID&&(i.EnOID=1),(this.options.testHost||this.config.testHost)&&(i.TestHost=this.options.testHost||this.config.testHost),this.startOptions)&&this.startOptions.selectRouteResult&&(o=this.startOptions.selectRouteResult,i.ClientBestHosts=o.map((function(e){return e.domainName})).join(",")),this.config.useFileExtension&&this.currFileCtx.fileName&&(this.options.type===le||this.options.type===ce)&&(a=this.currFileCtx.fileName,o=_e.getFileSuffix(a))&&(i.FileExtension=o),this.config.accountId&&(i["X-Account-Id"]=this.config.accountId),this.options.type!==ce&&this.options.type!==le||!this.config.bizType||(i.BizType=this.config.bizType,i.AppID=this.config.appId,i.UserID=this.config.userId),this.config.openExperiment&&(i.app_id=this.config.appId,i.user_id=this.config.userId),i.s=Math.random().toString(36).substr(2),this.options.fileSize&&(i.FileSize=this.options.fileSize),this.currFileCtx.proxyStsToken||this.config.stsToken),c=(o=_e.toQueryString(i),a.AccessKeyID),l=a.AccessKeyId,u=a.SecretAccessKey,d=a.SessionToken;a=a.CurrentTime,o={method:"GET",url:"".concat(n,"?").concat(o),timeout:this.config.gatewayTimeout||3e4,region:t,params:i,pathname:_e.getPathByURL(n)},t=new xe.a(o,s),this.config.useServerCurrentTime&&6e4<Math.abs(new Date(a)-new Date)&&(this.systemTimeGap=new Date(a)-new Date),i=this.systemTimeGap?new Date((new Date).getTime()+this.systemTimeGap):new Date,t.addAuthorization({accessKeyId:l||c,secretAccessKey:u,sessionToken:d},i),r.send(o)}},{key:"resumeFromCache",value:function(e){var t=this,r=this.options.key,n=new Ce,i=(n.on("complete",(function(n){var i=null;try{var o=JSON.parse(n.response);if(!(2e3===o.code&&0<o.data.partlist.length))return t.startPreUpload();var s=t.confirmCache(o.data.partlist),a=e.hasMerge?5:s.isAllFinished?4:3;i=tt(t.currFileCtx,e,{key:r,xhr:n,extra:{message:"prepare upload from cache success"},stage:"preUpload",type:"success",percent:0,cacheTask:a,proxyStsToken:t.options.stsToken,currentTask:1,status:1,isBreak:1,crc32Array:s.crc32Array,stageStartTime:t._st,stageEndTime:Date.now(),duration:Date.now()-t._st,totalDuration:Date.now()-t._st+t.currFileCtx.totalDuration})}catch(n){return t.startPreUpload()}t.successProcess(i)})),n.on("error",(function(e){400<=e.status?t.startPreUpload():t.fail({error:"request error",xhr:e})})),this.config.userId);n.send({method:"get",url:_e.urlTemplate("{tosDomain}/upload/v1/{oid}?uploadid={uploadId}&action=part_list",{tosDomain:e.tosDomain,oid:e.oid,uploadId:e.UploadID}),headers:et({Authorization:e.signature,"X-Storage-U":encodeURIComponent(i)},e.UploadHeader),timeout:3e4})}},{key:"confirmCache",value:function(e){var t=this.currFileCtx.crc32Array,r={},n=(e.forEach((function(e){void 0===r[e.num-1]&&(r[e.num-1]={tag:!0,crc32:e.crc32})})),!0);return e=t.map((function(e,t){return r[t]&&r[t].tag&&r[t].crc32?(e.crc32=r[t].crc32,e.finished=!0,e.loaded=e.end-e.start):n=!1,e})),{isAllFinished:n,crc32Array:e}}},{key:"fail",value:function(e){var t=this,r=e.xhr,n=e.errorCode||1001e3,i="prepare upload error: UNKNOWN";r&&(i=0===r.status?"prepare upload error: NETERROR":e.message||"prepare upload error: ".concat(r.status)),i=tt(this.currFileCtx,{extra:{message:i,error:e.error,errorCode:n},type:"error",stage:"preUpload",xhr:r,stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st+this.currFileCtx.totalDuration}),this.isImageBatchUpload&&(i.successImage=[],i.failImage=null==(e=this.currFileCtx)?void 0:e.crc32Array.map((function(e,r){return{crc32:e.crc32,fileSize:null==(e=t.currFileCtx)?void 0:e.fileSize[r],fileName:null==(e=t.currFileCtx)?void 0:e.fileName[r],finishSize:0,success:!1}}))),this.uploaderCtx._removeTaskCache(this.options.key),this.failProcess(i)}}]),t}();function at(e){return(at="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ct(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)),n}function lt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(r),!0).forEach((function(t){!function(e,t,r){(t=ht(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ut(){return(ut=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function dt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ht(n.key),n)}}function ht(e){return e=function(e,t){if("object"!==at(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==at(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===at(e)?e:String(e)}function pt(e,t){return(pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ft(e){return(ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pt(e,t)}(t,n.a);var e=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ft(e);return function(e,t){if(t&&("object"===at(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(r=ft(this).constructor,Reflect.construct(n,arguments,r)):n.apply(this,arguments))}}(t);function t(r,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this)).options=r,i.config=n,i.transport=new Ce,i.uploaderCtx=r.context,i.currFileCtx=r.context.tasks[r.key],i.eventInit(),i}return function(e,t,r){t&&dt(e.prototype,t),r&&dt(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"initUpload",value:function(e){e&&(e=this.currFileCtx.fallbackStoreInfo,ut(this.currFileCtx,{oid:e.StoreInfo.StoreUri,tosDomain:"".concat(this.config.schema,"://").concat(e.UploadHost),signature:e.StoreInfo.Auth,UploadHeader:e.UploadHeader,SessionKey:e.SessionKey}),this.uploaderCtx._saveTask(this.options.key)),e={oid:this.currFileCtx.oid,tosDomain:this.currFileCtx.tosDomain},e=_e.urlTemplate("{tosDomain}/upload/v1/{oid}?uploadmode=part&phase=init",e);var t=this.config.userId;this.transport.send({method:"post",url:e,headers:lt({Authorization:this.currFileCtx.signature,"X-Storage-U":encodeURIComponent(t)},this.currFileCtx.UploadHeader),timeout:this.config.initUploadTimeout||3e4})}},{key:"start",value:function(e,t,r){this.successProcess=t,this.failProcess=r,this._st=Date.now(),this.initUpload(e&&e.changeNodeRetry)}},{key:"eventInit",value:function(){var e=this;this.transport.on("complete",(function(t){var r=null;try{var n,i=JSON.parse(t.response),o=null==(n=i.data)?void 0:n.uploadid;if(2e3!==i.code||!o)return e.fail({error:"fail! response.code: ".concat(i.code,", fail message: ").concat(i.message),xhr:t});r=ut(e.currFileCtx,{UploadID:o,percent:0,type:"success",extra:{message:"init upload id success"},stage:"initUploadID",xhr:t,stageStartTime:e._st,stageEndTime:Date.now(),duration:Date.now()-e._st,totalDuration:Date.now()-e._st+e.currFileCtx.totalDuration})}catch(r){return e.fail({error:"catch error: ".concat(r.message||JSON.stringify(r)),xhr:t})}return e.successProcess(r)})),this.transport.on("error",(function(t){e.fail({error:"request fail: ".concat(t.statusText||t.errText||"UNKNOWN"),xhr:t})}))}},{key:"fail",value:function(e){var t=this.options.context,r=this.options.key;t=ut(t.tasks[r],{extra:{message:"init upload id error, ".concat(e.error),errorCode:1002e3},type:"error",stage:"initUploadID",xhr:e.xhr,stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st+this.currFileCtx.totalDuration}),this.uploaderCtx._removeTaskCache(this.options.key),this.failProcess(t)}}]),t}();function mt(e){return(mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yt(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)),n}function vt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(r),!0).forEach((function(t){!function(e,t,r){(t=_t(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function bt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,_t(n.key),n)}}function _t(e){return e=function(e,t){if("object"!==mt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==mt(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===mt(e)?e:String(e)}function wt(e,t){return(wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function St(e){return(St=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ot=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wt(e,t)}(t,n.a);var e=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=St(e);return function(e,t){if(t&&("object"===mt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(r=St(this).constructor,Reflect.construct(n,arguments,r)):n.apply(this,arguments))}}(t);function t(r){var n,i=r.sliceItem,o=r.crc32,s=r.url,a=r.signature,c=r.uploadHeader,l=r.userId,u=r.retryTime,d=r.timeout;return r=void 0===(r=r.method)?"POST":r,function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=e.call(this)).fileSlice=i,n.crc32=o,n.uploadUrl=s,n.uploadHeader=c,n.signature=a,n.userId=l,n.retryTime=u||0,n.method=r,n.retryCount=0,n.timeout=d||18e5,n.ready=!1,n.cancel=!1,n.transport=new Ce,n.eventInit(),n}return function(e,t,r){t&&bt(e.prototype,t),r&&bt(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"upload",value:function(e,t){this.isParamsValid()&&(this._st=Date.now(),this.transport&&this.transport.send({method:this.method,url:this.uploadUrl,headers:vt({Authorization:this.signature,"Content-CRC32":this.crc32,"X-Storage-U":encodeURIComponent(this.userId)},this.uploadHeader),file:this.fileSlice,binary:1,timeout:this.timeout}),e)&&this.emit("retry",t)}},{key:"isParamsValid",value:function(){return this.fileSlice&&(this.fileSlice.size||this.fileSlice.byteLength)?this.crc32?!!this.uploadUrl||(this.emit("error",{message:"slice upload failed: NOURL",crc32:this.crc32,size:this.fileSlice.size||this.fileSlice.byteLength}),!1):(this.emit("error",{message:"slice upload failed: NOCRC32",crc32:this.crc32,size:this.fileSlice.size||this.fileSlice.byteLength}),!1):(this.emit("error",{message:"slice upload failed: NOCONTENT",crc32:this.crc32}),!1)}},{key:"eventInit",value:function(){var e=this;this.transport.on("complete",(function(t){try{var r=JSON.parse(t.response);2e3===r.code?e.success(t):e.fail(t,r)}catch(r){e.fail(t)}})),this.transport.on("error",(function(t){e.fail(t)})),this.transport.on("progress",(function(t){e.process(t)}))}},{key:"success",value:function(e){this.ready=!0;var t=Date.now()-this._st,r=this.fileSlice.size||this.fileSlice.byteLength;this.emit("complete",{crc32:this.crc32,size:r,speed:r/t,xhr:e,sliceStartTime:this._st,sliceEndTime:Date.now(),sliceDuration:Date.now()-this._st})}},{key:"fail",value:function(e){var t,r,n=this;this.cancel||(t={crc32:this.crc32,size:this.fileSlice.size||this.fileSlice.byteLength,xhr:e,sliceStartTime:this._st,sliceEndTime:Date.now(),sliceDuration:Date.now()-this._st},e&&401===e.status?this.emit("error",vt({message:"slice upload failed: UNAUTHORIZED"},t)):(r="slice upload failed: UNKNOWN",e&&(r=e.status?"slice upload failed: ".concat(e.status):"slice upload failed: NETERROR"),this.retryCount<this.retryTime?(setTimeout((function(){n.upload(!0,vt({message:r},t))}),1e3),this.retryCount++):this.emit("error",vt({message:r},t))))}},{key:"process",value:function(e){this.cancel||this.emit("progress",{crc32:this.crc32,loaded:e.loaded||0,total:e.total||0})}},{key:"abort",value:function(){this.transport&&(this.cancel=!0,this.transport.abort())}},{key:"destroy",value:function(){this.transport=null}}]),t}(),Et=(te=r(2),r.n(te));function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xt(){return(xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Tt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function kt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){return e=function(e,t){if("object"!==Ct(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==Ct(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===Ct(e)?e:String(e)}(n.key),n)}}function It(e,t){return(It=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Pt(e){return(Pt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var jt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&It(e,t)}(t,n.a);var e=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Pt(e);return function(e,t){if(t&&("object"===Ct(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(r=Pt(this).constructor,Reflect.construct(n,arguments,r)):n.apply(this,arguments))}}(t);function t(r){var n,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=e.call(this)).file=r.file,n.context=r.context,n.key=r.key,n.config=i,n.finishArr=[],n.errorLength=0,n.finishSize=0,n.retryUploadTime=Number(i.retryUploadTime)||2,n.progressMonitorTime=Number(i.progressMonitorTime)||10,n.progressMonitorSpeed=Number(i.progressMonitorSpeed)||50,n.uploadSliceCount=Number(i.uploadSliceCount)||3,n.realtimeSpeedInterval=Number(i.realtimeSpeedInterval)||5,n.processRetry=0,n.lastFinishSize=-1,n.lastProcessPercent=-1,n.lastIntervalSize=-1,n.lastCalculateSpeedTime=-1,n.lastCalculateSpeedSize=0,n.uploadHandlers={},n}return function(e,t,r){t&&kt(e.prototype,t),r&&kt(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"start",value:function(e,t,r){this.failProcess=r,this.successProcess=t,this.errorLength=0,this.currentCtx=this.context.tasks[this.key],this.crc32Array=this.context.tasks[this.key].crc32Array,this.uploadSliceCount=this.uploadSliceCount>this.crc32Array.length?this.crc32Array.length:this.uploadSliceCount,this.lastIndex=0,this.uploading=[],this._uploadSize=this.crc32Array.reduce((function(e,t){return e+(t.finished?0:t.end-t.start)}),0),this._st=Date.now(),this._lastSaveTime=Date.now(),this.lastCalculateSpeedTime=this._st,this.initWorker(),this.setProgressMonitor(),this.threadUpload()}},{key:"initWorker",value:function(){var e,t=this;this.worker||(e=this.crc32Array,this.worker=new Et.a,this.worker.onmessage=function(r){r=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,s,a=[],c=!0,l=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(l)throw i}}return a}}(e,t)||function(e,t){var r;if(e)return"string"==typeof e?Tt(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Tt(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(r.data,4);var n=r[0],i=r[1],o=r[2],s=(r=r[3],(new Date).getTime()),a=e[o];a.crc32=i,a.crc32StartTime=r,a.crc32EndTime=s,a.crc32Duration=s-r,t.upload(a,n,o)})}},{key:"read",value:function(e,t){var r=this,n=this.file,i=n.slice||n.webkitSlice||n.mozSlice,o=new FileReader;o.onload=function(e){var n=(new Date).getTime();r.worker.postMessage([e.target.result,t,n,!!r.config.clientEncrypt,r.currentCtx.clientEncryptKey,r.crc32Array.length-1===t],[e.target.result])},o.onerror=function(){r.stop(),r.fail({extra:{message:"An error occurred reading the file",errorCode:1003003}})},o.readAsArrayBuffer(i.call(n,e.start,e.end))}},{key:"threadUpload",value:function(){if(this.uploading.length<this.uploadSliceCount){var e=this.lastIndex,t=this.crc32Array[e];if(t){if(t.finished){if(-1===this.finishArr.indexOf(t.start)&&(this.finishArr.push(t.start),this.finishArr.length>=this.crc32Array.length))return this.stop(),void this.success()}else t.loaded=0,this.uploading.push(e),this.read(t,e);this.lastIndex++,this.threadUpload()}}}},{key:"stop",value:function(){var e=this;Object.keys(this.uploadHandlers).forEach((function(t){e.uploadHandlers[t].abort(),e.uploadHandlers[t].destroy()})),this.uploadHandlers={},this.worker&&this.worker.terminate(),this.worker=null,this.clearMonitor()}},{key:"setProgressMonitor",value:function(){var e=this;this.progressMonitorInterval=setInterval((function(){var t,r=e.finishSize;r-e.lastIntervalSize<e.progressMonitorTime*e.progressMonitorSpeed*1024?(t=xt(e.currentCtx,{stage:"process",type:"warn",extra:{message:"percent are not updated in ".concat(e.progressMonitorTime," seconds")}}),e.context.logger.send(t),e.context._broadcast("slowProgress",t),e.clearMonitor()):e.lastIntervalSize=r}),1e3*this.progressMonitorTime)}},{key:"clearMonitor",value:function(){this.progressMonitorInterval&&clearInterval(this.progressMonitorInterval)}},{key:"upload",value:function(e,t,r){var n=this,o=e.crc32,s=(this.context._saveTask(this.key,{crc32Array:this.crc32Array}),{part_number:r+1,uploadId:this.currentCtx.UploadID,oid:this.currentCtx.oid,tosDomain:this.currentCtx.tosDomain}),a=(s=_e.urlTemplate(i,s),this.config.userId),c=this.config.uploadTimeout;(this.config.clientEncrypt||(t=_e.fileSlice(this.file,e.start,e.end)),t=new Ot({sliceItem:t,crc32:o,url:s,signature:this.currentCtx.signature,uploadHeader:this.currentCtx.UploadHeader,userId:a,method:"POST",retryTime:this.retryUploadTime,timeout:c})).on("complete",(function(t){1===n.currentCtx.status&&(t.start=e.start,t.crc32StartTime=e.crc32StartTime,t.crc32EndTime=e.crc32EndTime,t.crc32Duration=e.crc32Duration,t.index=r,n.fileSliceSuccess(t))})),t.on("error",(function(t){1===n.currentCtx.status&&(t.start=e.start,t.crc32StartTime=e.crc32StartTime,t.crc32EndTime=e.crc32EndTime,t.crc32Duration=e.crc32Duration,t.index=r,n.fail(t))})),t.on("progress",(function(t){1===n.currentCtx.status&&(t.start=e.start,t.index=r,n.process(t))})),t.on("retry",(function(t){1===n.currentCtx.status&&(t.start=e.start,t.index=r,n.retry(t))})),t.upload(),this.uploadHandlers[r]=t}},{key:"success",value:function(e){this.finishArr=[];var t=Date.now()-this._st;t=this._uploadSize/t,t=xt(this.currentCtx,{type:"success",stage:"process",percent:100,extra:{message:"upload all success"},speed:t,xhr:e,stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._lastSaveTime+this.currentCtx.totalDuration,isAllFinish:!0}),this.worker&&this.worker.terminate(),this.successProcess(t)}},{key:"fail",value:function(e){var t=this.errorFormat(e);t.type="error",void 0!==e.statusCode&&xt(this.currentCtx,{statusCode:e.statusCode}),this.errorLength||(this.context.logger.send(xt({},t)),this.stop(),this.context._broadcast("error",t),this.currentCtx.isBreak?this.context._cancel(this.key):this.context._pause(this.key),this.errorLength++)}},{key:"retry",value:function(e){e=this.errorFormat(e),this.context.logger.send(xt({},e,{type:"retry"}))}},{key:"fileSliceSuccess",value:function(e){var t,r=e.index,n=Date.now(),i=(-1===this.finishArr.indexOf(e.start)&&this.finishArr.push(e.start),this.crc32Array[r].finished=!0,this.crc32Array[r].speed=e.speed,{message:"slice upload success"});e.xhr&&(t=e.xhr,i.currentUrl=t.currentUrl||"",xt(this.currentCtx,{req:{url:t.currentUrl,param:t.params},res:{status:t.status,body:t.responseText,header:t.getAllResponseHeaders()}}),delete e.xhr),this.context.logger.send(xt(this.currentCtx,{stage:"process",type:"success",sliceIndex:r,extra:i,totalDuration:n-this._lastSaveTime+this.currentCtx.totalDuration,sliceStartTime:e.sliceStartTime,sliceEndTime:e.sliceEndTime,sliceDuration:e.sliceDuration,crc32StartTime:e.crc32StartTime,crc32EndTime:e.crc32EndTime,crc32Duration:e.crc32Duration})),this._lastSaveTime=n,this.context._saveTask(this.key),this.uploading.splice(this.uploading.indexOf(r),1),this.uploadHandlers[r]&&delete this.uploadHandlers[r],this.finishArr.length>=this.crc32Array.length?(this.stop(),this.success(e.xhr)):this.threadUpload()}},{key:"getFinishSize",value:function(e,t){var r=t.crc32,n=0;return e.forEach((function(e){e.crc32===r?(e.loaded=t.loaded,n+=t.loaded):(e.loaded||(e.loaded=0),n+=e.loaded)})),n}},{key:"process",value:function(e){var t=this.currentCtx.realtimeSpeed||0,r=this.currentCtx.fileSize,n=(this.finishSize=this.getFinishSize(this.crc32Array,e),this.finishSize>this.lastFinishSize&&((e=new Date).getTime()-this.lastCalculateSpeedTime>1e3*this.realtimeSpeedInterval&&(i=e.getTime()-this.lastCalculateSpeedTime,n=this.finishSize-this.lastCalculateSpeedSize,t=Math.floor(n/i),this.lastCalculateSpeedTime=e.getTime(),this.lastCalculateSpeedSize=this.finishSize),this.lastFinishSize=this.finishSize),Math.floor(this.finishSize/r*100*100)/100||0),i=xt(this.currentCtx,{stage:"process",percent:n,realtimeSpeed:t});n>this.lastProcessPercent&&100!==n&&(this.lastProcessPercent=n,this.context._broadcast("progress",i))}},{key:"errorFormat",value:function(e){var t=this.currentCtx.totalDuration,r=Date.now()-this._st,n=e.index,i=((i=e.crc32?{message:e.message,data:e.crc32,size:e.size}:e.extra).errorCode=i.errorCode||$e,xt(this.currentCtx,{extra:i,sliceIndex:n,stage:"process",req:{},res:{},totalDuration:r+t,sliceStartTime:e.sliceStartTime,sliceEndTime:e.sliceEndTime,sliceDuration:e.sliceDuration,crc32StartTime:e.crc32StartTime,crc32EndTime:e.crc32EndTime,crc32Duration:e.crc32Duration}));return e.xhr&&(n=e.xhr,i.req={url:e.xhr.currentUrl},i.res={status:n.status,body:n.responseText,header:n.getAllResponseHeaders()},delete e.xhr),i}}]),t}();function Dt(e){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function At(){return(At=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Rt(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)),n}function Mt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Nt(n.key),n)}}function Nt(e){return e=function(e,t){if("object"!==Dt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==Dt(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===Dt(e)?e:String(e)}function Ft(e,t){return(Ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function zt(e){return(zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Lt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ft(e,t)}(t,n.a);var e=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=zt(e);return function(e,t){if(t&&("object"===Dt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(r=zt(this).constructor,Reflect.construct(n,arguments,r)):n.apply(this,arguments))}}(t);function t(r,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this)).options=r,i.config=n,i.transport=new Ce,i.eventInit(),i.errorCount=0,i.uploaderCtx=r.context,i.currFileCtx=r.context.tasks[r.key],i}return function(e,t,r){t&&Mt(e.prototype,t),r&&Mt(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"mergeFile",value:function(){for(var e={oid:this.currFileCtx.oid,uploadId:this.currFileCtx.UploadID,tosDomain:this.currFileCtx.tosDomain},t=this.currFileCtx.crc32Array,r="",n=0;n<t.length;n++)r=(r?"".concat(r,","):"").concat(n+1,":").concat(t[n].crc32);e=_e.urlTemplate("{tosDomain}/upload/v1/{oid}?uploadmode=part&phase=finish&uploadid={uploadId}",e);var i=this.config.userId;i=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(r),!0).forEach((function(t){!function(e,t,r){(t=Nt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({Authorization:this.currFileCtx.signature,"X-Storage-U":encodeURIComponent(i)},this.currFileCtx.UploadHeader),this.config.clientEncrypt&&(i["x-upload-encryption-mode"]=2,i["x-upload-encryption-key"]=btoa(this.currFileCtx.clientEncryptKey)),this.transport.send({method:"post",url:e,headers:i,custom:r})}},{key:"start",value:function(e,t,r){this.successProcess=t,this.failProcess=r,this._st=Date.now(),this.mergeFile()}},{key:"eventInit",value:function(){var e=this,t=this.options.stage;this.transport.on("complete",(function(r){var n=null;try{var i,o=JSON.parse(r.response);if(2e3!==o.code||null==(i=o.data)||!i.key)return e.fail({error:"fail! response.code: ".concat(o.code,", fail message: ").concat(o.message),xhr:r});n=At(e.currFileCtx,{stage:t,type:"success",hasMerge:!0,extra:{message:"merge file success"},xhr:r,stageStartTime:e._st,stageEndTime:Date.now(),duration:Date.now()-e._st,totalDuration:Date.now()-e._st+e.currFileCtx.totalDuration})}catch(n){return e.fail({error:"response parse error: ".concat(n.message||JSON.stringify(n)),xhr:r})}return e.successProcess(n)})),this.transport.on("error",(function(t){e.fail({error:"request fail: ".concat(t.statusText||t.errText),xhr:t})}))}},{key:"getProcessIndex",value:function(e){var t=0;return e.forEach((function(e,r){"process"===e.stage&&(t=r)})),t}},{key:"fail",value:function(e){e=At(this.currFileCtx,{extra:{message:"merge file error, ".concat(e.error),errorCode:1004e3},type:"error",stage:this.options.stage,xhr:e.xhr,stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st+this.currFileCtx.totalDuration}),this.failProcess(e)}}]),t}();function Zt(e){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bt(){return(Bt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ut(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){return e=function(e,t){if("object"!==Zt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==Zt(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===Zt(e)?e:String(e)}(n.key),n)}}function $t(e,t){return($t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Gt(e){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ht=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$t(e,t)}(t,n.a);var e=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Gt(e);return function(e,t){if(t&&("object"===Zt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(r=Gt(this).constructor,Reflect.construct(n,arguments,r)):n.apply(this,arguments))}}(t);function t(r){var n,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=e.call(this)).options=r,n.file=r.file,n.context=r.context,n.key=r.key,n.isImageBatchUpload=r.isImageBatchUpload,n.config=i,n.finishArr=[],n.errorLength=0,n.finishSize=0,n.retryUploadTime=n.config.retryUploadTime||0,n.processRetry=0,n.lastFinishSize=-1,n.lastProcessPercent=-1,n.lastIntervalSize=-1,n.uploader={},n._uploadProcessMap={},n}return function(e,t,r){t&&Ut(e.prototype,t),r&&Ut(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"start",value:function(e,t,r){this.failProcess=r,this.successProcess=t,this.currentCtx=this.context.tasks[this.key],this.crc32Array=this.context.tasks[this.key].crc32Array,this._uploadSize=this.isImageBatchUpload?this.currentCtx.fileSize.reduce((function(e,t){return e+t})):this.file.size,this._st=Date.now(),this.upload()}},{key:"stop",value:function(){var e=this;this.uploader&&Object.keys(this.uploader).forEach((function(t){e.uploader[t]&&(e.uploader[t].abort(),e.uploader[t].destroy())}))}},{key:"upload",value:function(){for(var e=this,t=this.crc32Array.length,r=0,n=0,i=0;i<t;i++){var s=(a=this.crc32Array[i]).buffer,a=a.crc32,c=this.currentCtx.signature,l=(c="[object Array]"===Object.prototype.toString.call(c)?c[i]:c,this.currentCtx.oid),u={oid:l="[object Array]"===Object.prototype.toString.call(l)?l[i]:l,tosDomain:this.currentCtx.tosDomain},d=(u=_e.urlTemplate(o,u),this.config.userId),h=this.config.uploadTimeout,p=void 0,f=this.isImageBatchUpload?(p=this.currentCtx.fileSize[i],this.currentCtx.fileName[i]):(p=this.file.size,this.file.name);this._uploadProcessMap[a]&&this._uploadProcessMap[a].success?r+=1:(this._uploadProcessMap[a]={crc32:a,fileSize:p,fileName:f,oid:l,finishSize:0,success:!1},(p=new Ot({sliceItem:s,crc32:a,url:u,signature:c,uploadHeader:this.currentCtx.UploadHeader,userId:d,retryTime:this.retryUploadTime,method:"POST",timeout:h})).on("complete",(function(i){r++,e._uploadProcessMap[i.crc32].finishSize=i.size,e._uploadProcessMap[i.crc32].success=!0,n+r===t&&e.success(i.xhr)})),p.on("error",(function(r){++n===t&&e.fail(r)})),p.on("progress",(function(t){e.process(t)})),p.upload(),this.uploader[a]=p)}}},{key:"success",value:function(e){this.finishArr=[];var t=Date.now()-this._st,r=(t=this._uploadSize/t,Bt(this.currentCtx,{type:"success",stage:"process",percent:100,extra:{message:"direct upload success"},speed:t,xhr:e,stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st+this.currentCtx.totalDuration}));this.isImageBatchUpload&&(r.successImage=[],r.failImage=[],Object.values(this._uploadProcessMap).forEach((function(e){(e.success?r.successImage:r.failImage).push(e)}))),this.uploader=null,this._uploadProcessMap=null,this.successProcess(r)}},{key:"fail",value:function(e){e=Bt(this.currentCtx,{extra:{message:"direct upload error: ".concat(e.message||e.xhr.errText),errorCode:$e},type:"error",stage:"process",xhr:e.xhr,stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st+this.currentCtx.totalDuration}),this.isImageBatchUpload&&(e.failImage=Object.values(this._uploadProcessMap)),this.uploader=null,this._uploadProcessMap=null,this.failProcess(e)}},{key:"process",value:function(e){var t=this._uploadSize;this._uploadProcessMap[e.crc32].finishSize=Math.max(this._uploadProcessMap[e.crc32].finishSize,e.loaded),this.finishSize=Object.values(this._uploadProcessMap).reduce((function(e,t){return e+t.finishSize}),0),this.finishSize>this.lastFinishSize&&(this.lastFinishSize=this.finishSize),e=Math.floor(this.finishSize/t*100*100)/100||0,t=Bt(this.currentCtx,{stage:"process",percent:e}),e>this.lastProcessPercent&&100!==e&&(this.lastProcessPercent=e,this.context._broadcast("progress",t))}}]),t}();function Vt(e){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kt(){return(Kt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Wt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){return e=function(e,t){if("object"!==Vt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==Vt(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===Vt(e)?e:String(e)}(n.key),n)}}function qt(e,t){return(qt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Xt(e){return(Xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Jt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qt(e,t)}(t,n.a);var e=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Xt(e);return function(e,t){if(t&&("object"===Vt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(r=Xt(this).constructor,Reflect.construct(n,arguments,r)):n.apply(this,arguments))}}(t);function t(r){var n,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=e.call(this)).options=r,n.file=r.file,n.context=r.context,n.key=r.key,n.config=i,n.errorLength=0,n.retryUploadTime=Number(i.retryUploadTime)||2,n.maxUploadSliceCount=Number(i.uploadSliceCount)||5,n.uploadQueue=[],n.crc32Array=[],n.uploadSliceCount=0,n.isCalcCrc32=!1,n.isFileReading=!1,n.hasStarted=!1,n.hasCompleteUpload=!1,n}return function(e,t,r){t&&Wt(e.prototype,t),r&&Wt(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"start",value:function(e,t,r){this.failProcess=r,this.successProcess=t,this.currentCtx=this.context.tasks[this.key],this.hasStarted=!0,this._st=Date.now(),this.initWorker()}},{key:"initWorker",value:function(){var e=this;this.worker||(this.worker=new Et.a,this.worker.onmessage=function(t){e.isCalcCrc32=!1;var r=t.data[0],n=t.data[2],i=t.data[1];e.uploadQueue.forEach((function(t,o){t.index===n&&(e.uploadQueue[o].crc32=i,e.uploadQueue[o].fileSliceBuffer=r,e.crc32Array[n]={crc32:i})})),e.startUploadQueue()},this.startUploadQueue())}},{key:"addStreamSlice",value:function(e){var t=this,r=e.fileSlice,n=e.index;(this.isFileReading=!0,e=new FileReader).readAsArrayBuffer(r),e.onload=function(e){t.isFileReading=!1,e=e.target.result,t.uploadQueue.push({fileSliceBuffer:e,index:n}),t.hasStarted&&t.startUploadQueue()}}},{key:"completeStreamUpload",value:function(){this.hasCompleteUpload=!0,0!==this.uploadQueue.length||this.isFileReading||this.success()}},{key:"startUploadQueue",value:function(){var e;this.uploadSliceCount<=this.maxUploadSliceCount&&0<this.uploadQueue.length&&this.uploadQueue[0].crc32?(e=this.uploadQueue.shift(),this.uploadSliceCount++,this.upload({sliceItem:e.fileSliceBuffer,index:e.index,crc32:e.crc32})):0<this.uploadQueue.length&&!this.uploadQueue[0].crc32&&this.startCrc32Queue()}},{key:"startCrc32Queue",value:function(){if(!this.isCalcCrc32)for(var e=0;e<this.uploadQueue.length;e++){var t=this.uploadQueue[e];if(!t.crc32){this.isCalcCrc32=!0,this.worker.postMessage([t.fileSliceBuffer,t.index],[t.fileSliceBuffer]);break}}}},{key:"upload",value:function(e){var t=this,r=e.sliceItem,n=e.index,o=(e=e.crc32,this.currentCtx.signature),s={part_number:n+1,uploadId:this.currentCtx.UploadID,oid:this.currentCtx.oid,tosDomain:this.currentCtx.tosDomain},a=(s=_e.urlTemplate(i,s),this.config.userId);(r=new Ot({sliceItem:r,crc32:e,url:s,signature:o,uploadHeader:this.currentCtx.UploadHeader,userId:a,retryTime:this.retryUploadTime,method:"POST",timeout:this.config.uploadTimeout})).on("complete",(function(e){1===t.currentCtx.status&&(e.index=n,t.fileSliceSuccess(e))})),r.on("error",(function(e){1===t.currentCtx.status&&(e.index=n,t.fail(e))})),r.upload()}},{key:"fileSliceSuccess",value:function(e){var t=e.index,r=Date.now(),n={message:"stream slice upload success"},i=(e.xhr&&(i=e.xhr,n.currentUrl=i.currentUrl||"",Kt(this.currentCtx,{req:{url:i.currentUrl,param:i.params},res:{status:i.status,body:i.responseText,header:i.getAllResponseHeaders()}}),delete e.xhr),this.context.logger.send(Kt(this.currentCtx,{stage:"process",type:"success",sliceIndex:t,extra:n,totalDuration:r-this._lastSaveTime+this.currentCtx.totalDuration})),Kt(this.currentCtx,{uploadQueueLength:this.uploadQueue.length,sliceIndex:t}));this.context._broadcast("stream-progress",i),this.uploadSliceCount--,this.hasCompleteUpload&&0===this.uploadQueue.length?this.success(e.xhr):this.startUploadQueue()}},{key:"success",value:function(e){this.isAllSuccess||(e=Kt(this.currentCtx,{type:"success",stage:"process",percent:100,extra:{message:"all slice upload success"},crc32Array:this.crc32Array,xhr:e,stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st+this.currentCtx.totalDuration}),this.successProcess(e))}},{key:"fail",value:function(e){var t=e.index;e=Kt(this.currentCtx,{extra:{message:"stream slice upload error"},type:"error",stage:"process",xhr:e.xhr,stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st+this.currentCtx.totalDuration,sliceIndex:t}),this.context.logger.send(Kt({},e)),this.context._broadcast("error",e)}}]),t}();function Yt(e){return(Yt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qt(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)),n}function er(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Qt(Object(r),!0).forEach((function(t){!function(e,t,r){(t=nr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Qt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tr(){return(tr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function rr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nr(n.key),n)}}function nr(e){return e=function(e,t){if("object"!==Yt(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==Yt(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===Yt(e)?e:String(e)}function ir(e,t){return(ir=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function or(e){return(or=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var sr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ir(e,t)}(t,n.a);var e=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=or(e);return function(e,t){if(t&&("object"===Yt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(r=or(this).constructor,Reflect.construct(n,arguments,r)):n.apply(this,arguments))}}(t);function t(r,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(i=e.call(this)).options=r,i.config=n,i.uploaderCtx=r.context,i.currFileCtx=r.context.tasks[r.key],i.isImageBatchUpload=!!i.options.isImageBatchUpload,i.skipCommit=r.skipCommit,i.transport=new Ce,i.eventInit(),i}return function(e,t,r){t&&rr(e.prototype,t),r&&rr(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"commitUpload",value:function(){var e,t,r=this.options.key,n=(r=this.options.context.tasks[r],this.config.region),i="",o={},s=this.uploaderCtx.useBackupDomain,a=Je(this.options.type,this.config,this.options.serviceType),c=(a===he&&(i=s?this.config.imageFallbackHost:this.config.imageHost,o={Action:"CommitImageUpload",Version:"2018-08-01"},t={SessionKey:r.SessionKey},this.options.type===ce&&(this.config.imageConfig&&this.config.imageConfig.serviceId?o.ServiceId=this.config.imageConfig.serviceId:o.SpaceName=this.config.videoConfig&&this.config.videoConfig.spaceName,e=this.config.imageConfig&&this.config.imageConfig.processAction,Array.isArray(e)&&0<e.length&&(t.Functions=e),this.config.skipMeta)&&(o.SkipMeta=!0),this.options.type===le&&(o.ServiceId=this.config.objectConfig&&this.config.objectConfig.serviceId||this.config.imageConfig&&this.config.imageConfig.serviceId),e=JSON.stringify(t)),a===de&&(c=this.config.videoConfig&&this.config.videoConfig.spaceName,this.options.type===le&&this.config.objectConfig&&this.config.objectConfig.spaceName&&(c=this.config.objectConfig.spaceName),i=s?this.config.videoFallbackHost:this.config.videoHost,o={Action:"CommitUploadInner",Version:"2020-11-19",SpaceName:c},t={SessionKey:r.SessionKey,Functions:[]},s=this.config.videoConfig&&this.config.videoConfig.processAction,this.options.type===le&&this.config.objectConfig&&this.config.objectConfig.processAction&&(s=this.config.objectConfig.processAction),Array.isArray(s)&&0<s.length&&(t.Functions=s),(this.config.videoConfig&&this.config.videoConfig.callbackArgs||this.options.callbackArgs)&&(t.CallbackArgs=this.options.callbackArgs||this.config.videoConfig.callbackArgs),this.options.type===ae&&this.config.skipDownload&&(o.SkipDownload=!0),this.options.type===le&&this.options.objectSync&&(t.ObjectSync=this.options.objectSync),this.options.type===ae&&this.options.needExactFormat&&(t.needExactFormat=this.options.needExactFormat),e=JSON.stringify(t)),this.config.accountId&&(o["X-Account-Id"]=this.config.accountId),this.config.openExperiment&&(o.app_id=this.config.appId,o.user_id=this.config.userId),_e.toQueryString(o)),l=(s=this.currFileCtx.proxyStsToken||this.config.stsToken).AccessKeyID,u=s.AccessKeyId,d=s.SecretAccessKey;s=s.SessionToken,(c={method:"POST",url:"".concat(i,"?").concat(c),timeout:this.config.gatewayTimeout||3e4,region:n,params:o,headers:{},pathname:_e.getPathByURL(i)}).custom=e,c.body=t,a===he&&(c.headers["Content-Type"]="application/json"),n=new xe.a(c,a),i=(o=r.systemTimeGap)?new Date((new Date).getTime()+o):new Date,n.addAuthorization({accessKeyId:u||l,secretAccessKey:d,sessionToken:s},i),this.transport.send(c)}},{key:"start",value:function(e,t,r){if(this.successProcess=t,this.failProcess=r,this._st=Date.now(),this.skipCommit)return this.successProcess(tr(this.currFileCtx,{stage:"complete",type:"success",percent:100,extra:{message:"upload successful, skip commit"},stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st+this.currFileCtx.totalDuration,skipCommit:this.skipCommit}));try{this.commitUpload()}catch(e){this.fail({error:"catch error: ".concat(e.toString())})}}},{key:"eventInit",value:function(){var e=this;this.transport.on("complete",(function(t){var r=null;try{var n=JSON.parse(t.response);if(n.ResponseMetadata.Error)return e.fail({xhr:t,errorCode:n.ResponseMetadata.Error.CodeN,error:n.ResponseMetadata.Error.Code,message:n.ResponseMetadata.Error.Message});var i,o,s=Je(e.options.type,e.config,e.options.serviceType),a=n.Result,c={};s===he?e.isImageBatchUpload?(i=a.Results,o=a.PluginResult||[],i.forEach((function(e,t){i[t]=er(er({},i[t]),o[t])})),c=i):tr(c=a.Results[0],a.PluginResult&&a.PluginResult[0]):c=a.Results[0],r=tr(e.currFileCtx,{stage:"complete",type:"success",percent:100,extra:{message:"upload successful"},uploadResult:c,xhr:t,stageStartTime:e._st,stageEndTime:Date.now(),duration:Date.now()-e._st,totalDuration:Date.now()-e._st+e.currFileCtx.totalDuration,skipCommit:e.skipCommit})}catch(r){return e.fail({error:"catch error: ".concat(r.message||r.toString()),xhr:t})}return e.successProcess(r)})),this.transport.on("error",(function(t){var r={error:"request fail: ".concat(t.statusText||t.errText||"UNKNOWN"),xhr:t};t.response&&(t=JSON.parse(t.response)).ResponseMetadata&&t.ResponseMetadata.Error&&(r.errorCode=t.ResponseMetadata.Error.CodeN,r.error=t.ResponseMetadata.Error.Code,r.message=t.ResponseMetadata.Error.Message),e.fail(r)}))}},{key:"fail",value:function(e){var t=this.options.context,r=this.options.key,n=e.xhr,i=e.errorCode||1005e3,o="commit upload error: UNKNOWN";n&&(o=0===n.status?"commit upload error: NETERROR":e.message||"commit upload error: ".concat(n.status)),t=tr(t.tasks[r],{extra:{message:o,error:e.error,errorCode:i},type:"error",stage:"complete",xhr:n,stageStartTime:this._st,stageEndTime:Date.now(),duration:Date.now()-this._st,totalDuration:Date.now()-this._st+this.currFileCtx.totalDuration,skipCommit:this.skipCommit}),this.failProcess(t)}}]),t}();function ar(e){return(ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cr(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)),n}function lr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(r),!0).forEach((function(t){!function(e,t,r){(t=hr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ur(){return(ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function dr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hr(n.key),n)}}function hr(e){return e=function(e,t){if("object"!==ar(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==ar(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===ar(e)?e:String(e)}function pr(e,t){return(pr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function fr(e){return(fr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var gr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pr(e,t)}(t,n.a);var e=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=fr(e);return function(e,t){if(t&&("object"===ar(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,t?(r=fr(this).constructor,Reflect.construct(n,arguments,r)):n.apply(this,arguments))}}(t);function t(r){var n,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},o=2<arguments.length?arguments[2]:void 0,s=3<arguments.length?arguments[3]:void 0;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=e.call(this,r)).tasks=r,n.config=i,n.key=s,n.uploaderCtx=o,n.current=0,n.length=n.tasks.length,n.taskError={},n.uploadList=[],n.retryTaskTime=i.retryTaskTime||2,n}return function(e,t,r){t&&dr(e.prototype,t),r&&dr(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"start",value:function(e){var t=this.tasks.shift();t&&(this.current=t.index,this.execTask(t,e))}},{key:"execTask",value:function(e,t){var r,n,i=this,o=e.key,s=this.uploaderCtx,a=s.tasks[o];a&&(r=a.cacheTask,n=s.taskList[o].length,r&&0<e.index&&e.index<r?this.start():(a.currentTask=e.index,1===a.status&&(1!==e.index&&"initUploadID"!==e.stage||(e.arg=ur(e.arg,t)),e)&&e.func.call(e.context,e.arg,(function(r){var c;s.taskList[o]&&((c=s.taskList[o][e.index+1])&&0!==e.index&&!a.isDirect?s._saveTask(o,{currentTask:c.index,stage:c.stage}):e.index===n-1&&s._removeTaskCache(o),i.success(r),0<i.tasks.length?i.start(t):s._queueSuccess(o))}),(function(r){var n;r.xhr&&400<=r.xhr.status||3===e.index&&r.isDirect?i.fail(r):!i.taskError[o]||i.taskError[o]<i.retryTaskTime?(i.taskError[o]?i.taskError[o]++:i.taskError[o]=1,n=i.errorFormat(r,!0),i.uploaderCtx.logger.send(n),"initUploadID"===e.stage?i.execTask(e,lr(lr({},t),{},{changeNodeRetry:!0})):i.execTask(e,t)):(r.key=o,i.fail(r))}))))}},{key:"addTask",value:function(e){this.tasks.push(e)}},{key:"success",value:function(e){var t;e.xhr&&(t=e.xhr,e.req={url:t.currentUrl,param:t.params},e.res={status:t.status,header:t.getAllResponseHeaders(),body:t.responseText},delete e.xhr),ur(e,{type:"success"});try{this.uploaderCtx._broadcast(e.stage,e)}catch(e){console.error(e)}this.uploaderCtx.logger.send(e)}},{key:"fail",value:function(e){var t=this.uploaderCtx,r=e.key;e=this.errorFormat(e);try{t._broadcast("error",e)}catch(e){}t.tasks[r].isBreak?t._cancel(r):t._pause(r),t.logger.send(e)}},{key:"cancel",value:function(e){var t,r=this.key,n=this.uploaderCtx.tasks[r].currentTask;this.uploaderCtx.taskList[r].forEach((function(e){n===e.index&&(t=e)})),e?3===n&&this.uploaderCtx.tasks[r].isDirect&&t&&null!=(e=t)&&null!=(e=e.context)&&e.stop():(this.tasks=[],t&&3===t.index&&t.context.stop(),this.uploaderCtx._removeTaskCache(r))}},{key:"restart",value:function(){this.uploadList.forEach((function(e){e.cancel=!1})),this.start()}},{key:"errorFormat",value:function(e,t){var r;return t={type:t?"retry":"error"},e.xhr&&(r=e.xhr,e.req={url:r.currentUrl,param:r.params},e.res={status:r.status,header:r.getAllResponseHeaders(),body:r.responseText},e.extra&&(e.extra.req=e.req,e.extra.res=e.res),delete e.xhr),ur(e,t)}}]),t}();function mr(e){return(mr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yr(){return(yr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function vr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,function(e){return e=function(e,t){if("object"!==mr(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==mr(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===mr(e)?e:String(e)}(n.key),n)}}function br(e,t){return(br=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wr(e){return(wr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Sr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&br(e,t)}(t,n.a);var e=function(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=wr(e);return function(e,t){if(t&&("object"===mr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _r(e)}(this,t?(r=wr(this).constructor,Reflect.construct(n,arguments,r)):n.apply(this,arguments))}}(t);function t(r){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=e.call(this,r)).config=yr({},s),n._mergeOptions(n.config,r),n.tasks={},n.taskList={},n.cache={},n.storage=_e.storage(_r(n)),n.logger=n.config.noLog?{send:function(){}}:new me(n.config,_r(n)),n}return function(e,t,r){t&&vr(e.prototype,t),r&&vr(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"_mergeOptions",value:function(e,t){t&&"object"===mr(t)&&(yr(e,t),Object.keys(t).forEach((function(r){"vodDomain"===r&&(e.replace[r]=t[r])})))}},{key:"_setCache",value:function(e,t){this.storage.setItem(e,t)}},{key:"_getCache",value:function(e){return this.storage.getItem(e)}},{key:"_removeCache",value:function(e){e?this.storage.removeItem(e):this.storage.clear()}},{key:"_addTask",value:function(e,t){var r=this.tasks,n=this.taskList;r[e]&&r[e].task?n[e].push(t):(n[e]=[],n[e].push(t),r[e]=r[e]||{},r[e].task=new gr([],this.config,this,e)),r[e].task.addTask(t)}},{key:"_broadcast",value:function(e,t,r){if(r)this.emit(e,t);else if(1===(r=this.tasks[t.key].status)||0===r)try{this.emit(e,t)}catch(e){if(!(r=!("[object Error]"!==Object.prototype.toString.call(e)))||"Error"===e.name)throw e}}},{key:"_addCrc32ProcessTask",value:function(e,t){var r=(n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).isDirect,n=n.isImageBatchUpload;r={context:e=new qe({file:e.file,context:this,key:t,isDirect:r,isImageBatchUpload:void 0!==n&&n},this.config),func:e.start,arg:{},key:t,index:0,stage:"crc32"},this._addTask(t,r)}},{key:"_addPreUploadTask",value:function(e,t){var r=(n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).isDirect,n=n.isImageBatchUpload;r={file:e.file,stsToken:e.stsToken,context:this,type:e.type||ae,preUploadUriParams:e.preUploadUriParams||{},storeKey:e.storeKey,testHost:e.testHost,key:t,isDirect:r,isImageBatchUpload:void 0!==n&&n,fileSize:e.fileSize,serviceType:e.serviceType||null},e={context:n=new st(r,this.config),func:n.start,arg:{},key:t,index:1,stage:"preUpload"},this._addTask(t,e)}},{key:"_addDirectUploadTask",value:function(e,t){var r=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).isImageBatchUpload;r={context:e=new Ht({file:e.file,context:this,key:t,isImageBatchUpload:void 0!==r&&r},this.config),func:e.start,arg:{},key:t,index:3,stage:"process"},this._addTask(t,r)}},{key:"_addInitUploadIDTask",value:function(e,t){e={context:e=new gt({file:e.file,context:this,key:t},this.config),func:e.start,arg:{},key:t,index:2,stage:"initUploadID"},this._addTask(t,e)}},{key:"_addUploadProcessTask",value:function(e,t){e={context:e=new jt({file:e.file,context:this,key:t},this.config),func:e.start,arg:{},key:t,index:3,stage:"process"},this._addTask(t,e)}},{key:"_addStreamUploadTask",value:function(e,t){this.streamUploadTask=new Jt({context:this,key:t},this.config);var r={context:this.streamUploadTask,func:this.streamUploadTask.start,arg:{},key:t,index:3,stage:"process"};this._addTask(t,r)}},{key:"_mergeFileTask",value:function(e,t){e={context:e=new Lt({file:e.file,context:this,stage:"fileMerge",key:t},this.config),func:e.start,arg:{},key:t,index:4,stage:"fileMerge"},this._addTask(t,e)}},{key:"_getMetaInfoTask",value:function(e,t){var r=(n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).isImageBatchUpload,n=n.skipCommit;r={file:e.file,context:this,data:e.data,type:e.type||ae,callbackArgs:e.callbackArgs,objectSync:e.objectSync,needExactFormat:e.needExactFormat,key:t,isImageBatchUpload:void 0!==r&&r,skipCommit:void 0!==n&&n,serviceType:e.serviceType||null},e={context:n=new sr(r,this.config),func:n.start,arg:{},key:t,index:5,stage:"complete"},this._addTask(t,e)}},{key:"_addAllUploadProcess",value:function(e,t){var r=e.type===ce&&"[object Array]"===Object.prototype.toString.call(e.file),n=(this.tasks[t]=this.tasks[t]||{},this.tasks[t].fileType=e.type||ae,this.tasks[t].fileSize=e.file&&e.file.size,this.tasks[t].proxyStsToken=e.stsToken,this.lastStsToken=e.stsToken,this.lastFile=e.file,e.file.size<=_e.getFileSliceLength(e.file)||r);e.useDirectUpload&&(n=!0),this._addCrc32ProcessTask(e,t,{isDirect:n,isImageBatchUpload:r}),this._addPreUploadTask(e,t,{isDirect:n,isImageBatchUpload:r}),n?this._addDirectUploadTask(e,t,{isImageBatchUpload:r}):(this._addInitUploadIDTask(e,t),this._addUploadProcessTask(e,t),this._mergeFileTask(e,t)),n=!(!this.config.skipCommit||Je(e.type,this.config)!==he),this._getMetaInfoTask(e,t,{isImageBatchUpload:r,skipCommit:n})}},{key:"_addAllUploadProcessClientEncrypt",value:function(e){var t,r=this;return e.type===ce&&Array.isArray(e.file)?(t=[],e.file.forEach((function(n){t.push(r._createClientEncryptTask({stsToken:e.stsToken,type:e.type,file:n}))})),t):this._createClientEncryptTask(e)}},{key:"_createClientEncryptTask",value:function(e){var t=_e.getUnique("file"),r=(this.tasks[t]=this.tasks[t]||{},this.tasks[t].fileType=e.type||ae,this.tasks[t].fileSize=e.file&&e.file.size,this.tasks[t].proxyStsToken=e.stsToken,this.tasks[t].clientEncryptKey=_e.generateKey(16),this._addCrc32ProcessTask(e,t,{isDirect:!1,isImageBatchUpload:!1}),this._addPreUploadTask(e,t,{isDirect:!1,isImageBatchUpload:!1}),this._addInitUploadIDTask(e,t),this._addUploadProcessTask(e,t),this._mergeFileTask(e,t),!(!this.config.skipCommit||Je(e.type,this.config)!==he));return this._getMetaInfoTask(e,t,{isImageBatchUpload:!1,skipCommit:r}),t}},{key:"_addAllStreamUploadProcess",value:function(e,t){this.tasks[t]=this.tasks[t]||{},this.tasks[t].fileType=e.type||ae,this.tasks[t].proxyStsToken=e.stsToken,this._addPreUploadTask(e,t),this._addInitUploadIDTask(e,t),this._addStreamUploadTask(e,t),this._mergeFileTask(e,t),this._getMetaInfoTask(e,t)}},{key:"_addStreamSlice",value:function(e){var t=e.fileSlice;e=e.index,this.streamUploadTask.addStreamSlice({fileSlice:t,index:e})}},{key:"_completeStreamUpload",value:function(){this.streamUploadTask.completeStreamUpload()}},{key:"_run",value:function(e,t){var r=this.tasks,n=navigator.userAgent.toLowerCase().match(/msie ([\d.]+)/);n&&n[1]&&Number(n[1])<=9?(this._broadcast("error",yr(r[e],{key:e,status:0,stage:"browserError",extra:{message:"cannot support the browser below ie10"},type:"error"})),this.logger.send(r[e]),this._cancel(e)):r[e]?3===r[e].status?this._restart(e):(r[e].startTime=(new Date).getTime(),r[e].task&&1!==r[e].status&&r[e].task.tasks.length&&(r[e].status=1,this.logger.send(yr({},r[e],{extra:{message:"start upload"},type:"start",key:e})),r[e].task.start(t))):console.warn("".concat(e," is not exit in object tasks, stop running..."))}},{key:"_selectRoute",value:function(e,t){new Me({stsToken:this.lastStsToken,context:this,type:ae,file:this.lastFile},this.config).start(e,t)}},{key:"_restart",value:function(e){var t,r,n=this,i=this.tasks;i[e]?(t=i[e].task,r=i[e].currentTask||0,this.taskList[e].forEach((function(i,o){i.index===r&&(t.tasks=n.taskList[e].slice(o))})),t&&1!==i[e].status&&t.tasks.length&&(i[e].status=1,t.restart())):console.warn("".concat(e," is not exit in object tasks"))}},{key:"_cancel",value:function(e){var t=this.tasks;t[e]?(t[e].status=2,t[e].task.cancel(),delete this.taskList[e]):console.warn("".concat(e," is not exit in object tasks"))}},{key:"_pause",value:function(e){var t=this.tasks;t[e]?(t[e].status=3,t[e].task.cancel(!0),t[e].isDirect||this._saveTask(e)):console.warn("".concat(e," is not exit in object tasks"))}},{key:"_removeTaskCache",value:function(e){var t=this.tasks;t[e]?(t=t[e].crc32Key)&&this._removeCache(t):console.warn("".concat(e," is not exit in object tasks"))}},{key:"_saveTask",value:function(e,t){(t=(e=yr({},this.tasks[e],t||{})).crc32Key)&&this._setCache(t,this.serializeCacheInfo(e))}},{key:"serializeCacheInfo",value:function(e){var t="";delete e.task,delete e.xhr,delete e.crc32Array;try{t=JSON.stringify(e)}catch(n){var r={};Object.keys(e).forEach((function(t){"task"!==t&&"xhr"!==t&&"crc32Array"!==t&&(r[t]=e[t])})),t=JSON.stringify(r)}return t}},{key:"_queueSuccess",value:function(e){var t,r=this.tasks;r[e]?(t=new Date,r[e].endTime=t.getTime(),r[e].time=r[e].endTime-r[e].startTime,r[e].status=0,delete this.taskList[e],delete r[e]):console.warn("".concat(e," is not exit in object tasks"))}},{key:"_removeFile",value:function(e){delete this.tasks[e]}},{key:"_batchAction",value:function(e,t){var r=this.tasks;Object.keys(r).forEach((function(r){e&&e(r,t)}))}},{key:"_refreshSTSToken",value:function(e){var t=this,r=this.tasks;Object.keys(r).forEach((function(n){var i=yr({},n=r[n],{proxyStsToken:e}),o=(n.proxyStsToken=e,i.crc32Key);o&&(n.proxyStsToken=e,t._setCache(o,t.serializeCacheInfo(i)))}))}},{key:"_setOption",value:function(e){this._mergeOptions(this.config,e)}},{key:"_getOption",value:function(e){var t=yr({},this.config);return Object.keys(t).forEach((function(e){(-1<e.indexOf("Url")||"replace"===e||"log"===e)&&delete t[e]})),e?t[e]:t}},{key:"_userCancel",value:function(e){var t=this,r=this.tasks;e?(this._cancel(e),this.logger.send(yr({},r[e],{type:"cancel"})),delete this.tasks[e]):Object.keys(r).forEach((function(e){t._cancel(e),t.logger.send(yr({},r[e],{type:"cancel"})),delete t.tasks[e]}))}},{key:"_userPause",value:function(e){var t=this,r=this.tasks;e?(this._pause(e),this.logger.send(yr({},r[e],{type:"pause"}))):Object.keys(r).forEach((function(e){t._pause(e),t.logger.send(yr({},r[e],{type:"pause"}))}))}}]),t}();function Or(e){return(Or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Er(e,t){var r,n=Object.keys(e);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(e),t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)),n}function Cr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(r),!0).forEach((function(t){!function(e,t,r){(t=Tr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Er(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Tr(n.key),n)}}function Tr(e){return e=function(e,t){if("object"!==Or(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);if("object"!==Or(r=r.call(e,t||"default")))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string"),"symbol"===Or(e)?e:String(e)}function kr(e,t){return(kr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ir(e){return(Ir=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kr(e,t)}(t,Sr);var e=function(t){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,n=Ir(t);return function(e,t){if(t&&("object"===Or(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,r?(e=Ir(this).constructor,Reflect.construct(n,arguments,e)):n.apply(this,arguments))}}(t);function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.apply(this,arguments)}return function(e,t,r){t&&xr(e.prototype,t),r&&xr(e,r),Object.defineProperty(e,"prototype",{writable:!1})}(t,[{key:"start",value:function(e){var t=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};this.abort=!1,r.selectRoute?this._selectRoute(r,(function(r){r=Cr(Cr({},r),{},{enableSelectRoute:!0}),e?t._run(e,r):t._batchAction(t._run.bind(t),r)})):e?this._run(e):this._batchAction(this._run.bind(this))}},{key:"addFile",value:function(e){var t;return e&&Xe(e.stsToken)?e.file&&this.config.clientEncrypt?this._addAllUploadProcessClientEncrypt(e):e.file?(t=_e.getUnique("file"),this._addAllUploadProcess(e,t),t):null:(this.emit("error",{extra:{message:Ge,errorCode:Be}}),null)}},{key:"addImageFile",value:function(e){var t;return e&&Xe(e.stsToken)?e.file?(e.type=e.type||ce,t=_e.getUnique("file"),this._addAllUploadProcess(e,t),t):null:(this.emit("error",{extra:{message:Ge,errorCode:Be}}),null)}},{key:"addStreamUploadTask",value:function(e){var t;return e&&Xe(e.stsToken)?(t=_e.getUnique("file"),this._addAllStreamUploadProcess(e,t),t):(this.emit("error",{extra:{message:Ge,errorCode:Be}}),null)}},{key:"addStreamSlice",value:function(e){var t=e.fileSlice;e=e.index,this._addStreamSlice({fileSlice:t,index:e})}},{key:"completeStreamUpload",value:function(){this._completeStreamUpload()}},{key:"removeFile",value:function(e){e&&this._removeFile(e)}},{key:"cancel",value:function(e){e?this._userCancel(e):this._batchAction(this._userCancel.bind(this))}},{key:"pause",value:function(e){this._userPause(e)}},{key:"restart",value:function(e){e?this._restart(e):this._batchAction(this._restart.bind(this))}},{key:"refreshSTSToken",value:function(e){this._refreshSTSToken(e)}},{key:"setOption",value:function(e){this._setOption(e)}},{key:"getOption",value:function(e){return this._getOption(e)}}]),t}()}]).default},e.exports=t()},82345:(e,t,r)=>{"use strict";r.d(t,{T:()=>n});const n="semi"},1714:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(55883),i=r(42544);class o{static get cssClasses(){return{}}static get strings(){return{}}static get numbers(){return{}}static get defaultAdapter(){return{getProp:n.Z,getProps:n.Z,getState:n.Z,getStates:n.Z,setState:n.Z,getContext:n.Z,getContexts:n.Z,getCache:n.Z,setCache:n.Z,getCaches:n.Z,stopPropagation:n.Z,persistEvent:n.Z}}constructor(e){this._adapter=Object.assign(Object.assign({},o.defaultAdapter),e)}getProp(e){return this._adapter.getProp(e)}getProps(){return this._adapter.getProps()}getState(e){return this._adapter.getState(e)}getStates(){return this._adapter.getStates()}setState(e,t){return this._adapter.setState(Object.assign({},e),t)}getContext(e){return this._adapter.getContext(e)}getContexts(){return this._adapter.getContexts()}getCaches(){return this._adapter.getCaches()}getCache(e){return this._adapter.getCache(e)}setCache(e,t){return e&&this._adapter.setCache(e,t)}stopPropagation(e){this._adapter.stopPropagation(e)}_isControlledComponent(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"value")in this.getProps()}_isInProps(e){return e in this.getProps()}init(e){}destroy(){}log(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];(0,i.Z)(e,...r)}_persistEvent(e){this._adapter.persistEvent(e)}}const s=o},47056:(e,t,r)=>{"use strict";r.d(t,{U:()=>n,strings:()=>i});const n={PREFIX:`${r(82345).T}-button`},i={sizes:["default","small","large"],iconPositions:["left","right"],htmlTypes:["button","reset","submit"],btnTypes:["primary","secondary","tertiary","warning","danger"],themes:["solid","borderless","light"],DEFAULT_ICON_SIZE:"default",DEFAULT_ICON_POSITION:"left"}},6903:(e,t,r)=>{"use strict";r.d(t,{UX:()=>n,j2:()=>i});const n={PREFIX:`${r(82345).T}-form`},i={LAYOUT:["horizontal","vertical"],LABEL_POS:["left","top","inset"],LABEL_ALIGN:["left","right"],EXTRA_POS:["middle","bottom"],DEFAULT_TRIGGER:"change"}},25027:(e,t,r)=>{"use strict";r.d(t,{G$:()=>A,Gf:()=>D,JY:()=>R,JH:()=>F,dG:()=>z,Fs:()=>N,TM:()=>M});var n=r(71180),i=r(54834);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o.apply(this,arguments)}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function a(e,t){return a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}function c(e,t,r){return c=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&a(i,r.prototype),i},c.apply(null,arguments)}function l(e){var t="function"==typeof Map?new Map:void 0;return l=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return c(e,arguments,s(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),a(n,e)},l(e)}var u=/%[sdj%]/g;function d(e){if(!e||!e.length)return null;var t={};return e.forEach((function(e){var r=e.field;t[r]=t[r]||[],t[r].push(e)})),t}function h(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=1,i=t[0],o=t.length;return"function"==typeof i?i.apply(null,t.slice(1)):"string"==typeof i?String(i).replace(u,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(t[n++]);case"%d":return Number(t[n++]);case"%j":try{return JSON.stringify(t[n++])}catch(r){return"[Circular]"}break;default:return e}})):i}function p(e,t){return null==e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"date"===e||"pattern"===e}(t)||"string"!=typeof e||e))}function f(e,t,r){var n=0,i=e.length;!function o(s){if(s&&s.length)r(s);else{var a=n;n+=1,a<i?t(e[a],o):r([])}}([])}"undefined"!=typeof process&&process.env;var g=function(e){var t,r;function n(t,r){var n;return(n=e.call(this,"Async Validation Error")||this).errors=t,n.fields=r,n}return r=e,(t=n).prototype=Object.create(r.prototype),t.prototype.constructor=t,a(t,r),n}(l(Error));function m(e,t,r,n){if(t.first){var i=new Promise((function(t,i){var o=function(e){var t=[];return Object.keys(e).forEach((function(r){t.push.apply(t,e[r])})),t}(e);f(o,r,(function(e){return n(e),e.length?i(new g(e,d(e))):t()}))}));return i.catch((function(e){return e})),i}var o=t.firstFields||[];!0===o&&(o=Object.keys(e));var s=Object.keys(e),a=s.length,c=0,l=[],u=new Promise((function(t,i){var u=function(e){if(l.push.apply(l,e),++c===a)return n(l),l.length?i(new g(l,d(l))):t()};s.length||(n(l),t()),s.forEach((function(t){var n=e[t];-1!==o.indexOf(t)?f(n,r,u):function(e,t,r){var n=[],i=0,o=e.length;function s(e){n.push.apply(n,e),++i===o&&r(n)}e.forEach((function(e){t(e,s)}))}(n,r,u)}))}));return u.catch((function(e){return e})),u}function y(e){return function(t){return t&&t.message?(t.field=t.field||e.fullField,t):{message:"function"==typeof t?t():t,field:t.field||e.fullField}}}function v(e,t){if(t)for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];"object"==typeof n&&"object"==typeof e[r]?e[r]=o({},e[r],n):e[r]=n}return e}function b(e,t,r,n,i,o){!e.required||r.hasOwnProperty(e.field)&&!p(t,o||e.type)||n.push(h(i.messages.required,e.fullField))}var _={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},w={integer:function(e){return w.number(e)&&parseInt(e,10)===e},float:function(e){return w.number(e)&&!w.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(t){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear&&!isNaN(e.getTime())},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"==typeof e&&!w.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&!!e.match(_.email)&&e.length<255},url:function(e){return"string"==typeof e&&!!e.match(_.url)},hex:function(e){return"string"==typeof e&&!!e.match(_.hex)}};var S="enum";var O={required:b,whitespace:function(e,t,r,n,i){(/^\s+$/.test(t)||""===t)&&n.push(h(i.messages.whitespace,e.fullField))},type:function(e,t,r,n,i){if(e.required&&void 0===t)b(e,t,r,n,i);else{var o=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?w[o](t)||n.push(h(i.messages.types[o],e.fullField,e.type)):o&&typeof t!==e.type&&n.push(h(i.messages.types[o],e.fullField,e.type))}},range:function(e,t,r,n,i){var o="number"==typeof e.len,s="number"==typeof e.min,a="number"==typeof e.max,c=t,l=null,u="number"==typeof t,d="string"==typeof t,p=Array.isArray(t);if(u?l="number":d?l="string":p&&(l="array"),!l)return!1;p&&(c=t.length),d&&(c=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?c!==e.len&&n.push(h(i.messages[l].len,e.fullField,e.len)):s&&!a&&c<e.min?n.push(h(i.messages[l].min,e.fullField,e.min)):a&&!s&&c>e.max?n.push(h(i.messages[l].max,e.fullField,e.max)):s&&a&&(c<e.min||c>e.max)&&n.push(h(i.messages[l].range,e.fullField,e.min,e.max))},enum:function(e,t,r,n,i){e[S]=Array.isArray(e[S])?e[S]:[],-1===e[S].indexOf(t)&&n.push(h(i.messages[S],e.fullField,e[S].join(", ")))},pattern:function(e,t,r,n,i){if(e.pattern)if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(t)||n.push(h(i.messages.pattern.mismatch,e.fullField,t,e.pattern));else if("string"==typeof e.pattern){new RegExp(e.pattern).test(t)||n.push(h(i.messages.pattern.mismatch,e.fullField,t,e.pattern))}}};function E(e,t,r,n,i){var o=e.type,s=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(p(t,o)&&!e.required)return r();O.required(e,t,n,s,i,o),p(t,o)||O.type(e,t,n,s,i)}r(s)}var C={string:function(e,t,r,n,i){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(p(t,"string")&&!e.required)return r();O.required(e,t,n,o,i,"string"),p(t,"string")||(O.type(e,t,n,o,i),O.range(e,t,n,o,i),O.pattern(e,t,n,o,i),!0===e.whitespace&&O.whitespace(e,t,n,o,i))}r(o)},method:function(e,t,r,n,i){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(p(t)&&!e.required)return r();O.required(e,t,n,o,i),void 0!==t&&O.type(e,t,n,o,i)}r(o)},number:function(e,t,r,n,i){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(""===t&&(t=void 0),p(t)&&!e.required)return r();O.required(e,t,n,o,i),void 0!==t&&(O.type(e,t,n,o,i),O.range(e,t,n,o,i))}r(o)},boolean:function(e,t,r,n,i){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(p(t)&&!e.required)return r();O.required(e,t,n,o,i),void 0!==t&&O.type(e,t,n,o,i)}r(o)},regexp:function(e,t,r,n,i){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(p(t)&&!e.required)return r();O.required(e,t,n,o,i),p(t)||O.type(e,t,n,o,i)}r(o)},integer:function(e,t,r,n,i){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(p(t)&&!e.required)return r();O.required(e,t,n,o,i),void 0!==t&&(O.type(e,t,n,o,i),O.range(e,t,n,o,i))}r(o)},float:function(e,t,r,n,i){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(p(t)&&!e.required)return r();O.required(e,t,n,o,i),void 0!==t&&(O.type(e,t,n,o,i),O.range(e,t,n,o,i))}r(o)},array:function(e,t,r,n,i){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(null==t&&!e.required)return r();O.required(e,t,n,o,i,"array"),null!=t&&(O.type(e,t,n,o,i),O.range(e,t,n,o,i))}r(o)},object:function(e,t,r,n,i){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(p(t)&&!e.required)return r();O.required(e,t,n,o,i),void 0!==t&&O.type(e,t,n,o,i)}r(o)},enum:function(e,t,r,n,i){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(p(t)&&!e.required)return r();O.required(e,t,n,o,i),void 0!==t&&O.enum(e,t,n,o,i)}r(o)},pattern:function(e,t,r,n,i){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(p(t,"string")&&!e.required)return r();O.required(e,t,n,o,i),p(t,"string")||O.pattern(e,t,n,o,i)}r(o)},date:function(e,t,r,n,i){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(p(t,"date")&&!e.required)return r();var s;if(O.required(e,t,n,o,i),!p(t,"date"))s=t instanceof Date?t:new Date(t),O.type(e,s,n,o,i),s&&O.range(e,s.getTime(),n,o,i)}r(o)},url:E,hex:E,email:E,required:function(e,t,r,n,i){var o=[],s=Array.isArray(t)?"array":typeof t;O.required(e,t,n,o,i,s),r(o)},any:function(e,t,r,n,i){var o=[];if(e.required||!e.required&&n.hasOwnProperty(e.field)){if(p(t)&&!e.required)return r();O.required(e,t,n,o,i)}r(o)}};function x(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var T=x();function k(e){this.rules=null,this._messages=T,this.define(e)}k.prototype={messages:function(e){return e&&(this._messages=v(x(),e)),this._messages},define:function(e){if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!=typeof e||Array.isArray(e))throw new Error("Rules must be an object");var t,r;for(t in this.rules={},e)e.hasOwnProperty(t)&&(r=e[t],this.rules[t]=Array.isArray(r)?r:[r])},validate:function(e,t,r){var n=this;void 0===t&&(t={}),void 0===r&&(r=function(){});var i,s,a=e,c=t,l=r;if("function"==typeof c&&(l=c,c={}),!this.rules||0===Object.keys(this.rules).length)return l&&l(),Promise.resolve();if(c.messages){var u=this.messages();u===T&&(u=x()),v(u,c.messages),c.messages=u}else c.messages=this.messages();var p={};(c.keys||Object.keys(this.rules)).forEach((function(t){i=n.rules[t],s=a[t],i.forEach((function(r){var i=r;"function"==typeof i.transform&&(a===e&&(a=o({},a)),s=a[t]=i.transform(s)),(i="function"==typeof i?{validator:i}:o({},i)).validator=n.getValidationMethod(i),i.field=t,i.fullField=i.fullField||t,i.type=n.getType(i),i.validator&&(p[t]=p[t]||[],p[t].push({rule:i,value:s,source:a,field:t}))}))}));var f={};return m(p,c,(function(e,t){var r,n=e.rule,i=!("object"!==n.type&&"array"!==n.type||"object"!=typeof n.fields&&"object"!=typeof n.defaultField);function s(e,t){return o({},t,{fullField:n.fullField+"."+e})}function a(r){void 0===r&&(r=[]);var a=r;if(Array.isArray(a)||(a=[a]),!c.suppressWarning&&a.length&&k.warning("async-validator:",a),a.length&&void 0!==n.message&&(a=[].concat(n.message)),a=a.map(y(n)),c.first&&a.length)return f[n.field]=1,t(a);if(i){if(n.required&&!e.value)return void 0!==n.message?a=[].concat(n.message).map(y(n)):c.error&&(a=[c.error(n,h(c.messages.required,n.field))]),t(a);var l={};if(n.defaultField)for(var u in e.value)e.value.hasOwnProperty(u)&&(l[u]=n.defaultField);for(var d in l=o({},l,e.rule.fields))if(l.hasOwnProperty(d)){var p=Array.isArray(l[d])?l[d]:[l[d]];l[d]=p.map(s.bind(null,d))}var g=new k(l);g.messages(c.messages),e.rule.options&&(e.rule.options.messages=c.messages,e.rule.options.error=c.error),g.validate(e.value,e.rule.options||c,(function(e){var r=[];a&&a.length&&r.push.apply(r,a),e&&e.length&&r.push.apply(r,e),t(r.length?r:null)}))}else t(a)}i=i&&(n.required||!n.required&&e.value),n.field=e.field,n.asyncValidator?r=n.asyncValidator(n,e.value,a,e.source,c):n.validator&&(!0===(r=n.validator(n,e.value,a,e.source,c))?a():!1===r?a(n.message||n.field+" fails"):r instanceof Array?a(r):r instanceof Error&&a(r.message)),r&&r.then&&r.then((function(){return a()}),(function(e){return a(e)}))}),(function(e){!function(e){var t,r,n,i=[],o={};for(t=0;t<e.length;t++)r=e[t],n=void 0,Array.isArray(r)?i=(n=i).concat.apply(n,r):i.push(r);i.length?o=d(i):(i=null,o=null),l(i,o)}(e)}))},getType:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!C.hasOwnProperty(e.type))throw new Error(h("Unknown rule type %s",e.type));return e.type||"string"},getValidationMethod:function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),r=t.indexOf("message");return-1!==r&&t.splice(r,1),1===t.length&&"required"===t[0]?C.required:C[this.getType(e)]||!1}},k.register=function(e,t){if("function"!=typeof t)throw new Error("Cannot register a validator by type, validator is not a function");C[e]=t},k.warning=function(){},k.messages=T,k.validators=C;const I=k;var P=r(6903),j=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};function D(e){const t=e.displayName||e.name;return t?`SemiField${t}`:"SemiField"}function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r={};r[e]=t;return new I(r)}function R(e){let t=!0;return"string"==typeof e&&e.length?t=!1:Array.isArray(e)&&e.length?t=e.every((e=>R(e))):"boolean"==typeof e?t=e:e&&"symbol"==typeof e.$$typeof&&"Symbol(react.element)"===e.$$typeof.toString()&&(t=!1),t}function M(e,t){let r=[],i=[];return r=(0,n.Z)(e)?(0,n.Z)(t)?P.j2.DEFAULT_TRIGGER:t:e,Array.isArray(r)&&(i=r),"string"==typeof r&&(i[0]=r),i}function N(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,n.Z)(e)?(0,n.Z)(t)?r:t:e}function F(e,t){const r=Object.assign(Object.assign({},{valueKey:"value",onKeyChangeFnName:"onChange",valuePath:"",maintainCursor:!1,shouldInject:!0,shouldMemo:!0}),e);return{options:r,shouldInject:"field"in t||r.shouldInject}}function z(e){let t=Object.assign(Object.assign({},{allowEmptyString:!1,allowEmpty:!1,emptyValue:"",noLabel:!1,noErrorMessage:!1,isInInputGroup:!1}),e),{field:r,label:n,labelPosition:o,labelWidth:s,labelAlign:a,labelCol:c,wrapperCol:l,initValue:u,validate:d,validateStatus:h,trigger:p,allowEmptyString:f,allowEmpty:g,emptyValue:m,rules:y,onChange:v,keepState:b,transform:_,name:w,fieldClassName:S,fieldStyle:O,noLabel:E,noErrorMessage:C,isInInputGroup:x,stopValidateWithError:T,convert:k,showValidateIcon:I,helpText:P,extraText:D,extraTextPosition:A,pure:R,id:M}=t,N=j(t,["field","label","labelPosition","labelWidth","labelAlign","labelCol","wrapperCol","initValue","validate","validateStatus","trigger","allowEmptyString","allowEmpty","emptyValue","rules","onChange","keepState","transform","name","fieldClassName","fieldStyle","noLabel","noErrorMessage","isInInputGroup","stopValidateWithError","convert","showValidateIcon","helpText","extraText","extraTextPosition","pure","id"]);delete N.defaultChecked,delete N.defaultValue,delete N.checked,void 0!==u&&(u=(0,i.Z)(u));const F=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=!1;return"object"==typeof e&&"required"in e?t=e.required:Array.isArray(e)&&e.length&&e.forEach((e=>{e.required&&(t=!0)})),t}(y);return m=void 0!==m?m:"",{field:r,label:n,labelPosition:o,labelWidth:s,labelAlign:a,labelCol:c,wrapperCol:l,noLabel:E,noErrorMessage:C,isInInputGroup:x,initValue:u,validate:d,validateStatus:h,trigger:p,allowEmptyString:f,allowEmpty:g,emptyValue:m,rules:y,required:F,keepState:b,transform:_,name:w,fieldClassName:S,fieldStyle:O,convert:k,stopValidateWithError:T,showValidateIcon:I,helpText:P,extraText:D,extraTextPosition:A,pure:R,rest:N,id:M}}},66380:(e,t,r)=>{"use strict";r.d(t,{U:()=>n});const n={PREFIX:`${r(82345).T}`}},75778:(e,t,r)=>{"use strict";r.d(t,{UX:()=>n,j2:()=>i});const n={PREFIX:`${r(82345).T}-input`},i={SIZE:["small","large","default"],DEFAULT_SIZE:"default",STATUS:["default","error","warning","success"],CLEARBTN_CLICKED_EVENT_FLAG:"__fromClearBtn",MODE:["password"]}},12236:(e,t,r)=>{"use strict";r.d(t,{KT:()=>a,UX:()=>o,j2:()=>s});var n=r(58706),i=r(82345);const o={PREFIX:`${i.T}-popover`,ARROW:`${i.T}-popover-icon-arrow`},s={POSITION_SET:["top","topLeft","topRight","left","leftTop","leftBottom","right","rightTop","rightBottom","bottom","bottomLeft","bottomRight","leftTopOver","rightTopOver"],TRIGGER_SET:["hover","focus","click","custom","contextMenu"],DEFAULT_ARROW_STYLE:{borderOpacity:"1",backgroundColor:"var(--semi-color-bg-3)",borderColor:"var(--semi-color-border)"}},a={ARROW_BOUNDING:Object.assign(Object.assign({},n.KT.ARROW_BOUNDING),{offsetY:6,offsetX:0,height:8}),SPACING:4,SPACING_WITH_ARROW:10,DEFAULT_Z_INDEX:1030}},77860:(e,t,r)=>{"use strict";r.d(t,{U:()=>n,j:()=>i});const n={PREFIX:`${r(82345).T}-tag`},i={TAG_SIZE:["default","small","large"],TAG_COLOR:["grey","red","pink","purple","violet","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","white"],TAG_TYPE:["light","solid","ghost"],AVATAR_SHAPE:["square","circle"]}},58706:(e,t,r)=>{"use strict";r.d(t,{KT:()=>o,UX:()=>n,j2:()=>i});const n={PREFIX:`${r(82345).T}-tooltip`},i={POSITION_SET:["top","topLeft","topRight","left","leftTop","leftBottom","right","rightTop","rightBottom","bottom","bottomLeft","bottomRight","leftTopOver","rightTopOver","leftBottomOver","rightBottomOver"],TRIGGER_SET:["hover","focus","click","custom","contextMenu"],STATUS_DISABLED:"disabled",STATUS_LOADING:"loading"},o={ARROW_BOUNDING:{offsetX:0,offsetY:2,width:24,height:7},DEFAULT_Z_INDEX:1060,MOUSE_ENTER_DELAY:50,MOUSE_LEAVE_DELAY:50,SPACING:8,MARGIN:0}},1293:(e,t,r)=>{"use strict";r.d(t,{U:()=>n,j:()=>i});const n={PREFIX:`${r(82345).T}-typography`},i={WEIGHT:["light","regular","medium","semibold","bold","default"],TYPE:["primary","secondary","danger","warning","success","tertiary","quaternary"],SIZE:["normal","small"],SPACING:["normal","extended"],HEADING:[1,2,3,4,5,6],RULE:["text","numbers","bytes-decimal","bytes-binary","percentages","exponential"],TRUNCATE:["ceil","floor","round"]}},75733:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(86475);class i{constructor(){this._eventMap=new Map}on(e,t){return e&&"function"==typeof t&&(this._eventMap.has(e)||this._eventMap.set(e,[]),this._eventMap.get(e).push(t)),this}once(e,t){var r=this;if(e&&"function"==typeof t){const n=function(){t(...arguments),r.off(e,n)};this.on(e,n)}}off(e,t){if(e)if("function"==typeof t){const r=this._eventMap.get(e);if(Array.isArray(r)&&r.length){let e=-1;for(;(e=r.findIndex((e=>e===t)))>-1;)r.splice(e,1)}}else(0,n.Z)(t)&&this._eventMap.delete(e);return this}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return!!this._eventMap.has(e)&&(this._eventMap.get(e).forEach((e=>e(...r))),!0)}}},35043:(e,t,r)=>{"use strict";function n(){}r.d(t,{Z:()=>n})},69624:(e,t,r)=>{"use strict";function n(e){return Object.keys(e).reduce(((t,r)=>("data-"===r.substr(0,5)&&(t[r]=e[r]),t)),{})}r.d(t,{Z:()=>n})},50840:(e,t,r)=>{"use strict";function n(e){try{return e instanceof HTMLElement}catch(t){return"object"==typeof e&&1===e.nodeType&&"object"==typeof e.style&&"object"==typeof e.ownerDocument}}r.d(t,{Z:()=>n})},37375:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(54029),i=r(75108);const o=function(e){return(0,n.Z)(e,"key")===i.q7}},86475:(e,t,r)=>{"use strict";function n(e){return null==e}r.d(t,{Z:()=>n})},19895:(e,t,r)=>{"use strict";function n(e){return null!==(t=e)&&"object"==typeof t&&"function"==typeof e.then;var t}r.d(t,{Z:()=>n})},75108:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>i,q7:()=>n});const n="Enter",i={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229}},42544:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(54029);const i=function(e){if("development"===(0,n.Z)(process,"env.NODE_ENV")){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];console.log(e,...r)}}},75181:(e,t,r)=>{"use strict";r.d(t,{cS:()=>m,U2:()=>y,Od:()=>v,t8:()=>b});var n=r(82433),i=r(69708),o=r(28019);const s=function(e,t){return(0,o.Z)(t,(function(t){return e[t]}))};var a=r(77251);const c=function(e){return null==e?[]:s(e,(0,a.Z)(e))};var l=r(79824);const u=function(e,t){return null==e||(0,l.Z)(e,t)};var d=r(88375),h=r(19780),p=r(54029);const f=e=>{const t=(0,d.Z)(e);return!((0,i.Z)(e)&&1===t.length)&&Number.isInteger(+t[t.length-1])};function g(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0===t.length)return;const i=(0,p.Z)(e,t);(Array.isArray(i)&&i.every((e=>null==e))||function(e){if((0,n.Z)(e)){const t=c(e);return!t.length||t.every((e=>void 0===e))}return!1}(i))&&u(e,t),g(e,t.slice(0,t.length-1),r)}function m(e){return 0===c(e).length}function y(e,t){return(0,p.Z)(e,t)}function v(e,t){u(e,t);let r=(0,d.Z)(t);r=r.slice(0,r.length-1),g(e,r,!1)}function b(e,t,r,n){if(n)return(0,h.Z)(e,t,r);if(void 0!==r)return(0,h.Z)(e,t,r);if(f(t)&&void 0!==y(e,t)){(0,h.Z)(e,t,void 0);let r=(0,d.Z)(t);r=r.slice(0,r.length-1),g(e,r,!1)}else f(t)||void 0===y(e,t)||v(e,t)}},74777:(e,t,r)=>{"use strict";function n(e){return`${e}-${(new Date).getTime()}-${Math.random()}`}function i(){var e,t;try{return null!==(t=null===(e=null===crypto||void 0===crypto?void 0:crypto.randomUUID)||void 0===e?void 0:e.call(crypto))&&void 0!==t?t:String(-99990013e3).replace(/[018]/g,(e=>(Number(e)^crypto.getRandomValues(new Uint8Array(1))[0]&15>>Number(e)/4).toString(16)))}catch(r){return n("semi")}}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{prefix:t="",length:r=7}=e,n="0123456789abcdefghijklmnopqrstuvwxyz";let i="";for(let o=0;o<r;o++){const e=Math.floor(36*Math.random());i+=n.charAt(e)}return t?`${t}-${i}`:i}r.d(t,{Cd:()=>i,Ms:()=>o,ZP:()=>n})},32890:(e,t,r)=>{"use strict";function n(e,t){e&&console.warn(`Warning: ${t}`)}r.d(t,{Z:()=>n})},95571:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(50959);const i="semi";var o=r(84875),s=r.n(o),a=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const c=n.forwardRef(((e,t)=>{const{svg:r,spin:o=!1,rotate:c,style:l,className:u,prefixCls:d=i,type:h,size:p="default"}=e,f=a(e,["svg","spin","rotate","style","className","prefixCls","type","size"]),g=s()(`${d}-icon`,{[`${d}-icon-extra-small`]:"extra-small"===p,[`${d}-icon-small`]:"small"===p,[`${d}-icon-default`]:"default"===p,[`${d}-icon-large`]:"large"===p,[`${d}-icon-extra-large`]:"extra-large"===p,[`${d}-icon-spinning`]:!0===o,[`${d}-icon-${h}`]:Boolean(h)},u),m={};return Number.isSafeInteger(c)&&(m.transform=`rotate(${c}deg)`),Object.assign(m,l),n.createElement("span",Object.assign({role:"img",ref:t,"aria-label":h,className:g,style:m},f),r)}));c.elementType="Icon";const l=(e,t)=>{const r=n.forwardRef(((r,i)=>n.createElement(c,Object.assign({svg:n.createElement(e),type:t,ref:i},r))));return r.elementType="Icon",r}},86756:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(50959);const i=(0,r(95571).A)((function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12ZM13.5 17.5C13.5 16.6716 12.8284 16 12 16C11.1716 16 10.5 16.6716 10.5 17.5C10.5 18.3284 11.1716 19 12 19C12.8284 19 13.5 18.3284 13.5 17.5ZM12 5C10.9138 5 10.0507 5.91244 10.1109 6.99692L10.4168 12.5023C10.4635 13.3426 11.1584 14 12 14C12.8416 14 13.5365 13.3426 13.5832 12.5023L13.8891 6.99692C13.9493 5.91244 13.0862 5 12 5Z",fill:"currentColor"}))}),"alert_circle")},40910:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(50959);const i=(0,r(95571).A)((function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.2268 2.3986L1.52616 19.0749C0.831449 20.4064 1.79747 22 3.29933 22H20.7007C22.2025 22 23.1686 20.4064 22.4739 19.0749L13.7732 2.3986C13.0254 0.965441 10.9746 0.965442 10.2268 2.3986ZM13.1415 14.0101C13.0603 14.5781 12.5739 15 12.0001 15C11.4263 15 10.9398 14.5781 10.8586 14.0101L10.2829 9.97992C10.1336 8.93495 10.9445 8.00002 12.0001 8.00002C13.0556 8.00002 13.8665 8.93495 13.7172 9.97992L13.1415 14.0101ZM13.5001 18.5C13.5001 19.3284 12.8285 20 12.0001 20C11.1716 20 10.5001 19.3284 10.5001 18.5C10.5001 17.6716 11.1716 17 12.0001 17C12.8285 17 13.5001 17.6716 13.5001 18.5Z",fill:"currentColor"}))}),"alert_triangle")},4343:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(50959);const i=(0,r(95571).A)((function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.08045 7.59809C4.66624 7.01231 5.61599 7.01231 6.20177 7.59809L11.8586 13.2549L17.5155 7.59809C18.1013 7.01231 19.051 7.01231 19.6368 7.59809C20.2226 8.18388 20.2226 9.13363 19.6368 9.71941L12.9193 16.4369C12.3335 17.0227 11.3838 17.0227 10.798 16.4369L4.08045 9.71941C3.49467 9.13363 3.49467 8.18388 4.08045 7.59809Z",fill:"currentColor"}))}),"chevron_down")},91890:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(50959);const i=(0,r(95571).A)((function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM17.0352 16.8626C16.4597 17.4585 15.5101 17.4751 14.9142 16.8996L12.0368 14.121L9.25822 16.9984C8.68274 17.5943 7.73314 17.6109 7.13722 17.0354C6.5413 16.4599 6.52472 15.5103 7.1002 14.9144L9.87883 12.037L7.00147 9.2584C6.40555 8.68293 6.38897 7.73332 6.96445 7.1374C7.53992 6.54148 8.48953 6.52491 9.08545 7.10038L11.9628 9.87901L14.7414 7.00165C15.3169 6.40573 16.2665 6.38916 16.8624 6.96463C17.4584 7.54011 17.4749 8.48971 16.8995 9.08563L14.1208 11.963L16.9982 14.7416C17.5941 15.3171 17.6107 16.2667 17.0352 16.8626Z",fill:"currentColor"}))}),"clear")},95193:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(50959);const i=(0,r(95571).A)((function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),n.createElement("path",{d:"M17.6568 19.7782C18.2426 20.3639 19.1924 20.3639 19.7782 19.7782C20.3639 19.1924 20.3639 18.2426 19.7782 17.6568L14.1213 12L19.7782 6.34313C20.3639 5.75734 20.3639 4.8076 19.7782 4.22181C19.1924 3.63602 18.2426 3.63602 17.6568 4.22181L12 9.87866L6.34313 4.22181C5.75734 3.63602 4.8076 3.63602 4.22181 4.22181C3.63602 4.8076 3.63602 5.75734 4.22181 6.34313L9.87866 12L4.22181 17.6568C3.63602 18.2426 3.63602 19.1924 4.22181 19.7782C4.8076 20.3639 5.75734 20.3639 6.34313 19.7782L12 14.1213L17.6568 19.7782Z",fill:"currentColor"}))}),"close")},26758:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(50959);const i=(0,r(95571).A)((function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.22183 4.22182C6.21136 2.23232 8.96273 1 12 1C15.0373 1 17.7886 2.23231 19.7782 4.22182L19.0711 4.92893L19.7782 4.22183C21.7677 6.21136 23 8.96273 23 12C23 15.0373 21.7677 17.7886 19.7782 19.7782C17.7886 21.7677 15.0373 23 12 23C8.96273 23 6.21136 21.7677 4.22183 19.7782L4.92893 19.0711L4.22182 19.7782C2.23231 17.7886 1 15.0373 1 12C1 8.96273 2.23232 6.21136 4.22182 4.22183L4.22183 4.22182ZM12 3C9.51447 3 7.26584 4.00626 5.63603 5.63604C4.00625 7.26585 3 9.51447 3 12C3 14.4855 4.00627 16.7342 5.63604 18.3639C7.26584 19.9937 9.51447 21 12 21C14.4855 21 16.7342 19.9937 18.3639 18.3639C19.9937 16.7342 21 14.4855 21 12C21 9.51447 19.9937 7.26584 18.3639 5.63604C16.7342 4.00627 14.4855 3 12 3Z",fill:"currentColor"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 9.31245C8 7.10331 9.79086 5.31245 12 5.31245C14.2091 5.31245 16 7.10331 16 9.31245C16 11.1763 14.7252 12.7424 13 13.1864V14.3124C13 14.8647 12.5523 15.3124 12 15.3124C11.4477 15.3124 11 14.8647 11 14.3124V12.3124C11 11.7602 11.4477 11.3124 12 11.3124C13.1046 11.3124 14 10.417 14 9.31245C14 8.20788 13.1046 7.31245 12 7.31245C10.8954 7.31245 10 8.20788 10 9.31245C10 9.86473 9.55228 10.3124 9 10.3124C8.44772 10.3124 8 9.86473 8 9.31245Z",fill:"currentColor"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 18.8125C12.6904 18.8125 13.25 18.2528 13.25 17.5625C13.25 16.8721 12.6904 16.3125 12 16.3125C11.3097 16.3125 10.75 16.8721 10.75 17.5625C10.75 18.2528 11.3097 18.8125 12 18.8125Z",fill:"currentColor"}))}),"help_circle_stroked")},85848:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(50959);const i=(0,r(95571).A)((function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM14 7C14 8.10457 13.1046 9 12 9C10.8954 9 10 8.10457 10 7C10 5.89543 10.8954 5 12 5C13.1046 5 14 5.89543 14 7ZM9 10.75C9 10.3358 9.33579 10 9.75 10H12.5C13.0523 10 13.5 10.4477 13.5 11V16.5H14.25C14.6642 16.5 15 16.8358 15 17.25C15 17.6642 14.6642 18 14.25 18H9.75C9.33579 18 9 17.6642 9 17.25C9 16.8358 9.33579 16.5 9.75 16.5H10.5V11.5H9.75C9.33579 11.5 9 11.1642 9 10.75Z",fill:"currentColor"}))}),"info_circle")},41232:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(50959);const i=(0,r(95571).A)((function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),n.createElement("path",{d:"M9 17.0657V6.93425C9 6.5349 9.44507 6.29671 9.77735 6.51823L17.376 11.584C17.6728 11.7819 17.6728 12.2181 17.376 12.416L9.77735 17.4818C9.44507 17.7033 9 17.4651 9 17.0657Z",fill:"currentColor"}))}),"small_triangle_right")},33831:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(50959);const i=(0,r(95571).A)((function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.3516 4.2652C22.0336 4.73552 22.2052 5.66964 21.7348 6.35162L11.7348 20.8516C11.4765 21.2262 11.0622 21.4632 10.6084 21.4961C10.1546 21.529 9.71041 21.3541 9.40082 21.0207L2.90082 14.0207C2.33711 13.4136 2.37226 12.4645 2.97933 11.9008C3.5864 11.3371 4.53549 11.3723 5.0992 11.9793L10.3268 17.6091L19.2652 4.64842C19.7355 3.96644 20.6696 3.79487 21.3516 4.2652Z",fill:"currentColor"}))}),"tick")},2175:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(50959);const i=(0,r(95571).A)((function(e){return n.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM17.8831 9.82235L11.6854 17.4112C11.4029 17.7806 10.965 17.9981 10.5 18C10.035 18.0019 9.59533 17.788 9.30982 17.421L5.81604 13.4209C5.30744 12.767 5.42524 11.8246 6.07916 11.316C6.73308 10.8074 7.67549 10.9252 8.1841 11.5791L10.4838 14.0439L15.5 8C16.0032 7.34193 16.9446 7.21641 17.6027 7.71964C18.2608 8.22287 18.3863 9.16428 17.8831 9.82235Z",fill:"currentColor"}))}),"tick_circle")},76232:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(50959),i=r(42544),o=r(69624);const{hasOwnProperty:s}=Object.prototype;class a extends n.Component{constructor(e){super(e),this.isControlled=e=>Boolean(e&&this.props&&"object"==typeof this.props&&s.call(this.props,e)),this.cache={},this.foundation=null}componentDidMount(){this.foundation&&"function"==typeof this.foundation.init&&this.foundation.init()}componentWillUnmount(){this.foundation&&"function"==typeof this.foundation.destroy&&this.foundation.destroy(),this.cache={}}get adapter(){return{getContext:e=>{if(this.context&&e)return this.context[e]},getContexts:()=>this.context,getProp:e=>this.props[e],getProps:()=>this.props,getState:e=>this.state[e],getStates:()=>this.state,setState:(e,t)=>this.setState(Object.assign({},e),t),getCache:e=>e&&this.cache[e],getCaches:()=>this.cache,setCache:(e,t)=>e&&(this.cache[e]=t),stopPropagation:e=>{try{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation()}catch(t){}},persistEvent:e=>{e&&e.persist&&"function"==typeof e.persist&&e.persist()}}}log(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return(0,i.Z)(e,...r)}getDataAttr(e){return(0,o.Z)(e)}}a.propTypes={},a.defaultProps={}},61214:(e,t,r)=>{"use strict";r.d(t,{W8:()=>o,kK:()=>i});var n=r(50959);function i(e){return n.isValidElement(e)}function o(e){return 0===n.Children.count(e)}},51464:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(50279),i=r(50959);class o extends i.Component{constructor(e){super(e),this.handleAnimationStart=()=>{var e,t;null===(t=(e=this.props).onAnimationStart)||void 0===t||t.call(e)},this.handleAnimationEnd=()=>{this.setState({currentClassName:this.props.endClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!1},(()=>{var e,t;null===(t=(e=this.props).onAnimationEnd)||void 0===t||t.call(e,!1)}))},this.state={currentClassName:this.props.startClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!0}}componentDidMount(){var e,t,r,n;null===(t=(e=this.props).onAnimationStart)||void 0===t||t.call(e),this.props.motion||(null===(n=(r=this.props).onAnimationEnd)||void 0===n||n.call(r,!1),this.setState({isAnimating:!1}))}componentDidUpdate(e,t,r){const i=Object.keys(this.props).filter((t=>!(0,n.Z)(this.props[t],e[t])));i.includes("animationState"),(i.includes("startClassName")||i.includes("replayKey")||i.includes("motion"))&&this.setState({currentClassName:this.props.startClassName,extraStyle:{animationFillMode:this.props.fillMode},isAnimating:!0},(()=>{var e,t,r,n;null===(t=(e=this.props).onAnimationStart)||void 0===t||t.call(e),this.props.motion||(null===(n=(r=this.props).onAnimationEnd)||void 0===n||n.call(r,this.state.isAnimating),this.setState({isAnimating:!1}))}))}render(){var e;return this.props.motion?this.props.children({animationClassName:null!==(e=this.state.currentClassName)&&void 0!==e?e:"",animationStyle:this.state.extraStyle,animationEventsNeedBind:{onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},isAnimating:this.state.isAnimating}):this.props.children({animationClassName:"",animationStyle:{},animationEventsNeedBind:{},isAnimating:this.state.isAnimating})}}o.defaultProps={motion:!0,replayKey:""};const s=o},55587:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(50959),i=r(10422),o=r(82345),s=r(41916),a=r.n(s),c=r(84875),l=r.n(c),u=r(25691);const d=()=>document.body;class h extends n.PureComponent{constructor(e,t){var r;super(e),r=this,this.initContainer=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var n,i;try{let t;if(!r.el||!(null===(n=r.state)||void 0===n?void 0:n.container)||!Array.from(r.state.container.childNodes).includes(r.el)){r.el=document.createElement("div");const n=(r.props.getPopupContainer||e.getPopupContainer||d)();return n.appendChild(r.el),r.addStyle(r.props.style),r.addClass(r.props.prefixCls,e,r.props.className),t=n,t}}catch(o){if(!t)throw o}return null===(i=r.state)||void 0===i?void 0:i.container},this.addStyle=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(r.el)for(const t of Object.keys(e))r.el.style[t]=e[t]},this.addClass=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.context;const{direction:n}=t;for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];const a=l()(e,...o,{[`${e}-rtl`]:"rtl"===n});r.el&&(r.el.className=a)},this.state={container:this.initContainer(t,!0)}}componentDidMount(){const e=this.initContainer(this.context);e!==this.state.container&&this.setState({container:e})}componentDidUpdate(e){const{didUpdate:t}=this.props;t&&t(e)}componentWillUnmount(){const{container:e}=this.state;e&&e.removeChild(this.el)}render(){const{state:e,props:t}=this;return e.container?(0,i.createPortal)(t.children,this.el):null}}h.contextType=u.Z,h.defaultProps={prefixCls:`${o.T}-portal`},h.propTypes={children:a().node,prefixCls:a().string,getPopupContainer:a().func,className:a().string,didUpdate:a().func};const p=h},43503:(e,t,r)=>{"use strict";r.d(t,{Xh:()=>p,vY:()=>y,GO:()=>v,J2:()=>f,np:()=>b,ID:()=>m,ql:()=>g,UW:()=>h});var n=r(54029),i=r(19780),o=r(67062);const s=function(e,t){return t="function"==typeof t?t:void 0,(0,o.Z)(e,5,t)};var a=r(50959),c=r(32890),l=r(83873);const u=e=>{let{autoEscape:t=!0,caseSensitive:r=!1,searchWords:n,sourceString:i}=e;(0,l.Z)(n)&&(n=[n]);const o=(e=>{let{autoEscape:t,caseSensitive:r,searchWords:n,sourceString:i}=e;return n.filter((e=>e)).reduce(((e,n)=>{t&&(n=n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"));const o=new RegExp(n,r?"g":"gi");let s;for(;s=o.exec(i);){const t=s.index,r=o.lastIndex;r>t&&e.push({highlight:!1,start:t,end:r}),s.index===o.lastIndex&&o.lastIndex++}return e}),[])})({autoEscape:t,caseSensitive:r,searchWords:n,sourceString:i}),s=(e=>{let{chunks:t}=e;return t=t.sort(((e,t)=>e.start-t.start)).reduce(((e,t)=>{if(0===e.length)return[t];{const r=e.pop();if(t.start<=r.end){const n=Math.max(r.end,t.end);e.push({highlight:!1,start:r.start,end:n})}else e.push(r,t);return e}}),[]),t})({chunks:o}),a=(e=>{let{chunksToHighlight:t,totalLength:r}=e;const n=[],i=(e,t,r)=>{t-e>0&&n.push({start:e,end:t,highlight:r})};if(0===t.length)i(0,r,!1);else{let e=0;t.forEach((t=>{i(e,t.start,!1),i(t.start,t.end,!0),e=t.end})),i(e,r,!1)}return n})({chunksToHighlight:s,totalLength:i?i.length:0});return a};var d=r(50840);function h(e,t){e&&"function"==typeof e.stopPropagation&&e.stopPropagation(),!t&&e.nativeEvent&&"function"==typeof e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()}function p(e,t){return s(e,(e=>{if("function"==typeof t)return t(e);if("function"==typeof e||a.isValidElement(e))return e;if("[object Error]"===Object.prototype.toString.call(e))return e;if(Array.isArray(e)&&0===e.length){const t=Object.keys(e);if(t.length){const o=[];t.forEach((t=>{(0,i.Z)(o,t,e[t])}));try{(0,c.Z)("production"!==(0,n.Z)(process,"env.NODE_ENV"),"[Semi] You may use an out-of-bounds array. In some cases, your program may not behave as expected.\n                    The maximum length of an array is 4294967295.\n                    Please check whether the array subscript in your data exceeds the maximum value of the JS array subscript")}catch(r){}return o}}else;}))}const f=e=>{let{sourceString:t="",searchWords:r=[],option:n={autoEscape:!0,caseSensitive:!1}}=e;const i=u(Object.assign({sourceString:t,searchWords:r},n)),o=n.highlightTag||"mark",s=n.highlightClassName||"",c=n.highlightStyle||{};return i.map(((e,r)=>{const{end:n,start:i,highlight:l}=e,u=t.substr(i,n-i);return l?a.createElement(o,{style:c,className:s,key:u+r},u):u}))},g=(e,t)=>{let{match:r,unmatch:n,callInInit:i=!0}=t;if("undefined"!=typeof window){const o=window.matchMedia(e);function s(e){e.matches?r&&r(e):n&&n(e)}return i&&s(o),Object.prototype.hasOwnProperty.call(o,"addEventListener")?(o.addEventListener("change",s),()=>o.removeEventListener("change",s)):(o.addListener(s),()=>o.removeListener(s))}return()=>{}},m=e=>a.isValidElement(e)&&"Icon"===(0,n.Z)(e.type,"elementType");function y(){return document?document.activeElement:null}function v(e){if(!(0,d.Z)(e))return[];const t=["input:not([disabled]):not([tabindex='-1'])","textarea:not([disabled]):not([tabindex='-1'])","button:not([disabled]):not([tabindex='-1'])","a[href]:not([tabindex='-1'])","select:not([disabled]):not([tabindex='-1'])","area[href]:not([tabindex='-1'])","iframe:not([tabindex='-1'])","object:not([tabindex='-1'])","*[tabindex]:not([tabindex='-1'])","*[contenteditable]:not([tabindex='-1'])"].join(",");return Array.from(e.querySelectorAll(t))}function b(){return globalThis&&"[object Window]"===Object.prototype.toString.call(globalThis)?window.innerWidth-document.documentElement.clientWidth:0}},88099:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var n=r(93639),i=r(50959),o=r(84875),s=r.n(o),a=r(41916),c=r.n(a),l=r(47056),u=r(35043),d=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const h=l.strings.sizes,{htmlTypes:p,btnTypes:f}=l.strings;class g extends i.PureComponent{render(){const e=this.props,{children:t,block:r,htmlType:o,loading:a,circle:c,className:l,style:u,disabled:h,size:p,theme:f,type:g,prefixCls:m,iconPosition:y}=e,v=d(e,["children","block","htmlType","loading","circle","className","style","disabled","size","theme","type","prefixCls","iconPosition"]),b=Object.assign(Object.assign({disabled:h},(0,n.Z)(v,["x-semi-children-alias"])),{className:s()(m,{[`${m}-${g}`]:!h&&g,[`${m}-disabled`]:h,[`${m}-size-large`]:"large"===p,[`${m}-size-small`]:"small"===p,[`${m}-light`]:"light"===f,[`${m}-block`]:r,[`${m}-circle`]:c,[`${m}-borderless`]:"borderless"===f,[`${m}-${g}-disabled`]:h&&g},l),type:o,"aria-disabled":h}),_={};return l&&l.includes("-with-icon")||(_["x-semi-prop"]=this.props["x-semi-children-alias"]||"children"),i.createElement("button",Object.assign({},b,{onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,style:u}),i.createElement("span",Object.assign({className:`${m}-content`,onClick:e=>h&&e.stopPropagation()},_),t))}}g.defaultProps={disabled:!1,size:"default",type:"primary",theme:"light",block:!1,htmlType:"button",onMouseDown:u.Z,onClick:u.Z,onMouseEnter:u.Z,onMouseLeave:u.Z,prefixCls:l.U.PREFIX},g.propTypes={children:c().node,disabled:c().bool,prefixCls:c().string,style:c().object,size:c().oneOf(h),type:c().oneOf(f),block:c().bool,onClick:c().func,onMouseDown:c().func,circle:c().bool,loading:c().bool,htmlType:c().oneOf(p),theme:c().oneOf(l.strings.themes),className:c().string,onMouseEnter:c().func,onMouseLeave:c().func,"aria-label":c().string}},99891:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(50959),i=r(88099),o=r(810);class s extends n.PureComponent{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}render(){const e=Object.assign({},this.props),t=Boolean(e.icon),r=Boolean(e.loading),s=Boolean(e.disabled);return t||r&&!s?n.createElement(o.Z,Object.assign({},e)):n.createElement(i.Z,Object.assign({},e))}}s.propTypes=Object.assign(Object.assign({},i.Z.propTypes),o.Z.propTypes),s.elementType="Button";const a=s},63436:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>Z});var n=r(55883),i=r(83350),o=r(71180),s=r(50959),a=r(41916),c=r.n(a),l=r(84875),u=r.n(l),d=r(82345);const h={PREFIX:`${d.T}-checkbox`,INNER:`${d.T}-checkbox-inner`,TEXT:`${d.T}-checkbox-text`,INPUT:`${d.T}-checkbox-input`,CHECKED:`${d.T}-checkbox-checked`,DISABLED:`${d.T}-checkbox-disabled`,BUTTON:`${d.T}-checkbox-button`,WRAPPER:""},p={PREFIX:`${d.T}-checkboxGroup`,INNER:`${d.T}-checkboxGroup-inner`,TEXT:`${d.T}-checkboxGroup-text`,INPUT:`${d.T}-checkboxGroup-input`,CHECKED:`${d.T}-checkboxGroup-checked`,DISABLED:`${d.T}-checkboxGroup-disabled`},f=["horizontal","vertical"],g="default",m="card",y="pureCard",v="vertical";var b=r(1714),_=r(37375),w=r(32890);class S extends b.Z{constructor(e){super(Object.assign({},e)),this.clickState=!1,this.handleFocusVisible=e=>{const{target:t}=e;try{if(this.clickState)return void(this.clickState=!1);t.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch(r){(0,w.Z)(!0,"Warning: [Semi Checkbox] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this.clickState=!1,this._adapter.setFocusVisible(!1)}}init(){const{children:e,extra:t,extraId:r,addonId:n}=this.getProps();e&&!n&&this._adapter.setAddonId(),t&&!r&&this._adapter.setExtraId()}notifyChange(e,t){const r=this._adapter.generateEvent(e,t);this._adapter.notifyChange(r)}handleChange(e){if(this.getProp("disabled"))return;"click"===(null==e?void 0:e.type)&&(this.clickState=!0),this._adapter.focusCheckboxEntity();if(this._adapter.getIsInGroup()){return void(this._adapter.getGroupDisabled()||this.handleChangeInGroup(e))}const t=!this.getState("checked");this._isControlledComponent("checked")||this.setChecked(t),this.notifyChange(t,e)}handleChangeInGroup(e){const{value:t}=this.getProps(),r=!this._adapter.getGroupValue().includes(t),n=this._adapter.generateEvent(r,e);this._adapter.notifyChange(n),this._adapter.notifyGroupChange(n)}handleEnterPress(e){(0,_.Z)(e)&&this.handleChange(e)}setChecked(e){this._adapter.setNativeControlChecked(e)}destroy(){}}const O=S,E=s.createContext({});var C=r(95571);const x=(0,C.A)((function(e){return s.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.4111 7.30848C18.0692 7.81171 18.1947 8.75312 17.6915 9.41119L11.1915 17.9112C10.909 18.2806 10.4711 18.4981 10.0061 18.5C9.54105 18.5019 9.10143 18.288 8.81592 17.9209L5.31592 13.4209C4.80731 12.767 4.92512 11.8246 5.57904 11.316C6.23296 10.8074 7.17537 10.9252 7.68398 11.5791L9.98988 14.5438L15.3084 7.58884C15.8116 6.93077 16.7531 6.80525 17.4111 7.30848Z",fill:"currentColor"}))}),"checkbox_tick");const T=(0,C.A)((function(e){return s.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),s.createElement("path",{d:"M5 12.5C5 11.6716 5.67157 11 6.5 11H17.5C18.3284 11 19 11.6716 19 12.5C19 13.3284 18.3284 14 17.5 14H6.5C5.67157 14 5 13.3284 5 12.5Z",fill:"currentColor"}))}),"checkbox_indeterminate");class k extends s.PureComponent{blur(){this.inputEntity.blur()}focus(){const{preventScroll:e}=this.props;this.inputEntity.focus({preventScroll:e})}render(){const{indeterminate:e,checked:t,disabled:r,prefixCls:i,name:o,isPureCardType:a,addonId:c,extraId:l,focusInner:d,onInputFocus:p,onInputBlur:f}=this.props,g=i||h.PREFIX,m=u()({[`${g}-inner`]:!0,[`${g}-inner-checked`]:Boolean(t),[`${g}-inner-pureCardType`]:a},h.WRAPPER),y=u()({[`${g}-inner-display`]:!0,[`${g}-focus`]:d,[`${g}-focus-border`]:d&&!t}),v=t?s.createElement(x,null):e?s.createElement(T,null):null,b={type:"checkbox","aria-label":this.props["aria-label"],"aria-disabled":r,"aria-checked":t,"aria-labelledby":c,"aria-describedby":l||this.props["aria-describedby"],"aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-required":this.props["aria-required"],className:h.INPUT,onChange:n.Z,checked:t,disabled:r,onFocus:p,onBlur:f};return o&&(b.name=o),s.createElement("span",{className:m},s.createElement("input",Object.assign({},b,{ref:e=>{this.inputEntity=e}})),s.createElement("span",{className:y},v))}}k.contextType=E,k.propTypes={"aria-describedby":c().string,"aria-errormessage":c().string,"aria-invalid":c().bool,"aria-labelledby":c().string,"aria-required":c().bool,checked:c().bool,disabled:c().bool,onChange:c().func,children:c().node,grouped:c().bool,value:c().any,isPureCardType:c().bool,addonId:c().string,extraId:c().string,focusInner:c().bool,onInputFocus:c().func,onInputBlur:c().func,preventScroll:c().bool},k.defaultProps={onChange:n.Z};const I=k;var P=r(76232),j=r(74777);class D extends P.Z{get adapter(){return Object.assign(Object.assign({},super.adapter),{setNativeControlChecked:e=>{this.setState({checked:e})},notifyChange:e=>{const{onChange:t}=this.props;t&&t(e)},generateEvent:(e,t)=>{const{props:r}=this;return{target:Object.assign(Object.assign({},r),{checked:e}),stopPropagation:()=>{t.stopPropagation()},preventDefault:()=>{t.preventDefault()},nativeEvent:{stopImmediatePropagation:()=>{t.nativeEvent&&"function"==typeof t.nativeEvent.stopImmediatePropagation&&t.nativeEvent.stopImmediatePropagation()}}}},getIsInGroup:()=>this.isInGroup(),getGroupValue:()=>this.context&&this.context.checkboxGroup.value||[],notifyGroupChange:e=>{this.context.checkboxGroup.onChange(e)},getGroupDisabled:()=>this.context&&this.context.checkboxGroup.disabled,setAddonId:()=>{this.setState({addonId:(0,j.Ms)({prefix:"addon"})})},setExtraId:()=>{this.setState({extraId:(0,j.Ms)({prefix:"extra"})})},setFocusVisible:e=>{this.setState({focusVisible:e})},focusCheckboxEntity:()=>{this.focus()}})}constructor(e){super(e),this.handleChange=e=>this.foundation.handleChange(e),this.handleEnterPress=e=>this.foundation.handleEnterPress(e),this.handleFocusVisible=e=>{this.foundation.handleFocusVisible(e)},this.handleBlur=e=>{this.foundation.handleBlur()};this.state={checked:e.checked||e.defaultChecked||!1,addonId:e.addonId,extraId:e.extraId,focusVisible:!1},this.checkboxEntity=null,this.foundation=new O(this.adapter)}componentDidUpdate(e){this.props.checked!==e.checked&&((0,o.Z)(this.props.checked)?this.foundation.setChecked(!1):(0,i.Z)(this.props.checked)&&this.foundation.setChecked(this.props.checked))}isInGroup(){return Boolean(this.context&&this.context.checkboxGroup&&"value"in this.props)}focus(){this.checkboxEntity&&this.checkboxEntity.focus()}blur(){this.checkboxEntity&&this.checkboxEntity.blur()}render(){const{disabled:e,style:t,prefixCls:r,className:n,indeterminate:i,children:o,onMouseEnter:a,onMouseLeave:c,extra:l,value:d,role:p,tabIndex:f,id:g,type:v}=this.props,{checked:b,addonId:_,extraId:w,focusVisible:S}=this.state,O={checked:b,disabled:e},E=this.isInGroup();if(E){if(this.context.checkboxGroup.value){const e=(this.context.checkboxGroup.value||[]).includes(d);O.checked=e}this.context.checkboxGroup.disabled&&(O.disabled=this.context.checkboxGroup.disabled||this.props.disabled);const{isCardType:e,isPureCardType:t}=this.context.checkboxGroup;O.isCardType=e,O.isPureCardType=t,O.name=this.context.checkboxGroup.name}else O.isPureCardType=v===y,O.isCardType=v===m||O.isPureCardType;const C=r||h.PREFIX,x=O.isCardType||O.isPureCardType,T=u()(C,{[`${C}-disabled`]:O.disabled,[`${C}-indeterminate`]:i,[`${C}-checked`]:O.checked,[`${C}-unChecked`]:!O.checked,[`${C}-cardType`]:O.isCardType,[`${C}-cardType_disabled`]:O.disabled&&O.isCardType,[`${C}-cardType_unDisabled`]:!(O.disabled&&O.isCardType),[`${C}-cardType_checked`]:O.isCardType&&O.checked&&!O.disabled,[`${C}-cardType_checked_disabled`]:O.isCardType&&O.checked&&O.disabled,[n]:Boolean(n),[`${C}-focus`]:S&&x}),k=u()(`${C}-extra`,{[`${C}-cardType_extra_noChildren`]:O.isCardType&&!o}),P=(E&&this.context.checkboxGroup.name,this.props["x-semi-children-alias"]||"children");return s.createElement("span",Object.assign({role:p,tabIndex:f,style:t,className:T,id:g,onMouseEnter:a,onMouseLeave:c,onClick:this.handleChange,onKeyPress:this.handleEnterPress,"aria-labelledby":this.props["aria-labelledby"]},this.getDataAttr(this.props)),s.createElement(I,Object.assign({},this.props,O,{addonId:o&&_,extraId:l&&w,isPureCardType:O.isPureCardType,ref:e=>{this.checkboxEntity=e},focusInner:S&&!x,onInputFocus:this.handleFocusVisible,onInputBlur:this.handleBlur})),o||l?s.createElement("div",{className:`${C}-content`},o?s.createElement("span",{id:_,className:`${C}-addon`,"x-semi-prop":P},o):null,l?s.createElement("div",{id:w,className:k,"x-semi-prop":"extra"},l):null):null)}}D.contextType=E,D.propTypes={"aria-describedby":c().string,"aria-errormessage":c().string,"aria-invalid":c().bool,"aria-labelledby":c().string,"aria-required":c().bool,checked:c().bool,defaultChecked:c().bool,disabled:c().bool,indeterminate:c().bool,onChange:c().func,value:c().any,style:c().object,className:c().string,prefixCls:c().string,onMouseEnter:c().func,onMouseLeave:c().func,extra:c().node,index:c().number,"aria-label":c().string,tabIndex:c().number,preventScroll:c().bool,type:c().string},D.defaultProps={defaultChecked:!1,indeterminate:!1,onChange:n.Z,onMouseEnter:n.Z,onMouseLeave:n.Z,type:"default"},D.elementType="Checkbox";const A=D;var R=r(50279);class M extends b.Z{static get checkboxGroupDefaultAdapter(){return{}}constructor(e){super(Object.assign(Object.assign({},M.checkboxGroupDefaultAdapter),e))}init(){const{defaultValue:e,value:t}=this.getProps();void 0===e||Array.isArray(e)||(0,w.Z)(!0,"Warning: [Semi CheckboxGroup] defaultValue should be an Array"),void 0===t||Array.isArray(t)||(0,w.Z)(!0,"Warning: [Semi CheckboxGroup] value should be an Array")}notifyChange(e){this._adapter.notifyChange(e)}handleChange(e){const t=this.getState("value");let r=[];Array.isArray(t)||(r=[t]),r=e.target.checked?[...t,e.target.value]:t.filter(((t,r)=>t!==e.target.value));"value"in this.getProps()||this._adapter.updateGroupValue(r),this.notifyChange(r)}getFormatName(){return this.getProp("name")||"default"}handlePropValueChange(e){Array.isArray(e)?this._adapter.updateGroupValue(e):(void 0===e&&this._adapter.updateGroupValue([]),(0,w.Z)(!0,"Warning: [Semi CheckboxGroup] value should be an Array"))}destroy(){}}const N=M;class F extends P.Z{get adapter(){return Object.assign(Object.assign({},super.adapter),{updateGroupValue:e=>{this.setState({value:e})},notifyChange:e=>{this.props.onChange&&this.props.onChange(e)}})}constructor(e){super(e),this.state={value:e.value||e.defaultValue},this.foundation=new N(this.adapter),this.onChange=this.onChange.bind(this)}componentDidMount(){this.foundation.init()}componentDidUpdate(e){(0,R.Z)(e.value,this.props.value)||this.foundation.handlePropValueChange(this.props.value)}componentWillUnmount(){this.foundation.destroy()}onChange(e){this.foundation.handleChange(e)}render(){const{children:e,options:t,prefixCls:r,direction:n,className:i,id:o,style:a,type:c,disabled:l}=this.props,d=c===y,h=c===m||d,f=r||p.PREFIX,g=u()({[f]:!0,[`${f}-wrapper`]:!0,[`${f}-${n}`]:n,[`${f}-${n}-cardType`]:n&&h,[`${f}-${n}-pureCardType`]:n&&d},i),v=this.state.value.slice();let b;return t?b=(t||[]).map(((e,t)=>"string"==typeof e?s.createElement(A,{role:"listitem",key:t,disabled:this.props.disabled,value:e,prefixCls:r},e):s.createElement(A,{role:"listitem",key:t,disabled:e.disabled||this.props.disabled,value:e.value,prefixCls:r,extra:e.extra,className:e.className,style:e.style,onChange:e.onChange},e.label))):e&&(b=s.Children.toArray(e).map(((e,t)=>s.cloneElement(e,{key:t,role:"listitem"})))),s.createElement("div",Object.assign({id:o,role:"list","aria-label":this.props["aria-label"],className:g,style:a,"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"]},this.getDataAttr(this.props)),s.createElement(E.Provider,{value:{checkboxGroup:{onChange:this.onChange,value:v,disabled:this.props.disabled,name:this.foundation.getFormatName(),isCardType:h,isPureCardType:d}}},b))}}F.propTypes={"aria-describedby":c().string,"aria-errormessage":c().string,"aria-invalid":c().bool,"aria-labelledby":c().string,"aria-required":c().bool,defaultValue:c().array,disabled:c().bool,name:c().string,options:c().array,value:c().array,onChange:c().func,children:c().node,prefixCls:c().string,direction:c().oneOf(f),className:c().string,type:c().oneOf([g,m,y]),style:c().object},F.defaultProps={disabled:!1,onChange:()=>{},type:g,defaultValue:[],direction:v};const z=F;class L extends A{}L.Group=z;const Z=L},25691:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=r(50959).createContext({})},60679:(e,t,r)=>{"use strict";r.d(t,{Z:()=>oe});var n=r(55883),i=r(50959),o=r(84875),s=r.n(o),a=r(41916),c=r.n(a),l=r(88375),u=r(88987),d=r(71180),h=r(1714),p=r(75181),f=r(19895),g=r(25027);function m(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function y(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function v(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var r=getComputedStyle(e,null);return y(r.overflowY,t)||y(r.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function b(e,t,r,n,i,o,s,a){return o<e&&s>t||o>e&&s<t?0:o<=e&&a<=r||s>=t&&a>=r?o-e-n:s>t&&a<r||o<e&&a>r?s-t+i:0}var _=function(e,t){var r=window,n=t.scrollMode,i=t.block,o=t.inline,s=t.boundary,a=t.skipOverflowHiddenElements,c="function"==typeof s?s:function(e){return e!==s};if(!m(e))throw new TypeError("Invalid target");for(var l,u,d=document.scrollingElement||document.documentElement,h=[],p=e;m(p)&&c(p);){if((p=null==(u=(l=p).parentElement)?l.getRootNode().host||null:u)===d){h.push(p);break}null!=p&&p===document.body&&v(p)&&!v(document.documentElement)||null!=p&&v(p,a)&&h.push(p)}for(var f=r.visualViewport?r.visualViewport.width:innerWidth,g=r.visualViewport?r.visualViewport.height:innerHeight,y=window.scrollX||pageXOffset,_=window.scrollY||pageYOffset,w=e.getBoundingClientRect(),S=w.height,O=w.width,E=w.top,C=w.right,x=w.bottom,T=w.left,k="start"===i||"nearest"===i?E:"end"===i?x:E+S/2,I="center"===o?T+O/2:"end"===o?C:T,P=[],j=0;j<h.length;j++){var D=h[j],A=D.getBoundingClientRect(),R=A.height,M=A.width,N=A.top,F=A.right,z=A.bottom,L=A.left;if("if-needed"===n&&E>=0&&T>=0&&x<=g&&C<=f&&E>=N&&x<=z&&T>=L&&C<=F)return P;var Z=getComputedStyle(D),B=parseInt(Z.borderLeftWidth,10),U=parseInt(Z.borderTopWidth,10),$=parseInt(Z.borderRightWidth,10),G=parseInt(Z.borderBottomWidth,10),H=0,V=0,K="offsetWidth"in D?D.offsetWidth-D.clientWidth-B-$:0,W="offsetHeight"in D?D.offsetHeight-D.clientHeight-U-G:0,q="offsetWidth"in D?0===D.offsetWidth?0:M/D.offsetWidth:0,X="offsetHeight"in D?0===D.offsetHeight?0:R/D.offsetHeight:0;if(d===D)H="start"===i?k:"end"===i?k-g:"nearest"===i?b(_,_+g,g,U,G,_+k,_+k+S,S):k-g/2,V="start"===o?I:"center"===o?I-f/2:"end"===o?I-f:b(y,y+f,f,B,$,y+I,y+I+O,O),H=Math.max(0,H+_),V=Math.max(0,V+y);else{H="start"===i?k-N-U:"end"===i?k-z+G+W:"nearest"===i?b(N,z,R,U,G+W,k,k+S,S):k-(N+R/2)+W/2,V="start"===o?I-L-B:"center"===o?I-(L+M/2)+K/2:"end"===o?I-F+$+K:b(L,F,M,B,$+K,I,I+O,O);var J=D.scrollLeft,Y=D.scrollTop;k+=Y-(H=Math.max(0,Math.min(Y+H/X,D.scrollHeight-R/X+W))),I+=J-(V=Math.max(0,Math.min(J+V/q,D.scrollWidth-M/q+K)))}P.push({el:D,top:H,left:V})}return P};function w(e){return e===Object(e)&&0!==Object.keys(e).length}const S=function(e,t){var r=e.isConnected||e.ownerDocument.documentElement.contains(e);if(w(t)&&"function"==typeof t.behavior)return t.behavior(r?_(e,t):[]);if(r){var n=function(e){return!1===e?{block:"end",inline:"nearest"}:w(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var r="scrollBehavior"in document.body.style;e.forEach((function(e){var n=e.el,i=e.top,o=e.left;n.scroll&&r?n.scroll({top:i,left:o,behavior:t}):(n.scrollTop=i,n.scrollLeft=o)}))}(_(e,n),n.behavior)}};class O extends h.Z{constructor(e){super(Object.assign({},e));let{initValues:t}=this._adapter.getProps();t=this._adapter.cloneDeep(t),this.data={values:t||{},errors:{},touched:{}},this.fields=new Map,this.registered={},this.registeredArrayField=new Map,this.register=this.register.bind(this),this.unRegister=this.unRegister.bind(this),this.registerArrayField=this.registerArrayField.bind(this),this.unRegisterArrayField=this.unRegisterArrayField.bind(this),this.getArrayField=this.getArrayField.bind(this),this.updateArrayField=this.updateArrayField.bind(this),this.getField=this.getField.bind(this),this.setValues=this.setValues.bind(this),this.updateStateValue=this.updateStateValue.bind(this),this.updateStateError=this.updateStateError.bind(this),this.updateStateTouched=this.updateStateTouched.bind(this),this.getFormState=this.getFormState.bind(this),this.getValue=this.getValue.bind(this),this.getError=this.getError.bind(this),this.getTouched=this.getTouched.bind(this),this.getInitValues=this.getInitValues.bind(this),this.getInitValue=this.getInitValue.bind(this),this.getFormProps=this.getFormProps.bind(this),this.getFieldExist=this.getFieldExist.bind(this),this.scrollToField=this.scrollToField.bind(this)}init(){this._adapter.initFormId()}getField(e){return this.fields.get(e)}register(e,t,r){this.registered[e];if(this.registered[e]=!0,this.fields.set(e,r),r.keepState);else{const n=r.allowEmpty||!1,i={notNotify:!0,notUpdate:!1,allowEmpty:n};let o=t.value;n||""!==o||(o=void 0),this.updateStateValue(e,o,i),t.error&&this.updateStateError(e,t.error,i)}}unRegister(e){const t=this.fields.get(e);try{t.keepState||(p.Od(this.data.values,e),p.Od(this.data.errors,e),p.Od(this.data.touched,e))}catch(r){console.error(`some thing wrong when unregister field:${e}`)}this.fields.delete(e),this._adapter.notifyChange(this.data),this._adapter.forceUpdate()}registerArrayField(e,t){this.updateArrayField(e,{updateKey:(new Date).valueOf(),initValue:t})}unRegisterArrayField(e){this.registeredArrayField.delete(e)}getArrayField(e){return this.registeredArrayField.get(e)}updateArrayField(e,t){const r=Object.assign(Object.assign({},this.registeredArrayField.get(e)),t);this.registeredArrayField.set(e,r)}validate(e){const{validateFields:t}=this.getProps();return t&&(0,u.Z)(t)?this._formValidate():this._fieldsValidate(e)}_formValidate(){const{values:e}=this.data,{validateFields:t}=this.getProps();return new Promise(((r,n)=>{let i;try{i=t(e)}catch(o){i=o}if(i)(0,f.Z)(i)?i.then((t=>{if(t)this.data.errors=t,this._adapter.notifyChange(this.data),this.injectErrorToField(t),this._adapter.forceUpdate(),this._autoScroll(100),n(t);else{const t=this._adapter.cloneDeep(e);r(t),this.injectErrorToField({})}}),(e=>{this._autoScroll(100),n(e)})):(this.data.errors=i,this.injectErrorToField(i),this._adapter.notifyChange(this.data),this._adapter.forceUpdate(),this._autoScroll(100),n(i));else{const t=this._adapter.cloneDeep(e);r(t),this.injectErrorToField({})}}))}_fieldsValidate(e){const{values:t}=this.data;return new Promise(((r,n)=>{let i=[];const o=this._getOperateFieldMap(e);o.forEach(((e,t)=>{const r=this.getValue(t),n={notNotify:!0,notUpdate:!0},o=e.fieldApi.validate(r,n);i.push(o),e.fieldApi.setTouched(!0,n)})),Promise.all(i).then((()=>{this._adapter.notifyChange(this.data),this._adapter.forceUpdate();const e=this.getError();if(this._isValid(o)){const e=this._adapter.cloneDeep(t);r(e)}else this._autoScroll(),n(e)}))}))}submit(e){const{values:t}=this.data;this.validate().then((t=>{const r=this._adapter.cloneDeep(t);this._adapter.notifySubmit(r,e)})).catch((r=>{const n=this._adapter.cloneDeep(r),i=this._adapter.cloneDeep(t);this._adapter.notifySubmitFail(n,i,e)}))}_getNestedField(e){const t=this.fields,r=[...t].map((e=>e[0]));let n=new Map;return r.forEach((r=>{let i=(0,l.Z)(r),o=(0,l.Z)(e);if(o.every(((e,t)=>o[t]===i[t]))){const e=t.get(r);n.set(r,e)}})),n}_getOperateFieldMap(e){let t=new Map;return(0,d.Z)(e)?t=this.fields:e.forEach((e=>{const r=this.fields.get(e);if((0,d.Z)(r)){const r=this._getNestedField(e);t=new Map([...t,...r])}else t.set(e,r)})),t}reset(e){this._getOperateFieldMap(e).forEach((e=>{e.fieldApi.reset()})),this.registeredArrayField.size&&this._resetArrayField(),this._adapter.notifyChange(this.data),this._adapter.forceUpdate(),this._adapter.notifyReset()}_resetArrayField(){[...this.registeredArrayField.keys()].forEach((e=>{const t=this.registeredArrayField.get(e).initValue;this.updateStateValue(e,t,{notNotify:!0,notUpdate:!0}),this.updateArrayField(e,{updateKey:(new Date).valueOf()})}))}injectErrorToField(e){this.fields.forEach((t=>{const r=p.U2(e,t.field);t.fieldApi.setError(r,{notNotify:!0,notUpdate:!0})}))}getValue(e,t){const r=void 0===e,n=t&&t.needClone;let i,o;switch(!0){case!r&&!n:i=p.U2(this.data.values,e);break;case!r&&n:o=p.U2(this.data.values,e),i=this._adapter.cloneDeep(o);break;case r&&!n:i=Object.assign({},this.data.values);break;case r&&n:i=this._adapter.cloneDeep(this.data.values)}return i}setValues(e,t){let{isOverride:r=!1}=t;const n=this._adapter.cloneDeep(e);if(this.fields.forEach((e=>{const t=p.U2(n,e.field);e.fieldApi.setValue(t,{notNotify:!0,notUpdate:!0})})),this.registeredArrayField.size){[...this.registeredArrayField.keys()].forEach((e=>{this.updateArrayField(e,{updateKey:(new Date).valueOf()})}))}r&&(this.data.values=n),this._adapter.notifyChange(this.data),this._adapter.notifyValueChange(this.data.values,Object.assign({},e)),this._adapter.forceUpdate()}updateStateValue(e,t,r,n){const i=r&&r.notNotify,o=r&&r.notUpdate,s=r&&r.fieldAllowEmpty,a=this.getProp("allowEmpty"),c=s||a;p.t8(this.data.values,e,t,c),i||(this._adapter.notifyChange(this.data),this._adapter.notifyValueChange(this.data.values,{[e]:t})),o||this._adapter.forceUpdate(n)}getTouched(e){return void 0===e?this.data.touched:p.U2(this.data.touched,e)}updateStateTouched(e,t,r,n){const i=r&&r.notNotify,o=r&&r.notUpdate;p.t8(this.data.touched,e,t),i||this._adapter.notifyChange(this.data),o||this._adapter.forceUpdate(n)}getError(e){return void 0===e?this.data.errors:p.U2(this.data.errors,e)}updateStateError(e,t,r,n){const i=r&&r.notNotify,o=r&&r.notUpdate;p.t8(this.data.errors,e,t),i||this._adapter.notifyChange(this.data),o||this._adapter.forceUpdate(n)}getFieldSetterApi(){return{setValue:(e,t,r)=>{const n=this.fields.get(e)?this.fields.get(e).fieldApi:void 0,i=this._adapter.cloneDeep(t);n?n.setValue(i,r):(this.updateStateValue(e,i,r,(()=>{let t=this._getNestedField(e);t.size&&t.forEach((e=>{let t=e.field,r=p.U2(this.data.values,t);e.fieldApi.setValue(r,{notNotify:!0,notUpdate:!0})}))})),this.getArrayField(e)&&this.updateArrayField(e,{updateKey:(new Date).valueOf()}))},setError:(e,t,r)=>{const n=this.fields.get(e)?this.fields.get(e).fieldApi:void 0,i=this._adapter.cloneDeep(t);n?n.setError(i,r):(this.updateStateError(e,i,r,(()=>{let t=this._getNestedField(e);t.size&&t.forEach((e=>{let t=e.field,r=p.U2(this.data.errors,t);e.fieldApi.setError(r,{notNotify:!0,notUpdate:!0})}))})),this.getArrayField(e)&&this.updateArrayField(e,{updateKey:(new Date).valueOf()}))},setTouched:(e,t,r)=>{const n=this.fields.get(e)?this.fields.get(e).fieldApi:void 0;n?n.setTouched(t,r):(this.updateStateTouched(e,t,r,(()=>{let t=this._getNestedField(e);t.size&&t.forEach((e=>{let t=e.field,r=p.U2(this.data.touched,t);e.fieldApi.setTouched(r,{notNotify:!0,notUpdate:!0})}))})),this.getArrayField(e)&&this.updateArrayField(e,{updateKey:(new Date).valueOf()}))}}}getModifyFormStateApi(){return{register:this.register,unRegister:this.unRegister,updateStateValue:this.updateStateValue,updateStateError:this.updateStateError,updateStateTouched:this.updateStateTouched,getValue:this.getValue,getError:this.getError,getTouched:this.getTouched,getInitValues:this.getInitValues,getInitValue:this.getInitValue,getFormProps:this.getFormProps,getField:this.getField,registerArrayField:this.registerArrayField,unRegisterArrayField:this.unRegisterArrayField,getArrayField:this.getArrayField,updateArrayField:this.updateArrayField}}getFormApi(){const e=this.getFieldSetterApi();return Object.assign(Object.assign({},e),{reset:e=>this.reset(e),validate:e=>this.validate(e),getValue:e=>this.getValue(e,{needClone:!0}),getValues:()=>this.getValue(void 0,{needClone:!0}),getFormState:()=>this.getFormState(!0),getInitValue:e=>this.getInitValue(e),getInitValues:()=>this.getInitValues(),getTouched:e=>this.getTouched(e),getError:e=>this.getError(e),setValues:(e,t)=>this.setValues(e,t||{isOverride:!1}),submitForm:()=>this.submit(),getFieldExist:e=>this.getFieldExist(e),scrollToField:(e,t)=>this.scrollToField(e,t)})}getFormState(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this._adapter.cloneDeep(this.data):Object.assign({},this.data)}_isValid(e){let t=!0;if(e){[...e.keys()].forEach((e=>{const r=p.U2(this.data.errors,e);(0,g.JY)(r)||(t=!1)}))}else t=Boolean(p.cS(this.data.errors));return t}getInitValues(){return this._adapter.getInitValues()}getInitValue(e){return void 0===e?this._adapter.getInitValues():p.U2(this._adapter.getInitValues(),e)}getFormProps(e){return this._adapter.getFormProps(e)}getFieldExist(e){return Boolean(this.fields.has(e))}_autoScroll(e){const{autoScrollToError:t}=this.getFormProps();if(!t)return;let r={behavior:"smooth",block:"start"};"object"==typeof t&&(r=t),e?setTimeout((()=>this._getErrorFieldAndScroll(r)),100):this._getErrorFieldAndScroll(r)}_getErrorFieldAndScroll(e){const t=this._adapter.getAllErrorDOM();if(t&&t.length)try{const r=t[0].parentNode.parentNode;S(r,e)}catch(r){}}scrollToField(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{behavior:"smooth",block:"start"};if(this.getFieldExist(e)){const r=this._adapter.getFieldDOM(e);S(r,t)}}}var E=r(6903),C=r(74777),x=r(32890),T=r(76232),k=r(19503),I=r(61214),P=r(71894),j=r(43503),D=r(82433),A=r(69708),R=r(83873),M=r(75198),N=r(55055),F=r(27295),z=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const L=E.UX.PREFIX,Z=e=>{let t,r,n,o,a,c="top";try{const e=(0,i.useContext)(k.kn).getFormProps(["labelPosition","labelWidth","labelAlign","labelCol","wrapperCol"]);t=e.labelCol,r=e.wrapperCol,n=e.labelWidth,o=e.labelAlign,c=e.labelPosition?e.labelPosition:c}catch(p){}e.labelPosition&&(c=e.labelPosition);let{children:l,label:u,className:d,style:h,error:p,noLabel:f}=e;z(e,["children","label","className","style","error","noLabel"]);const g=t&&r,m=s()({[`${L}-field`]:!0,[`${L}-slot`]:!0},d),y=s()({[`${L}-col-${o}`]:!0});switch(!0){case(0,D.Z)(u)&&!i.isValidElement(u):break;case(0,R.Z)(u)||(0,A.Z)(u):case i.isValidElement(u):u={text:u}}let v=null;if(void 0!==typeof p){let e={};switch(!0){case(0,D.Z)(p)&&!i.isValidElement(p):e=p;break;case(0,R.Z)(p)||(0,A.Z)(p):case i.isValidElement(p):e={error:p}}v=i.createElement(F.Z,Object.assign({},e))}let b=Object.assign({align:o,width:n},u),_=s()({[`${L}-field-main`]:!0,[`${L}-slot-main`]:!0});switch(!0){case!g&&!f:a=i.createElement(i.Fragment,null,i.createElement(M.Z,Object.assign({},b)),i.createElement("div",{className:_},l,v));break;case!g&&f:a=i.createElement(i.Fragment,null,i.createElement("div",{className:_},l,v));break;case g&&"top"===c:a=i.createElement(i.Fragment,null,i.createElement("div",{style:{overflow:"hidden"}},i.createElement(N.Z,Object.assign({},t,{className:y}),i.createElement(M.Z,Object.assign({},b)))),i.createElement(N.Z,null,l,v));break;case g&&"top"!==c:a=i.createElement(i.Fragment,null,i.createElement(N.Z,Object.assign({},t,{className:y}),i.createElement(M.Z,Object.assign({},b))),i.createElement(N.Z,null,l,v))}return i.createElement("div",{className:m,"x-label-pos":c,style:h},a)},B=E.UX.PREFIX;class U extends i.PureComponent{render(){const{text:e,className:t,style:r,children:n}=this.props,o=s()({[B+"-section"]:!0},t),a=B+"-section-text";return i.createElement("section",{className:o,style:r},i.createElement("h5",{className:a},e),n)}}U.propTypes={text:c().node,className:c().string,style:c().object,children:c().node};var $=r(10949),G=r(54029),H=r(75778),V=r(35043),K=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const W=H.UX.PREFIX,q=H.j2.SIZE;class X extends T.Z{renderGroupWithLabel(e){const t=this.props,{size:r,className:n,label:o,labelPosition:a}=t,c=(K(t,["size","className","label","labelPosition"]),s()({[`${W}-group-wrapper`]:!0,[`${W}-group-wrapper-with-top-label`]:"top"===a,[`${W}-group-wrapper-with-left-label`]:"left"===a})),l=s()(`${W}-group`,n,{[`${W}-${r}`]:"default"!==r}),u="input-group";return i.createElement("div",{className:c},o&&o.text?i.createElement(M.Z,Object.assign({name:u},o)):null,i.createElement("span",{role:"group","aria-disabled":this.props.disabled,id:o&&o.name||u,className:l,style:this.props.style,onFocus:this.props.onFocus,onBlur:this.props.onBlur},e))}render(){const e=this.props,{size:t,style:r,className:n,children:o,label:a,onBlur:c,onFocus:l,disabled:d}=e,h=K(e,["size","style","className","children","label","onBlur","onFocus","disabled"]),p=s()(`${W}-group`,{[`${W}-${t}`]:"default"!==t},n);let f;return o&&(f=(Array.isArray(o)?o:[o]).map(((e,r)=>{if(e){const{onBlur:n,onFocus:o,disabled:s}=e.props,a=(0,u.Z)(n)&&"noop"!==(0,G.Z)(n,"name")?n:c,p=(0,u.Z)(o)&&"noop"!==(0,G.Z)(o,"name")?o:l,f="boolean"==typeof s?s:d;return i.cloneElement(e,Object.assign(Object.assign({key:r},h),{size:t,onBlur:a,onFocus:p,disabled:f}))}return null}))),a&&a.text?this.renderGroupWithLabel(f):i.createElement("span",{role:"group","aria-label":"Input group","aria-disabled":this.props.disabled,className:p,style:r,onFocus:this.props.onFocus,onBlur:this.props.onBlur},f)}}X.propTypes={className:c().string,children:c().node,size:c().oneOf(q),style:c().object,onBlur:c().func,onFocus:c().func,label:c().object,labelPosition:c().string},X.defaultProps={size:"default",className:"",onBlur:V.Z,onFocus:V.Z};var J=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const Y=E.UX.PREFIX,Q=e=>{const{fieldSet:t}=e,r=(0,$.Z)(),n=t.map((e=>p.U2(r.errors,e)));return(0,g.JY)(n)?null:i.createElement(F.Z,{error:n,showValidateIcon:e.showValidateIcon,isInInputGroup:e.isInInputGroup})};class ee extends i.Component{renderLabel(e,t){return e?(0,R.Z)(e)?i.createElement(M.Z,{width:t.labelWidth,text:e}):i.createElement(M.Z,Object.assign({width:t.labelWidth},e)):null}render(){const e=this.props,{children:t,label:r,extraText:n,extraTextPosition:o}=e,a=J(e,["children","label","extraText","extraTextPosition"]),c=this.context.getFormProps(["labelPosition","labelWidth","labelAlign","showValidateIcon","wrapperCol","labelCol","disabled"]),l=this.props.labelPosition||c.labelPosition,u=[],d=i.Children.map(t,(e=>e&&e.props&&e.props.field?(u.push(e.props.field),i.cloneElement(e,{isInInputGroup:!0})):null)),h=s()({[`${Y}-field-group`]:!0}),p=c.labelCol,f=c.wrapperCol,g=c.labelAlign,m=p&&f,y=p?`${Y}-col-${g}`:"",v=this.renderLabel(r,c),b=i.createElement(X,Object.assign({disabled:c.disabled},a),d),_=i.createElement(Q,{fieldSet:u,showValidateIcon:c.showValidateIcon,isInInputGroup:!0}),w=s()(`${Y}-field-extra`,{[`${Y}-field-extra-string`]:"string"==typeof n,[`${Y}-field-extra-middle`]:"middle"===o,[`${Y}-field-extra-bottom`]:"bottom"===o}),S=n?i.createElement("div",{className:w,"x-semi-prop":"extraText"},n):null;let O;switch(!0){case!m:O=i.createElement(i.Fragment,null,v,i.createElement("div",null,"middle"===o?S:null,b,"bottom"===o?S:null,_));break;case m&&"top"===l:O=i.createElement(i.Fragment,null,i.createElement("div",{style:{overflow:"hidden"}},i.createElement(N.Z,Object.assign({},p,{className:y}),v)),i.createElement(N.Z,Object.assign({},f),"middle"===o?S:null,b,"bottom"===o?S:null,_));break;case m&&"top"!==l:O=i.createElement(i.Fragment,null,i.createElement(N.Z,Object.assign({},p,{className:y}),v),i.createElement(N.Z,Object.assign({},f),"middle"===o?S:null,b,"bottom"===o?S:null,_))}return i.createElement("div",{"x-label-pos":l,className:h},O)}}ee.contextType=k.kn;const te=ee;var re=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const ne=E.UX.PREFIX;class ie extends T.Z{constructor(e){super(e),this.state={formId:""},(0,x.Z)(Boolean(e.component&&e.render),"[Semi Form] You should not use <Form component> and <Form render> in ths same time; <Form render> will be ignored"),(0,x.Z)(e.component&&e.children&&!(0,I.W8)(e.children),"[Semi Form] You should not use <Form component> and <Form>{children}</Form> in ths same time; <Form>{children}</Form> will be ignored"),(0,x.Z)(e.render&&e.children&&!(0,I.W8)(e.children),"[Semi Form] You should not use <Form render> and <Form>{children}</Form> in ths same time; <Form>{children}</Form> will be ignored"),this.submit=this.submit.bind(this),this.reset=this.reset.bind(this),this.foundation=new O(this.adapter),this.formApi=this.foundation.getFormApi(),this.props.getFormApi&&this.props.getFormApi(this.formApi)}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}get adapter(){return Object.assign(Object.assign({},super.adapter),{cloneDeep:j.Xh,notifySubmit:(e,t)=>{this.props.onSubmit(e,t)},notifySubmitFail:(e,t,r)=>{this.props.onSubmitFail(e,t,r)},forceUpdate:e=>{this.forceUpdate(e)},notifyChange:e=>{this.props.onChange(e)},notifyValueChange:(e,t)=>{this.props.onValueChange(e,t)},notifyReset:()=>{this.props.onReset()},initFormId:()=>{this.setState({formId:(0,C.Cd)()})},getInitValues:()=>this.props.initValues,getFormProps:e=>{if(void 0===e)return this.props;if("string"==typeof e)return this.props[e];{const t={};return e.forEach((e=>{t[e]=this.props[e]})),t}},getAllErrorDOM:()=>{const{formId:e}=this.state,{id:t}=this.props,r=t||e;return document.querySelectorAll(`form[x-form-id="${r}"] .${E.UX.PREFIX}-field-error-message`)},getFieldDOM:e=>document.querySelector(`.${E.UX.PREFIX}-field[x-field-id="${e}"]`)})}get content(){const{children:e,component:t,render:r}=this.props,n=this.foundation.getFormState(),o={formState:n,formApi:this.foundation.getFormApi(),values:n.values};return t?i.createElement(t,o):r?r(o):"function"==typeof e?e(o):e}submit(e){e.preventDefault(),this.foundation.submit(e)}reset(e){e.preventDefault(),this.foundation.reset()}render(){const e=this.foundation.getFormState(!1),t=this.foundation.getModifyFormStateApi(),{formId:r}=this.state,n=this.props,{children:o,getFormApi:a,onChange:c,onSubmit:l,onSubmitFail:u,onValueChange:d,component:h,render:p,validateFields:f,initValues:g,layout:m,style:y,className:v,labelPosition:b,labelWidth:_,labelAlign:w,labelCol:S,wrapperCol:O,allowEmpty:E,autoScrollToError:C,showValidateIcon:x,stopValidateWithError:T,extraTextPosition:I,id:j,trigger:D}=n,A=re(n,["children","getFormApi","onChange","onSubmit","onSubmitFail","onValueChange","component","render","validateFields","initValues","layout","style","className","labelPosition","labelWidth","labelAlign","labelCol","wrapperCol","allowEmpty","autoScrollToError","showValidateIcon","stopValidateWithError","extraTextPosition","id","trigger"]),R=s()(ne,v,{[ne+"-vertical"]:"vertical"===m,[ne+"-horizontal"]:"horizontal"===m}),M=O&&S,N=i.createElement("form",Object.assign({style:y},A,{onReset:this.reset,onSubmit:this.submit,className:R,"x-form-id":j||r}),this.content),F=i.createElement(P.Z,null,N);return i.createElement(k.kn.Provider,{value:t},i.createElement(k.mC.Provider,{value:this.formApi},i.createElement(k.Ar.Provider,{value:e},M?F:N)))}}ie.propTypes={"aria-label":c().string,onSubmit:c().func,onSubmitFail:c().func,onChange:c().func,onReset:c().func,onValueChange:c().func,autoScrollToError:c().oneOfType([c().bool,c().object]),allowEmpty:c().bool,className:c().string,component:c().oneOfType([c().node,c().func]),disabled:c().bool,extraTextPosition:c().oneOf(E.j2.EXTRA_POS),getFormApi:c().func,initValues:c().object,validateFields:c().func,layout:c().oneOf(E.j2.LAYOUT),labelPosition:c().oneOf(E.j2.LABEL_POS),labelWidth:c().oneOfType([c().number,c().string]),labelAlign:c().oneOf(E.j2.LABEL_ALIGN),labelCol:c().object,render:c().func,style:c().object,showValidateIcon:c().bool,stopValidateWithError:c().bool,id:c().string,wrapperCol:c().object,trigger:c().oneOfType([c().oneOf(["blur","change","custom","mount"]),c().arrayOf(c().oneOf(["blur","change","custom","mount"]))])},ie.defaultProps={onChange:n.Z,onSubmitFail:n.Z,onSubmit:n.Z,onReset:n.Z,onValueChange:n.Z,layout:"vertical",labelPosition:"top",allowEmpty:!1,autoScrollToError:!1,showValidateIcon:!0},ie.Slot=Z,ie.ErrorMessage=F.Z,ie.InputGroup=te,ie.Label=M.Z,ie.Section=U;const oe=ie},19503:(e,t,r)=>{"use strict";r.d(t,{Ar:()=>i,f5:()=>a,kn:()=>s,mC:()=>o});var n=r(50959);const i=n.createContext({});i.displayName="FormState";const o=n.createContext({});o.displayName="FormApi";const s=n.createContext({});s.displayName="FormUpdater";const a=n.createContext({shouldUseInitValue:!0})},27295:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(50959),i=r(84875),o=r.n(i),s=r(41916),a=r.n(s),c=r(6903),l=r(40910),u=r(86756);const d=c.UX.PREFIX;class h extends n.PureComponent{generatorText(e){const{helpTextId:t,errorMessageId:r}=this.props;let i=r;if(this.props.error||(i=t),"string"==typeof e)return n.createElement("span",{id:i},e);if(Array.isArray(e)){const t=e.filter((e=>e));return t.length?n.createElement("span",{id:i},t.join(", ")):null}return n.isValidElement(e)?e:null}render(){const{error:e,className:t,style:r,validateStatus:i,helpText:s,showValidateIcon:a,isInInputGroup:c}=this.props,h=o()({[d+"-field-error-message"]:Boolean(e),[d+"-field-help-text"]:Boolean(s)},t);if(!e&&!s)return null;const p={warning:n.createElement(l.Z,null),error:n.createElement(u.Z,null)},f=e?this.generatorText(e):this.generatorText(s),g=`${d}-field-validate-status-icon`;let m=null;return c?m=n.createElement(u.Z,{className:g}):p[i]&&(m=n.cloneElement(p[i],{className:g})),n.createElement("div",{className:h,style:r},a&&f?m:null,f)}}h.propTypes={error:a().oneOfType([a().bool,a().string,a().array,a().node]),className:a().string,style:a().object,validateStatus:a().string,showValidateIcon:a().bool,helpText:a().node,isInInputGroup:a().bool,errorMessageId:a().string,helpTextId:a().string}},5455:(e,t,r)=>{"use strict";r.d(t,{Z:()=>w});var n=r(50959),i=r(84875),o=r.n(i),s=r(6903),a=r(25027),c=r(75181),l=r(19895),u=r(32890),d=r(10949),h=r(19503);const p=function(){return(0,n.useContext)(h.f5)};function f(e){const t=(0,n.useRef)(),[r,i]=(0,n.useState)(e);t.current=r;return[r,e=>{t.current=e,i(e)},()=>t.current]}var g=r(27295),m=r(61214),y=r(75198),v=r(55055);const b=s.UX.PREFIX,_="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;const w=function(e,t){let r=(r,i)=>{let{field:s,label:w,labelPosition:S,labelWidth:O,labelAlign:E,labelCol:C,wrapperCol:x,noLabel:T,noErrorMessage:k,isInInputGroup:I,initValue:P,validate:j,validateStatus:D,trigger:A,allowEmptyString:R,allowEmpty:M,emptyValue:N,rules:F,required:z,keepState:L,transform:Z,name:B,fieldClassName:U,fieldStyle:$,convert:G,stopValidateWithError:H,helpText:V,extraText:K,extraTextPosition:W,pure:q,id:X,rest:J}=(0,a.dG)(r),{options:Y,shouldInject:Q}=(0,a.JH)(t,r);if((0,u.Z)(void 0===s&&Y.shouldInject,"[Semi Form]: 'field' is required, please check your props of Field Component"),!Q)return n.createElement(e,Object.assign({},J,{ref:i}));(0,d.Z)();const ee=(0,n.useContext)(h.kn);if(!ee.getFormProps)return(0,u.Z)(!0,"[Semi Form]: Field Component must be use inside the Form, please check your dom declaration"),null;let te,re=ee.getFormProps(["labelPosition","labelWidth","labelAlign","labelCol","wrapperCol","disabled","showValidateIcon","extraTextPosition","stopValidateWithError","trigger"]),ne=S||re.labelPosition,ie=O||re.labelWidth,oe=E||re.labelAlign,se=C||re.labelCol,ae=x||re.wrapperCol,ce=W||re.extraTextPosition||"bottom",le=(0,a.Fs)(H,re.stopValidateWithError,!1),ue=(0,a.TM)(A,re.trigger),de=void 0!==s?ee.getValue(s):void 0,he=void 0!==P?P:de;try{te=p(),te&&(he=te.shouldUseInitValue&&void 0!==P?P:de)}catch(He){}const[pe,fe,ge]=f(void 0!==typeof he?he:null),me=ue.includes("mount");M=M||ee.getFormProps().allowEmpty;const[ye,ve,be]=f(),[_e,we]=(0,n.useState)(),[Se,Oe,Ee]=f(0),[Ce,xe]=(0,n.useState)(D),Te=(0,n.useRef)(F),ke=(0,n.useRef)(j),Ie=(0,n.useRef)(null),Pe=(e,t)=>{we(e),ee.updateStateTouched(s,e,t)},je=(e,t)=>{e!==be()&&(ve(e),ee.updateStateError(s,e,t),(0,a.JY)(e)?xe("success"):xe("error"))},De=(e,t)=>{fe(e);let r=Object.assign(Object.assign({},t),{allowEmpty:M});ee.updateStateValue(s,e,r)},Ae=(e,t)=>{let r=e,n=Te.current;return Z&&(r=Z(e)),ke.current?((e,t,r)=>{const n=new Promise((i=>{let o;try{o=ke.current(e,t)}catch(He){o=He}void 0===o?(i({}),je(void 0,r)):(0,l.Z)(o)?o.then((e=>{Ie.current===n&&((0,a.JY)(e)?(je(void 0,r),i(null)):(je(e,r),i(e)))})):(0,a.JY)(o)?(je(void 0,r),i(null)):(je(o,r),i(o))}));return Ie.current=n,n})(r,ee.getValue(),t):n?((e,t)=>{let r=Te.current||[];const n=(0,a.G$)(s,r),i={[s]:e},o=new Promise(((e,r)=>{n.validate(i,{first:le},((e,t)=>{})).then((r=>{Ie.current===o&&(xe("success"),je(void 0,t),e({}))})).catch((r=>{if(Ie.current!==o)return;let{errors:n,fields:i}=r;if(!n||!i)throw xe("error"),je(r.message,t),e(r.message),r;{let r=n.map((e=>e.message));1===r.length&&(r=r[0]),je(r,t),(0,a.JY)(r)||(xe("error"),e(n))}}))}));return Ie.current=o,o})(r,t):null},Re=function(e,t){let n;if(Y.onKeyChangeFnName in r&&"function"==typeof r[Y.onKeyChangeFnName]){for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];r[Y.onKeyChangeFnName](e,t,...o)}n=Y.valuePath?c.U2(e,Y.valuePath):e,"function"==typeof G&&(n=G(n)),R||M||n===N&&(n=void 0);try{t&&t.target&&t.target.selectionStart&&Oe(t.target.selectionStart)}catch(He){}Pe(!0,{notNotify:!0,notUpdate:!0}),De(n),ue.includes("change")&&Ae(n)},Me=function(){if(r.onBlur&&r.onBlur(...arguments),_e||Pe(!0),ue.includes("blur")){let e=ge();Ae(e)}},Ne={setValue:De,setTouched:Pe,setError:je,reset:()=>{let e={notNotify:!0,notUpdate:!0};De(null!==he?he:void 0,e),je(void 0,e),Pe(void 0,e),xe("default")},validate:Ae},Fe={value:pe,error:ye,touched:_e,status:Ce};_((()=>{Te.current=F,ke.current=j}),[F,j]),_((()=>{me&&Ae(pe)}),[]),_((()=>{if(void 0===s)return()=>{};const e=ge();return ee.register(s,{value:e,error:ye,touched:_e,status:Ce},{field:s,fieldApi:Ne,keepState:L,allowEmpty:M||R}),()=>{ee.unRegister(s)}}),[s]);const ze=X||s,Le=`${ze}-label`,Ze=`${ze}-helpText`,Be=`${ze}-extraText`,Ue=`${ze}-errormessage`,$e=()=>{let t=D||Ce;const r=o()(`${b}-field-extra`,{[`${b}-field-extra-string`]:"string"==typeof K,[`${b}-field-extra-middle`]:"middle"===ce,[`${b}-field-extra-bottom`]:"bottom"===ce}),a=K?n.createElement("div",{className:r,id:Be,"x-semi-prop":"extraText"},K):null;let c=Object.assign(Object.assign({id:ze,disabled:re.disabled},J),{ref:i,onBlur:Me,[Y.onKeyChangeFnName]:Re,[Y.valueKey]:pe,validateStatus:t,"aria-required":z,"aria-labelledby":Le});B&&(c.name=B),V&&(c["aria-describedby"]=K?`${Ze} ${Be}`:Ze),K&&(c["aria-describedby"]=V?`${Ze} ${Be}`:Be),"error"===Ce&&(c["aria-errormessage"]=Ue,c["aria-invalid"]=!0);const l=o()({[`${b}-field`]:!0,[`${b}-field-${B}`]:Boolean(B),[U]:Boolean(U)}),u=o()({[`${b}-field-main`]:!0});"inset"!==ne||T||(c.insetLabel=w||s,c.insetLabelId=Le,"object"!=typeof w||(0,m.kK)(w)||(c.insetLabel=w.text,c.insetLabelId=Le));const d=n.createElement(e,Object.assign({},c));if(I)return d;if(q){let t=o()(J.className,{[`${b}-field-pure`]:!0,[`${b}-field-${B}`]:Boolean(B),[U]:Boolean(U)});return c.className=t,n.createElement(e,Object.assign({},c))}let h=se&&ae;const p=oe?`${b}-col-${oe}`:"";let f=null;if(!T&&"inset"!==ne){let e="object"!=typeof w||(0,m.kK)(w)?{}:w;f=n.createElement(y.Z,Object.assign({text:w||s,id:Le,required:z,name:ze||B||s,width:ie,align:oe},e))}const _=n.createElement("div",{className:u},"middle"===ce?a:null,d,k?null:n.createElement(g.Z,{error:ye,validateStatus:t,helpText:V,helpTextId:Ze,errorMessageId:Ue,showValidateIcon:re.showValidateIcon}),"bottom"===ce?a:null),S=n.createElement(n.Fragment,null,"top"===ne?n.createElement("div",{style:{overflow:"hidden"}},n.createElement(v.Z,Object.assign({},se,{className:p}),f)):n.createElement(v.Z,Object.assign({},se,{className:p}),f),n.createElement(v.Z,Object.assign({},ae),_));return n.createElement("div",{className:l,style:$,"x-label-pos":ne,"x-field-id":s,"x-extra-pos":ce},h?S:n.createElement(n.Fragment,null,f,_))},Ge=[...Object.values(Fe),...Object.values(r),s,ne,oe,re.disabled];return Y.shouldMemo?(0,n.useMemo)($e,[...Ge]):$e()};return r=(0,n.forwardRef)(r),r.displayName=(0,a.Gf)(e),r}},10949:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(50959),i=r(19503);const o=function(){return(0,n.useContext)(i.Ar)}},75198:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(50959),i=r(84875),o=r.n(i),s=r(41916),a=r.n(s),c=r(6903),l=r(32006);const u=c.UX.PREFIX;class d extends n.PureComponent{render(){const{children:e,required:t,text:r,disabled:i,name:s,width:a,align:c,style:d,className:h,extra:p,id:f,optional:g}=this.props,m=o()(h,{[`${u}-field-label`]:!0,[`${u}-field-label-left`]:"left"===c,[`${u}-field-label-right`]:"right"===c,[`${u}-field-label-required`]:t,[`${u}-field-label-disabled`]:i,[`${u}-field-label-with-extra`]:p}),y=d||{};a&&(y.width=a);const v=n.createElement(l.Z,{componentName:"Form"},(e=>n.createElement("span",{className:`${u}-field-label-optional-text`},e.optional))),b=n.createElement("div",{className:`${u}-field-label-text`,"x-semi-prop":"label"},void 0!==r?r:e,g?v:null),_=n.createElement(n.Fragment,null,b,n.createElement("div",{className:`${u}-field-label-extra`},p));return n.createElement("label",{className:m,htmlFor:s,style:y,id:f},p?_:b)}}d.defaultProps={required:!1,name:"",align:"left",className:"",optional:!1},d.propTypes={id:a().string,children:a().node,required:a().bool,text:a().node,disabled:a().bool,name:a().string,align:a().string,width:a().oneOfType([a().number,a().string]),style:a().object,className:a().string,extra:a().node,optional:a().bool}},55055:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(50959),i=r(41916),o=r.n(i),s=r(71894),a=r(84875),c=r.n(a),l=r(66380),u=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const d=o().oneOfType([o().object,o().number]);class h extends n.Component{render(){const{props:e}=this,{prefixCls:t,span:r,order:i,offset:o,push:s,pull:a,className:l,children:d}=e,h=u(e,["prefixCls","span","order","offset","push","pull","className","children"]);let p={};const f=`${t}-col`;["xs","sm","md","lg","xl","xxl"].forEach((t=>{let r={};"number"==typeof e[t]?r.span=e[t]:"object"==typeof e[t]&&(r=e[t]||{}),delete h[t],p=Object.assign(Object.assign({},p),{[`${f}-${t}-${r.span}`]:void 0!==r.span,[`${f}-${t}-order-${r.order}`]:r.order||0===r.order,[`${f}-${t}-offset-${r.offset}`]:r.offset||0===r.offset,[`${f}-${t}-push-${r.push}`]:r.push||0===r.push,[`${f}-${t}-pull-${r.pull}`]:r.pull||0===r.pull})}));const g=c()(f,{[`${f}-${r}`]:void 0!==r,[`${f}-order-${i}`]:i,[`${f}-offset-${o}`]:o,[`${f}-push-${s}`]:s,[`${f}-pull-${a}`]:a},l,p);let m,{style:y}=h;try{m=this.context.gutters}catch(v){throw new Error("please make sure <Col> inside <Row>")}return y=Object.assign(Object.assign(Object.assign({},m[0]>0?{paddingLeft:m[0]/2,paddingRight:m[0]/2}:{}),m[1]>0?{paddingTop:m[1]/2,paddingBottom:m[1]/2}:{}),y),n.createElement("div",Object.assign({},h,{style:y,className:g,"x-semi-prop":"children"}),d)}}h.contextType=s.g,h.propTypes={span:o().number,order:o().number,offset:o().number,push:o().number,pull:o().number,className:o().string,children:o().node,xs:d,sm:d,md:d,lg:d,xl:d,xxl:d,prefixCls:o().string},h.defaultProps={prefixCls:l.U.PREFIX};const p=h},71894:(e,t,r)=>{"use strict";r.d(t,{g:()=>h,Z:()=>g});var n=r(50959),i=r(84875),o=r.n(i),s=r(41916),a=r.n(s),c=r(66380),l=r(43503),u=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const d=["xxl","xl","lg","md","sm","xs"],h=n.createContext(null),p={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"};class f extends n.Component{constructor(){super(...arguments),this.state={screens:{xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}},this.unRegisters=[]}componentDidMount(){this.unRegisters=Object.keys(p).map((e=>(0,l.ql)(p[e],{match:()=>{"object"==typeof this.props.gutter&&this.setState((t=>({screens:Object.assign(Object.assign({},t.screens),{[e]:!0})})))},unmatch:()=>{"object"==typeof this.props.gutter&&this.setState((t=>({screens:Object.assign(Object.assign({},t.screens),{[e]:!1})})))}})))}componentWillUnmount(){this.unRegisters.forEach((e=>e()))}getGutter(){const{gutter:e=0}=this.props,t=[0,0];return(Array.isArray(e)?e.slice(0,2):[e,0]).forEach(((e,r)=>{if("object"==typeof e)for(let n=0;n<d.length;n++){const i=d[n];if(this.state.screens[i]&&void 0!==e[i]){t[r]=e[i];break}}else t[r]=e||0})),t}render(){const e=this.props,{prefixCls:t,type:r,justify:i,align:s,className:a,style:c,children:l}=e,d=u(e,["prefixCls","type","justify","align","className","style","children"]),p=this.getGutter(),f=`${t}-row`,g=o()({[f]:"flex"!==r,[`${f}-${r}`]:r,[`${f}-${r}-${i}`]:r&&i,[`${f}-${r}-${s}`]:r&&s},a),m=Object.assign(Object.assign(Object.assign({},p[0]>0?{marginLeft:p[0]/-2,marginRight:p[0]/-2}:{}),p[1]>0?{marginTop:p[1]/-2,marginBottom:p[1]/-2}:{}),c),y=Object.assign({},d);return delete y.gutter,n.createElement(h.Provider,{value:{gutters:p}},n.createElement("div",Object.assign({},y,{className:g,style:m,"x-semi-prop":"children"}),l))}}f.propTypes={type:a().oneOf(["flex"]),align:a().oneOf(["top","middle","bottom"]),justify:a().oneOf(["start","end","center","space-around","space-between"]),className:a().string,style:a().object,children:a().node,gutter:a().oneOfType([a().object,a().number,a().array]),prefixCls:a().string},f.defaultProps={prefixCls:c.U.PREFIX},f.RowContext={gutters:a().any};const g=f},810:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var n=r(55883),i=r(50959),o=r(84875),s=r.n(o),a=r(41916),c=r.n(a),l=r(47056);r(82345).T;var u=r(88099),d=r(27873),h=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const p=["extra-small","small","default","large","extra-large","custom"];class f extends i.PureComponent{render(){const e=this.props,{children:t,iconPosition:r,iconSize:n,iconStyle:o,style:a,icon:c,noHorizontalPadding:l,theme:p,className:f,prefixCls:g,loading:m}=e,y=h(e,["children","iconPosition","iconSize","iconStyle","style","icon","noHorizontalPadding","theme","className","prefixCls","loading"]),v=Object.assign({},a);Array.isArray(l)?(l.includes("left")&&(v.paddingLeft=0),l.includes("right")&&(v.paddingRight=0)):!0===l?(v.paddingLeft=0,v.paddingRight=0):"string"==typeof l&&("left"===l&&(v.paddingLeft=0),"right"===l&&(v.paddingRight=0));let b=null,_=null;m&&!y.disabled?_=i.createElement(d.Z,null):i.isValidElement(c)&&(_=c);const w=s()({[`${g}-content-left`]:"right"===r,[`${g}-content-right`]:"left"===r}),S=this.props["x-semi-children-alias"]||"children",O=null!=t?i.createElement("span",{className:w,"x-semi-prop":S},t):null;b="left"===r?i.createElement(i.Fragment,null,_,O):i.createElement(i.Fragment,null,O,_);const E=s()(f,`${g}-with-icon`,{[`${g}-with-icon-only`]:null==O||""===O,[`${g}-loading`]:m});return i.createElement(u.Z,Object.assign({},y,{className:E,theme:p,style:v}),b)}}f.defaultProps={iconPosition:l.strings.DEFAULT_ICON_POSITION,prefixCls:l.U.PREFIX,loading:!1,noHorizontalPadding:!1,onMouseEnter:n.Z,onMouseLeave:n.Z},f.elementType="IconButton",f.propTypes={iconStyle:c().object,style:c().object,loading:c().bool,prefixCls:c().string,icon:c().oneOfType([c().object,c().string,c().node]),iconSize:c().oneOf(p),noHorizontalPadding:c().oneOfType([c().bool,c().string,c().array]),children:c().node,theme:c().string,iconPosition:c().oneOf(l.strings.iconPositions),className:c().string,onMouseEnter:c().func,onMouseLeave:c().func};const g=f},55550:(e,t,r)=>{"use strict";r.d(t,{Z:()=>j});var n=r(71180),i=r(88987),o=r(55883),s=r(83873),a=r(50959),c=r(84875),l=r.n(c),u=r(41916),d=r.n(u),h=r(69708),p=r(19780),f=r(1714),g=r(75778),m=r(75108);class y extends f.Z{static get inputDefaultAdapter(){return{notifyChange:o.Z,setValue:o.Z}}constructor(e){super(Object.assign(Object.assign({},y.inputDefaultAdapter),e))}init(){this._setInitValue()}destroy(){this._timer&&(clearTimeout(this._timer),this._timer=null)}setDisable(){}_setInitValue(){const{defaultValue:e,value:t}=this.getProps();let r=e;this._isControlledComponent()&&(r=t),this._adapter.setValue(r)}setValue(e){this._adapter.setValue(e)}handleChange(e,t){const{maxLength:r,minLength:n,getValueLength:o}=this._adapter.getProps();let s=e;r&&(0,i.Z)(o)&&(s=this.handleVisibleMaxLength(e)),n&&(0,i.Z)(o)&&this.handleVisibleMinLength(s),this._isControlledComponent()||this._adapter.setValue(s),this._adapter.notifyChange(s,t)}handleVisibleMinLength(e){const{minLength:t,getValueLength:r}=this._adapter.getProps(),{minLength:n}=this._adapter.getStates();if((0,h.Z)(t)&&t>=0&&(0,i.Z)(r)&&(0,s.Z)(e)){const i=r(e);if(i<t){const r=e.length+(t-i);r!==n&&this._adapter.setMinLength(r)}else n!==t&&this._adapter.setMinLength(t)}}handleVisibleMaxLength(e){const{maxLength:t,getValueLength:r}=this._adapter.getProps();if((0,h.Z)(t)&&t>=0&&(0,i.Z)(r)&&(0,s.Z)(e)){if(r(e)>t){console.warn("[Semi Input] The input character is truncated because the input length exceeds the maximum length limit");return this.handleTruncateValue(e,t)}return e}}handleTruncateValue(e,t){const{getValueLength:r}=this._adapter.getProps();if((0,i.Z)(r)){let n="";for(let i=1,o=e.length;i<=o;i++){const o=e.slice(0,i);if(r(o)>t)return n;n=o}return n}return e.slice(0,t)}handleClear(e){let t=e;this._isControlledComponent("value")?this._adapter.setState({isFocus:!1}):this._adapter.setState({value:"",isFocus:!1}),t&&"object"==typeof t||(t={}),(0,p.Z)(t,g.j2.CLEARBTN_CLICKED_EVENT_FLAG,!0),this._adapter.notifyChange("",t),this._adapter.notifyClear(t),t&&this.stopPropagation(t)}handleClick(e){const{disabled:t}=this._adapter.getProps(),{isFocus:r}=this._adapter.getStates();t||r||this._adapter.isEventTarget(e)&&(this._adapter.focusInput(),this._adapter.toggleFocusing(!0))}handleModeChange(e){"password"===e?this._adapter.setEyeClosed(!0):this._adapter.setEyeClosed(!1)}handleClickEye(e){const t=this._adapter.getState("eyeClosed");this._adapter.focusInput(),this._adapter.toggleFocusing(!0),this._adapter.setEyeClosed(!t)}handleInputType(e){const t=this._adapter.getProp("mode"),r=this._adapter.getState("eyeClosed");return"password"===t?r?"password":"text":e}handleMouseDown(e){e.preventDefault()}handleMouseUp(e){e.preventDefault()}handleBlur(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!1),this._adapter.notifyBlur(t,e)}handleFocus(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!0),this._adapter.notifyFocus(t,e)}handleInput(e){this._adapter.notifyInput(e)}handleKeyDown(e){this._adapter.notifyKeyDown(e)}handleKeyUp(e){this._adapter.notifyKeyUp(e)}handleKeyPress(e){this._adapter.notifyKeyPress(e),e.key===m.q7&&this._adapter.notifyEnterPress(e)}isAllowClear(){const{value:e,isFocus:t,isHovering:r}=this._adapter.getStates(),{showClear:n,disabled:i,showClearIgnoreDisabled:o}=this._adapter.getProps();return e&&n&&(!i||o)&&(t||r)}handleClickPrefixOrSuffix(e){const{disabled:t}=this._adapter.getProps(),{isFocus:r}=this._adapter.getStates();t||r||(this._adapter.focusInput(),this._adapter.toggleFocusing(!0))}handlePreventMouseDown(e){e&&(0,i.Z)(e.preventDefault)&&e.preventDefault()}handleModeEnterPress(e){["Enter"," "].includes(null==e?void 0:e.key)&&(this.handlePreventMouseDown(e),this.handleClickEye(e))}}const v=y;var b=r(43503),_=r(76232),w=r(91890),S=r(95571);const O=(0,S.A)((function(e){return a.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.7071 3.70711C22.0976 3.31658 22.0976 2.68342 21.7071 2.29289C21.3166 1.90237 20.6834 1.90237 20.2929 2.29289L17.3135 5.27233C15.8114 4.50566 14.0321 4 12 4C5 4 1 10 1 12C1 13.1757 2.38219 15.7335 4.94345 17.6423L2.29289 20.2929C1.90237 20.6834 1.90237 21.3166 2.29289 21.7071C2.68342 22.0976 3.31658 22.0976 3.70711 21.7071L21.7071 3.70711ZM7.8284 14.7574L9.29237 13.2934C9.10495 12.9018 9 12.4631 9 12C9 10.3431 10.3431 9 12 9C12.4631 9 12.9018 9.10495 13.2934 9.29237L14.7574 7.8284C13.967 7.30488 13.0191 7 12 7C9.23858 7 7 9.23858 7 12C7 13.0191 7.30488 13.967 7.8284 14.7574Z",fill:"currentColor"}),a.createElement("path",{d:"M12 20C10.7789 20 9.64914 19.8174 8.61594 19.5054L11.1871 16.9342C11.4516 16.9775 11.7232 17 12 17C14.7614 17 17 14.7614 17 12C17 11.7232 16.9775 11.4516 16.9342 11.1871L20.5032 7.61808C22.1342 9.27317 23 11.0695 23 12C23 14 19 20 12 20Z",fill:"currentColor"}))}),"eye_closed_solid");const E=(0,S.A)((function(e){return a.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C5 4 1 10 1 12C1 14 5 20 12 20C19 20 23 14 23 12C23 10 19 4 12 4ZM17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12ZM12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z",fill:"currentColor"}))}),"eye_opened");var C=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const x=g.UX.PREFIX,T=g.j2.SIZE,k=g.j2.STATUS,I=g.j2.MODE;class P extends _.Z{constructor(e){super(e),this.handleClear=e=>{this.foundation.handleClear(e)},this.handleClick=e=>{this.foundation.handleClick(e)},this.handleMouseOver=e=>{this.setState({isHovering:!0})},this.handleMouseLeave=e=>{this.setState({isHovering:!1})},this.handleModeChange=e=>{this.foundation.handleModeChange(e)},this.handleClickEye=e=>{this.foundation.handleClickEye(e)},this.handleMouseDown=e=>{this.foundation.handleMouseDown(e)},this.handleMouseUp=e=>{this.foundation.handleMouseUp(e)},this.handleModeEnterPress=e=>{this.foundation.handleModeEnterPress(e)},this.handleClickPrefixOrSuffix=e=>{this.foundation.handleClickPrefixOrSuffix(e)},this.handlePreventMouseDown=e=>{this.foundation.handlePreventMouseDown(e)},this.state={value:"",cachedValue:null,disabled:!1,props:{},isFocus:!1,isHovering:!1,eyeClosed:"password"===e.mode,minLength:e.minLength},this.inputRef=a.createRef(),this.prefixRef=a.createRef(),this.suffixRef=a.createRef(),this.foundation=new v(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>this.setState({value:e}),setEyeClosed:e=>this.setState({eyeClosed:e}),toggleFocusing:e=>{this.setState({isFocus:e})},focusInput:()=>{const{preventScroll:e}=this.props,t=this.inputRef&&this.inputRef.current;t&&t.focus({preventScroll:e})},toggleHovering:e=>this.setState({isHovering:e}),getIfFocusing:()=>this.state.isFocus,notifyChange:(e,t)=>this.props.onChange(e,t),notifyBlur:(e,t)=>this.props.onBlur(t),notifyFocus:(e,t)=>this.props.onFocus(t),notifyInput:e=>this.props.onInput(e),notifyKeyPress:e=>this.props.onKeyPress(e),notifyKeyDown:e=>this.props.onKeyDown(e),notifyKeyUp:e=>this.props.onKeyUp(e),notifyEnterPress:e=>this.props.onEnterPress(e),notifyClear:e=>this.props.onClear(e),setMinLength:e=>this.setState({minLength:e}),isEventTarget:e=>e&&e.target===e.currentTarget})}static getDerivedStateFromProps(e,t){const r={};return e.value!==t.cachedValue&&(r.value=e.value,r.cachedValue=e.value),r}componentDidUpdate(e){const{mode:t}=this.props;e.mode!==t&&this.handleModeChange(t)}componentDidMount(){this.foundation.init();const{disabled:e,autoFocus:t,preventScroll:r}=this.props;e||!t&&!this.props.autofocus||this.inputRef.current.focus({preventScroll:r})}renderPrepend(){const{addonBefore:e}=this.props;if(e){const t=l()({[`${x}-prepend`]:!0,[`${x}-prepend-text`]:e&&(0,s.Z)(e),[`${x}-prepend-icon`]:(0,b.ID)(e)});return a.createElement("div",{className:t,"x-semi-prop":"addonBefore"},e)}return null}renderAppend(){const{addonAfter:e}=this.props;if(e){const t=l()({[`${x}-append`]:!0,[`${x}-append-text`]:e&&(0,s.Z)(e),[`${x}-append-icon`]:(0,b.ID)(e)});return a.createElement("div",{className:t,"x-semi-prop":"addonAfter"},e)}return null}renderClearBtn(){const e=l()(`${x}-clearbtn`),{clearIcon:t}=this.props;return this.foundation.isAllowClear()?a.createElement("div",{className:e,onMouseDown:this.handleClear},t||a.createElement(w.Z,null)):null}renderModeBtn(){const{eyeClosed:e}=this.state,{mode:t,disabled:r}=this.props,n=l()(`${x}-modebtn`),i=e?a.createElement(O,null):a.createElement(E,null),o=e?"Show password":"Hidden password";return"password"===t&&!r?a.createElement("div",{role:"button",tabIndex:0,"aria-label":o,className:n,onClick:this.handleClickEye,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onKeyPress:this.handleModeEnterPress},i):null}renderPrefix(){const{prefix:e,insetLabel:t,insetLabelId:r}=this.props,n=e||t;if(!n)return null;const i=l()({[`${x}-prefix`]:!0,[`${x}-inset-label`]:t,[`${x}-prefix-text`]:n&&(0,s.Z)(n),[`${x}-prefix-icon`]:(0,b.ID)(n)});return a.createElement("div",{className:i,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,id:r,"x-semi-prop":"prefix,insetLabel"},n)}renderSuffix(e){const{suffix:t,hideSuffix:r}=this.props;if(!t)return null;const n=l()({[`${x}-suffix`]:!0,[`${x}-suffix-text`]:t&&(0,s.Z)(t),[`${x}-suffix-icon`]:(0,b.ID)(t),[`${x}-suffix-hidden`]:e&&Boolean(r)});return a.createElement("div",{className:n,onMouseDown:this.handlePreventMouseDown,onClick:this.handleClickPrefixOrSuffix,"x-semi-prop":"suffix"},t)}getInputRef(){const{forwardRef:e}=this.props;if(!(0,n.Z)(e)){if("function"==typeof e)return t=>{e(t),this.inputRef={current:t}};if("[object Object]"===Object.prototype.toString.call(e))return this.inputRef=e,e}return this.inputRef}render(){const e=this.props,{addonAfter:t,addonBefore:r,autoFocus:n,clearIcon:o,className:s,disabled:c,defaultValue:u,placeholder:d,prefix:h,mode:p,insetLabel:f,insetLabelId:g,validateStatus:m,type:y,readonly:v,size:_,suffix:w,style:S,showClear:O,onEnterPress:E,onClear:T,hideSuffix:k,inputStyle:I,forwardRef:P,maxLength:j,getValueLength:D,preventScroll:A,borderless:R,showClearIgnoreDisabled:M}=e,N=C(e,["addonAfter","addonBefore","autoFocus","clearIcon","className","disabled","defaultValue","placeholder","prefix","mode","insetLabel","insetLabelId","validateStatus","type","readonly","size","suffix","style","showClear","onEnterPress","onClear","hideSuffix","inputStyle","forwardRef","maxLength","getValueLength","preventScroll","borderless","showClearIgnoreDisabled"]),{value:F,isFocus:z,minLength:L}=this.state,Z=this.foundation.isAllowClear(),B=(0,b.ID)(w),U=this.getInputRef(),$=`${x}-wrapper`,G=l()($,s,{[`${x}-wrapper__with-prefix`]:h||f,[`${x}-wrapper__with-suffix`]:w,[`${x}-wrapper__with-suffix-hidden`]:Z&&Boolean(k),[`${x}-wrapper__with-suffix-icon`]:B,[`${x}-wrapper__with-append`]:r,[`${x}-wrapper__with-prepend`]:t,[`${x}-wrapper__with-append-only`]:r&&!t,[`${x}-wrapper__with-prepend-only`]:!r&&t,[`${$}-readonly`]:v,[`${$}-disabled`]:c,[`${$}-warning`]:"warning"===m,[`${$}-error`]:"error"===m,[`${$}-focus`]:z,[`${$}-clearable`]:O,[`${$}-modebtn`]:"password"===p,[`${$}-hidden`]:"hidden"===y,[`${$}-${_}`]:_,[`${x}-borderless`]:R}),H=l()(x,{[`${x}-${_}`]:_,[`${x}-disabled`]:c,[`${x}-sibling-clearbtn`]:this.foundation.isAllowClear(),[`${x}-sibling-modebtn`]:"password"===p}),V=null==F?"":F,K=Object.assign(Object.assign({},N),{style:I,className:H,disabled:c,readOnly:v,type:this.foundation.handleInputType(y),placeholder:d,onInput:e=>this.foundation.handleInput(e),onChange:e=>this.foundation.handleChange(e.target.value,e),onFocus:e=>this.foundation.handleFocus(e),onBlur:e=>this.foundation.handleBlur(e),onKeyUp:e=>this.foundation.handleKeyUp(e),onKeyDown:e=>this.foundation.handleKeyDown(e),onKeyPress:e=>this.foundation.handleKeyPress(e),value:V});return(0,i.Z)(D)||(K.maxLength=j),L&&(K.minLength=L),"error"===m&&(K["aria-invalid"]="true"),a.createElement("div",{className:G,style:S,onMouseEnter:e=>this.handleMouseOver(e),onMouseLeave:e=>this.handleMouseLeave(e),onClick:e=>this.handleClick(e)},this.renderPrepend(),this.renderPrefix(),a.createElement("input",Object.assign({},K,{ref:U})),this.renderClearBtn(),this.renderSuffix(Z),this.renderModeBtn(),this.renderAppend())}}P.propTypes={"aria-label":d().string,"aria-labelledby":d().string,"aria-invalid":d().bool,"aria-errormessage":d().string,"aria-describedby":d().string,"aria-required":d().bool,addonBefore:d().node,addonAfter:d().node,clearIcon:d().node,prefix:d().node,suffix:d().node,mode:d().oneOf(I),value:d().any,defaultValue:d().any,disabled:d().bool,readonly:d().bool,autoFocus:d().bool,type:d().string,showClear:d().bool,hideSuffix:d().bool,placeholder:d().any,size:d().oneOf(T),className:d().string,style:d().object,validateStatus:d().oneOf(k),onClear:d().func,onChange:d().func,onBlur:d().func,onFocus:d().func,onInput:d().func,onKeyDown:d().func,onKeyUp:d().func,onKeyPress:d().func,onEnterPress:d().func,insetLabel:d().node,insetLabelId:d().string,inputStyle:d().object,getValueLength:d().func,preventScroll:d().bool,borderless:d().bool},P.defaultProps={addonBefore:"",addonAfter:"",prefix:"",suffix:"",readonly:!1,type:"text",showClear:!1,hideSuffix:!1,placeholder:"",size:"default",className:"",onClear:o.Z,onChange:o.Z,onBlur:o.Z,onFocus:o.Z,onInput:o.Z,onKeyDown:o.Z,onKeyUp:o.Z,onKeyPress:o.Z,onEnterPress:o.Z,validateStatus:"default",borderless:!1};const j=a.forwardRef(((e,t)=>a.createElement(P,Object.assign({},e,{forwardRef:t}))))},88161:(e,t,r)=>{"use strict";r.d(t,{Z:()=>P});var n=r(82433),i=r(71180),o=r(88987),s=r(93639),a=r(55883),c=r(50959),l=r(84875),u=r.n(l),d=r(41916),h=r.n(d),p=r(83873),f=r(69708),g=r(1714);let m=null;const y={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},v=e=>{Object.keys(y).forEach((t=>{e.style.setProperty(t,y[t],"important")}))},b=(e,t)=>{const r=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?r+t.borderSize:r-t.paddingSize};var _=r(23073);const w=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width"],S=e=>{const t=window.getComputedStyle(e);if(null===t)return null;const r=(0,_.Z)(t,w),{boxSizing:n}=r;if(""===n)return null;return{sizingStyle:r,paddingSize:parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),borderSize:parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth)}};class O extends g.Z{static get textAreaDefaultAdapter(){return{notifyChange:a.Z,setValue:a.Z,toggleFocusing:a.Z,toggleHovering:a.Z,notifyFocus:a.Z,notifyBlur:a.Z,notifyKeyDown:a.Z,notifyEnterPress:a.Z}}constructor(e){super(Object.assign(Object.assign({},O.textAreaDefaultAdapter),e)),this.resizeTextarea=e=>{var t;const{height:r}=this.getStates(),{rows:n,autosize:i}=this.getProps(),o=this._adapter.getRef(),s=S(o);if(!s)return void(e&&e());const[a,c]=null!==i&&"object"==typeof i?[null!==(t=null==i?void 0:i.minRows)&&void 0!==t?t:n,null==i?void 0:i.maxRows]:[n],l=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;m||(m=document.createElement("textarea"),m.setAttribute("tab-index","-1"),m.setAttribute("aria-hidden","true"),v(m)),null===m.parentNode&&document.body.appendChild(m);const{paddingSize:i,borderSize:o,sizingStyle:s}=e,{boxSizing:a}=s;Object.keys(s).forEach((e=>{m.style[e]=s[e]})),v(m),m.value=t;let c=b(m,e);m.value="x";const l=b(m,e)-i-o;let u=l*r;"border-box"===a&&(u=u+i+o),c=Math.max(u,c);let d=l*n;return"border-box"===a&&(d=d+i+o),c=Math.min(d,c),c}(s,o.value||o.placeholder||"x",a,c);if(r!==l)return this._adapter.notifyHeightUpdate(l),void(o.style.height=`${l}px`);e&&e()}}init(){this.setInitValue()}destroy(){}setInitValue(){const{defaultValue:e,value:t}=this.getProps();let r=e;this._isControlledComponent()&&(r=t),this._adapter.setValue(r)}handleValueChange(e){this._adapter.setValue(e)}handleChange(e,t){const{maxLength:r,minLength:n,getValueLength:i}=this._adapter.getProps();let s=e;r&&(0,o.Z)(i)&&(s=this.handleVisibleMaxLength(e)),n&&(0,o.Z)(i)&&this.handleVisibleMinLength(s),this._isControlledComponent()||this._adapter.setValue(s),this._adapter.notifyChange(s,t)}handleVisibleMinLength(e){const{minLength:t,getValueLength:r}=this._adapter.getProps(),{minLength:n}=this._adapter.getStates();if((0,f.Z)(t)&&t>=0&&(0,o.Z)(r)&&(0,p.Z)(e)){const i=r(e);if(i<t){const r=e.length+(t-i);r!==n&&this._adapter.setMinLength(r)}else n!==t&&this._adapter.setMinLength(t)}}handleVisibleMaxLength(e){const{maxLength:t,getValueLength:r}=this._adapter.getProps();if((0,f.Z)(t)&&t>=0&&(0,o.Z)(r)&&(0,p.Z)(e)){if(r(e)>t){console.warn("[Semi TextArea] The input character is truncated because the input length exceeds the maximum length limit");return this.handleTruncateValue(e,t)}return e}}handleTruncateValue(e,t){const{getValueLength:r}=this._adapter.getProps();if((0,o.Z)(r)){let n="";for(let i=1,o=e.length;i<=o;i++){const o=e.slice(0,i);if(r(o)>t)return n;n=o}return n}return e.slice(0,t)}handleFocus(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!0),this._adapter.notifyFocus(t,e)}handleBlur(e){const{value:t}=this.getStates();this._adapter.toggleFocusing(!1),this._adapter.notifyBlur(t,e)}handleKeyDown(e){this._adapter.notifyKeyDown(e),13===e.keyCode&&this._adapter.notifyPressEnter(e)}handleMouseEnter(e){this._adapter.toggleHovering(!0)}handleMouseLeave(e){this._adapter.toggleHovering(!1)}isAllowClear(){const{value:e,isFocus:t,isHover:r}=this._adapter.getStates(),{showClear:n,disabled:i,readonly:o}=this._adapter.getProps();return e&&n&&!i&&(t||r)&&!o}handleClear(e){const{isFocus:t}=this.getStates();this._isControlledComponent("value")?this._adapter.setState({isFocus:!1}):this._adapter.setState({value:"",isFocus:!1}),t&&this._adapter.notifyBlur("",e),this._adapter.notifyChange("",e),this._adapter.notifyClear(e),this.stopPropagation(e)}}var E=r(75778),C=r(76232),x=r(91890),T=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const k=E.UX.PREFIX;class I extends C.Z{constructor(e){super(e),this.handleClear=e=>{this.foundation.handleClear(e)},this.setRef=e=>{this.libRef.current=e;const{forwardRef:t}=this.props;"function"==typeof t?t(e):t&&"object"==typeof t&&(t.current=e)},this.state={value:"",isFocus:!1,isHover:!1,height:0,minLength:e.minLength},this.focusing=!1,this.foundation=new O(this.adapter),this.libRef=c.createRef(),this._resizeLock=!1}get adapter(){return Object.assign(Object.assign({},super.adapter),{setValue:e=>this.setState({value:e},(()=>{this.props.autosize&&this.foundation.resizeTextarea()})),getRef:()=>this.libRef.current,toggleFocusing:e=>this.setState({isFocus:e}),toggleHovering:e=>this.setState({isHover:e}),notifyChange:(e,t)=>{this.props.onChange(e,t)},notifyClear:e=>this.props.onClear(e),notifyBlur:(e,t)=>this.props.onBlur(t),notifyFocus:(e,t)=>this.props.onFocus(t),notifyKeyDown:e=>{this.props.onKeyDown(e)},notifyHeightUpdate:e=>{this.setState({height:e}),this.props.onResize({height:e})},notifyPressEnter:e=>{this.props.onEnterPress&&this.props.onEnterPress(e)},setMinLength:e=>this.setState({minLength:e})})}static getDerivedStateFromProps(e,t){const r={};return e.value!==t.cachedValue&&(r.value=e.value,r.cachedValue=e.value),r}componentDidMount(){this.foundation.init(),this._resizeListener=null,this.props.autosize&&(this._resizeListener=()=>{this._resizeLock||(this._resizeLock=!0,this.foundation.resizeTextarea((()=>{this._resizeLock=!1})))},window.addEventListener("resize",this._resizeListener))}componentWillUnmount(){this.foundation.destroy(),this._resizeListener&&window.removeEventListener("resize",this._resizeListener)}componentDidUpdate(e,t){this.props.value===e.value&&this.props.placeholder===e.placeholder||!this.props.autosize||this.foundation.resizeTextarea()}renderClearBtn(){const{showClear:e}=this.props,t=this.foundation.isAllowClear(),r=u()(`${k}-clearbtn`,{[`${k}-clearbtn-hidden`]:!t});return e?c.createElement("div",{className:r,onClick:this.handleClear},c.createElement(x.Z,null)):null}renderCounter(){let e,t,r,n;const{showCounter:i,maxCount:s,getValueLength:a}=this.props;if(i||s){const{value:i}=this.state;t=i?(0,o.Z)(a)?a(i):i.length:0,r=s||null,n=u()(`${k}-textarea-counter`,{[`${k}-textarea-counter-exceed`]:t>r}),e=c.createElement("div",{className:n},t,r?"/":null,r)}else e=null;return e}render(){const e=this.props,{autosize:t,placeholder:r,onEnterPress:a,onResize:l,disabled:d,readonly:h,className:p,showCounter:f,validateStatus:g,maxCount:m,defaultValue:y,style:v,forwardRef:b,getValueLength:_,maxLength:w,minLength:S,showClear:O,borderless:E,autoFocus:C}=e,x=T(e,["autosize","placeholder","onEnterPress","onResize","disabled","readonly","className","showCounter","validateStatus","maxCount","defaultValue","style","forwardRef","getValueLength","maxLength","minLength","showClear","borderless","autoFocus"]),{isFocus:I,value:P,minLength:j}=this.state,D=u()(p,`${k}-textarea-wrapper`,{[`${k}-textarea-borderless`]:E,[`${k}-textarea-wrapper-disabled`]:d,[`${k}-textarea-wrapper-readonly`]:h,[`${k}-textarea-wrapper-${g}`]:Boolean(g),[`${k}-textarea-wrapper-focus`]:I}),A=u()(`${k}-textarea`,{[`${k}-textarea-disabled`]:d,[`${k}-textarea-readonly`]:h,[`${k}-textarea-autosize`]:(0,n.Z)(t)?(0,i.Z)(null==t?void 0:t.maxRows):t,[`${k}-textarea-showClear`]:O}),R=Object.assign(Object.assign({},(0,s.Z)(x,"insetLabel","insetLabelId","getValueLength","onClear","showClear")),{autoFocus:C||this.props.autofocus,className:A,disabled:d,readOnly:h,placeholder:r||null,onChange:e=>this.foundation.handleChange(e.target.value,e),onFocus:e=>this.foundation.handleFocus(e),onBlur:e=>this.foundation.handleBlur(e.nativeEvent),onKeyDown:e=>this.foundation.handleKeyDown(e),value:null==P?"":P});return(0,o.Z)(_)||(R.maxLength=w),j&&(R.minLength=j),c.createElement("div",{className:D,style:v,onMouseEnter:e=>this.foundation.handleMouseEnter(e),onMouseLeave:e=>this.foundation.handleMouseLeave(e)},c.createElement("textarea",Object.assign({},R,{ref:this.setRef})),this.renderClearBtn(),this.renderCounter())}}I.propTypes={autosize:h().oneOfType([h().bool,h().object]),borderless:h().bool,placeholder:h().string,value:h().string,rows:h().number,cols:h().number,maxCount:h().number,onEnterPress:h().func,validateStatus:h().string,className:h().string,style:h().object,showClear:h().bool,onClear:h().func,onResize:h().func,getValueLength:h().func},I.defaultProps={autosize:!1,borderless:!1,rows:4,cols:20,showCounter:!1,showClear:!1,onEnterPress:a.Z,onChange:a.Z,onBlur:a.Z,onFocus:a.Z,onKeyDown:a.Z,onResize:a.Z,onClear:a.Z};const P=c.forwardRef(((e,t)=>c.createElement(I,Object.assign({},e,{forwardRef:t}))))},32006:(e,t,r)=>{"use strict";r.d(t,{Z:()=>E});var n=r(54029),i=r(50959),o=r(41916),s=r.n(o);const a=i.createContext(null);var c=r(25691),l={lessThanXSeconds:{one:"\u4e0d\u5230 1 \u79d2",other:"\u4e0d\u5230 {{count}} \u79d2"},xSeconds:{one:"1 \u79d2",other:"{{count}} \u79d2"},halfAMinute:"\u534a\u5206\u949f",lessThanXMinutes:{one:"\u4e0d\u5230 1 \u5206\u949f",other:"\u4e0d\u5230 {{count}} \u5206\u949f"},xMinutes:{one:"1 \u5206\u949f",other:"{{count}} \u5206\u949f"},xHours:{one:"1 \u5c0f\u65f6",other:"{{count}} \u5c0f\u65f6"},aboutXHours:{one:"\u5927\u7ea6 1 \u5c0f\u65f6",other:"\u5927\u7ea6 {{count}} \u5c0f\u65f6"},xDays:{one:"1 \u5929",other:"{{count}} \u5929"},aboutXWeeks:{one:"\u5927\u7ea6 1 \u4e2a\u661f\u671f",other:"\u5927\u7ea6 {{count}} \u4e2a\u661f\u671f"},xWeeks:{one:"1 \u4e2a\u661f\u671f",other:"{{count}} \u4e2a\u661f\u671f"},aboutXMonths:{one:"\u5927\u7ea6 1 \u4e2a\u6708",other:"\u5927\u7ea6 {{count}} \u4e2a\u6708"},xMonths:{one:"1 \u4e2a\u6708",other:"{{count}} \u4e2a\u6708"},aboutXYears:{one:"\u5927\u7ea6 1 \u5e74",other:"\u5927\u7ea6 {{count}} \u5e74"},xYears:{one:"1 \u5e74",other:"{{count}} \u5e74"},overXYears:{one:"\u8d85\u8fc7 1 \u5e74",other:"\u8d85\u8fc7 {{count}} \u5e74"},almostXYears:{one:"\u5c06\u8fd1 1 \u5e74",other:"\u5c06\u8fd1 {{count}} \u5e74"}};const u=function(e,t,r){var n,i=l[e];return n="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",String(t)),null!=r&&r.addSuffix?r.comparison&&r.comparison>0?n+"\u5185":n+"\u524d":n};function d(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}var h={date:d({formats:{full:"y'\u5e74'M'\u6708'd'\u65e5' EEEE",long:"y'\u5e74'M'\u6708'd'\u65e5'",medium:"yyyy-MM-dd",short:"yy-MM-dd"},defaultWidth:"full"}),time:d({formats:{full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},defaultWidth:"full"}),dateTime:d({formats:{full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},defaultWidth:"full"})};function p(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}var g={};function m(){return g}function y(e,t){var r,n,i,o,s,a,c,l;p(1,arguments);var u=m(),d=function(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}(null!==(r=null!==(n=null!==(i=null!==(o=null==t?void 0:t.weekStartsOn)&&void 0!==o?o:null==t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==i?i:u.weekStartsOn)&&void 0!==n?n:null===(c=u.locale)||void 0===c||null===(l=c.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==r?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=function(e){p(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===f(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}(e),g=h.getUTCDay(),y=(g<d?7:0)+g-d;return h.setUTCDate(h.getUTCDate()-y),h.setUTCHours(0,0,0,0),h}function v(e,t,r){var n="eeee p";return function(e,t,r){p(2,arguments);var n=y(e,r),i=y(t,r);return n.getTime()===i.getTime()}(e,t,r)?n:e.getTime()>t.getTime()?"'\u4e0b\u4e2a'"+n:"'\u4e0a\u4e2a'"+n}var b={lastWeek:v,yesterday:"'\u6628\u5929' p",today:"'\u4eca\u5929' p",tomorrow:"'\u660e\u5929' p",nextWeek:v,other:"PP p"};function _(e){return function(t,r){var n;if("formatting"===(null!=r&&r.context?String(r.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=null!=r&&r.width?String(r.width):i;n=e.formattingValues[o]||e.formattingValues[i]}else{var s=e.defaultWidth,a=null!=r&&r.width?String(r.width):e.defaultWidth;n=e.values[a]||e.values[s]}return n[e.argumentCallback?e.argumentCallback(t):t]}}function w(e){return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var s,a=o[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(c)?function(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r;return}(c,(function(e){return e.test(a)})):function(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r;return}(c,(function(e){return e.test(a)}));return s=e.valueCallback?e.valueCallback(l):l,{value:s=r.valueCallback?r.valueCallback(s):s,rest:t.slice(a.length)}}}var S;const O={code:"zh-CN",dateFnsLocale:{code:"zh-CN",formatDistance:u,formatLong:h,formatRelative:function(e,t,r,n){var i=b[e];return"function"==typeof i?i(t,r,n):i},localize:{ordinalNumber:function(e,t){var r=Number(e);switch(null==t?void 0:t.unit){case"date":return r.toString()+"\u65e5";case"hour":return r.toString()+"\u65f6";case"minute":return r.toString()+"\u5206";case"second":return r.toString()+"\u79d2";default:return"\u7b2c "+r.toString()}},era:_({values:{narrow:["\u524d","\u516c\u5143"],abbreviated:["\u524d","\u516c\u5143"],wide:["\u516c\u5143\u524d","\u516c\u5143"]},defaultWidth:"wide"}),quarter:_({values:{narrow:["1","2","3","4"],abbreviated:["\u7b2c\u4e00\u5b63","\u7b2c\u4e8c\u5b63","\u7b2c\u4e09\u5b63","\u7b2c\u56db\u5b63"],wide:["\u7b2c\u4e00\u5b63\u5ea6","\u7b2c\u4e8c\u5b63\u5ea6","\u7b2c\u4e09\u5b63\u5ea6","\u7b2c\u56db\u5b63\u5ea6"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:_({values:{narrow:["\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d","\u4e03","\u516b","\u4e5d","\u5341","\u5341\u4e00","\u5341\u4e8c"],abbreviated:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],wide:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"]},defaultWidth:"wide"}),day:_({values:{narrow:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],short:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"],abbreviated:["\u5468\u65e5","\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d"],wide:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"]},defaultWidth:"wide"}),dayPeriod:_({values:{narrow:{am:"\u4e0a",pm:"\u4e0b",midnight:"\u51cc\u6668",noon:"\u5348",morning:"\u65e9",afternoon:"\u4e0b\u5348",evening:"\u665a",night:"\u591c"},abbreviated:{am:"\u4e0a\u5348",pm:"\u4e0b\u5348",midnight:"\u51cc\u6668",noon:"\u4e2d\u5348",morning:"\u65e9\u6668",afternoon:"\u4e2d\u5348",evening:"\u665a\u4e0a",night:"\u591c\u95f4"},wide:{am:"\u4e0a\u5348",pm:"\u4e0b\u5348",midnight:"\u51cc\u6668",noon:"\u4e2d\u5348",morning:"\u65e9\u6668",afternoon:"\u4e2d\u5348",evening:"\u665a\u4e0a",night:"\u591c\u95f4"}},defaultWidth:"wide",formattingValues:{narrow:{am:"\u4e0a",pm:"\u4e0b",midnight:"\u51cc\u6668",noon:"\u5348",morning:"\u65e9",afternoon:"\u4e0b\u5348",evening:"\u665a",night:"\u591c"},abbreviated:{am:"\u4e0a\u5348",pm:"\u4e0b\u5348",midnight:"\u51cc\u6668",noon:"\u4e2d\u5348",morning:"\u65e9\u6668",afternoon:"\u4e2d\u5348",evening:"\u665a\u4e0a",night:"\u591c\u95f4"},wide:{am:"\u4e0a\u5348",pm:"\u4e0b\u5348",midnight:"\u51cc\u6668",noon:"\u4e2d\u5348",morning:"\u65e9\u6668",afternoon:"\u4e2d\u5348",evening:"\u665a\u4e0a",night:"\u591c\u95f4"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(S={matchPattern:/^(\u7b2c\s*)?\d+(\u65e5|\u65f6|\u5206|\u79d2)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.match(S.matchPattern);if(!r)return null;var n=r[0],i=e.match(S.parsePattern);if(!i)return null;var o=S.valueCallback?S.valueCallback(i[0]):i[0];return{value:o=t.valueCallback?t.valueCallback(o):o,rest:e.slice(n.length)}}),era:w({matchPatterns:{narrow:/^(\u524d)/i,abbreviated:/^(\u524d)/i,wide:/^(\u516c\u5143\u524d|\u516c\u5143)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^(\u524d)/i,/^(\u516c\u5143)/i]},defaultParseWidth:"any"}),quarter:w({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^\u7b2c[\u4e00\u4e8c\u4e09\u56db]\u523b/i,wide:/^\u7b2c[\u4e00\u4e8c\u4e09\u56db]\u523b\u949f/i},defaultMatchWidth:"wide",parsePatterns:{any:[/(1|\u4e00)/i,/(2|\u4e8c)/i,/(3|\u4e09)/i,/(4|\u56db)/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:w({matchPatterns:{narrow:/^(\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d|\u5341[\u4e8c\u4e00])/i,abbreviated:/^(\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d|\u5341[\u4e8c\u4e00]|\d|1[12])\u6708/i,wide:/^(\u4e00|\u4e8c|\u4e09|\u56db|\u4e94|\u516d|\u4e03|\u516b|\u4e5d|\u5341[\u4e8c\u4e00])\u6708/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^\u4e00/i,/^\u4e8c/i,/^\u4e09/i,/^\u56db/i,/^\u4e94/i,/^\u516d/i,/^\u4e03/i,/^\u516b/i,/^\u4e5d/i,/^\u5341(?!(\u4e00|\u4e8c))/i,/^\u5341\u4e00/i,/^\u5341\u4e8c/i],any:[/^\u4e00|1/i,/^\u4e8c|2/i,/^\u4e09|3/i,/^\u56db|4/i,/^\u4e94|5/i,/^\u516d|6/i,/^\u4e03|7/i,/^\u516b|8/i,/^\u4e5d|9/i,/^\u5341(?!(\u4e00|\u4e8c))|10/i,/^\u5341\u4e00|11/i,/^\u5341\u4e8c|12/i]},defaultParseWidth:"any"}),day:w({matchPatterns:{narrow:/^[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u65e5]/i,short:/^[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u65e5]/i,abbreviated:/^\u5468[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u65e5]/i,wide:/^\u661f\u671f[\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u65e5]/i},defaultMatchWidth:"wide",parsePatterns:{any:[/\u65e5/i,/\u4e00/i,/\u4e8c/i,/\u4e09/i,/\u56db/i,/\u4e94/i,/\u516d/i]},defaultParseWidth:"any"}),dayPeriod:w({matchPatterns:{any:/^(\u4e0a\u5348?|\u4e0b\u5348?|\u5348\u591c|[\u4e2d\u6b63]\u5348|\u65e9\u4e0a?|\u4e0b\u5348|\u665a\u4e0a?|\u51cc\u6668|)/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^\u4e0a\u5348?/i,pm:/^\u4e0b\u5348?/i,midnight:/^\u5348\u591c/i,noon:/^[\u4e2d\u6b63]\u5348/i,morning:/^\u65e9\u4e0a/i,afternoon:/^\u4e0b\u5348/i,evening:/^\u665a\u4e0a?/i,night:/^\u51cc\u6668/i}},defaultParseWidth:"any"})},options:{weekStartsOn:1,firstWeekContainsDate:4}},Pagination:{pageSize:"\u6bcf\u9875\u6761\u6570\uff1a${pageSize}",total:"\u603b\u9875\u6570\uff1a${total}",jumpTo:"\u8df3\u81f3",page:"\u9875"},Modal:{confirm:"\u786e\u5b9a",cancel:"\u53d6\u6d88"},TimePicker:{placeholder:{time:"\u8bf7\u9009\u62e9\u65f6\u95f4",timeRange:"\u8bf7\u9009\u62e9\u65f6\u95f4\u8303\u56f4"},begin:"\u5f00\u59cb\u65f6\u95f4",end:"\u7ed3\u675f\u65f6\u95f4",hour:"\u65f6",minute:"\u5206",second:"\u79d2",AM:"\u4e0a\u5348",PM:"\u4e0b\u5348"},DatePicker:{placeholder:{date:"\u8bf7\u9009\u62e9\u65e5\u671f",dateTime:"\u8bf7\u9009\u62e9\u65e5\u671f\u53ca\u65f6\u95f4",dateRange:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],dateTimeRange:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],monthRange:["\u5f00\u59cb\u6708\u4efd","\u7ed3\u675f\u6708\u4efd"]},presets:"\u5feb\u6377\u9009\u62e9",footer:{confirm:"\u786e\u5b9a",cancel:"\u53d6\u6d88"},selectDate:"\u8fd4\u56de\u9009\u62e9\u65e5\u671f",selectTime:"\u9009\u62e9\u65f6\u95f4",year:"\u5e74",month:"\u6708",day:"\u65e5",monthText:"${year}\u5e74 ${month}",months:{1:"1\u6708",2:"2\u6708",3:"3\u6708",4:"4\u6708",5:"5\u6708",6:"6\u6708",7:"7\u6708",8:"8\u6708",9:"9\u6708",10:"10\u6708",11:"11\u6708",12:"12\u6708"},fullMonths:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},weeks:{Mon:"\u4e00",Tue:"\u4e8c",Wed:"\u4e09",Thu:"\u56db",Fri:"\u4e94",Sat:"\u516d",Sun:"\u65e5"},localeFormatToken:{FORMAT_SWITCH_DATE:"yyyy-MM-dd"}},Navigation:{collapseText:"\u6536\u8d77\u4fa7\u8fb9\u680f",expandText:"\u5c55\u5f00\u4fa7\u8fb9\u680f"},Popconfirm:{confirm:"\u786e\u5b9a",cancel:"\u53d6\u6d88"},Table:{emptyText:"\u6682\u65e0\u6570\u636e",pageText:"\u663e\u793a\u7b2c ${currentStart} \u6761-\u7b2c ${currentEnd} \u6761\uff0c\u5171 ${total} \u6761"},Select:{emptyText:"\u6682\u65e0\u6570\u636e",createText:"\u521b\u5efa"},Cascader:{emptyText:"\u6682\u65e0\u6570\u636e"},Tree:{emptyText:"\u6682\u65e0\u6570\u636e",searchPlaceholder:"\u641c\u7d22"},List:{emptyText:"\u6682\u65e0\u6570\u636e"},Calendar:{allDay:"\u5168\u5929",AM:"\u4e0a\u5348${time}\u65f6",PM:"\u4e0b\u5348${time}\u65f6",datestring:"\u65e5",remaining:"\u8fd8\u6709${remained}\u9879"},Upload:{mainText:"\u70b9\u51fb\u4e0a\u4f20\u6587\u4ef6\u6216\u62d6\u62fd\u6587\u4ef6\u5230\u8fd9\u91cc",illegalTips:"\u4e0d\u652f\u6301\u6b64\u7c7b\u578b\u6587\u4ef6",legalTips:"\u677e\u624b\u5f00\u59cb\u4e0a\u4f20",retry:"\u91cd\u8bd5",replace:"\u66ff\u6362\u6587\u4ef6",clear:"\u6e05\u7a7a",selectedFiles:"\u5df2\u9009\u62e9\u6587\u4ef6",illegalSize:"\u6587\u4ef6\u5c3a\u5bf8\u4e0d\u5408\u6cd5",fail:"\u4e0a\u4f20\u5931\u8d25"},TreeSelect:{searchPlaceholder:"\u641c\u7d22"},Typography:{copy:"\u590d\u5236",copied:"\u590d\u5236\u6210\u529f",expand:"\u5c55\u5f00",collapse:"\u6536\u8d77"},Transfer:{emptyLeft:"\u6682\u65e0\u6570\u636e",emptySearch:"\u65e0\u641c\u7d22\u7ed3\u679c",emptyRight:"\u6682\u65e0\u5185\u5bb9\uff0c\u53ef\u4ece\u5de6\u4fa7\u52fe\u9009",placeholder:"\u641c\u7d22",clear:"\u6e05\u7a7a",selectAll:"\u5168\u9009",clearSelectAll:"\u53d6\u6d88\u5168\u9009",total:"\u603b\u4e2a\u6570\uff1a${total}",selected:"\u5df2\u9009\u4e2a\u6570\uff1a${total}"},Form:{optional:"\uff08\u53ef\u9009\uff09"},Image:{preview:"\u9884\u89c8",loading:"\u52a0\u8f7d\u4e2d",loadError:"\u52a0\u8f7d\u5931\u8d25",prevTip:"\u4e0a\u4e00\u5f20",nextTip:"\u4e0b\u4e00\u5f20",zoomInTip:"\u653e\u5927",zoomOutTip:"\u7f29\u5c0f",rotateTip:"\u65cb\u8f6c",downloadTip:"\u4e0b\u8f7d",adaptiveTip:"\u9002\u5e94\u9875\u9762",originTip:"\u539f\u59cb\u5c3a\u5bf8"}};class E extends i.Component{renderChildren(e,t){const{componentName:r}=this.props;let i=e;(null==e?void 0:e.code)||(i=O);const o=(0,n.Z)(O,"dateFnsLocale"),s=(0,n.Z)(i,"dateFnsLocale",o);return t(i[r],i.code,s)}render(){const{children:e}=this.props;return i.createElement(c.Z.Consumer,null,(t=>{let{locale:r}=t;return i.createElement(a.Consumer,null,(t=>this.renderChildren(r||t,e)))}))}}E.propTypes={componentName:s().string.isRequired,children:s().any},E.defaultProps={componentName:""}},15194:(e,t,r)=>{"use strict";r.d(t,{Z:()=>Pe});var n=r(55883),i=r(50959);const o=`${r(82345).T}-modal`,s=["small","medium","large","full-width"],a=["ltr","rtl"];var c=r(99891),l=r(1714),u=r(19895);class d extends l.Z{constructor(e){super(Object.assign({},e)),this.toggleDisplayNone=(e,t)=>{this._adapter.toggleDisplayNone(e,t)}}destroy(){this.afterHide()}handleCancel(e){var t;const r=this._adapter.notifyCancel(e);(0,u.Z)(r)&&(this._adapter.setState({onCancelReturnPromiseStatus:"pending"}),null===(t=null==r?void 0:r.then((()=>{this._adapter.setState({onCancelReturnPromiseStatus:"fulfilled"})})))||void 0===t||t.catch((e=>{throw this._adapter.setState({onCancelReturnPromiseStatus:"rejected"}),e})))}handleOk(e){var t;const r=this._adapter.notifyOk(e);(0,u.Z)(r)&&(this._adapter.setState({onOKReturnPromiseStatus:"pending"}),null===(t=null==r?void 0:r.then((()=>{this._adapter.setState({onOKReturnPromiseStatus:"fulfilled"})})))||void 0===t||t.catch((e=>{throw this._adapter.setState({onOKReturnPromiseStatus:"rejected"}),e})))}beforeShow(){this._adapter.disabledBodyScroll()}afterHide(){this._adapter.enabledBodyScroll(),this._adapter.notifyClose()}}var h=r(88987),p=r(54029),f=r(41916),g=r.n(f),m=r(84875),y=r.n(m),v=r(25691),b=r(810),_=r(96230),w=r(81137),S=r(1293),O=r(31783),E=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};class C extends i.PureComponent{render(){const e=this.props,{heading:t}=e,r=E(e,["heading"]),n=-1!==S.j.HEADING.indexOf(t)?`h${t}`:"h1";return i.createElement(O.Z,Object.assign({component:n,heading:n},r))}}C.propTypes={copyable:g().oneOfType([g().object,g().bool]),delete:g().bool,disabled:g().bool,ellipsis:g().oneOfType([g().object,g().bool]),mark:g().bool,link:g().oneOfType([g().object,g().bool]),underline:g().bool,strong:g().bool,type:g().oneOf(S.j.TYPE),heading:g().oneOf(S.j.HEADING),style:g().object,className:g().string,component:g().string,weight:g().oneOfType([g().oneOf(S.j.WEIGHT),g().number])},C.defaultProps={copyable:!1,delete:!1,disabled:!1,ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",heading:1,style:{},className:""};var x=r(75483);class T{constructor(e,t,r,n,i){this.ruleMethods={"bytes-decimal":e=>{let t=0;for(;e>=1e3;)e/=1e3,t++;return`${this.truncatePrecision(e)} ${["B","KB","MB","GB","TB","PB","EB","ZB","YB"][t]}`},"bytes-binary":e=>{let t=0;for(;e>=1024;)e/=1024,t++;return`${this.truncatePrecision(e)} ${["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"][t]}`},percentages:e=>`${this.truncatePrecision(100*e)}%`,exponential:e=>{const t=e.toExponential(this.precision+2).split("e");return`${this.truncatePrecision(Number(t[0]))}e${t[1]}`}},this.truncateMethods={ceil:Math.ceil,floor:Math.floor,round:Math.round},this.isDiyParser=void 0!==i,this.content=e,this.rule=t,this.precision=r,this.truncate=n,this.parser=i}format(){return this.isDiyParser?this.parser(this.content):"text"===this.rule?k(this.content).map((e=>I(e)?this.truncatePrecision(e):e)).join(""):"numbers"===this.rule?k(this.content).filter((e=>I(e))).map((e=>this.truncatePrecision(e))).join(","):k(this.content).map((e=>I(e)?this.ruleMethods[this.rule](Number(e)):e)).join("")}truncatePrecision(e){const t=this.truncateMethods[this.truncate](Number(e)*Math.pow(10,this.precision))/Math.pow(10,this.precision),r=t.toString().split(".");if(1===r.length)return t.toFixed(this.precision);const n=r[1].length;return n<this.precision?`${r[0]}.${r[1]}${"0".repeat(this.precision-n)}`:t.toString()}}function k(e){return e.match(/(-?[0-9]*\.?[0-9]+([eE]-?[0-9]+)?)|([^-\d\.]+)/g)||[]}function I(e){return!(isNaN(Number(e))||""===e.replace(/\s+/g,""))}class P extends i.PureComponent{formatNodeDFS(e){return Array.isArray(e)||(e=[e]),1===(e=e.map((e=>"string"==typeof e||"number"==typeof e?new T(String(e),this.props.rule,this.props.precision,this.props.truncate,this.props.parser).format():"function"==typeof e?this.formatNodeDFS(e()):"object"==typeof e&&"children"in e.props?Object.assign(Object.assign({},e),{props:Object.assign(Object.assign({},e.props),{children:this.formatNodeDFS(e.props.children)})}):e))).length?e[0]:e}render(){const e=Object.assign({},this.props);return delete e.rule,delete e.parser,e.children=this.formatNodeDFS(this.props.children),i.createElement(O.Z,Object.assign({component:"span"},e))}}P.propTypes={rule:g().oneOf(S.j.RULE),precision:g().number,truncate:g().oneOf(S.j.TRUNCATE),parser:g().func,copyable:g().oneOfType([g().object,g().bool]),delete:g().bool,disabled:g().bool,icon:g().oneOfType([g().node,g().string]),mark:g().bool,underline:g().bool,link:g().oneOfType([g().object,g().bool]),strong:g().bool,type:g().oneOf(S.j.TYPE),size:g().oneOf(S.j.SIZE),style:g().object,className:g().string,code:g().bool,component:g().string},P.defaultProps={rule:"text",precision:0,truncate:"round",parser:void 0,copyable:!1,delete:!1,icon:"",mark:!1,underline:!1,strong:!1,link:!1,type:"primary",style:{},size:"normal",className:""};const j=_.Z;j.Text=w.Z,j.Title=C,j.Paragraph=x.Z,j.Numeral=P;const D=j;var A=r(76232),R=r(75108);class M extends l.Z{constructor(e){super(Object.assign(Object.assign({},M.defaultAdapter),e)),this.handleKeyDown=e=>{const{closeOnEsc:t}=this.getProps();if(t&&e.keyCode===R.ZP.ESC)return e.stopPropagation(),void this.close(e)}}destroy(){this.handleKeyDownEventListenerUnmount(),this.modalDialogBlur(),this.prevFocusElementReFocus()}handleDialogMouseDown(){this._adapter.notifyDialogMouseDown()}handleMaskMouseUp(){this._adapter.notifyDialogMouseUp()}handleKeyDownEventListenerMount(){this._adapter.addKeyDownEventListener()}handleKeyDownEventListenerUnmount(){this._adapter.removeKeyDownEventListener()}getMouseState(){this._adapter.getMouseState()}handleMaskClick(e){const{dialogMouseDown:t}=this.getStates();e.target!==e.currentTarget||t||this.close(e)}close(e){this._adapter.notifyClose(e)}modalDialogFocus(){this._adapter.modalDialogFocus()}modalDialogBlur(){this._adapter.modalDialogBlur()}prevFocusElementReFocus(){this._adapter.prevFocusElementReFocus()}}var N=r(95193),F=r(61694);const z=function(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1};const L=function(e){return e!=e};const Z=function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1};const B=function(e,t,r){return t==t?Z(e,t,r):z(e,L,r)};const U=function(e,t){return!!(null==e?0:e.length)&&B(e,t,0)>-1};const $=function(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1};var G=r(28019),H=r(5467),V=r(20465);const K=function(e,t,r,n){var i=-1,o=U,s=!0,a=e.length,c=[],l=t.length;if(!a)return c;r&&(t=(0,G.Z)(t,(0,H.Z)(r))),n?(o=$,s=!1):t.length>=200&&(o=V.Z,s=!1,t=new F.Z(t));e:for(;++i<a;){var u=e[i],d=null==r?u:r(u);if(u=n||0!==u?u:0,s&&d==d){for(var h=l;h--;)if(t[h]===d)continue e;c.push(u)}else o(t,d,n)||c.push(u)}return c};var W=r(19851),q=r(84488);const X=(0,W.Z)((function(e,t){return(0,q.Z)(e)?K(e,t):[]}));var J=r(50840);class Y{constructor(e,t){var r;this.addFocusRedirectListener=e=>(this.focusRedirectListenerList.push(e),()=>this.removeFocusRedirectListener(e)),this.removeFocusRedirectListener=e=>{this.focusRedirectListenerList=X(this.focusRedirectListenerList,e)},this.destroy=()=>{var e;null===(e=this.container)||void 0===e||e.removeEventListener("keydown",this.onKeyPress)},this.shouldFocusRedirect=e=>{if(!this.enable)return!1;for(const t of this.focusRedirectListenerList){if(!t(e))return!1}return!0},this.focusElement=(e,t)=>{const{preventScroll:r}=this.options;null==e||e.focus({preventScroll:r}),t.preventDefault()},this.onKeyPress=e=>{if(e&&"Tab"===e.key){const t=Y.getFocusableElements(this.container);t.length&&(e.shiftKey?this.handleContainerShiftTabKeyDown(t,e):this.handleContainerTabKeyDown(t,e))}},this.handleContainerTabKeyDown=(e,t)=>{const r=Y.getActiveElement(),n=e[e.length-1]===r,i=e[0];n&&this.shouldFocusRedirect(i)&&this.focusElement(i,t)},this.handleContainerShiftTabKeyDown=(e,t)=>{const r=Y.getActiveElement(),n=e[0]===r,i=e[e.length-1];n&&this.shouldFocusRedirect(i)&&this.focusElement(i,t)},Object.freeze(t),this.container=e,this.options=t,this.enable=null===(r=null==t?void 0:t.enable)||void 0===r||r,this.focusRedirectListenerList=(null==t?void 0:t.onFocusRedirectListener)?Array.isArray(t.onFocusRedirectListener)?[...t.onFocusRedirectListener]:[t.onFocusRedirectListener]:[],this.container.addEventListener("keydown",this.onKeyPress)}get enable(){return this._enable}set enable(e){this._enable=e}static getFocusableElements(e){if(!(0,J.Z)(e))return[];const t=["input:not([disabled]):not([tabindex='-1'])","textarea:not([disabled]):not([tabindex='-1'])","button:not([disabled]):not([tabindex='-1'])","a[href]:not([tabindex='-1'])","select:not([disabled]):not([tabindex='-1'])","area[href]:not([tabindex='-1'])","iframe:not([tabindex='-1'])","object:not([tabindex='-1'])","*[tabindex]:not([tabindex='-1'])","*[contenteditable]:not([tabindex='-1'])"].join(",");return Array.from(e.querySelectorAll(t))}static getActiveElement(){return document?document.activeElement:null}}const Q=Y;var ee=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};let te=0;class re extends A.Z{constructor(e){super(e),this.onKeyDown=e=>{this.foundation.handleKeyDown(e)},this.onDialogMouseDown=()=>{this.foundation.handleDialogMouseDown()},this.onMaskMouseUp=()=>{this.foundation.handleMaskMouseUp()},this.onMaskClick=e=>{this.foundation.handleMaskClick(e)},this.close=e=>{this.foundation.close(e)},this.getMaskElement=()=>{const e=ee(this.props,[]),{mask:t,maskClassName:r}=e;if(t){const t=y()(`${o}-mask`,{});return i.createElement("div",Object.assign({key:"mask"},this.props.maskExtraProps,{className:y()(t,r),style:e.maskStyle}))}return null},this.renderCloseBtn=()=>{const{closable:e,closeIcon:t}=this.props;let r;if(e){const e=t||i.createElement(N.Z,{"x-semi-prop":"closeIcon"});r=i.createElement(b.Z,{"aria-label":"close",className:`${o}-close`,key:"close-btn",onClick:this.close,type:"tertiary",icon:e,theme:"borderless",size:"small"})}return r},this.renderIcon=()=>{const{icon:e}=this.props;return e?i.createElement("span",{className:`${o}-icon-wrapper`,"x-semi-prop":"icon"},e):null},this.renderHeader=()=>{if("header"in this.props)return this.props.header;const{title:e}=this.props,t=this.renderCloseBtn(),r=this.renderIcon();return null==e?null:i.createElement("div",{className:`${o}-header`},r,i.createElement(D.Title,{heading:5,className:`${o}-title`,id:`${o}-title`,"x-semi-prop":"title"},e),t)},this.renderBody=()=>{const{bodyStyle:e,children:t,title:r}=this.props,n=y()(`${o}-body`,{[`${o}-withIcon`]:this.props.icon}),s=this.renderCloseBtn(),a=this.renderIcon();return null!=r||"header"in this.props?i.createElement("div",{className:n,id:`${o}-body`,style:e,"x-semi-prop":"children"},t):i.createElement("div",{className:`${o}-body-wrapper`},a,i.createElement("div",{className:n,style:e,"x-semi-prop":"children"},t),s)},this.getDialogElement=()=>{const e=ee(this.props,[]),t={},r=y()(`${o}`,{[`${o}-centered`]:e.centered,[`${o}-${e.size}`]:e.size});e.width&&(t.width=e.width),e.height&&(t.height=e.height),e.isFullScreen&&(t.width="100%",t.height="100%",t.margin="unset");const n=this.renderBody(),s=this.renderHeader(),a=e.footer?i.createElement("div",{className:`${o}-footer`,"x-semi-prop":"footer"},e.footer):null;return i.createElement("div",{key:"dialog-element",className:r,onMouseDown:this.onDialogMouseDown,style:Object.assign(Object.assign({},e.style),t),id:this.dialogId},i.createElement("div",{role:"dialog",ref:this.modalDialogRef,"aria-modal":"true","aria-labelledby":`${o}-title`,"aria-describedby":`${o}-body`,onAnimationEnd:e.onAnimationEnd,className:y()([`${o}-content`,e.contentClassName,{[`${o}-content-fullScreen`]:e.isFullScreen}])},s,n,a))},this.state={dialogMouseDown:!1,prevFocusElement:Q.getActiveElement()},this.foundation=new M(this.adapter),this.dialogId="dialog-"+te++,this.modalDialogRef=i.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyClose:e=>{this.props.onClose(e)},notifyDialogMouseDown:()=>{this.setState({dialogMouseDown:!0})},notifyDialogMouseUp:()=>{this.state.dialogMouseDown&&(this.timeoutId=setTimeout((()=>{this.setState({dialogMouseDown:!1})}),0))},addKeyDownEventListener:()=>{this.props.closeOnEsc&&document.addEventListener("keydown",this.foundation.handleKeyDown)},removeKeyDownEventListener:()=>{this.props.closeOnEsc&&document.removeEventListener("keydown",this.foundation.handleKeyDown)},getMouseState:()=>this.state.dialogMouseDown,modalDialogFocus:()=>{var e,t,r;const{preventScroll:n}=this.props;let i;if(this.modalDialogRef){const t=Q.getActiveElement();i=this.modalDialogRef.current.contains(t),null===(e=this.focusTrapHandle)||void 0===e||e.destroy(),this.focusTrapHandle=new Q(this.modalDialogRef.current,{preventScroll:n})}i||null===(r=null===(t=this.modalDialogRef)||void 0===t?void 0:t.current)||void 0===r||r.focus({preventScroll:n})},modalDialogBlur:()=>{var e,t;null===(e=this.modalDialogRef)||void 0===e||e.current.blur(),null===(t=this.focusTrapHandle)||void 0===t||t.destroy()},prevFocusElementReFocus:()=>{const{prevFocusElement:e}=this.state,{preventScroll:t}=this.props,r=(0,p.Z)(e,"focus");(0,h.Z)(r)&&e.focus({preventScroll:t})}})}componentDidMount(){var e;this.foundation.handleKeyDownEventListenerMount(),this.foundation.modalDialogFocus();const t=Q.getFocusableElements(this.modalDialogRef.current);this.modalDialogRef.current.contains(document.activeElement)||null===(e=t[0])||void 0===e||e.focus()}componentWillUnmount(){clearTimeout(this.timeoutId),this.foundation.destroy()}render(){const e=this.props,{maskClosable:t,className:r,getPopupContainer:n,maskFixed:s,getContainerContext:a}=e,c=ee(e,["maskClosable","className","getPopupContainer","maskFixed","getContainerContext"]),{direction:l}=this.context,u=y()(r,{[`${o}-popup`]:n&&!s,[`${o}-fixed`]:s,[`${o}-rtl`]:"rtl"===l}),d=a(),h=this.getDataAttr(c),p=i.createElement("div",Object.assign({className:u},h),this.getMaskElement(),i.createElement("div",Object.assign({role:"none",className:y()({[`${o}-wrap`]:!0,[`${o}-wrap-center`]:this.props.centered}),onClick:t?this.onMaskClick:null,onMouseUp:t?this.onMaskMouseUp:null},this.props.contentExtraProps),this.getDialogElement()));return d&&d.Provider?i.createElement(d.Provider,{value:d.value},p):p}}re.contextType=v.Z,re.propTypes={close:g().func,getContainerContext:g().func,contentClassName:g().string,maskClassName:g().string,onAnimationEnd:g().func,preventScroll:g().bool},re.defaultProps={close:n.Z,getContainerContext:n.Z,contentClassName:"",maskClassName:""};var ne=r(55587),ie=r(32006),oe=r(93639),se=r(10422),ae=r(43503),ce=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const le=e=>{const[t,r]=(0,i.useState)(!0),[n,s]=(0,i.useState)(),[a,c]=(0,i.useState)(),{direction:l}=e,{title:u,content:d,icon:h,type:p,onCancel:f,onOk:g,className:m}=e,v=ce(e,["title","content","icon","type","onCancel","onOk","className"]),b=(0,i.useCallback)((e=>{const t=g&&g(e);t&&t.then?(s(!0),t.then((function(){r(!1),s(!1)}),(e=>{s(!1)}))):r(!1)}),[g]),_=(0,i.useCallback)((e=>{const t=f&&f(e);t&&t.then?(c(!0),t.then((function(){r(!1),c(!1)}),(e=>{c(!1)}))):r(!1)}),[f]),w=`${o}-confirm`,S=y()(m,w,{[`${w}-rtl`]:"rtl"===l}),O=y()(`${o}-${p}`),E=(0,ae.ID)(h)?i.cloneElement(h,{className:`${w}-icon ${O}-icon`,size:"extra-large"}):h,C=null==u?null:i.createElement("span",{className:`${w}-title-text`},u),x=y()(`${w}-content`,{[`${w}-content-withIcon`]:e.icon});return i.createElement(Ie,Object.assign({className:S,title:C,confirmLoading:n,cancelLoading:a,onOk:b,onCancel:_,icon:E,visible:t},v),i.createElement("div",{className:x,"x-semi-prop":"content"},d))};var ue=r(85848),de=r(2175),he=r(40910),pe=r(86756);const fe=(0,r(95571).A)((function(e){return i.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 23C18.0751 23 23 18.0751 23 12C23 5.92487 18.0751 1 12 1C5.92487 1 1 5.92487 1 12C1 18.0751 5.92487 23 12 23ZM11.8281 14.6094C10.9688 14.6094 10.5391 14.0723 10.5391 13.3691C10.5391 12.3242 11.0566 11.6504 12.2676 10.7324C12.2894 10.7158 12.3111 10.6993 12.3326 10.6829C13.1573 10.0555 13.7324 9.61807 13.7324 8.82812C13.7324 7.93945 12.9023 7.42188 11.9746 7.42188C11.2129 7.42188 10.627 7.70508 10.168 8.30078C9.83594 8.64258 9.57227 8.82812 9.12305 8.82812C8.38086 8.82812 8 8.31055 8 7.71484C8 7.10938 8.3418 6.49414 8.87891 6.02539C9.60156 5.40039 10.7539 5 12.2773 5C14.9922 5 16.8965 6.33789 16.8965 8.64258C16.8965 10.3223 15.8906 11.1328 14.709 11.9531C13.9082 12.5391 13.5273 12.8809 13.2246 13.5742L13.2238 13.5756C12.8922 14.1609 12.638 14.6094 11.8281 14.6094ZM11.8086 18.7695C10.8711 18.7695 10.0996 18.1641 10.0996 17.2266C10.0996 16.2891 10.8711 15.6836 11.8086 15.6836C12.7461 15.6836 13.5078 16.2891 13.5078 17.2266C13.5078 18.1641 12.7461 18.7695 11.8086 18.7695Z",fill:"currentColor"}))}),"help_circle");function ge(e){const t=document.createElement("div");document.body.appendChild(t);let r=Object.assign({},e);const n=()=>{se.unmountComponentAtNode(t)&&t.parentNode&&t.parentNode.removeChild(t);for(let e=0;e<Te.length;e++){if(Te[e]===s){Te.splice(e,1);break}}};function o(r){const{afterClose:o}=r;se.render(i.createElement(le,Object.assign({},r,{afterClose:function(){null==o||o(...arguments),n()},motion:e.motion})),t)}function s(){r=Object.assign(Object.assign({},r),{visible:!1}),o(r)}return o(r),Te.push(s),{destroy:s,update:function(e){r=Object.assign(Object.assign({},r),e),o(r)}}}function me(e){return Object.assign({type:"info",icon:i.createElement(ue.Z,null)},e)}function ye(e){return Object.assign({type:"success",icon:i.createElement(de.Z,null)},e)}function ve(e){return Object.assign({type:"warning",icon:i.createElement(he.Z,null)},e)}function be(e){return Object.assign({type:"error",icon:i.createElement(pe.Z,null),okButtonProps:Object.assign({type:"danger"},e.okButtonProps)},(0,oe.Z)(e,["okButtonProps"]))}function _e(e){return Object.assign({type:"confirm",icon:i.createElement(fe,null)},e)}var we=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const Se=(e,t)=>{var{afterClose:r,config:n}=e;we(e,["afterClose","config"]);const[o,s]=i.useState(n);i.useImperativeHandle(t,(()=>({destroy:()=>{s((e=>Object.assign(Object.assign({},e),{visible:!1})))},update:e=>{s((t=>Object.assign(Object.assign({},t),e)))}})));return i.createElement(le,Object.assign({},o,{afterClose:()=>{var e;null===(e=null==n?void 0:n.afterClose)||void 0===e||e.call(n),r()}}))},Oe=i.forwardRef(Se);let Ee=0;var Ce=r(51464),xe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const Te=[];class ke extends A.Z{constructor(e){super(e),this.handleCancel=e=>{this.foundation.handleCancel(e)},this.handleOk=e=>{this.foundation.handleOk(e)},this.updateState=()=>{const{visible:e}=this.props;this.foundation.toggleDisplayNone(!e)},this.renderFooter=()=>{const{okText:e,okType:t,cancelText:r,confirmLoading:n,cancelLoading:o,hasCancel:s}=this.props,a=e=>s?i.createElement(c.Z,Object.assign({"aria-label":"cancel",onClick:this.handleCancel,loading:void 0===o?"pending"===this.state.onCancelReturnPromiseStatus:o,type:"tertiary",autoFocus:!0},this.props.cancelButtonProps,{"x-semi-children-alias":"cancelText"}),r||e.cancel):null;return i.createElement(ie.Z,{componentName:"Modal"},((r,o)=>i.createElement("div",null,a(r),i.createElement(c.Z,Object.assign({"aria-label":"confirm",type:t,theme:"solid",loading:void 0===n?"pending"===this.state.onOKReturnPromiseStatus:n,onClick:this.handleOk},this.props.okButtonProps,{"x-semi-children-alias":"okText"}),e||r.confirm))))},this.renderDialog=()=>{let e=this.props,{footer:t,className:r,motion:n,maskStyle:s,keepDOM:a,style:c,zIndex:l,getPopupContainer:u,visible:d}=e,h=xe(e,["footer","className","motion","maskStyle","keepDOM","style","zIndex","getPopupContainer","visible"]),p=c;const f=s,g="footer"in this.props?t:this.renderFooter();let m={zIndex:l};u&&(m={zIndex:l,position:"static"});const v=y()(r,{[`${o}-displayNone`]:a&&this.state.displayNone}),b=this.props.visible||this.props.keepDOM&&(!this.props.lazyRender||this._haveRendered)||this.props.motion&&!this.state.displayNone;return b&&(this._haveRendered=!0),i.createElement(Ce.Z,{motion:this.props.motion,animationState:d?"enter":"leave",startClassName:d?`${o}-content-animate-show`:`${o}-content-animate-hide`,onAnimationEnd:()=>{this.updateState()}},(e=>{let{animationClassName:t,animationEventsNeedBind:r}=e;return i.createElement(Ce.Z,{motion:this.props.motion,animationState:d?"enter":"leave",startClassName:d?`${o}-mask-animate-show`:`${o}-mask-animate-hide`,onAnimationEnd:()=>{this.updateState()}},(e=>{let{animationClassName:n,animationEventsNeedBind:o}=e;return b?i.createElement(ne.Z,{style:m,getPopupContainer:u}," ",i.createElement(re,Object.assign({},h,{contentExtraProps:r,maskExtraProps:o,isFullScreen:this.state.isFullScreen,contentClassName:t,maskClassName:n,className:v,getPopupContainer:u,maskStyle:f,style:p,ref:this.modalRef,footer:g,onClose:this.handleCancel}))):i.createElement(i.Fragment,null)}))}))},this.state={displayNone:!e.visible,isFullScreen:e.fullScreen},this.foundation=new d(this.adapter),this.modalRef=i.createRef(),this.bodyOverflow="",this.scrollBarWidth=0,this.originBodyWidth="100%"}get adapter(){return Object.assign(Object.assign({},super.adapter),{getProps:()=>this.props,disabledBodyScroll:()=>{const{getPopupContainer:e}=this.props;this.bodyOverflow=document.body.style.overflow||"",e||"hidden"===this.bodyOverflow||(document.body.style.overflow="hidden",document.body.style.width=`calc(${this.originBodyWidth||"100%"} - ${this.scrollBarWidth}px)`)},enabledBodyScroll:()=>{const{getPopupContainer:e}=this.props;e||"hidden"===this.bodyOverflow||(document.body.style.overflow=this.bodyOverflow,document.body.style.width=this.originBodyWidth)},notifyCancel:e=>this.props.onCancel(e),notifyOk:e=>this.props.onOk(e),notifyClose:()=>{this.props.afterClose()},toggleDisplayNone:(e,t)=>{e!==this.state.displayNone&&this.setState({displayNone:e},t||n.Z)},notifyFullScreen:e=>{e!==this.state.isFullScreen&&this.setState({isFullScreen:e})}})}static getDerivedStateFromProps(e,t){const r={};return e.fullScreen!==t.isFullScreen&&(r.isFullScreen=e.fullScreen),e.visible&&t.displayNone&&(r.displayNone=!1),r}componentDidMount(){this.scrollBarWidth=(0,ae.np)(),this.originBodyWidth=document.body.style.width,this.props.visible&&this.foundation.beforeShow()}componentDidUpdate(e,t,r){!e.visible&&this.props.visible&&this.foundation.beforeShow(),!t.displayNone&&this.state.displayNone&&this.foundation.afterHide()}componentWillUnmount(){this.props.visible&&this.foundation.destroy()}render(){const{visible:e,keepDOM:t,lazyRender:r}=this.props;return this.renderDialog()}}ke.propTypes={mask:g().bool,closable:g().bool,centered:g().bool,visible:g().bool,width:g().oneOfType([g().string,g().number]),height:g().oneOfType([g().string,g().number]),confirmLoading:g().bool,cancelLoading:g().bool,okText:g().string,okType:g().string,cancelText:g().string,maskClosable:g().bool,onCancel:g().func,onOk:g().func,afterClose:g().func,okButtonProps:g().object,cancelButtonProps:g().object,style:g().object,className:g().string,maskStyle:g().object,bodyStyle:g().object,zIndex:g().number,title:g().node,icon:g().node,header:g().node,footer:g().node,hasCancel:g().bool,motion:g().bool,children:g().node,getPopupContainer:g().func,getContainerContext:g().func,maskFixed:g().bool,closeIcon:g().node,closeOnEsc:g().bool,size:g().oneOf(s),keepDOM:g().bool,lazyRender:g().bool,direction:g().oneOf(a),fullScreen:g().bool},ke.defaultProps={zIndex:1e3,motion:!0,mask:!0,centered:!1,closable:!0,visible:!1,okType:"primary",maskClosable:!0,hasCancel:!0,onCancel:n.Z,onOk:n.Z,afterClose:n.Z,maskFixed:!1,closeOnEsc:!0,size:"small",keepDOM:!1,lazyRender:!0,fullScreen:!1},ke.useModal=function(){const[e,t]=function(){const[e,t]=i.useState([]);return[e,function(e){return t((t=>[...t,e])),()=>{t((t=>t.filter((t=>t!==e))))}}]}();function r(e){return function(r){Ee+=1;const n=i.createRef();let o;const s=i.createElement(Oe,{key:`semi-modal-${Ee}`,config:e(r),ref:n,afterClose:()=>{o()}});return o=t(s),{destroy:()=>{n.current&&n.current.destroy()},update:e=>{n.current&&n.current.update(e)}}}}return[{info:r(me),success:r(ye),error:r(be),warning:r(ve),confirm:r(_e)},i.createElement(i.Fragment,null,e)]},ke.info=function(e){return ge(me(e))},ke.success=function(e){return ge(ye(e))},ke.error=function(e){return ge(be(e))},ke.warning=function(e){return ge(ve(e))},ke.confirm=function(e){return ge(_e(e))},ke.destroyAll=function(){for(;Te.length;){const e=Te.pop();e&&e()}};const Ie=ke,Pe=ke},21797:(e,t,r)=>{"use strict";r.d(t,{Z:()=>S});var n=r(55883),i=r(88987),o=r(50959),s=r(84875),a=r.n(s),c=r(41916),l=r.n(c),u=r(25691),d=r(12236),h=r(11643),p=r(54029),f=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{position:t="",className:r,arrowStyle:n,popStyle:i}=e,s=f(e,["position","className","arrowStyle","popStyle"]),c=0===t.indexOf("top")||0===t.indexOf("bottom"),l=a()(r,d.UX.ARROW),u=(0,p.Z)(n,"borderOpacity",d.j2.DEFAULT_ARROW_STYLE.borderOpacity),h=(0,p.Z)(n,"backgroundColor",(0,p.Z)(i,"backgroundColor",d.j2.DEFAULT_ARROW_STYLE.backgroundColor)),g=(0,p.Z)(n,"borderColor",(0,p.Z)(i,"borderColor",d.j2.DEFAULT_ARROW_STYLE.borderColor)),m=Object.assign(Object.assign({},s),{width:d.KT.ARROW_BOUNDING.width,height:d.KT.ARROW_BOUNDING.height,xmlns:"http://www.w3.org/2000/svg",className:l});return c?o.createElement("svg",Object.assign({},m),o.createElement("path",{d:"M0 0.5L0 1.5C4 1.5, 5.5 3, 7.5 5S10,8 12,8S14.5 7, 16.5 5S20,1.5 24,1.5L24 0.5L0 0.5z",fill:g,opacity:u}),o.createElement("path",{d:"M0 0L0 1C4 1, 5.5 2, 7.5 4S10,7 12,7S14.5  6, 16.5 4S20,1 24,1L24 0L0 0z",fill:h})):o.createElement("svg",Object.assign({},m),o.createElement("path",{d:"M0.5 0L1.5 0C1.5 4, 3 5.5, 5 7.5S8,10 8,12S7 14.5, 5 16.5S1.5,20 1.5,24L0.5 24L0.5 0z",fill:g,opacity:u}),o.createElement("path",{d:"M0 0L1 0C1 4, 2 5.5, 4 7.5S7,10 7,12S6 14.5, 4 16.5S1,20 1,24L0 24L0 0z",fill:h}))};g.propTypes={position:l().string,className:l().string,arrowStyle:l().object,popStyle:l().object};const m=g;var y=r(86475),v=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const b=d.j2.POSITION_SET,_=d.j2.TRIGGER_SET;class w extends o.PureComponent{constructor(e){super(e),this.focusTrigger=()=>{var e;null===(e=this.tooltipRef.current)||void 0===e||e.focusTrigger()},this.renderPopCard=e=>{let{initialFocusRef:t}=e;const{content:r,contentClassName:n,prefixCls:i}=this.props,{direction:s}=this.context,c=a()(i,n,{[`${i}-rtl`]:"rtl"===s}),l=this.renderContentNode({initialFocusRef:t,content:r});return o.createElement("div",{className:c},o.createElement("div",{className:`${i}-content`},l))},this.renderContentNode=e=>{const{initialFocusRef:t,content:r}=e,n={initialFocusRef:t};return(0,i.Z)(r)?r(n):r},this.tooltipRef=o.createRef()}render(){const e=this.props,{children:t,prefixCls:r,showArrow:n,arrowStyle:i={},arrowBounding:s,position:a,style:c,trigger:l}=e,u=v(e,["children","prefixCls","showArrow","arrowStyle","arrowBounding","position","style","trigger"]);let{spacing:p}=this.props;const f={position:a,className:"",popStyle:c,arrowStyle:i},g=!!n&&o.createElement(m,Object.assign({},f));(0,y.Z)(p)&&(p=n?d.KT.SPACING_WITH_ARROW:d.KT.SPACING);const b="click"===l||"custom"===l?"dialog":"tooltip";return o.createElement(h.Z,Object.assign({guardFocus:!0,ref:this.tooltipRef},u,{trigger:l,position:a,style:c,content:this.renderPopCard,prefixCls:r,spacing:p,showArrow:g,arrowBounding:s,role:b}),t)}}w.contextType=u.Z,w.propTypes={children:l().node,content:l().oneOfType([l().node,l().func]),visible:l().bool,autoAdjustOverflow:l().bool,motion:l().bool,position:l().oneOf(b),margin:l().oneOfType([l().number,l().object]),mouseEnterDelay:l().number,mouseLeaveDelay:l().number,trigger:l().oneOf(_).isRequired,contentClassName:l().oneOfType([l().string,l().array]),onVisibleChange:l().func,onClickOutSide:l().func,style:l().object,spacing:l().oneOfType([l().number,l().object]),zIndex:l().number,showArrow:l().bool,arrowStyle:l().shape({borderColor:l().string,backgroundColor:l().string,borderOpacity:l().oneOfType([l().string,l().number])}),arrowPointAtCenter:l().bool,arrowBounding:l().object,prefixCls:l().string,guardFocus:l().bool,disableArrowKeyDown:l().bool},w.defaultProps={arrowBounding:d.KT.ARROW_BOUNDING,showArrow:!1,autoAdjustOverflow:!0,zIndex:d.KT.DEFAULT_Z_INDEX,motion:!0,trigger:"hover",cancelText:"No",okText:"Yes",position:"bottom",prefixCls:d.UX.PREFIX,onClickOutSide:n.Z,onEscKeyDown:n.Z,closeOnEsc:!0,returnFocusOnClose:!0,guardFocus:!0,disableFocusListener:!0};const S=w},63522:(e,t,r)=>{"use strict";r.d(t,{Z:()=>N});var n=r(50959),i=r(84875),o=r.n(i),s=r(41916),a=r.n(s);const c={PREFIX:`${r(82345).T}-progress`},l={types:["line","circle"],DEFAULT_TYPE:"line",STROKE_DEFAULT:"var(--semi-color-success)",strokeLineCap:["square","round"],DEFAULT_LINECAP:"round",sizes:["default","small","large"],DEFAULT_SIZE:"default",directions:["vertical","horizontal"],DEFAULT_DIRECTION:"horizontal"};var u=r(69624),d=r(65943),h=r.n(d);function p(e,t,r){return Math.min(Math.max(e,t),r)}function f(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;const t=p(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,1,10),r=p(e,.1,2);return e=>0===e||1===e?e:-t*Math.pow(2,10*(e-1))*Math.sin((e-1-r/(2*Math.PI)*Math.asin(1/t))*(2*Math.PI)/r)}const g=(()=>{const e=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],t={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],f],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],(e,t)=>r=>1-f(e,t)(1-r)],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],(e,t)=>r=>r<.5?f(e,t)(2*r)/2:1-f(e,t)(-2*r+2)/2]},r={linear:[.25,.25,.75,.75]};for(const n of Object.keys(t))t[n].forEach(((t,i)=>{r["ease"+n+e[i]]=t}));return r})();function m(e){if("function"==typeof e)return e;let t=(e=e&&"string"==typeof e?e.trim():"linear").split("(")[0];const r=function(e){const t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map((e=>parseFloat(e))):[]}(e);let n;return"cubic-bezier"===t||"cubicBezier"===t?h()(...r.length?r:g.linear):((!t||"string"!=typeof t||"string"==typeof t&&null==g[t])&&(t="linear"),n=g[t],"function"==typeof n?n(...r):r.length?h()(...r):h()(...n))}class y{constructor(){this._eventMap=new Map}on(e,t){return e&&"function"==typeof t&&(this._eventMap.has(e)||this._eventMap.set(e,[]),this._eventMap.get(e).push(t)),this}once(e,t){var r=this;if(e&&"function"==typeof t){const n=function(){t(...arguments),r.off(e,n)};this.on(e,n)}}off(e,t){if(e)if("function"==typeof t){const r=this._eventMap.get(e);if(Array.isArray(r)&&r.length){let e=-1;for(;(e=r.findIndex((e=>e===t)))>-1;)r.splice(e,1)}}else null==t&&this._eventMap.delete(e);return this}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return!!this._eventMap.has(e)&&(this._eventMap.get(e).forEach((e=>e(...r))),!0)}}function v(e){return Boolean(e&&"object"==typeof e&&(e.duration>0||"string"==typeof e.easing||"function"==typeof e.easing))}function b(e){const t={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]="number"==typeof e[r]?e[r]:e[r].val);return t}const _=[0,0];function w(e,t,r,n,i,o,s){const a=r+(-i*(t-n)+-o*r)*e,c=t+a*e;return Math.abs(a)<s&&Math.abs(c-n)<s?(_[0]=n,_[1]=0,_):(_[0]=c,_[1]=a,_)}const S=Object.assign(Object.assign({},{tension:170,friction:26}),{precision:.01});function O(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(v(t)){const e=m(t.easing),r="number"==typeof t.duration&&t.duration>0?t.duration:1e3;t=Object.assign(Object.assign({},t),{easing:e,duration:r})}let r=Object.assign(Object.assign(Object.assign({},S),t),{done:!1});if(e&&"object"==typeof e&&"val"in e){if(v(e)){const r=m(e.easing),n="number"==typeof e.duration&&e.duration>0?e.duration:parseInt(t.duration)||1e3;e=Object.assign(Object.assign({},e),{easing:r,duration:n})}r=Object.assign(Object.assign({},r),e)}else r=Object.assign(Object.assign({},r),{val:e});return r}const E=()=>Date.now(),C=1e3/60;class x extends y{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),this._props=Object.assign({},e),this._config=Object.assign({},t),this.initStates()}_wrapConfig(e,t){t=t&&"object"==typeof t?t:this._config;const r={};for(const n of Object.keys(e))r[n]=O(e[n],t);return r}initStates(e,t){e=e&&"object"==typeof e?e:this._props,t=t&&"object"==typeof t?t:this._config;const{from:r,to:n}=e;if(this._from={},r)for(const s of Object.keys(r))this._from[s]="object"==typeof r[s]&&r[s].val?r[s].val:r[s];this._to=this._wrapConfig(n,t),this._delay=parseInt(t.delay)||0;const i=this._from&&b(this._from)||b(this._to),o=function(e){const t={},r=e&&Object.keys(e)||[];for(const n of r)t[n]=0;return t}(i);this._currentStyle=Object.assign({},i),this._currentVelocity=Object.assign({},o),this._lastIdealStyle=Object.assign({},i),this._lastIdealVelocity=Object.assign({},o),this.resetPlayStates(),this._frameCount=0,this._prevTime=0}animate(){null==this._timer&&(this._timer=requestAnimationFrame((e=>{const t=E();if(function(e,t,r,n,i){for(const o of Object.keys(t)){const s=t[o],a="number"==typeof s?s:s.val;if("object"!=typeof s||!s.done){if(v(s)&&n&&i&&s.duration){if(s.duration+n<=i||a!==e[o])return!1}else if("number"==typeof r[o]&&0!==r[o])return!1;if(e[o]!==a)return!1}}return!0}(this._currentStyle,this._to,this._currentVelocity,this._startedTime||t,t)||this._ended||this._stopped)return!this._wasAnimating||this._ended||this._stopped||(this._timer=setTimeout((()=>{clearTimeout(this._timer),this._timer=null,this._ended=!0,this.emit("rest",this.getCurrentStates())}),C)),void this.resetPlayStates();this._started||(this._started=!0,this.emit("start",this.getCurrentStates())),this._stopped=!1,this._paused=!1,this._wasAnimating=!0,0===this._startedTime&&(this._startedTime=t);const r=t,n=r-this._prevTime;this._prevTime=r,r-this._startedTime<this._delay&&(this._timer=null,this.animate());const i={},o={},s={},a={},c=this._to&&Object.keys(this._to)||[];for(const l of c){const e=this._to[l];this._accumulatedTime[l]="number"!=typeof this._accumulatedTime[l]?n:this._accumulatedTime[l]+n;const t=null!=this._from[l]&&"object"==typeof this._from[l]?this._from[l].val:this._from[l],c=e.val;if("number"==typeof e)s[l]=e,a[l]=0,i[l]=e,o[l]=0;else{let n=this._lastIdealStyle[l],u=this._lastIdealVelocity[l];if(v(this._config)||v(e)){const{easing:o,duration:a}=e;n=t+o((r-this._startedTime)/a)*(c-t),r>=this._startedTime+a&&(n=c,e.done=!0),i[l]=n,s[l]=n}else if(null!=c&&c===this._currentStyle[l])s[l]=c,a[l]=0,i[l]=c,o[l]=0;else{const t=(this._accumulatedTime[l]-Math.floor(this._accumulatedTime[l]/C)*C)/C,r=Math.floor(this._accumulatedTime[l]/C);for(let i=0;i<r;i++)[n,u]=w(C/1e3,n,u,e.val,e.tension,e.friction,e.precision);const[c,d]=w(C/1e3,n,u,e.val,e.tension,e.friction,e.precision);s[l]=n+(c-n)*t,a[l]=u+(d-u)*t,i[l]=n,o[l]=u,this._accumulatedTime[l]-=r*C}}}this._timer=null,this._currentStyle=Object.assign({},s),this._currentVelocity=Object.assign({},a),this._lastIdealStyle=Object.assign({},i),this._lastIdealVelocity=Object.assign({},o),this._destroyed||(this.emit("frame",this.getCurrentStates()),this.animate())})))}start(){this._prevTime=E(),this._startedTime=E(),this.animate()}end(){this._ended||(this._ended=!0,this._currentStyle=this.getFinalStates(),this.emit("frame",this.getFinalStates()),this.emit("rest",this.getFinalStates())),this.destroy()}pause(){this._paused||(this._pausedTime=E(),this._paused=!0,this.emit("pause",this.getCurrentStates()),this.destroy(),this._destroyed=!1)}resume(){if(this._started&&this._paused){const e=E()-this._pausedTime;this._paused=!1,this._startedTime+=e,this._prevTime+=e,this._pausedTime=0,this.emit("resume",this.getCurrentStates()),this.animate()}}stop(){this.destroy(),this._stopped||(this._stopped=!0,this.emit("stop",this.getInitialStates()),this.initStates())}destroy(){cancelAnimationFrame(this._timer),clearTimeout(this._timer),this._timer=null,this._destroyed=!0}resetPlayStates(){this._started=!1,this._stopped=!1,this._ended=!1,this._paused=!1,this._destroyed=!1,this._timer=null,this._wasAnimating=!1,this._accumulatedTime={},this._startedTime=0,this._pausedTime=0}reset(){this.destroy(),this.initStates()}reverse(){this.destroy();const e=Object.assign({},this._props),[t,r]=[e.to,e.from];e.from=t,e.to=r,this._props=Object.assign({},e),this.initStates()}getCurrentStates(){return Object.assign({},this._currentStyle)}getInitialStates(){return Object.assign({},b(this._props.from))}getFinalStates(){return Object.assign({},b(this._props.to))}}function T(e,t,r){try{const n=function(e,t,r){if(e.sort(((e,t)=>e.percent-t.percent)),e[0].percent>t)return l.STROKE_DEFAULT;const n=e[e.length-1];if(n.percent<t)return I(n.color);for(const[i,o]of e.entries()){if(o.percent===t)return I(o.color);if(t>o.percent)continue;const n=e[i-1];return r?k({startColor:I(n.color),endColor:I(o.color),size:o.percent-n.percent-1},t-n.percent-1):I(n.color)}return}(e,t,r);if(0!==n.length)return n}catch(n){return}}function k(e,t){const{startColor:r,endColor:n,size:i}=e,o=r.split(""),s=n.split(""),a=[parseInt(`${o[1]}${o[2]}`,16),parseInt(`${s[1]}${s[2]}`,16)],c=[parseInt(`${o[3]}${o[4]}`,16),parseInt(`${s[3]}${s[4]}`,16)],l=[parseInt(`${o[5]}${o[6]}`,16),parseInt(`${s[5]}${s[6]}`,16)],u=[parseInt(`${o[7]}${o[8]}`,16),parseInt(`${s[7]}${s[8]}`,16)],d=(a[0]-a[1])/(i+1),h=(c[0]-c[1])/(i+1),p=(l[0]-l[1])/(i+1),f=(u[0]-u[1])/(i+1);function g(e){const t=Math.round(a[0]-d*(e+1)).toString(16),r=Math.round(c[0]-h*(e+1)).toString(16),n=Math.round(l[0]-p*(e+1)).toString(16),i=`${m(t)}${m(r)}${m(n)}`,o=Math.floor(f*(e+1)+u[1]).toString(16);return P.Hex(`#${i}`,o)}function m(e){return 1===e.length?`0${e}`:0===e.length?"00":e}if(void 0===t){const e=[r];for(let t=0;t<i;t+=1)e.push(g(t));return e}return g(t)}function I(e){return e=e.trim().toLowerCase(),j.hex.test(e)?P.Hex(e,void 0):j.hslA.test(e)?P.Hex(P.HslA(e),void 0):j.rgbA.test(e)?P.Hex(P.RgbA(e),void 0):j.semiDesignTokens.test(e)?-1!==D.ALONG.indexOf(e)?P.SemiDesignToken(e):-1!==D.SEQUENCE.indexOf(e)?P.SemiDesignToken(`${e}-5`):P.SemiDesignToken(`${e}`):void 0}const P={Hex:(e,t)=>8===(e=e.replace("#","")).length?`#${e}`:(6===e.length||3===e.length&&(e=e.split("").map((e=>e+e)).join("")),`#${e}${t||"ff"}`),SemiDesignToken(e){if("undefined"==typeof window)return;const t=getComputedStyle(document.body).getPropertyValue(`--semi-${e}`);if(""===t)return;const r=`rgba(${t}, 1)`;return P.RgbA(r)},HslA(e){const t=j.hslA.exec(e),r=parseInt(t[2]),n=parseInt(t[3])/100,i=parseInt(t[4])/100,o=t[5],s=(1-Math.abs(2*i-1))*n,a=s*(1-Math.abs(r/60%2-1)),c=i-s/2;let l=0,u=0,d=0;return 0<=r&&r<60?(l=s,u=a,d=0):60<=r&&r<120?(l=a,u=s,d=0):120<=r&&r<180?(l=0,u=s,d=a):180<=r&&r<240?(l=0,u=a,d=s):240<=r&&r<300?(l=a,u=0,d=s):300<=r&&r<360&&(l=s,u=0,d=a),l=Math.round(255*(l+c)).toString(16),u=Math.round(255*(u+c)).toString(16),d=Math.round(255*(d+c)).toString(16),P.utils.pAL(l,u,d,o)},RgbA(e){const t=j.rgbA.exec(e),r=parseInt(t[2],10).toString(16),n=parseInt(t[3],10).toString(16),i=parseInt(t[4],10).toString(16),o=t[5];return P.utils.pAL(r,n,i,o)},utils:{pAL:(e,t,r,n)=>(1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==r.length&&(r="0"+r),void 0!==n?(1==(n=Math.round(255*parseInt(n)).toString(16)).length&&(n="0"+n),"#"+e+t+r+n):"#"+e+t+r)}},j={hex:/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,hslA:/(hsl)a?\(\s*?(\d+),?\s*?(\d+)%,?\s*?(\d+)%,?\s*?\/?(\s*?[\d.]+)?\s*?\)/,rgbA:/(rgb)a?\(\s*?(\d+),?\s*?(\d+),?\s*?(\d+),?\s*?\/?(\s*?[\d.]+)?\s*?\)/,semiDesignTokens:/(\w+)?-?(\w+)-?(\d)?/},D={ALONG:["black","white"],SEQUENCE:["amber","blue","cyan","green","grey","indigo","light-blue","light-green","lime","orange","pink","purple","red","teal","violet","yellow"]};var A=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const R=c.PREFIX;class M extends n.Component{constructor(e){super(e),this._mounted=!0,this._mounted=!0,this.state={percentNumber:this.props.percent}}componentDidUpdate(e){if(isNaN(this.props.percent)||isNaN(e.percent))throw new Error("[Semi Progress]:percent can not be NaN");if(e.percent!==this.props.percent){if(!this.props.motion)return void this.setState({percentNumber:this.props.percent});this.animation&&this.animation.destroy&&this.animation.destroy(),this.animation=new x({from:{value:e.percent},to:{value:this.props.percent}},{easing:"linear",duration:300}),this.animation.on("frame",(e=>{if(!1===this._mounted)return;const t=parseInt(e.value);this.setState({percentNumber:t})})),this.animation.on("rest",(()=>{!1!==this._mounted&&this.setState({percentNumber:this.props.percent})})),this.animation.start()}}componentWillUnmount(){this.animation&&this.animation.destroy(),this._mounted=!1}renderCircleProgress(){const e=this.props,{strokeLinecap:t,style:r,className:i,strokeWidth:s,format:a,size:c,stroke:d,strokeGradient:h,showInfo:p,percent:f,orbitStroke:g,id:m}=e,y=A(e,["strokeLinecap","style","className","strokeWidth","format","size","stroke","strokeGradient","showInfo","percent","orbitStroke","id"]),v=this.props["aria-label"],b=this.props["aria-labelledby"],_=this.props["aria-valuetext"],{percentNumber:w}=this.state,S={wrapper:o()(`${R}-circle`,i),svg:o()(`${R}-circle-ring`),circle:o()(`${R}-circle-ring-inner`)},O=this.calcPercent(f),E=this.calcPercent(w);let C;C=this.props.width?this.props.width:c===l.DEFAULT_SIZE?72:24;const x=this.selectStroke(d,f,h),T=C/2,k=C/2,I=(C-s)/2,P=2*I*Math.PI,j=(1-O/100)*P,D=`${P} ${P}`,M=a(E);return n.createElement("div",Object.assign({id:m,className:S.wrapper,style:r,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":E,"aria-labelledby":b,"aria-label":v,"aria-valuetext":_},(0,u.Z)(y)),n.createElement("svg",{key:c,className:S.svg,height:C,width:C,"aria-hidden":!0},n.createElement("circle",{strokeDashoffset:0,strokeWidth:s,strokeDasharray:D,strokeLinecap:t,fill:"transparent",stroke:g,r:I,cx:k,cy:T,"aria-hidden":!0}),n.createElement("circle",{className:S.circle,strokeDashoffset:j,strokeWidth:s,strokeDasharray:D,strokeLinecap:t,fill:"transparent",stroke:x,r:I,cx:k,cy:T,"aria-hidden":!0})),p&&"small"!==c?n.createElement("span",{className:`${R}-circle-text`},M):null)}calcPercent(e){let t;return t=e>100?100:e<0?0:e,t}selectStroke(e,t,r){if("string"==typeof e)return e;const n=T(e,t,r);return void 0!==n?n:l.STROKE_DEFAULT}renderLineProgress(){const e=this.props,{className:t,style:r,stroke:i,strokeGradient:s,direction:a,format:c,showInfo:d,size:h,percent:p,orbitStroke:f,id:g}=e,m=A(e,["className","style","stroke","strokeGradient","direction","format","showInfo","size","percent","orbitStroke","id"]),y=this.props["aria-label"],v=this.props["aria-labelledby"],b=this.props["aria-valuetext"],{percentNumber:_}=this.state,w=o()(R,t,{[`${R}-horizontal`]:a===l.DEFAULT_DIRECTION,[`${R}-vertical`]:a!==l.DEFAULT_DIRECTION,[`${R}-large`]:"large"===h}),S=o()({[`${R}-track`]:!0}),O=o()(`${R}-track-inner`),E=this.calcPercent(p),C=this.calcPercent(_),x={background:this.selectStroke(i,p,s)};a===l.DEFAULT_DIRECTION?x.width=`${E}%`:x.height=`${E}%`;const T=c(C);return n.createElement("div",Object.assign({id:g,className:w,style:r,role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":E,"aria-labelledby":v,"aria-label":y,"aria-valuetext":b},(0,u.Z)(m)),n.createElement("div",{className:S,style:f?{backgroundColor:f}:{},"aria-hidden":!0},n.createElement("div",{className:O,style:x,"aria-hidden":!0})),d?n.createElement("div",{className:`${R}-line-text`},T):null)}render(){const{type:e}=this.props;return"line"===e?this.renderLineProgress():this.renderCircleProgress()}}M.propTypes={"aria-label":a().string,"aria-labelledby":a().string,"aria-valuetext":a().string,className:a().string,direction:a().oneOf(l.directions),format:a().oneOfType([a().func,a().node]),id:a().string,motion:a().oneOfType([a().bool,a().func,a().object]),orbitStroke:a().string,percent:a().number,scale:a().number,showInfo:a().bool,size:a().oneOf(l.sizes),stroke:a().oneOfType([a().string,a().arrayOf(a().shape({percent:a().number,color:a().string}))]),strokeGradient:a().bool,strokeLinecap:a().oneOf(l.strokeLineCap),strokeWidth:a().number,style:a().object,type:a().oneOf(l.types),width:a().number},M.defaultProps={className:"",direction:l.DEFAULT_DIRECTION,format:e=>`${e}%`,motion:!0,orbitStroke:"var(--semi-color-fill-0)",percent:0,showInfo:!1,size:l.DEFAULT_SIZE,stroke:l.STROKE_DEFAULT,strokeGradient:!1,strokeLinecap:l.DEFAULT_LINECAP,strokeWidth:4,style:{},type:l.DEFAULT_TYPE};const N=M},82826:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(50959),i=r(10422),o=r(41916),s=r.n(o),a=r(76232),c=r(73023);class l extends a.Z{constructor(e){super(e),this.getElement=()=>{try{return(0,i.findDOMNode)(this.childNode||this)}catch(e){return null}},this.mergeRef=(e,t)=>{this.childNode=t,"function"==typeof e?e(t):"object"==typeof e&&e&&"current"in e&&(e.current=t)},this.observer=new c.Z(e.onResize)}componentDidMount(){this.observeElement()}componentDidUpdate(e){this.observeElement(this.props.observeParent!==e.observeParent)}componentWillUnmount(){this.observer&&(this.observer.disconnect(),this.observer=null,this.element=null)}observeElement(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this.getElement();this.observer||(this.observer=new c.Z(this.props.onResize)),t&&t instanceof Element?(t!==this.element||e)&&(this.observer.disconnect(),this.element=t,this.observer.observe(t),this.props.observeParent&&t.parentNode&&t.parentNode.ownerDocument&&t.parentNode.ownerDocument.defaultView&&t.parentNode instanceof t.parentNode.ownerDocument.defaultView.HTMLElement&&(this._parentNode=t.parentNode,this.observer.observe(this._parentNode))):this.observer.disconnect()}render(){const e=n.Children.only(this.props.children),{ref:t}=e;return n.cloneElement(e,{ref:e=>this.mergeRef(t,e)})}}l.propTypes={onResize:s().func,observeParent:s().bool},l.defaultProps={onResize:()=>{},observeParent:!1}},37953:(e,t,r)=>{"use strict";r.d(t,{Z:()=>nt});var n=r(88987),i=r(69708),o=r(54029),s=r(55883),a=r(83873),c=r(50279),l=r(50959),u=r(10422),d=r(84875),h=r.n(d),p=r(41916),f=r.n(p),g=r(25691),m=r(93639),y=r(1714),v=r(75108),b=r(32890),_=r(86475),w=r(37375),S=r(19608),O=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};class E extends y.Z{constructor(e){super(Object.assign({},e)),this._keydownHandler=null}init(){this._setDropdownWidth();const e=this.getProp("defaultOpen"),t=this.getProp("open"),r=this._collectOptions();this._setDefaultSelection(r),(e||t)&&this.open(void 0,r);this.getProp("autoFocus")&&this.focus()}focus(){const e=this._isFilterable(),t=this._isMultiple();this._adapter.updateFocusState(!0),this._adapter.setIsFocusInContainer(!1),e&&t?this.focusInput():e&&!t?this.toggle2SearchInput(!0):this._focusTrigger()}_focusTrigger(){this._adapter.focusTrigger()}destroy(){this._adapter.unregisterClickOutsideHandler()}_setDropdownWidth(){const{style:e,dropdownMatchSelectWidth:t}=this.getProps();let r;t&&(r=e&&(0,i.Z)(e.width)||e&&(0,a.Z)(e.width)&&!e.width.includes("%")?e.width:this._adapter.getTriggerWidth(),this._adapter.setOptionWrapperWidth(r))}_collectOptions(){const e=this._adapter.getOptionsFromChildren();return this._adapter.updateOptions(e),this._adapter.rePositionDropdown(),e}_setDefaultSelection(e){let{value:t}=this.getProps();const{defaultValue:r}=this.getProps();this._isControlledComponent()||(t=r),this._update(t,e)}handleOptionListChange(){const e=this._collectOptions(),{selections:t}=this.getStates();this.updateOptionsActiveStatus(t,e);const{defaultActiveFirstOption:r}=this.getProps();r&&this._adapter.updateFocusIndex(0)}handleOptionListChangeHadDefaultValue(){const e=this.getState("selections");let t;const{onChangeWithObject:r}=this.getProps(),n=this._isMultiple();switch(!0){case n&&Boolean(e.size):try{t=[...e].map((e=>r?e[1]:e[1].value))}catch(o){t=[]}break;case n&&!e.size:t=[];break;case!n&&Boolean(e.size):try{t=r?[...e][0][1]:[...e][0][1].value}catch(o){}case!n&&!e.size:}const i=this._adapter.getOptionsFromChildren();this._update(t,i)}handleValueChange(e){const{allowCreate:t,autoClearSearchValue:r,remote:n}=this.getProps(),{inputValue:i}=this.getStates();let o;t&&this._isControlledComponent()?(o=this.getState("options"),o.forEach((e=>e._show=!0))):o=this._adapter.getOptionsFromChildren(),this._adapter.rePositionDropdown(),this._isFilterable()&&!r&&i&&!n&&(o=this._filterOption(o,i)),this._update(e,o)}_update(e,t){let r;this._isMultiple()?(r=this._updateMultiple(e,t),this.updateOverflowItemCount(r.size)):r=this._updateSingle(e,t),this._adapter.updateSelection(r),this.updateOptionsActiveStatus(r,t)}_updateSingle(e,t){const r=new Map,{onChangeWithObject:n}=this.getProps(),i=n&&void 0!==e?e.value:e,o=t.filter((e=>e.value===i)),s=!o.length&&null!=i;if(o.length){const e=o[0],t=Object.assign({},e);r.set(t.label,t)}else if(s){let t={value:e,label:e,_notExist:!0,_scrollIndex:-1};n&&(t=Object.assign(Object.assign({},e),{_notExist:!0,_scrollIndex:-1})),r.set(t.label,t)}return r}_updateMultiple(e,t){const r=this.getState("selections");let n=[];const i=Array.isArray(e);this.checkMultipleProps(),r.size&&(n=[...r].map((e=>e[1])));const o=new Map;let s=e;const{onChangeWithObject:a}=this.getProps();return a&&i&&(s=e.map((e=>e.value))),i&&s.length&&s.forEach(((r,i)=>{const s=t.findIndex((e=>e.value===r));if(-1!==s)o.set(t[s].label,t[s]);else{const t=n.findIndex((e=>e.value===r));if(-1!==t){const e=n[t];o.set(e.label,e)}else{let t={value:r,label:r,_notExist:!0};a&&(t=Object.assign(Object.assign({},e[i]),{_notExist:!0})),o.set(t.label,Object.assign(Object.assign({},t),{_scrollIndex:-1}))}}})),o}_isMultiple(){return this.getProp("multiple")}_isDisabled(){return this.getProp("disabled")}_isFilterable(){return Boolean(this.getProp("filter"))}handleClick(e){const{clickToHide:t}=this.getProps(),{isOpen:r}=this.getStates();this._isDisabled()||(r?r&&t?this.close(e):r&&!t&&this.focusInput():(this.open(),this._notifyFocus(e)))}open(e,t){const r=this._isFilterable(),n=t||this.getState("options");if(r){const e="",t=this._filterOption(n,e).filter((e=>!e._inputCreateOnly));this._adapter.updateOptions(t),this.toggle2SearchInput(!0)}else this._adapter.updateFocusState(!0);this._adapter.openMenu(),this._setDropdownWidth(),this._adapter.notifyDropdownVisibleChange(!0),this.bindKeyBoardEvent(),this._adapter.registerClickOutsideHandler((e=>{this.close(e),this._notifyBlur(e),this._adapter.updateFocusState(!1)}))}toggle2SearchInput(e){e?this._adapter.toggleInputShow(e,(()=>this.focusInput())):this._adapter.toggleInputShow(e,(()=>{}))}close(e,t){this._adapter.closeMenu(),this._adapter.notifyDropdownVisibleChange(!1),this._adapter.setIsFocusInContainer(!1),this._adapter.unregisterClickOutsideHandler();const r=this._isFilterable();r&&this.toggle2SearchInput(!1),this._adapter.once("popoverClose",(()=>{r&&this.clearInput(e),t&&t()}))}onSelect(e,t,r){if(this._isDisabled())return;e._inputCreateOnly&&this._adapter.notifyCreate(e);this._isMultiple()?this._handleMultipleSelect(e,r):(this._handleSingleSelect(e,r),this._focusTrigger()),this._adapter.updateFocusIndex(t)}_handleSingleSelect(e,t){var{value:r,label:n}=e,i=O(e,["value","label"]);const o=(new Map).set(n,Object.assign({value:r,label:n},i));this._notifySelect(r,Object.assign({value:r,label:n},i)),this._isControlledComponent()?this.close(t,(()=>{this._notifyChange(o)})):(this._adapter.updateSelection(o),this._notifyChange(o),this.close(t,(()=>{this.updateOptionsActiveStatus(o)})))}_handleMultipleSelect(e,t){var{value:r,label:n}=e,i=O(e,["value","label"]);const o=this._adapter.getMaxLimit(),s=this._adapter.getSelections(),{autoClearSearchValue:a}=this.getProps();if(s.has(n))this._notifyDeselect(r,Object.assign({value:r,label:n},i)),s.delete(n);else{if(o&&s.size===o)return void this._adapter.notifyMaxLimit(Object.assign({value:r,label:n},(0,m.Z)(i,"_scrollIndex")));this._notifySelect(r,Object.assign({value:r,label:n},i)),s.set(n,Object.assign({value:r,label:n},i))}if(this._isControlledComponent())this._notifyChange(s),this._isFilterable()&&(a&&this.clearInput(t),this.focusInput());else{this._adapter.updateSelection(s),this.updateOverflowItemCount(s.size),this._adapter.rePositionDropdown();let{options:e}=this.getStates();if(this._isFilterable()){if(a){this.clearInput(t);const r="";e=this._filterOption(e,r)}this.focusInput()}this.updateOptionsActiveStatus(s,e),this._notifyChange(s)}}clearSelected(){const e=new Map;this._isControlledComponent()?(this._notifyChange(e),this._adapter.notifyClear()):(this._adapter.updateSelection(e),this.updateOptionsActiveStatus(e),this._notifyChange(e),this._adapter.notifyClear());const{isOpen:t}=this.getStates();t&&this._adapter.rePositionDropdown()}updateOptionsActiveStatus(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getState("options");const{allowCreate:r}=this.getProps(),n=t.map((t=>(e.has(t.label)?(t._selected=!0,r&&delete t._inputCreateOnly):(t._inputCreateOnly&&(t._show=!1),t._selected=!1),t)));this._adapter.updateOptions(n)}removeTag(e){const t=this._adapter.getSelections();t.delete(e.label),this._isControlledComponent()?(this._notifyDeselect(e.value,e),this._notifyChange(t)):(this._notifyDeselect(e.value,e),this._adapter.updateSelection(t),this.updateOverflowItemCount(t.size),this.updateOptionsActiveStatus(t),this._adapter.rePositionDropdown(),this._notifyChange(t))}clearInput(e){const{inputValue:t}=this.getStates();if(""!==t){this._adapter.updateInputValue(""),this._adapter.notifySearch("",e);const{options:t}=this.getStates(),{remote:r}=this.getProps();let n=t;r||(n=this._filterOption(t,"")),this._adapter.updateOptions(n)}}focusInput(){this._adapter.focusInput(),this._adapter.updateFocusState(!0),this._adapter.setIsFocusInContainer(!1)}handleInputChange(e,t){this._adapter.updateInputValue(e);const{options:r,isOpen:n}=this.getStates(),{allowCreate:i,remote:o}=this.getProps();let s=r;o||(s=this._filterOption(r,e)),s=this._createOptionByInput(i,s,e),this._adapter.updateOptions(s),this._adapter.notifySearch(e,t),this._isMultiple()&&this._adapter.rePositionDropdown()}_filterOption(e,t){const r=this.getProp("filter");if(!r)return e;if("boolean"==typeof r&&r){const r=t.toLowerCase();return e.map((e=>{const t=e.label.toString().toLowerCase(),n=e._parentGroup&&e._parentGroup.label,i=t.includes(r),o=(0,a.Z)(n)&&n.toLowerCase().includes(r);return e._show=!(!i&&!o),e}))}return"function"==typeof r?e.map((e=>(r(t,e)?e._show=!0:e._show=!1,e))):void 0}_createOptionByInput(e,t,r){if(e)if(r){const e={_show:!0,_selected:!1,value:r,label:r,_inputCreateOnly:!0};let n=-1,i=-1;t.forEach(((e,t)=>{(e._show||e._inputCreateOnly)&&(e.label===r&&(i=t),e._inputCreateOnly&&(n=t,e.value=r,e.label=r,e._show=!0))})),-1===n&&-1===i&&t.push(e),-1!==i&&(t=t.filter((e=>!e._inputCreateOnly)))}else t=t.filter((e=>!e._inputCreateOnly));return t}bindKeyBoardEvent(){this._keydownHandler=e=>{this._handleKeyDown(e)},this._adapter.registerKeyDown(this._keydownHandler)}unBindKeyBoardEvent(){this._keydownHandler&&this._adapter.unregisterKeyDown()}_handleKeyDown(e){const t=e.keyCode,{loading:r,filter:n,multiple:i,disabled:o}=this.getProps(),{isOpen:s}=this.getStates();if(!r&&!o)switch(t){case v.ZP.UP:e.preventDefault(),this._handleArrowKeyDown(-1);break;case v.ZP.DOWN:e.preventDefault(),this._handleArrowKeyDown(1);break;case v.ZP.BACKSPACE:this._handleBackspaceKeyDown();break;case v.ZP.ENTER:(0,S.Jt)(e),this._handleEnterKeyDown(e);break;case v.ZP.ESC:s&&this.close(e),n&&!i&&this._focusTrigger();break;case v.ZP.TAB:this._handleTabKeyDown(e)}}handleContainerKeyDown(e){const t=e.keyCode,{isOpen:r}=this.getStates();if(t===v.ZP.TAB)r&&this._handleTabKeyDown(e)}_getEnableFocusIndex(e){const{focusIndex:t,options:r}=this.getStates(),n=r.filter((e=>e._show)),i=n.length;let o=t+e;if(o<0&&(o=i-1),o>=i&&(o=0),e>0){let e=-1;for(let t=0;t<n.length;t++){if(!n[t].disabled&&(e=t),e>=o)break}o=e}else{let e=n.length;for(let t=i-1;t>=0;t--){if(!n[t].disabled&&(e=t),e<=o)break}o=e}this._adapter.updateFocusIndex(o),this._adapter.updateScrollTop(o)}_handleArrowKeyDown(e){const{isOpen:t}=this.getStates();t?this._getEnableFocusIndex(e):this.open()}_handleTabKeyDown(e){const{isOpen:t}=this.getStates();if(this._adapter.updateFocusState(!1),t){const t=this._adapter.getContainer(),r=this._adapter.getFocusableElements(t);r.length>0?e.shiftKey?this._handlePanelOpenShiftTabKeyDown(r,e):this._handlePanelOpenTabKeyDown(r,e):(this.close(e),this._notifyBlur(e))}else this._notifyBlur(e)}_handlePanelOpenTabKeyDown(e,t){const r=this._adapter.getActiveElement();this._adapter.getIsFocusInContainer()?r===e[e.length-1]&&(this._focusTrigger(),this.close(t),(0,S.Jt)(t)):(e[0].focus(),this._adapter.setIsFocusInContainer(!0),(0,S.Jt)(t))}_handlePanelOpenShiftTabKeyDown(e,t){const r=this._adapter.getActiveElement();this._adapter.getIsFocusInContainer()?r===e[0]&&(this._focusTrigger(),this._adapter.setIsFocusInContainer(!1),(0,S.Jt)(t)):(this.close(t),this._notifyBlur(t))}_handleEnterKeyDown(e){const{isOpen:t,options:r,focusIndex:n}=this.getStates();if(t)if(-1!==n){const t=r.filter((e=>e._show)),{length:i}=t;if(i<=n)return;if(t&&i){const r=t[n];if(r.disabled)return;this.onSelect(r,n,e)}}else this.close(e);else this.open()}_handleBackspaceKeyDown(){if(this._isMultiple()){const e=this._adapter.getSelections(),{inputValue:t}=this.getStates(),r=e.size;if(r&&!t){const t=[...e.keys()];let n=r-1,i=t[n],o=e.get(i),s=!1;if(o.disabled&&0===n)return;for(;o.disabled&&0!==n;)n-=1,i=t[n],o=e.get(i),0==n&&o.disabled&&(s=!0);s||this.removeTag(o)}}}_notifyChange(e){const{onChangeWithObject:t}=this.getProps(),r=this.getState("selections");let n;const i=[...e.values()],o=this._isMultiple();if(this._diffSelections(e,r,o))switch(!0){case t:this._notifyChangeWithObject(e);break;case!t&&!o:n=i.length?i[0].value:void 0,this._adapter.notifyChange(n);break;case!t&&o:n=i.length?i.map((e=>e.value)):[],this._adapter.notifyChange(n)}}_removeInternalKey(e){let t=Object.assign({},e);return delete t._parentGroup,delete t._show,delete t._selected,delete t._scrollIndex,delete t._keyInJsx,"_keyInOptionList"in t&&(t.key=t._keyInOptionList,delete t._keyInOptionList),t}_notifySelect(e,t){const r=this._removeInternalKey(t);this._adapter.notifySelect(e,r)}_notifyDeselect(e,t){const r=this._removeInternalKey(t);this._adapter.notifyDeselect(e,r)}_diffSelections(e,t,r){let n=!0;if(!r){const r=[...e.values()],i=[...t.values()],o=r[0]?r[0].label:r[0],s=i[0]?i[0].label:i[0];n=!(0,c.Z)(o,s)}return n}_notifyChangeWithObject(e){this.getState("selections");const t=[];for(const r of e.entries()){let e=Object.assign({label:r[0]},r[1]);e=this._removeInternalKey(e),t.push(e)}this._isMultiple()?this._adapter.notifyChange(t):this._adapter.notifyChange(t[0])}_notifyBlur(e){this._adapter.notifyBlur(e)}_notifyFocus(e){this._adapter.notifyFocus(e)}handleMouseEnter(e){this._adapter.updateHovering(!0),this._adapter.notifyMouseEnter(e)}handleMouseLeave(e){this._adapter.updateHovering(!1),this._adapter.notifyMouseLeave(e)}handleClearClick(e){const{filter:t}=this.getProps();t&&this.clearInput(e),this.clearSelected(),e.stopPropagation()}handleKeyPress(e){e&&e.key===v.q7&&this.handleClick(e)}handleClearBtnEnterPress(e){(0,w.Z)(e)&&this.handleClearClick(e)}handleOptionMouseEnter(e){this._adapter.updateFocusIndex(e)}handleListScroll(e){this._adapter.notifyListScroll(e)}handleTriggerFocus(e){this.bindKeyBoardEvent(),this._adapter.setIsFocusInContainer(!1)}handleTriggerBlur(e){const{filter:t,autoFocus:r}=this.getProps(),{isOpen:n,isFocus:i}=this.getStates();i&&!n&&(this._notifyBlur(e),this._adapter.updateFocusState(!1))}handleInputBlur(e){const{filter:t,autoFocus:r}=this.getProps(),n=this._isMultiple();r&&t&&!n&&this.toggle2SearchInput(!1)}selectAll(){const{options:e}=this.getStates(),{onChangeWithObject:t}=this.getProps();let r=[];this._isMultiple()?(r=t?e:e.map((e=>e.value)),this.handleValueChange(r),this._adapter.notifyChange(r)):console.warn("[Semi Select]: It seems that you have called the selectAll method in the single-selection Select.\n                Please note that this is not a legal way to use it")}checkMultipleProps(e){if(this._isMultiple()){const t=e||this.getProps(),{defaultValue:r,value:n}=t,i=n||r;(0,_.Z)(i)||Array.isArray(i)||(0,b.Z)(!0,"[Semi Select] defaultValue/value should be array type in multiple mode")}}updateScrollTop(){this._adapter.updateScrollTop()}updateOverflowItemCount(e,t){const{maxTagCount:r,ellipsisTrigger:n}=this.getProps();n&&(t?this._adapter.updateOverflowItemCount(t):"number"==typeof r&&(e-r>0?this._adapter.updateOverflowItemCount(e-r):this._adapter.updateOverflowItemCount(0)))}updateIsFullTags(){const{isFullTags:e}=this.getStates();e||this._adapter.setState({isFullTags:!0})}handlePopoverClose(){this._adapter.emit("popoverClose")}handleSlotMouseEnter(){this._adapter.updateFocusIndex(-1)}}var C=r(82345);var x=r(58706);const T={PREFIX:`${C.T}-select`,PREFIX_OPTION:`${C.T}-select-option`,PREFIX_GROUP:`${C.T}-select-group`},k={SIZE_SET:["small","large","default"],POSITION_SET:x.j2.POSITION_SET,MODE_SELECT:"select",MODE_AUTOCOMPLETE:"autoComplete",STATUS:["default","error","warning","success"]},I=270;var P=r(76232),j=r(40996),D=r(77860),A=r(21797);const R=D.U.PREFIX,M=D.j.TAG_SIZE,N=D.j.AVATAR_SHAPE;class F extends l.PureComponent{renderNTag(e,t){const{size:r,showPopover:n,popoverProps:i,onPlusNMouseEnter:o}=this.props;let s=l.createElement(j.Z,{closable:!1,size:r,color:"grey",style:{backgroundColor:"transparent"},key:"_+n",onMouseEnter:o},"+",e);return n&&(s=l.createElement(A.Z,Object.assign({showArrow:!0,content:t,trigger:"hover",position:"top",autoAdjustOverflow:!0,className:`${R}-rest-group-popover`},i,{key:"_+n_Popover"}),s)),s}renderMergeTags(e){const{maxTagCount:t,tagList:r,restCount:n}=this.props,i=n||r.length-t;let o=e;const s=e.slice(0,t),a=e.slice(t);let c=null;return i>0&&(c=this.renderNTag(i,a),s.push(c),o=s),o}renderAllTags(){const{tagList:e,size:t,mode:r,avatarShape:n,onTagClose:i}=this.props;return e.map((e=>{if("custom"===r)return e;const o=Object.assign({},e);return o.size||(o.size=t),o.avatarShape||(o.avatarShape=n),o.tagKey||("string"==typeof o.children||"number"==typeof o.children?o.tagKey=o.children:o.tagKey=Math.random()),l.createElement(j.Z,Object.assign({},o,{key:o.tagKey,onClose:(e,t,r)=>{o.onClose&&o.onClose(e,t,r),i&&i(e,t,r)}}))}))}render(){const{style:e,className:t,maxTagCount:r,size:n}=this.props,i=h()({[`${R}-group`]:!0,[`${R}-group-max`]:r,[`${R}-group-small`]:"small"===n,[`${R}-group-large`]:"large"===n},t),o=this.renderAllTags(),s=void 0===r?o:this.renderMergeTags(o);return l.createElement("div",{style:e,className:i},s)}}F.defaultProps={style:{},className:"",size:M[0],avatarShape:"square",onTagClose:()=>{},onPlusNMouseEnter:()=>{}},F.propTypes={children:f().node,style:f().object,className:f().string,maxTagCount:f().number,restCount:f().number,tagList:f().array,size:f().oneOf(M),mode:f().string,onTagClose:f().func,showPopover:f().bool,popoverProps:f().object,avatarShape:f().oneOf(N)};const z={PREFIX:C.T+"-overflow-list"},L={COLLAPSE:"collapse",SCROLL:"scroll"},Z={START:"start",END:"end"},B={BOUNDARY_SET:Object.values(Z),POSITION_SET:["vertical","horizontal"],MODE_SET:Object.values(L),MODE_MAP:L,BOUNDARY_MAP:Z,OVERFLOW_DIR:{NONE:0,GROW:1,SHRINK:2}},U=4;var $=r(82826),G=r(15943),H=r(50840);class V extends l.PureComponent{componentDidMount(){const{items:e}=this.props;this.cachedKeys=Object.keys(e);const{root:t,threshold:r,rootMargin:n,option:i,onIntersect:o}=this.props;this.observer=new IntersectionObserver(o,Object.assign({root:t,threshold:r,rootMargin:n},i)),this.observeElement()}componentDidUpdate(){const{items:e}=this.props,t=Object.keys(e);(0,c.Z)(this.cachedKeys,t)||(this.observeElement(!0),this.cachedKeys=t)}componentWillUnmount(){this.observer&&(this.observer.disconnect(),this.observer=null)}observeElement(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{items:t}=this.props;(0,G.Z)(t)?this.observer.disconnect():(e&&this.observer.disconnect(),Object.keys(t).forEach((e=>{const r=t[e];r&&(0,H.Z)(r)&&this.observer.observe(r)})))}render(){const{children:e}=this.props;return e}}V.propTypes={onIntersect:f().func,option:f().object,root:f().any,threshold:f().number,rootMargin:f().string,items:f().object},V.defaultProps={onIntersect:()=>{},threshold:.75,rootMargin:"0px",option:{},items:{}};var K=r(54834);const W=B.BOUNDARY_MAP;class q extends y.Z{constructor(e){super(Object.assign({},e)),this.previousY=void 0,this.isScrollMode=()=>{const{renderMode:e}=this.getProps();return"scroll"===e},this.getReversedItems=()=>{const{items:e}=this.getProps();return(0,K.Z)(e).reverse()}}getOverflowItem(){const{items:e}=this.getProps(),{visibleState:t,overflow:r}=this.getStates();if(!this.isScrollMode())return r;const n=e.map((e=>{let{key:r}=e;return Boolean(t.get(r))})),i=n.indexOf(!0),o=n.lastIndexOf(!0),s=[];return s[0]=i>=0?e.slice(0,i):[],s[1]=o>=0?e.slice(o+1,e.length):e,s}handleIntersect(e){const t=(0,K.Z)(this.getState("visibleState")),r={};e.forEach((e=>{const n=(0,o.Z)(e,"target.dataset.scrollkey"),i=e.isIntersecting;r[n]=e,t.set(n,i)}));let n=!1;for(const o of t.values())if(o){n=!0;break}const i=n,[s]=e,a=s.boundingClientRect.y;i||void 0===this.previousY||a===this.previousY?(this.previousY=a,this._adapter.updateVisibleState(t),this._adapter.notifyIntersect(r)):this.previousY=a}handleCollapseOverflow(){const{minVisibleItems:e,collapseFrom:t}=this.getProps(),{overflowWidth:r,containerWidth:n,pivot:i,overflowStatus:o}=this.getStates(),{items:s,onOverflow:a}=this.getProps();let c=r,l=0,u=!1;for(const d of this._adapter.getItemSizeMap().values()){if(c+=d,c>n){u=!0;break}if(l===s.length-1){this._adapter.updateStates({overflowStatus:"normal",pivot:s.length-1,visible:s,overflow:[]});break}l++}if(u){const r=Math.max(e,l),n=t===W.START,o=n?this.getReversedItems().slice(0,r).reverse():s.slice(0,r),c=n?this.getReversedItems().slice(r).reverse():s.slice(r);return this._adapter.updateStates({overflowStatus:"overflowed",pivot:r,visible:o,overflow:c}),void(i!==r&&a(c))}}}const X=q;var J=r(43503);const Y=z.PREFIX,Q=B.BOUNDARY_MAP,ee=B.OVERFLOW_DIR,te=B.MODE_MAP;class re extends P.Z{constructor(e){var t;super(e),t=this,this.scroller=null,this.spacer=null,this.isScrollMode=()=>{const{renderMode:e}=this.props;return e===te.SCROLL},this.resize=function(){var e;const r=null===(e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0])||void 0===e?void 0:e.target.clientWidth;t.setState({containerWidth:r,overflowStatus:"calculating"})},this.reintersect=e=>{this.foundation.handleIntersect(e)},this.mergeRef=(e,t,r)=>{this.itemRefs[r]=t,"function"==typeof e?e(t):"object"==typeof e&&e&&"current"in e&&(e.current=t)},this.renderOverflow=()=>{const e=this.foundation.getOverflowItem();return this.props.overflowRenderer(e)},this.getItemKey=(e,t)=>{const{itemKey:r}=this.props;return(0,n.Z)(r)?r(e):(0,o.Z)(e,r||"key",t)},this.renderItemList=()=>{const{className:e,wrapperClassName:t,wrapperStyle:r,style:n,visibleItemRenderer:i,renderMode:o,collapseFrom:s}=this.props,{visible:a,overflowStatus:c}=this.state;let u=this.renderOverflow();if(!this.isScrollMode()&&(Array.isArray(u)&&(u=l.createElement(l.Fragment,null,u)),l.isValidElement(u))){const e=l.cloneElement(u);u=l.createElement($.Z,{onResize:e=>{let[t]=e;this.setState({overflowWidth:t.target.clientWidth,overflowStatus:"calculating"})}},l.createElement("div",{className:`${Y}-overflow`},e))}const d=o===te.SCROLL?[u[0],l.createElement("div",{className:h()(t,`${Y}-scroll-wrapper`),ref:e=>{this.scroller=e},style:Object.assign({},r),key:`${Y}-scroll-wrapper`},a.map(i).map((e=>{const{forwardRef:t,key:r}=e;return l.cloneElement(e,{ref:e=>this.mergeRef(t,e,r),"data-scrollkey":`${r}`,key:r})}))),u[1]]:[s===Q.START?u:null,a.map(((e,t)=>{const{key:r}=e,n=i(e,t),o=l.cloneElement(n);return l.createElement($.Z,{key:null!=r?r:t,onResize:r=>{let[n]=r;return this.onItemResize(n,e,t)}},l.createElement("div",{key:null!=r?r:t,className:`${Y}-item`},o))})),s===Q.END?u:null];return l.createElement("div",{className:h()(`${Y}`,e),style:Object.assign(Object.assign({},n),o===te.COLLAPSE?{maxWidth:"100%",visibility:"calculating"===c?"hidden":"visible"}:null)},...d)},this.onItemResize=(e,t,r)=>{const n=this.getItemKey(t,r),i=this.itemSizeMap.get(n);i?i!==e.target.clientWidth&&(this.itemSizeMap.set(n,e.target.clientWidth),this.setState({overflowStatus:"calculating"})):this.itemSizeMap.set(n,e.target.clientWidth);const{maxCount:o}=this.state;this.itemSizeMap.size===o&&this.setState({overflowStatus:"calculating"})},this.state={direction:ee.GROW,lastOverflowCount:0,overflow:[],visible:[],containerWidth:0,visibleState:new Map,itemSizeMap:new Map,overflowStatus:"calculating",pivot:-1,overflowWidth:0,maxCount:0},this.foundation=new X(this.adapter),this.previousWidths=new Map,this.itemRefs={},this.itemSizeMap=new Map}static getDerivedStateFromProps(e,t){const{prevProps:r}=t,n={};n.prevProps=e;const i=t=>!r&&t in e||r&&!(0,c.Z)(r[t],e[t]);if(i("items")||i("style")){if(n.direction=ee.GROW,n.lastOverflowCount=0,n.maxCount=0,e.renderMode===te.SCROLL)n.visible=e.items,n.overflow=[];else{let r=e.items.length;0!==Math.floor(t.containerWidth/U)&&(r=Math.min(r,Math.floor(t.containerWidth/U)));const i=e.collapseFrom===Q.START,o=i?(0,J.Xh)(e.items).reverse().slice(0,r):e.items.slice(0,r),s=i?(0,J.Xh)(e.items).reverse().slice(r):e.items.slice(r);n.visible=o,n.overflow=s,n.maxCount=r}n.pivot=-1,n.overflowStatus="calculating"}return n}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateVisibleState:e=>{this.setState({visibleState:e})},updateStates:e=>{this.setState(Object.assign({},e))},notifyIntersect:e=>{this.props.onIntersect&&this.props.onIntersect(e)},getItemSizeMap:()=>this.itemSizeMap})}componentDidUpdate(e,t){const r=e.items.map((e=>e.key)),n=this.props.items.map((e=>e.key));(0,c.Z)(r,n)||(this.itemRefs={},this.setState({visibleState:new Map}));const{overflow:i,containerWidth:o,visible:s,overflowStatus:a}=this.state;this.isScrollMode()||"calculating"!==a||this.foundation.handleCollapseOverflow()}render(){const e=this.renderItemList(),{renderMode:t}=this.props;return t===te.SCROLL?l.createElement(V,{onIntersect:this.reintersect,root:this.scroller,threshold:this.props.threshold,items:this.itemRefs},e):l.createElement($.Z,{onResize:this.resize},e)}}re.defaultProps={collapseFrom:"end",minVisibleItems:0,overflowRenderer:()=>null,renderMode:"collapse",threshold:.75,visibleItemRenderer:()=>null,onOverflow:()=>null},re.propTypes={className:f().string,collapseFrom:f().oneOf(B.BOUNDARY_SET),direction:f().oneOf(B.POSITION_SET),items:f().array,minVisibleItems:f().number,onIntersect:f().func,onOverflow:f().func,overflowRenderer:f().func,renderMode:f().oneOf(B.MODE_SET),style:f().object,threshold:f().number,visibleItemRenderer:f().func,wrapperClassName:f().string,wrapperStyle:f().object};const ne=re;var ie=r(56052);const oe={PREFIX:`${C.T}-space`},se=["start","end","center","baseline"],ae="loose",ce="medium",le="tight",ue=e=>{let t=[];return l.Children.forEach(e,(e=>{null!=e&&(Array.isArray(e)?t=t.concat(ue(e)):(0,l.isValidElement)(e)&&e.type&&"Symbol(react.fragment)"===e.type.toString()&&e.props?t=t.concat(ue(e.props.children)):t.push(e))})),t};var de=r(69624);const he=oe.PREFIX;class pe extends l.PureComponent{render(){const{children:e=null,style:t,className:r,spacing:n,wrap:o,align:s,vertical:c}=this.props,u=(!o||!c)&&o,d=Object.assign({},t);let p="",f="";(0,a.Z)(n)?(p=n,f=n):(0,i.Z)(n)?(d.rowGap=n,d.columnGap=n):(0,ie.Z)(n)&&((0,a.Z)(n[0])?p=n[0]:(0,i.Z)(n[0])&&(d.columnGap=`${n[0]}px`),(0,a.Z)(n[1])?f=n[1]:(0,i.Z)(n[1])&&(d.rowGap=`${n[1]}px`));const g=h()(he,r,{[`${he}-align-${s}`]:s,[`${he}-vertical`]:c,[`${he}-horizontal`]:!c,[`${he}-wrap`]:u,[`${he}-tight-horizontal`]:p===le,[`${he}-tight-vertical`]:f===le,[`${he}-medium-horizontal`]:p===ce,[`${he}-medium-vertical`]:f===ce,[`${he}-loose-horizontal`]:p===ae,[`${he}-loose-vertical`]:f===ae}),m=ue(e),y=(0,de.Z)(this.props);return l.createElement("div",Object.assign({},y,{className:g,style:d,"x-semi-prop":"children"}),m)}}pe.propTypes={wrap:f().bool,align:f().oneOf(se),vertical:f().bool,spacing:f().oneOfType([f().string,f().number,f().array]),children:f().node,style:f().object,className:f().string},pe.defaultProps={vertical:!1,wrap:!1,spacing:"tight",align:"center"};const fe=pe;var ge=r(81137),me=r(32006),ye=r(12236),ve=r(75733),be=r(60795),_e=r(32675),we=r(69110),Se=Number.isNaN||function(e){return"number"==typeof e&&e!=e};function Oe(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(n=e[r],i=t[r],!(n===i||Se(n)&&Se(i)))return!1;var n,i;return!0}const Ee=function(e,t){var r;void 0===t&&(t=Oe);var n,i=[],o=!1;return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return o&&r===this&&t(s,i)||(n=e.apply(this,s),o=!0,r=this,i=s),n}};var Ce="object"==typeof performance&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()};function xe(e){cancelAnimationFrame(e.id)}function Te(e,t){var r=Ce();var n={id:requestAnimationFrame((function i(){Ce()-r>=t?e.call(null):n.id=requestAnimationFrame(i)}))};return n}var ke=-1;function Ie(e){if(void 0===e&&(e=!1),-1===ke||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",document.body.appendChild(t),ke=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return ke}var Pe=null;function je(e){if(void 0===e&&(e=!1),null===Pe||e){var t=document.createElement("div"),r=t.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";var n=document.createElement("div"),i=n.style;return i.width="100px",i.height="100px",t.appendChild(n),document.body.appendChild(t),t.scrollLeft>0?Pe="positive-descending":(t.scrollLeft=1,Pe=0===t.scrollLeft?"negative":"positive-ascending"),document.body.removeChild(t),Pe}return Pe}var De=function(e,t){return e};function Ae(e){var t,r=e.getItemOffset,n=e.getEstimatedTotalSize,i=e.getItemSize,o=e.getOffsetForIndexAndAlignment,s=e.getStartIndexForOffset,a=e.getStopIndexForStartIndex,c=e.initInstanceProps,u=e.shouldResetStyleCacheOnItemSizeChange,d=e.validateProps;return t=function(e){function t(t){var n;return(n=e.call(this,t)||this)._instanceProps=c(n.props,(0,_e.Z)(n)),n._outerRef=void 0,n._resetIsScrollingTimeoutId=null,n.state={instance:(0,_e.Z)(n),isScrolling:!1,scrollDirection:"forward",scrollOffset:"number"==typeof n.props.initialScrollOffset?n.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},n._callOnItemsRendered=void 0,n._callOnItemsRendered=Ee((function(e,t,r,i){return n.props.onItemsRendered({overscanStartIndex:e,overscanStopIndex:t,visibleStartIndex:r,visibleStopIndex:i})})),n._callOnScroll=void 0,n._callOnScroll=Ee((function(e,t,r){return n.props.onScroll({scrollDirection:e,scrollOffset:t,scrollUpdateWasRequested:r})})),n._getItemStyle=void 0,n._getItemStyle=function(e){var t,o=n.props,s=o.direction,a=o.itemSize,c=o.layout,l=n._getItemStyleCache(u&&a,u&&c,u&&s);if(l.hasOwnProperty(e))t=l[e];else{var d=r(n.props,e,n._instanceProps),h=i(n.props,e,n._instanceProps),p="horizontal"===s||"horizontal"===c,f="rtl"===s,g=p?d:0;l[e]=t={position:"absolute",left:f?void 0:g,right:f?g:void 0,top:p?0:d,height:p?"100%":h,width:p?h:"100%"}}return t},n._getItemStyleCache=void 0,n._getItemStyleCache=Ee((function(e,t,r){return{}})),n._onScrollHorizontal=function(e){var t=e.currentTarget,r=t.clientWidth,i=t.scrollLeft,o=t.scrollWidth;n.setState((function(e){if(e.scrollOffset===i)return null;var t=n.props.direction,s=i;if("rtl"===t)switch(je()){case"negative":s=-i;break;case"positive-descending":s=o-r-i}return s=Math.max(0,Math.min(s,o-r)),{isScrolling:!0,scrollDirection:e.scrollOffset<i?"forward":"backward",scrollOffset:s,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._onScrollVertical=function(e){var t=e.currentTarget,r=t.clientHeight,i=t.scrollHeight,o=t.scrollTop;n.setState((function(e){if(e.scrollOffset===o)return null;var t=Math.max(0,Math.min(o,i-r));return{isScrolling:!0,scrollDirection:e.scrollOffset<t?"forward":"backward",scrollOffset:t,scrollUpdateWasRequested:!1}}),n._resetIsScrollingDebounced)},n._outerRefSetter=function(e){var t=n.props.outerRef;n._outerRef=e,"function"==typeof t?t(e):null!=t&&"object"==typeof t&&t.hasOwnProperty("current")&&(t.current=e)},n._resetIsScrollingDebounced=function(){null!==n._resetIsScrollingTimeoutId&&xe(n._resetIsScrollingTimeoutId),n._resetIsScrollingTimeoutId=Te(n._resetIsScrolling,150)},n._resetIsScrolling=function(){n._resetIsScrollingTimeoutId=null,n.setState({isScrolling:!1},(function(){n._getItemStyleCache(-1,null)}))},n}(0,we.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return Re(e,t),d(e),null};var h=t.prototype;return h.scrollTo=function(e){e=Math.max(0,e),this.setState((function(t){return t.scrollOffset===e?null:{scrollDirection:t.scrollOffset<e?"forward":"backward",scrollOffset:e,scrollUpdateWasRequested:!0}}),this._resetIsScrollingDebounced)},h.scrollToItem=function(e,t){void 0===t&&(t="auto");var r=this.props,n=r.itemCount,i=r.layout,s=this.state.scrollOffset;e=Math.max(0,Math.min(e,n-1));var a=0;if(this._outerRef){var c=this._outerRef;a="vertical"===i?c.scrollWidth>c.clientWidth?Ie():0:c.scrollHeight>c.clientHeight?Ie():0}this.scrollTo(o(this.props,e,t,s,this._instanceProps,a))},h.componentDidMount=function(){var e=this.props,t=e.direction,r=e.initialScrollOffset,n=e.layout;if("number"==typeof r&&null!=this._outerRef){var i=this._outerRef;"horizontal"===t||"horizontal"===n?i.scrollLeft=r:i.scrollTop=r}this._callPropsCallbacks()},h.componentDidUpdate=function(){var e=this.props,t=e.direction,r=e.layout,n=this.state,i=n.scrollOffset;if(n.scrollUpdateWasRequested&&null!=this._outerRef){var o=this._outerRef;if("horizontal"===t||"horizontal"===r)if("rtl"===t)switch(je()){case"negative":o.scrollLeft=-i;break;case"positive-ascending":o.scrollLeft=i;break;default:var s=o.clientWidth,a=o.scrollWidth;o.scrollLeft=a-s-i}else o.scrollLeft=i;else o.scrollTop=i}this._callPropsCallbacks()},h.componentWillUnmount=function(){null!==this._resetIsScrollingTimeoutId&&xe(this._resetIsScrollingTimeoutId)},h.render=function(){var e=this.props,t=e.children,r=e.className,i=e.direction,o=e.height,s=e.innerRef,a=e.innerElementType,c=e.innerTagName,u=e.itemCount,d=e.itemData,h=e.itemKey,p=void 0===h?De:h,f=e.layout,g=e.outerElementType,m=e.outerTagName,y=e.style,v=e.useIsScrolling,b=e.width,_=this.state.isScrolling,w="horizontal"===i||"horizontal"===f,S=w?this._onScrollHorizontal:this._onScrollVertical,O=this._getRangeToRender(),E=O[0],C=O[1],x=[];if(u>0)for(var T=E;T<=C;T++)x.push((0,l.createElement)(t,{data:d,key:p(T,d),index:T,isScrolling:v?_:void 0,style:this._getItemStyle(T)}));var k=n(this.props,this._instanceProps);return(0,l.createElement)(g||m||"div",{className:r,onScroll:S,ref:this._outerRefSetter,style:(0,be.Z)({position:"relative",height:o,width:b,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:i},y)},(0,l.createElement)(a||c||"div",{children:x,ref:s,style:{height:w?"100%":k,pointerEvents:_?"none":void 0,width:w?k:"100%"}}))},h._callPropsCallbacks=function(){if("function"==typeof this.props.onItemsRendered&&this.props.itemCount>0){var e=this._getRangeToRender(),t=e[0],r=e[1],n=e[2],i=e[3];this._callOnItemsRendered(t,r,n,i)}if("function"==typeof this.props.onScroll){var o=this.state,s=o.scrollDirection,a=o.scrollOffset,c=o.scrollUpdateWasRequested;this._callOnScroll(s,a,c)}},h._getRangeToRender=function(){var e=this.props,t=e.itemCount,r=e.overscanCount,n=this.state,i=n.isScrolling,o=n.scrollDirection,c=n.scrollOffset;if(0===t)return[0,0,0,0];var l=s(this.props,c,this._instanceProps),u=a(this.props,l,c,this._instanceProps),d=i&&"backward"!==o?1:Math.max(1,r),h=i&&"forward"!==o?1:Math.max(1,r);return[Math.max(0,l-d),Math.max(0,Math.min(t-1,u+h)),l,u]},t}(l.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var Re=function(e,t){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,t.instance},Me=Ae({getItemOffset:function(e,t){return t*e.itemSize},getItemSize:function(e,t){return e.itemSize},getEstimatedTotalSize:function(e){var t=e.itemCount;return e.itemSize*t},getOffsetForIndexAndAlignment:function(e,t,r,n,i,o){var s=e.direction,a=e.height,c=e.itemCount,l=e.itemSize,u=e.layout,d=e.width,h="horizontal"===s||"horizontal"===u?d:a,p=Math.max(0,c*l-h),f=Math.min(p,t*l),g=Math.max(0,t*l-h+l+o);switch("smart"===r&&(r=n>=g-h&&n<=f+h?"auto":"center"),r){case"start":return f;case"end":return g;case"center":var m=Math.round(g+(f-g)/2);return m<Math.ceil(h/2)?0:m>p+Math.floor(h/2)?p:m;default:return n>=g&&n<=f?n:n<g?g:f}},getStartIndexForOffset:function(e,t){var r=e.itemCount,n=e.itemSize;return Math.max(0,Math.min(r-1,Math.floor(t/n)))},getStopIndexForStartIndex:function(e,t,r){var n=e.direction,i=e.height,o=e.itemCount,s=e.itemSize,a=e.layout,c=e.width,l=t*s,u="horizontal"===n||"horizontal"===a?c:i,d=Math.ceil((u+r-l)/s);return Math.max(0,Math.min(o-1,t+d-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});var Ne=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const Fe=(e,t,r,n)=>{const i=e.props;if(!e||!i)return null;const o=Object.assign(Object.assign({value:i.value,label:i.label||i.children||i.value,_show:!0,_selected:!1,_scrollIndex:r},i),{_parentGroup:t});return o._keyInJsx=n||e.key,o},ze=e=>{let{index:t,data:r,style:n}=e;const{visibleOptions:i,renderOption:o}=r;return o(i[t],t,n)};var Le=r(55550),Ze=r(33831),Be=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};class Ue extends l.PureComponent{onClick(e,t){var{value:r,label:n,children:i}=e,o=Be(e,["value","label","children"]);const{props:s}=this;s.disabled||s.onSelect(Object.assign(Object.assign({},o),{value:r,label:n||i}),t)}renderOptionContent(e){let{config:t,children:r,inputValue:n,prefixCls:i}=e;return(0,a.Z)(r)&&n?(0,J.J2)(t):r}render(){const e=this.props,{children:t,disabled:r,value:n,selected:i,label:o,empty:s,emptyContent:c,onSelect:u,focused:d,showTick:p,className:f,style:g,onMouseEnter:m,prefixCls:y,renderOptionItem:v,inputValue:b,semiOptionId:_}=e,w=Be(e,["children","disabled","value","selected","label","empty","emptyContent","onSelect","focused","showTick","className","style","onMouseEnter","prefixCls","renderOptionItem","inputValue","semiOptionId"]),S=h()(y,{[`${y}-disabled`]:r,[`${y}-selected`]:i,[`${y}-focused`]:d,[`${y}-empty`]:s,[f]:f}),O=h()([`${y}-icon`]);if(s)return null===c?null:l.createElement(me.Z,{componentName:"Select"},(e=>l.createElement("div",{className:S,"x-semi-prop":"emptyContent"},c||e.emptyText)));if("function"==typeof v)return v(Object.assign({disabled:r,focused:d,selected:i,style:g,label:o,value:n,inputValue:b,onMouseEnter:e=>m(e),onClick:e=>this.onClick(Object.assign({value:n,label:o,children:t},w),e)},w));const E={searchWords:b,sourceString:t,option:{highlightClassName:`${y}-keyword`}};return l.createElement("div",{className:S,onClick:e=>{this.onClick(Object.assign({value:n,label:o,children:t},w),e)},onMouseEnter:e=>m&&m(e),role:"option",id:_,"aria-selected":i?"true":"false","aria-disabled":r?"true":"false",style:g},p?l.createElement("div",{className:O},l.createElement(Ze.Z,null)):null,(0,a.Z)(t)?l.createElement("div",{className:`${y}-text`},this.renderOptionContent({children:t,config:E,inputValue:b,prefixCls:y})):t)}}Ue.isSelectOption=!0,Ue.propTypes={children:f().node,disabled:f().bool,value:f().oneOfType([f().string,f().number]),selected:f().bool,label:f().node,empty:f().bool,emptyContent:f().node,onSelect:f().func,focused:f().bool,showTick:f().bool,className:f().string,style:f().object,onMouseEnter:f().func,prefixCls:f().string,renderOptionItem:f().func,inputValue:f().string},Ue.defaultProps={prefixCls:T.PREFIX_OPTION};const $e=Ue,Ge=T.PREFIX_GROUP;class He extends P.Z{render(){const{label:e,className:t,style:r}=this.props,n=h()(t,{[Ge]:!0});return e||"number"==typeof e?l.createElement("div",{className:n,style:r},e):null}}He.isSelectOptionGroup=!0,He.propTypes={children:f().oneOfType([f().array,f().node]),label:f().node,className:f().string,style:f().object};const Ve=He;var Ke=r(48611),We=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};class qe extends l.PureComponent{render(){const e=this.props,{triggerRender:t,componentName:r}=e,n=We(e,["triggerRender","componentName"]);return t(Object.assign({},n))}}qe.propTypes={triggerRender:f().func.isRequired,componentName:f().string,componentProps:f().object,value:f().any,inputValue:f().string,placeholder:f().oneOfType([f().string,f().array]),className:f().string,style:f().object};const Xe=qe;var Je=r(91890),Ye=r(4343),Qe=r(74777),et=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const tt=T.PREFIX;class rt extends P.Z{constructor(e){super(e),this.setOptionContainerEl=e=>this.optionContainerEl={current:e},this.handleInputChange=(e,t)=>this.foundation.handleInputChange(e,t),this.getTagItem=(e,t,r)=>{const{size:n,disabled:i}=this.props,o=e[0],{value:s}=e[1],a=e[1].disabled||i,c=(e,t)=>{t&&"function"==typeof t.preventDefault&&t.preventDefault(),this.foundation.removeTag({label:o,value:s})},{content:u,isRenderInTag:d}=r(e[1],{index:t,disabled:a,onClose:c}),h={disabled:a,closable:!a,onClose:c};return d?l.createElement(j.Z,Object.assign({},h,{color:"white",size:n||"large",key:s,tabIndex:-1}),u):l.createElement(l.Fragment,{key:s},u)},this.state={isOpen:!1,isFocus:!1,options:[],selections:new Map,dropdownMinWidth:null,optionKey:0,inputValue:"",showInput:!1,focusIndex:e.defaultActiveFirstOption?0:-1,keyboardEventSet:{},optionGroups:[],isHovering:!1,isFocusInContainer:!1,isFullTags:!1,overflowItemCount:0},this.selectOptionListID="",this.selectID="",this.virtualizeListRef=l.createRef(),this.inputRef=l.createRef(),this.triggerRef=l.createRef(),this.optionsRef=l.createRef(),this.optionContainerEl=l.createRef(),this.clickOutsideHandler=null,this.onSelect=this.onSelect.bind(this),this.onClear=this.onClear.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.renderOption=this.renderOption.bind(this),this.onKeyPress=this.onKeyPress.bind(this),this.eventManager=new ve.Z,this.foundation=new E(this.adapter)}get adapter(){var e=this;const t={registerKeyDown:e=>{const t={onKeyDown:e};this.setState({keyboardEventSet:t})},unregisterKeyDown:()=>{this.setState({keyboardEventSet:{}})},updateFocusIndex:e=>{this.setState({focusIndex:e})},scrollToFocusOption:()=>{}},r={updateInputValue:e=>{this.setState({inputValue:e})},toggleInputShow:(e,t)=>{this.setState({showInput:e},(()=>{t()}))},focusInput:()=>{const{preventScroll:e}=this.props;this.inputRef&&this.inputRef.current&&this.inputRef.current.focus({preventScroll:e})}},n={notifyMaxLimit:e=>this.props.onExceed(e),getMaxLimit:()=>this.props.max,registerClickOutsideHandler:e=>{const t=t=>{const r=this.optionsRef&&this.optionsRef.current,n=this.triggerRef&&this.triggerRef.current,i=u.findDOMNode(r);i&&!i.contains(t.target)&&n&&!n.contains(t.target)&&e(t)};this.clickOutsideHandler=t,document.addEventListener("mousedown",t,!1)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&(document.removeEventListener("mousedown",this.clickOutsideHandler,!1),this.clickOutsideHandler=null)},rePositionDropdown:()=>{let{optionKey:e}=this.state;e+=1,this.setState({optionKey:e})},notifyDeselect:(e,t)=>{delete t._parentGroup,this.props.onDeselect(e,t)}};return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},super.adapter),t),r),n),{on:(e,t)=>this.eventManager.on(e,t),off:e=>this.eventManager.off(e),once:(e,t)=>this.eventManager.once(e,t),emit:e=>this.eventManager.emit(e),getOptionsFromChildren:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props.children,r=[],n=[];const{optionList:i}=e.props;if(i&&i.length)n=i.map(((e,t)=>Object.assign({_show:!0,_selected:!1,_scrollIndex:t},e))),r[0]={children:n,label:""};else{const e=(e=>{let t=[],r=[];const n={label:"",children:[],_show:!1};let i=l.Children.toArray(e);i=i.filter((e=>e&&e.props));let o="",s=-1;return i.forEach((e=>{if(e.type.isSelectOption){o="option",s++;const t=Fe(e,void 0,s);n.children.push(t),r.push(t)}else if(e.type.isSelectOptionGroup){o="group";let n=e.props,{children:i}=n,a=Ne(n,["children"]),c=[];Array.isArray(i)?c=i.map((e=>e.key)):c.push(i.key),i=l.Children.toArray(i);const u=i.map(((t,r)=>{let n=t.key;return null===c[r]&&(n=e.key+""+t.key),s++,Fe(t,a,s,n)})),d=Object.assign(Object.assign({},e.props),{children:u,key:e.key});t.push(d),r=r.concat(u)}else(0,b.Z)(!0,"[Semi Select] The children of `Select` should be `Select.Option` or `Select.OptionGroup`")})),"option"===o&&(t=[n]),{optionGroups:t,options:r}})(t);r=e.optionGroups,n=e.options}return e.setState({optionGroups:r}),n},updateOptions:e=>{this.setState({options:e})},openMenu:()=>{this.setState({isOpen:!0})},closeMenu:()=>{this.setState({isOpen:!1})},getTriggerWidth:()=>{const e=this.triggerRef.current;return e&&e.getBoundingClientRect().width},setOptionWrapperWidth:e=>{this.setState({dropdownMinWidth:e})},updateSelection:e=>{this.setState({selections:e})},getSelections:()=>new Map(this.state.selections),notifyChange:e=>{this.props.onChange(e)},notifySelect:(e,t)=>{delete t._parentGroup,this.props.onSelect(e,t)},notifyDropdownVisibleChange:e=>{this.props.onDropdownVisibleChange(e)},notifySearch:(e,t)=>{this.props.onSearch(e,t)},notifyCreate:e=>{this.props.onCreate(e)},notifyMouseEnter:e=>{this.props.onMouseEnter(e)},notifyMouseLeave:e=>{this.props.onMouseLeave(e)},notifyFocus:e=>{this.props.onFocus(e)},notifyBlur:e=>{this.props.onBlur(e)},notifyClear:()=>{this.props.onClear()},notifyListScroll:e=>{this.props.onListScroll(e)},updateHovering:e=>{this.setState({isHovering:e})},updateFocusState:e=>{this.setState({isFocus:e})},updateOverflowItemCount:e=>{this.setState({overflowItemCount:e})},focusTrigger:()=>{try{const{preventScroll:e}=this.props;this.triggerRef.current.focus({preventScroll:e})}catch(e){}},getContainer:()=>this.optionContainerEl&&this.optionContainerEl.current,getFocusableElements:e=>(0,J.GO)(e),getActiveElement:()=>(0,J.vY)(),setIsFocusInContainer:e=>{this.setState({isFocusInContainer:e})},getIsFocusInContainer:()=>this.state.isFocusInContainer,updateScrollTop:e=>{let t=`.${tt}-option-selected`;void 0!==e&&(t=`.${tt}-option:nth-child(${e})`);let r=document.querySelector(`#${tt}-${this.selectOptionListID} ${t}`);if(Array.isArray(r)&&(r=r[0]),r){const e=r.parentNode;e.scrollTop=r.offsetTop-e.offsetTop-e.clientHeight/2+r.clientHeight/2}}})}componentDidMount(){this.foundation.init(),this.selectOptionListID=(0,Qe.Ms)(),this.selectID=this.props.id||(0,Qe.Ms)()}componentWillUnmount(){this.foundation.destroy()}componentDidUpdate(e,t){const r=l.Children.toArray(e.children).map((e=>e.key)),n=l.Children.toArray(this.props.children).map((e=>e.key));let i=!1;(0,c.Z)(r,n)&&(0,c.Z)(e.optionList,this.props.optionList)||(i=!0,this.foundation.handleOptionListChange()),(0,c.Z)(this.props.value,e.value)&&!i||("value"in this.props?this.foundation.handleValueChange(this.props.value):this.foundation.handleOptionListChangeHadDefaultValue())}renderInput(){const{size:e,multiple:t,disabled:r,inputProps:n,filter:i}=this.props,s=(0,o.Z)(n,"className"),a=h()(`${tt}-input`,{[`${tt}-input-single`]:!t,[`${tt}-input-multiple`]:t},s),{inputValue:c,focusIndex:u}=this.state,d=Object.assign({value:c,disabled:r,className:a,onChange:this.handleInputChange},n);let p={};return t&&(p={width:c?16*c.length+"px":"2px"},d.style=p),l.createElement(Le.Z,Object.assign({ref:this.inputRef,size:e,"aria-activedescendant":-1!==u?`${this.selectID}-option-${u}`:"",onFocus:e=>{t&&Boolean(i)&&this.setState({isFocus:!0}),e.stopPropagation()},onBlur:e=>this.foundation.handleInputBlur(e)},d))}close(){this.foundation.close()}open(){this.foundation.open()}clearInput(){this.foundation.clearInput()}selectAll(){this.foundation.selectAll()}deselectAll(){this.foundation.clearSelected()}focus(){this.foundation.focus()}onSelect(e,t,r){this.foundation.onSelect(e,t,r)}onClear(e){e.nativeEvent.stopImmediatePropagation(),this.foundation.handleClearClick(e)}search(e,t){this.handleInputChange(e,t)}renderEmpty(){return l.createElement($e,{empty:!0,emptyContent:this.props.emptyContent})}renderLoading(){const e=`${tt}-loading-wrapper`;return l.createElement("div",{className:e},l.createElement(Ke.Z,null))}renderOption(e,t,r){const{focusIndex:n,inputValue:i}=this.state,{renderOptionItem:o}=this.props;let s;const a=t===n;let c=r||{};return e.style&&(c=Object.assign(Object.assign({},c),e.style)),e._inputCreateOnly?s=this.renderCreateOption(e,a,t,r):("key"in e&&(e._keyInOptionList=e.key),s=l.createElement($e,Object.assign({showTick:!0},e,{selected:e._selected,onSelect:(e,r)=>this.onSelect(e,t,r),focused:a,onMouseEnter:()=>this.onOptionHover(t),style:c,key:e._keyInOptionList||e._keyInJsx||e.label+e.value+t,renderOptionItem:o,inputValue:i,semiOptionId:`${this.selectID}-option-${t}`}),e.label)),s}renderCreateOption(e,t,r,n){const{renderCreateItem:i}=this.props;if(void 0===i){return l.createElement($e,Object.assign({key:e.key||e.label+e.value,onSelect:(e,t)=>this.onSelect(e,r,t),onMouseEnter:()=>this.onOptionHover(r),showTick:!0},e,{focused:t,style:n}),l.createElement(me.Z,{componentName:"Select"},(t=>l.createElement(l.Fragment,null,l.createElement("span",{className:`${tt}-create-tips`},t.createText),e.value))))}const o=i(e.value,t,n);return l.createElement("div",{role:"button","aria-label":"Use the input box to create an optional item",onClick:t=>this.onSelect(e,r,t),key:e.key||e.label},o)}onOptionHover(e){this.foundation.handleOptionMouseEnter(e)}renderWithGroup(e){const t=[],r=new Map;return e.forEach(((e,n)=>{const i=e._parentGroup,o=this.renderOption(e,n);if(i&&!r.has(i.label)){const e=l.createElement(Ve,Object.assign({},i,{key:i.label}));r.set(i.label,!0),t.push(e)}t.push(o)})),t}renderVirtualizeList(e){const{virtualize:t}=this.props,{direction:r}=this.context,{height:n,width:i,itemSize:o}=t;return l.createElement(Me,{ref:this.virtualizeListRef,height:n||I,itemCount:e.length,itemSize:o,itemData:{visibleOptions:e,renderOption:this.renderOption},width:i||"100%",style:{direction:r}},ze)}renderOptions(e){const{dropdownMinWidth:t,options:r,selections:n}=this.state,{maxHeight:i,dropdownClassName:o,dropdownStyle:s,outerTopSlot:a,innerTopSlot:c,outerBottomSlot:u,innerBottomSlot:d,loading:p,virtualize:f,multiple:g,emptyContent:m}=this.props,y=r.filter((e=>e._show));let v=this.renderWithGroup(y);f&&(v=this.renderVirtualizeList(y));const b=Object.assign({minWidth:t},s),_=h()({[`${tt}-option-list`]:!0,[`${tt}-option-list-chosen`]:n.size}),w=!r.length||!r.some((e=>e._show));return l.createElement("div",{id:`${tt}-${this.selectOptionListID}`,className:h()({[`${tt}-option-list-wrapper`]:!(w&&null===m)},o),style:b,ref:this.setOptionContainerEl,onKeyDown:e=>this.foundation.handleContainerKeyDown(e)},a?l.createElement("div",{className:`${tt}-option-list-outer-top-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},a):null,l.createElement("div",{style:{maxHeight:`${i}px`},className:_,role:"listbox","aria-multiselectable":g,onScroll:e=>this.foundation.handleListScroll(e)},c?l.createElement("div",{className:`${tt}-option-list-inner-top-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},c):null,p?this.renderLoading():w?this.renderEmpty():v,d?l.createElement("div",{className:`${tt}-option-list-inner-bottom-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},d):null),u?l.createElement("div",{className:`${tt}-option-list-outer-bottom-slot`,onMouseEnter:()=>this.foundation.handleSlotMouseEnter()},u):null)}renderSingleSelection(e,t){let{renderSelectedItem:r}=this.props;const{placeholder:n}=this.props,{showInput:i,inputValue:o}=this.state;let s="";const a=[...e];if(void 0===r&&(r=e=>e.label),a.length){s=r(a[0][1])}const c=h()({[`${tt}-selection-text`]:!0,[`${tt}-selection-placeholder`]:!s&&0!==s,[`${tt}-selection-text-hide`]:o&&i,[`${tt}-selection-text-inactive`]:!o&&i}),u=`${tt}-content-wrapper`;return l.createElement(l.Fragment,null,l.createElement("div",{className:u},l.createElement("span",{className:c,"x-semi-prop":"placeholder"},s||0===s?s:n),t&&i?this.renderInput():null))}renderTag(e,t,r){const{size:i,disabled:o}=this.props;let{renderSelectedItem:s}=this.props;const a=e[0],{value:c}=e[1],u=e[1].disabled||o,d=(e,t)=>{t&&"function"==typeof t.preventDefault&&t.preventDefault(),this.foundation.removeTag({label:a,value:c})};void 0===s&&(s=e=>({isRenderInTag:!0,content:e.label}));const{content:h,isRenderInTag:p}=s(e[1],{index:t,disabled:u,onClose:d}),f={disabled:u,closable:!u,onClose:d},g=r&&!(0,n.Z)(this.props.renderSelectedItem)?l.createElement(ge.Z,{size:"small",ellipsis:{rows:1,showTooltip:{type:"popover",opts:{style:{width:"auto",fontSize:12}}}}},h):h;return p?l.createElement(j.Z,Object.assign({},f,{color:"white",size:i||"large",key:c,style:{maxWidth:"100%"}}),g):l.createElement(l.Fragment,{key:c},g)}renderNTag(e,t){const{size:r,showRestTagsPopover:n,restTagsPopoverProps:i}=this.props;let o=l.createElement(j.Z,{closable:!1,size:r||"large",color:"grey",className:`${tt}-content-wrapper-collapse-tag`,key:`_+${e}`,style:{marginRight:0,flexShrink:0}},"+",e);return n&&(o=l.createElement(A.Z,Object.assign({showArrow:!0,content:l.createElement(fe,{spacing:2,wrap:!0,style:{maxWidth:"400px"}},t.map(((e,t)=>this.renderTag(e,t)))),trigger:"hover",position:"top",autoAdjustOverflow:!0},i,{key:`_+${e}_Popover`}),o)),o}renderOverflow(e,t){return e.length&&e[0]?this.renderTag(e[0],t,!0):null}handleOverflow(e){const{overflowItemCount:t,selections:r}=this.state,{maxTagCount:n}=this.props,i=r.size-n>0?r.size-n+e.length-1:e.length-1;t!==i&&this.foundation.updateOverflowItemCount(r.size,i)}renderCollapsedTags(e,t){const{overflowItemCount:r}=this.state,n="number"==typeof t?e.slice(0,t):e;return l.createElement("div",{className:`${tt}-content-wrapper-collapse`},l.createElement(ne,{items:n,key:String(e.length),overflowRenderer:e=>this.renderOverflow(e,t-1),onOverflow:e=>this.handleOverflow(e),visibleItemRenderer:(e,t)=>this.renderTag(e,t)}),r>0&&this.renderNTag(r,e.slice(e.length-r)))}renderOneLineTags(e,t){let{renderSelectedItem:r}=this.props;const{showRestTagsPopover:n,restTagsPopoverProps:i,maxTagCount:o}=this.props,{isFullTags:s}=this.state;let a;if(void 0===r&&(r=e=>({isRenderInTag:!0,content:e.label})),n){const c=(s?e:e.slice(0,o)).map(((e,t)=>this.getTagItem(e,t,r)));a=l.createElement(F,{tagList:c,maxTagCount:t,restCount:s?void 0:e.length-o,size:"large",mode:"custom",showPopover:n,popoverProps:i,onPlusNMouseEnter:()=>{this.foundation.updateIsFullTags()}})}else{const n=e.slice(0,o).map(((e,t)=>this.getTagItem(e,t,r)));a=l.createElement(F,{tagList:n,maxTagCount:t,restCount:e.length-o,size:"large",mode:"custom"})}return a}renderMultipleSelection(e,t){let{renderSelectedItem:r}=this.props;const{placeholder:n,maxTagCount:i,expandRestTagsOnClick:o,ellipsisTrigger:s}=this.props,{inputValue:a,isOpen:c}=this.state,u=[...e];void 0===r&&(r=e=>({isRenderInTag:!0,content:e.label}));const d=h()({[`${tt}-content-wrapper`]:!0,[`${tt}-content-wrapper-one-line`]:i&&!c,[`${tt}-content-wrapper-empty`]:!u.length}),p=h()({[`${tt}-selection-text`]:!0,[`${tt}-selection-placeholder`]:!u.length,[`${tt}-selection-text-hide`]:u&&u.length}),f=n&&!a?l.createElement("span",{className:p},n):null,g=u.length>i?i:void 0,m=!i,y=s?this.renderCollapsedTags(u,g):this.renderOneLineTags(u,g),v=m||o&&c?u.map(((e,t)=>this.renderTag(e,t))):y;return l.createElement(l.Fragment,null,l.createElement("div",{className:d},u&&u.length?v:f,t?this.renderInput():null))}onMouseEnter(e){this.foundation.handleMouseEnter(e)}onMouseLeave(e){this.foundation.handleMouseLeave(e)}onKeyPress(e){this.foundation.handleKeyPress(e)}handlePopoverVisibleChange(e){const{virtualize:t}=this.props,{selections:r}=this.state;if(e)if(t){let e=-1;if(r.forEach((t=>{const r=(0,o.Z)(t,"_scrollIndex");(0,i.Z)(r)&&r>=0&&(e=-1!==e&&e<r?e:r)})),-1!==e)try{this.virtualizeListRef.current.scrollToItem(e,"center")}catch(n){}}else this.foundation.updateScrollTop()}renderSuffix(){const{suffix:e}=this.props,t=h()({[`${tt}-suffix`]:!0,[`${tt}-suffix-text`]:e&&(0,a.Z)(e),[`${tt}-suffix-icon`]:(0,J.ID)(e)});return l.createElement("div",{className:t,"x-semi-prop":"suffix"},e)}renderPrefix(){const{prefix:e,insetLabel:t,insetLabelId:r}=this.props,n=e||t,i=h()({[`${tt}-prefix`]:!0,[`${tt}-inset-label`]:t,[`${tt}-prefix-text`]:n&&(0,a.Z)(n),[`${tt}-prefix-icon`]:(0,J.ID)(n)});return l.createElement("div",{className:i,id:r,"x-semi-prop":"prefix,insetLabel"},n)}renderSelection(){const e=this.props,{disabled:t,multiple:r,filter:n,style:i,id:o,size:s,className:a,validateStatus:c,showArrow:u,suffix:d,prefix:p,insetLabel:f,placeholder:g,triggerRender:m,arrowIcon:y,clearIcon:v,borderless:b}=e,_=et(e,["disabled","multiple","filter","style","id","size","className","validateStatus","showArrow","suffix","prefix","insetLabel","placeholder","triggerRender","arrowIcon","clearIcon","borderless"]),{selections:w,isOpen:S,keyboardEventSet:O,inputValue:E,isHovering:C,isFocus:x,showInput:T,focusIndex:k}=this.state,I="function"==typeof m,P=Boolean(n),j=I?h()(a):h()(tt,a,{[`${tt}-borderless`]:b,[`${tt}-open`]:S,[`${tt}-focus`]:x,[`${tt}-disabled`]:t,[`${tt}-single`]:!r,[`${tt}-multiple`]:r,[`${tt}-filterable`]:P,[`${tt}-small`]:"small"===s,[`${tt}-large`]:"large"===s,[`${tt}-error`]:"error"===c,[`${tt}-warning`]:"warning"===c,[`${tt}-no-arrow`]:!u,[`${tt}-with-prefix`]:p||f,[`${tt}-with-suffix`]:d}),D=this.props.showClear&&(w.size||E)&&!t&&(C||S),A=u?l.createElement("div",{className:`${tt}-arrow`,"x-semi-prop":"arrowIcon"},y):l.createElement("div",{className:`${tt}-arrow-empty`}),R=v||l.createElement(Je.Z,null),M=I?l.createElement(Xe,{value:Array.from(w.values()),inputValue:E,onChange:this.handleInputChange,onSearch:this.handleInputChange,onRemove:e=>this.foundation.removeTag(e),onClear:this.onClear,disabled:t,triggerRender:m,placeholder:g,componentName:"Select",componentProps:Object.assign({},this.props)}):[l.createElement(l.Fragment,{key:"prefix"},p||f?this.renderPrefix():null),l.createElement(l.Fragment,{key:"selection"},l.createElement("div",{className:h()(`${tt}-selection`)},r?this.renderMultipleSelection(w,P):this.renderSingleSelection(w,P))),l.createElement(l.Fragment,{key:"clearicon"},D?l.createElement("div",{className:h()(`${tt}-clear`),onClick:this.onClear},R):A),l.createElement(l.Fragment,{key:"suffix"},d?this.renderSuffix():null)],N=t||P&&T||P&&r?-1:0;return l.createElement("div",Object.assign({role:"combobox","aria-disabled":t,"aria-expanded":S,"aria-controls":`${tt}-${this.selectOptionListID}`,"aria-haspopup":"listbox","aria-label":w.size?"selected":"","aria-invalid":this.props["aria-invalid"],"aria-errormessage":this.props["aria-errormessage"],"aria-labelledby":this.props["aria-labelledby"],"aria-describedby":this.props["aria-describedby"],"aria-required":this.props["aria-required"],className:j,ref:e=>this.triggerRef.current=e,onClick:e=>this.foundation.handleClick(e),style:i,id:this.selectID,tabIndex:N,"aria-activedescendant":-1!==k?`${this.selectID}-option-${k}`:"",onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:e=>this.foundation.handleTriggerFocus(e),onBlur:e=>this.foundation.handleTriggerBlur(e),onKeyPress:this.onKeyPress},O,this.getDataAttr(_)),M)}render(){const{direction:e}=this.context,t="rtl"===e?"bottomRight":"bottomLeft",{children:r,position:n=t,zIndex:i,getPopupContainer:o,motion:s,autoAdjustOverflow:a,mouseLeaveDelay:c,mouseEnterDelay:u,spacing:d,stopPropagation:h,dropdownMargin:p}=this.props,{isOpen:f,optionKey:g}=this.state,m=this.renderOptions(r),y=this.renderSelection();return l.createElement(A.Z,{getPopupContainer:o,motion:s,margin:p,autoAdjustOverflow:a,mouseLeaveDelay:c,mouseEnterDelay:u,zIndex:i,ref:this.optionsRef,content:m,visible:f,trigger:"custom",rePosKey:g,position:n,spacing:d,stopPropagation:h,disableArrowKeyDown:!0,onVisibleChange:e=>this.handlePopoverVisibleChange(e),afterClose:()=>this.foundation.handlePopoverClose()},y)}}rt.contextType=g.Z,rt.Option=$e,rt.OptGroup=Ve,rt.propTypes={"aria-describedby":f().string,"aria-errormessage":f().string,"aria-invalid":f().bool,"aria-labelledby":f().string,"aria-required":f().bool,autoFocus:f().bool,autoClearSearchValue:f().bool,borderless:f().bool,children:f().node,clearIcon:f().node,defaultValue:f().oneOfType([f().string,f().number,f().array,f().object]),ellipsisTrigger:f().bool,value:f().oneOfType([f().string,f().number,f().array,f().object]),placeholder:f().node,onChange:f().func,multiple:f().bool,filter:f().oneOfType([f().func,f().bool]),max:f().number,maxTagCount:f().number,maxHeight:f().oneOfType([f().string,f().number]),style:f().object,className:f().string,size:f().oneOf(k.SIZE_SET),disabled:f().bool,emptyContent:f().node,expandRestTagsOnClick:f().bool,onDropdownVisibleChange:f().func,zIndex:f().number,position:f().oneOf(k.POSITION_SET),onSearch:f().func,getPopupContainer:f().func,dropdownClassName:f().string,dropdownStyle:f().object,dropdownMargin:f().oneOfType([f().number,f().object]),outerTopSlot:f().node,innerTopSlot:f().node,inputProps:f().object,outerBottomSlot:f().node,innerBottomSlot:f().node,optionList:f().array,dropdownMatchSelectWidth:f().bool,loading:f().bool,defaultOpen:f().bool,validateStatus:f().oneOf(k.STATUS),defaultActiveFirstOption:f().bool,triggerRender:f().func,stopPropagation:f().bool,motion:f().bool,onChangeWithObject:f().bool,suffix:f().node,prefix:f().node,insetLabel:f().node,insetLabelId:f().string,showClear:f().bool,showArrow:f().bool,renderSelectedItem:f().func,allowCreate:f().bool,renderCreateItem:f().func,onMouseEnter:f().func,onMouseLeave:f().func,clickToHide:f().bool,onExceed:f().func,onCreate:f().func,remote:f().bool,onDeselect:f().func,onSelect:f().func,autoAdjustOverflow:f().bool,mouseEnterDelay:f().number,mouseLeaveDelay:f().number,spacing:f().oneOfType([f().number,f().object]),onBlur:f().func,onFocus:f().func,onClear:f().func,virtualize:f().object,renderOptionItem:f().func,onListScroll:f().func,arrowIcon:f().node,preventScroll:f().bool},rt.defaultProps={stopPropagation:!0,motion:!0,borderless:!1,zIndex:ye.KT.DEFAULT_Z_INDEX,filter:!1,multiple:!1,disabled:!1,defaultOpen:!1,allowCreate:!1,placeholder:"",onDropdownVisibleChange:s.Z,onChangeWithObject:!1,onChange:s.Z,onSearch:s.Z,onMouseEnter:s.Z,onMouseLeave:s.Z,onDeselect:s.Z,onSelect:s.Z,onCreate:s.Z,onExceed:s.Z,onFocus:s.Z,onBlur:s.Z,onClear:s.Z,onListScroll:s.Z,maxHeight:I,dropdownMatchSelectWidth:!0,defaultActiveFirstOption:!0,showArrow:!0,showClear:!1,remote:!1,autoAdjustOverflow:!0,autoClearSearchValue:!0,arrowIcon:l.createElement(Ye.Z,{"aria-label":""}),showRestTagsPopover:!1,restTagsPopoverProps:{},expandRestTagsOnClick:!1,ellipsisTrigger:!1};const nt=rt},27873:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(50959),i=r(86475),o=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};let s=-1;const a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{id:t,className:r}=e,a=o(e,["id","className"]);let c=t;(0,i.Z)(c)&&(s++,c=s);const l=`linearGradient-${c}`;return n.createElement("svg",Object.assign({},a,{className:r,width:"48",height:"48",viewBox:"0 0 36 36",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0,"data-icon":"spin"}),n.createElement("defs",null,n.createElement("linearGradient",{x1:"0%",y1:"100%",x2:"100%",y2:"100%",id:l},n.createElement("stop",{stopColor:"currentColor",stopOpacity:"0",offset:"0%"}),n.createElement("stop",{stopColor:"currentColor",stopOpacity:"0.50",offset:"39.9430698%"}),n.createElement("stop",{stopColor:"currentColor",offset:"100%"}))),n.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},n.createElement("rect",{fillOpacity:"0.01",fill:"none",x:"0",y:"0",width:"36",height:"36"}),n.createElement("path",{d:"M34,18 C34,9.163444 26.836556,2 18,2 C11.6597233,2 6.18078805,5.68784135 3.59122325,11.0354951",stroke:`url(#${l})`,strokeWidth:"4",strokeLinecap:"round"})))}},48611:(e,t,r)=>{"use strict";r.d(t,{Z:()=>y});var n=r(50959),i=r(41916),o=r.n(i),s=r(84875),a=r.n(s),c=r(76232);const l={PREFIX:`${r(82345).T}-spin`};var u=r(1714);class d extends u.Z{static get spinDefaultAdapter(){return{getProp:()=>{},setLoading:e=>{}}}constructor(e){super(Object.assign(Object.assign({},d.spinDefaultAdapter),e))}updateLoadingIfNeedDelay(){const{spinning:e,delay:t}=this._adapter.getProps(),{delay:r}=this._adapter.getStates();if(r){const r=this;this._timer=setTimeout((()=>{r._adapter.setState({loading:e,delay:0})}),t)}}destroy(){this._timer&&(clearTimeout(this._timer),this._timer=null)}}const h=d;var p=r(27873),f=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const g=l.PREFIX;class m extends c.Z{constructor(e){super(e),this.foundation=new h(this.adapter),this.state={delay:e.delay,loading:!0}}static getDerivedStateFromProps(e){return e.delay?!1===e.spinning?{delay:0,loading:!1}:{delay:e.delay}:{loading:e.spinning}}get adapter(){return Object.assign(Object.assign({},super.adapter),{setLoading:e=>{this.setState({loading:e})}})}componentWillUnmount(){this.foundation.destroy()}renderSpin(){const{indicator:e,tip:t}=this.props,{loading:r}=this.state;return r?n.createElement("div",{className:`${g}-wrapper`},e?n.createElement("div",{className:`${g}-animate`,"x-semi-prop":"indicator"},e):n.createElement(p.Z,null),t?n.createElement("div",{"x-semi-prop":"tip"},t):null):null}render(){this.foundation.updateLoadingIfNeedDelay();const e=this.props,{children:t,style:r,wrapperClassName:i,childStyle:o,size:s}=e,c=f(e,["children","style","wrapperClassName","childStyle","size"]),{loading:l}=this.state,u=a()(g,i,{[`${g}-${s}`]:s,[`${g}-block`]:t,[`${g}-hidden`]:!l});return n.createElement("div",Object.assign({className:u,style:r},this.getDataAttr(c)),this.renderSpin(),n.createElement("div",{className:`${g}-children`,style:o,"x-semi-prop":"children"},t))}}m.propTypes={size:o().oneOf(["small","middle","large"]),spinning:o().bool,children:o().node,indicator:o().node,delay:o().number,tip:o().node,wrapperClassName:o().string,childStyle:o().object,style:o().object},m.defaultProps={size:"middle",spinning:!0,children:null,indicator:null,delay:0};const y=m},40996:(e,t,r)=>{"use strict";r.d(t,{Z:()=>A});var n=r(83873),i=r(50959),o=r(84875),s=r.n(o),a=r(41916),c=r.n(a),l=r(77860);const u={PREFIX:`${r(82345).T}-avatar`},d=["circle","square"],h=["extra-extra-small","extra-small","small","default","medium","large","extra-large"],p=["grey","red","pink","purple","violet","indigo","blue","light-blue","cyan","teal","green","light-green","lime","yellow","amber","orange","white"];var f=r(1714),g=r(32890);class m extends f.Z{constructor(e){super(Object.assign({},e)),this.handleFocusVisible=e=>{const{target:t}=e;try{t.matches(":focus-visible")&&this._adapter.setFocusVisible(!0)}catch(r){(0,g.Z)(!0,"Warning: [Semi Avatar] The current browser does not support the focus-visible")}},this.handleBlur=()=>{this._adapter.setFocusVisible(!1)},this.changeScale=()=>{const{gap:e}=this.getProps(),t=this._adapter.getAvatarNode(),r=null==t?void 0:t.firstChild,[n,i]=[(null==t?void 0:t.offsetWidth)||0,(null==r?void 0:r.offsetWidth)||0];if(0!==n&&0!==i&&2*e<n){const t=n-2*e>i?1:(n-2*e)/i;this._adapter.setScale(t)}}}init(){const{children:e}=this.getProps();"string"==typeof e&&this.changeScale()}destroy(){}handleImgLoadError(){const{onError:e}=this.getProps();!1!==(e?e():void 0)&&this._adapter.notifyImgState(!1)}handleEnter(e){this._adapter.notifyEnter(e)}handleLeave(e){this._adapter.notifyLeave(e)}}var y=r(35043),v=r(76232),b=r(19608),_=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const w=h,S=d,O=p,E=u.PREFIX;class C extends v.Z{constructor(e){super(e),this.handleFocusVisible=e=>{this.foundation.handleFocusVisible(e)},this.handleBlur=e=>{this.foundation.handleBlur()},this.getContent=()=>{const{children:e,onClick:t,imgAttr:r,src:n,srcSet:o,alt:a}=this.props,{isImgExist:c}=this.state;let l=e;const u=t!==y.Z,d=n&&c,h={tabIndex:0,onKeyDown:this.handleKeyDown,onFocus:this.handleFocusVisible,onBlur:this.handleBlur};if(d){const e=u?`clickable Avatar: ${a}`:a,t=Object.assign(Object.assign({src:n,srcSet:o,onError:this.handleError},r),{className:s()({[`${E}-no-focus-visible`]:u})}),c=u?Object.assign(Object.assign({},t),h):t;l=i.createElement("img",Object.assign({alt:e},c))}else if("string"==typeof e){const t=null!=a?a:e,r={role:"img","aria-label":u?`clickable Avatar: ${t}`:t,className:s()(`${E}-label`,{[`${E}-no-focus-visible`]:u})},n=u?Object.assign(Object.assign({},r),h):r,o={transform:`scale(${this.state.scale})`};l=i.createElement("span",{className:`${E}-content`,style:o},i.createElement("span",Object.assign({},n,{"x-semi-prop":"children"}),e))}return l},this.state={isImgExist:!0,hoverContent:"",focusVisible:!1,scale:1},this.onEnter=this.onEnter.bind(this),this.onLeave=this.onLeave.bind(this),this.handleError=this.handleError.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.getContent=this.getContent.bind(this),this.avatarRef=i.createRef()}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyImgState:e=>{this.setState({isImgExist:e})},notifyEnter:e=>{const{hoverMask:t}=this.props,r=t;this.setState({hoverContent:r},(()=>{const{onMouseEnter:t}=this.props;t&&t(e)}))},notifyLeave:e=>{this.setState({hoverContent:""},(()=>{const{onMouseLeave:t}=this.props;t&&t(e)}))},setFocusVisible:e=>{this.setState({focusVisible:e})},setScale:e=>{this.setState({scale:e})},getAvatarNode:()=>{var e;return null===(e=this.avatarRef)||void 0===e?void 0:e.current}})}componentDidMount(){this.foundation=new m(this.adapter),this.foundation.init()}componentDidUpdate(e){if(this.props.src&&this.props.src!==e.src){const e=new Image(0,0);e.src=this.props.src,e.onload=()=>{this.setState({isImgExist:!0})},e.onerror=()=>{this.setState({isImgExist:!1})},e.onabort=()=>{this.setState({isImgExist:!1})}}"string"==typeof this.props.children&&this.props.children!==e.children&&this.foundation.changeScale()}componentWillUnmount(){this.foundation.destroy()}onEnter(e){this.foundation.handleEnter(e)}onLeave(e){this.foundation.handleLeave(e)}handleError(){this.foundation.handleImgLoadError()}handleKeyDown(e){const{onClick:t}=this.props;switch(e.key){case"Enter":t(e),(0,b.Jt)(e);break;case"Escape":e.target.blur()}}render(){const e=this.props,{shape:t,children:r,size:n,color:o,className:a,hoverMask:c,onClick:l,imgAttr:u,src:d,srcSet:h,style:p,alt:f,gap:g}=e,m=_(e,["shape","children","size","color","className","hoverMask","onClick","imgAttr","src","srcSet","style","alt","gap"]),{isImgExist:y,hoverContent:v,focusVisible:b}=this.state,w=d&&y,S=s()(E,{[`${E}-${t}`]:t,[`${E}-${n}`]:n,[`${E}-${o}`]:o&&!w,[`${E}-img`]:w,[`${E}-focus`]:b},a),O=v?i.createElement("div",{className:`${E}-hover`,"x-semi-prop":"hoverContent"},v):null;return i.createElement("span",Object.assign({},m,{style:p,className:S,onClick:l,onMouseEnter:this.onEnter,onMouseLeave:this.onLeave,role:"listitem",ref:this.avatarRef}),this.getContent(),O)}}C.defaultProps={size:"medium",color:"grey",shape:"circle",gap:3,onClick:y.Z,onMouseEnter:y.Z,onMouseLeave:y.Z},C.propTypes={children:c().node,color:c().oneOf(O),shape:c().oneOf(S),size:c().oneOf(w),hoverMask:c().node,className:c().string,style:c().object,gap:c().number,imgAttr:c().object,src:c().string,srcSet:c().string,alt:c().string,onError:c().func,onClick:c().func,onMouseEnter:c().func,onMouseLeave:c().func},C.elementType="Avatar";var x=r(95193),T=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const k=l.U.PREFIX,I=l.j.TAG_COLOR,P=l.j.TAG_SIZE,j=l.j.TAG_TYPE,D=l.j.AVATAR_SHAPE;class A extends i.Component{constructor(e){super(e),this.state={visible:!0},this.close=this.close.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this)}static getDerivedStateFromProps(e){return"visible"in e?{visible:e.visible}:null}setVisible(e){"visible"in this.props||this.setState({visible:e})}close(e,t,r){const{onClose:n}=this.props;e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),n&&n(t,e,r),e.defaultPrevented||this.setVisible(!1)}handleKeyDown(e){const{closable:t,onClick:r,onKeyDown:n}=this.props;switch(e.key){case"Backspace":case"Delete":t&&this.close(e,this.props.children,this.props.tagKey),(0,b.Jt)(e);break;case"Enter":r(e),(0,b.Jt)(e);break;case"Escape":e.target.blur()}n&&n(e)}renderAvatar(){const{avatarShape:e,avatarSrc:t}=this.props;return i.createElement(C,{src:t,shape:e})}render(){const e=this.props,{tagKey:t,children:r,size:o,color:a,closable:c,visible:l,onClose:u,onClick:d,className:h,type:p,shape:f,avatarSrc:g,avatarShape:m,tabIndex:y,prefixIcon:v,suffixIcon:b}=e,_=T(e,["tagKey","children","size","color","closable","visible","onClose","onClick","className","type","shape","avatarSrc","avatarShape","tabIndex","prefixIcon","suffixIcon"]),{visible:w}=this.state,S=d!==A.defaultProps.onClick||c,O={role:"button",tabIndex:y||0,onKeyDown:this.handleKeyDown},E=Object.assign(Object.assign({},_),{onClick:d,tabIndex:y,className:s()(k,{[`${k}-default`]:"default"===o,[`${k}-small`]:"small"===o,[`${k}-large`]:"large"===o,[`${k}-square`]:"square"===f,[`${k}-circle`]:"circle"===f,[`${k}-${p}`]:p,[`${k}-${a}-${p}`]:a&&p,[`${k}-closable`]:c,[`${k}-invisible`]:!w,[`${k}-avatar-${m}`]:g},h)}),C=S?Object.assign(Object.assign({},E),O):E,I=c?i.createElement("div",{className:`${k}-close`,onClick:e=>this.close(e,r,t)},i.createElement(x.Z,{size:"small"})):null,P=(0,n.Z)(r),j=s()(`${k}-content`,`${k}-content-${P?"ellipsis":"center"}`);return i.createElement("div",Object.assign({"aria-label":this.props["aria-label"]||P?`${c?"Closable ":""}Tag: ${r}`:""},C),v?i.createElement("div",{className:`${k}-prefix-icon`},v):null,g?this.renderAvatar():null,i.createElement("div",{className:j},r),b?i.createElement("div",{className:`${k}-suffix-icon`},b):null,I)}}A.defaultProps={size:P[0],color:I[0],closable:!1,type:j[0],onClose:()=>{},onClick:()=>{},onMouseEnter:()=>{},style:{},className:"",shape:"square",avatarShape:"square",prefixIcon:null,suffixIcon:null},A.propTypes={children:c().node,tagKey:c().oneOfType([c().string,c().number]),size:c().oneOf(P),color:c().oneOf(I),type:c().oneOf(j),closable:c().bool,visible:c().bool,onClose:c().func,onClick:c().func,prefixIcon:c().node,suffixIcon:c().node,style:c().object,className:c().string,avatarSrc:c().string,avatarShape:c().oneOf(D),"aria-label":c().string}},23997:(e,t,r)=>{"use strict";r.d(t,{Z:()=>L});var n=r(50959),i=r(10422),o=r(41916),s=r.n(o),a=r(1714);class c extends a.Z{constructor(e){super(Object.assign(Object.assign({},c.defaultAdapter),e)),this.handleMouseInSideChange=e=>{this._adapter.handleMouseInSideChange(e)},this.getInputWrapperRect=()=>this._adapter.getInputWrapperRect()}hasToast(e){return this._adapter.getState("list").map((e=>{let{id:t}=e;return t})).includes(e)}addToast(e){const t=this._adapter.getState("list");t.push(e),this._adapter.updateToast(t,[],[])}updateToast(e,t){let r=this._adapter.getState("list");r=r.map((r=>r.id===e?Object.assign(Object.assign({},r),t):r));const n=r.filter((t=>t.id===e));this._adapter.updateToast(r,[],n)}removeToast(e){let t=this._adapter.getState("list");const r=[];t=t.filter((t=>t.id!==e||(r.push(t),!1))),this._adapter.updateToast(t,r,[])}destroyAll(){const e=this._adapter.getState("list");e.length>0&&this._adapter.updateToast([],e,[])}}const l=`${r(82345).T}-toast`,u={PREFIX:l,WRAPPER:`${l}-wrapper`,LIST:`${l}-list`},d=["warning","success","info","error","default"],h=["normal","light"],p=["ltr","rtl"];var f=r(76232),g=r(55883),m=r(84875),y=r.n(m),v=r(25691),b=r(69708);class _ extends a.Z{constructor(e){super(Object.assign(Object.assign({},_.defaultAdapter),e)),this._timer=null,this._id=null}init(){this.startCloseTimer_(),this._id=this._adapter.getProp("id")}destroy(){this.clearCloseTimer_()}startCloseTimer_(){const e=this._adapter.getProp("duration");e&&(0,b.Z)(e)&&(this._timer=setTimeout((()=>{this.close()}),1e3*e))}close(e){e&&e.stopPropagation(),this._adapter.notifyWrapperToRemove(this._id),this._adapter.notifyClose()}clearCloseTimer_(){this._timer&&(clearTimeout(this._timer),this._timer=null)}restartCloseTimer(){this.clearCloseTimer_(),this.startCloseTimer_()}}var w=r(810),S=r(40910),O=r(2175),E=r(85848),C=r(86756),x=r(95193),T=r(43503);const k=u.PREFIX;class I extends f.Z{constructor(e){super(e),this.toastEle=n.createRef(),this.clearCloseTimer=()=>{this.foundation.clearCloseTimer_()},this.startCloseTimer=()=>{this.foundation.startCloseTimer_()},this.restartCloseTimer=()=>{this.foundation.restartCloseTimer()},this.state={},this.foundation=new _(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{notifyWrapperToRemove:e=>{this.props.close(e)},notifyClose:()=>{this.props.onClose()}})}componentDidMount(){this.foundation.init()}componentWillUnmount(){this.foundation.destroy()}close(e){this.foundation.close(e)}renderIcon(){const{type:e,icon:t}=this.props,r={warning:n.createElement(S.Z,null),success:n.createElement(O.Z,null),info:n.createElement(E.Z,null),error:n.createElement(C.Z,null)}[e],i="large",o=y()(`${k}-icon`,`${k}-icon-${e}`);return t?(0,T.ID)(t)?n.cloneElement(t,{size:i,className:`${k}-icon`}):t:e&&r?n.cloneElement(r,{size:i,className:o}):null}render(){const{content:e,type:t,theme:r,showClose:i,textMaxWidth:o,className:s,style:a}=this.props,c=this.props.direction||this.context.direction,l=y()(k,s,{[`${k}-${t}`]:!0,[`${k}-${r}`]:"light"===r,[`${k}-rtl`]:"rtl"===c}),u={};u.maxWidth=o;const d=this.props.positionInList?this.props.positionInList.length-this.props.positionInList.index-1:0,h=n.createElement("div",{ref:this.toastEle,role:"alert","aria-label":`${t||"default"} type`,className:l,style:Object.assign(Object.assign({},a),{transform:`translate3d(0,0,${-10*d}px)`}),onMouseEnter:this.clearCloseTimer,onMouseLeave:this.startCloseTimer,onAnimationStart:this.props.onAnimationStart,onAnimationEnd:this.props.onAnimationEnd},n.createElement("div",{className:`${k}-content`},this.renderIcon(),n.createElement("span",{className:`${k}-content-text`,style:u,"x-semi-prop":"content"},e),i&&n.createElement("div",{className:`${k}-close-button`},n.createElement(w.Z,{onClick:e=>this.close(e),type:"tertiary",icon:n.createElement(x.Z,{"x-semi-prop":"icon"}),theme:"borderless",size:"small"}))));if(this.props.stack){const e=this.props.stackExpanded&&this.toastEle.current&&getComputedStyle(this.toastEle.current).height||0;return n.createElement("div",{className:`${k}-zero-height-wrapper`,style:{height:e}},h)}return h}}I.contextType=v.Z,I.propTypes={onClose:s().func,content:s().node,close:s().func,duration:s().number,theme:s().oneOf(h),type:s().oneOf(d),textMaxWidth:s().oneOfType([s().string,s().number]),style:s().object,className:s().string,showClose:s().bool,stack:s().bool,stackExpanded:s().bool,icon:s().node,direction:s().oneOf(p)},I.defaultProps={onClose:g.Z,content:"",close:g.Z,duration:3,textMaxWidth:450,showClose:!0,stack:!1,stackExpanded:!1,theme:"normal"};const P=I;var j=r(74777),D=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const A=(e,t)=>{var{afterClose:r}=e,i=D(e,["afterClose"]);const[o,s]=(0,n.useState)(!0);return n.useImperativeHandle(t,(()=>({close:()=>{s(!1)}}))),(0,n.useEffect)((()=>{o||r(i.id)}),[o]),o?n.createElement(P,Object.assign({},i,{close:()=>{s(!1)}})):null},R=n.forwardRef(A),M={motion:!0,zIndex:1010,duration:3};function N(){const[e,t]=function(){const[e,t]=n.useState([]);return[e,function(e,r){return t((t=>[{element:e,config:r},...t])),e=>{t((t=>t.filter((t=>{let{config:r}=t;return r.id!==e}))))}}]}(),r=(0,n.useRef)(new Map),i=e=>{const i=(0,j.ZP)("semi_toast_"),o=Object.assign(Object.assign({},e),{id:i});let s;const a=n.createElement(R,Object.assign({},o,{key:i,afterClose:e=>s(e),ref:e=>{var t;r.current.set(i,{close:null!==(t=null==e?void 0:e.close)&&void 0!==t?t:g.Z})}}));return s=t(a,Object.assign({},o)),i};return[{success:e=>i(Object.assign(Object.assign(Object.assign({},M),e),{type:"success"})),info:e=>i(Object.assign(Object.assign(Object.assign({},M),e),{type:"info"})),error:e=>i(Object.assign(Object.assign(Object.assign({},M),e),{type:"error"})),warning:e=>i(Object.assign(Object.assign(Object.assign({},M),e),{type:"warning"})),open:e=>i(Object.assign(Object.assign(Object.assign({},M),e),{type:"default"})),close:e=>(e=>{var t;const{close:n}=null!==(t=r.current.get(e))&&void 0!==t?t:{};null==n||n()})(e)},n.createElement(n.Fragment,null,Array.isArray(e)&&e.length?n.createElement(n.Fragment,null,e.map((e=>e.element))):null)]}var F=r(51464);const z=()=>{var e;return e=class e extends f.Z{constructor(e){super(e),this.stack=!1,this.innerWrapperRef=n.createRef(),this.handleMouseEnter=e=>{this.stack&&this.foundation.handleMouseInSideChange(!0)},this.handleMouseLeave=e=>{var t;if(this.stack){(null===(t=this.foundation.getInputWrapperRect())||void 0===t?void 0:t.height)&&this.foundation.handleMouseInSideChange(!1)}},this.state={list:[],removedItems:[],updatedItems:[],mouseInSide:!1},this.foundation=new c(this.adapter)}get adapter(){return Object.assign(Object.assign({},super.adapter),{updateToast:(e,t,r)=>{this.setState({list:e,removedItems:t,updatedItems:r})},handleMouseInSideChange:e=>{this.setState({mouseInSide:e})},getInputWrapperRect:()=>{var e;return null===(e=this.innerWrapperRef.current)||void 0===e?void 0:e.getBoundingClientRect()}})}static create(t){var r;const o=null!==(r=t.id)&&void 0!==r?r:(0,j.ZP)("toast");if(e.ref){const r=document.querySelector(`#${this.wrapperId}`);["top","left","bottom","right"].map((e=>{e in t&&(r.style[e]="number"==typeof t[e]?`${t[e]}px`:t[e])})),Boolean(t.stack)!==e.ref.stack&&(e.ref.stack=Boolean(t.stack)),e.ref.has(o)?e.ref.update(o,Object.assign(Object.assign({},t),{id:o})):e.ref.add(Object.assign(Object.assign({},t),{id:o}))}else{const r=document.createElement("div");if(this.wrapperId||(this.wrapperId=(0,j.ZP)("toast-wrapper").slice(0,26)),r.className=u.WRAPPER,r.id=this.wrapperId,r.style.zIndex=String("number"==typeof t.zIndex?t.zIndex:e.defaultOpts.zIndex),["top","left","bottom","right"].map((n=>{if(n in e.defaultOpts||n in t){const i=t[n]?t[n]:e.defaultOpts[n];r.style[n]="number"==typeof i?`${i}px`:i}})),e.defaultOpts.getPopupContainer){e.defaultOpts.getPopupContainer().appendChild(r)}else document.body.appendChild(r);i.render(n.createElement(e,{ref:t=>e.ref=t}),r,(()=>{e.ref.add(Object.assign(Object.assign({},t),{id:o})),e.ref.stack=Boolean(t.stack)}))}return o}static close(t){e.ref&&e.ref.remove(t)}static destroyAll(){if(e.ref){e.ref.destroyAll();const t=document.querySelector(`#${this.wrapperId}`);i.unmountComponentAtNode(t),t&&t.parentNode.removeChild(t),e.ref=null,this.wrapperId=null}}static getWrapperId(){return this.wrapperId}static info(t){return"string"==typeof t&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},e.defaultOpts),t),{type:"info"}))}static warning(t){return"string"==typeof t&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},e.defaultOpts),t),{type:"warning"}))}static error(t){return"string"==typeof t&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},e.defaultOpts),t),{type:"error"}))}static success(t){return"string"==typeof t&&(t={content:t}),this.create(Object.assign(Object.assign(Object.assign({},e.defaultOpts),t),{type:"success"}))}static config(t){["top","left","bottom","right"].forEach((r=>{r in t&&(e.defaultOpts[r]=t[r])})),"number"==typeof t.zIndex&&(e.defaultOpts.zIndex=t.zIndex),"number"==typeof t.duration&&(e.defaultOpts.duration=t.duration),"function"==typeof t.getPopupContainer&&(e.defaultOpts.getPopupContainer=t.getPopupContainer)}has(e){return this.foundation.hasToast(e)}add(e){return this.foundation.addToast(e)}update(e,t){return this.foundation.updateToast(e,t)}remove(e){return this.foundation.removeToast(e)}destroyAll(){return this.foundation.destroyAll()}render(){let{list:e}=this.state;const{removedItems:t,updatedItems:r}=this.state;e=Array.from(new Set([...e,...t]));const i=r.map((e=>{let{id:t}=e;return t})),o=e=>{var t;(null===(t=null==e?void 0:e.foundation)||void 0===t?void 0:t._id)&&i.includes(e.foundation._id)&&e.foundation.restartCloseTimer()};return n.createElement(n.Fragment,null,n.createElement("div",{className:y()({[`${u.PREFIX}-innerWrapper`]:!0,[`${u.PREFIX}-innerWrapper-hover`]:this.state.mouseInSide}),ref:this.innerWrapperRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave},e.map(((r,i)=>{const s=void 0!==t.find((e=>e.id===r.id));return n.createElement(F.Z,{key:r.id,motion:r.motion,animationState:s?"leave":"enter",startClassName:s?`${u.PREFIX}-animation-hide`:`${u.PREFIX}-animation-show`},(t=>{let{animationClassName:a,animationEventsNeedBind:c,isAnimating:l}=t;return s&&!l?null:n.createElement(P,Object.assign({},r,{stack:this.stack,stackExpanded:this.state.mouseInSide,positionInList:{length:e.length,index:i},className:y()({[r.className]:Boolean(r.className),[a]:!0})},c,{style:Object.assign({},r.style),close:e=>this.remove(e),ref:o}))}))}))))}},e.defaultOpts={motion:!0,zIndex:1010,content:""},e.propTypes={content:s().node,duration:s().number,onClose:s().func,icon:s().node,direction:s().oneOf(p),stack:s().bool},e.defaultProps={},e};const L=class{static create(e){const t=z();return t.useToast=N,e&&t.config(e),t}}.create()},11643:(e,t,r)=>{"use strict";r.d(t,{Z:()=>Q});var n=r(50279),i=r(88987),o=r(15943),s=r(14131),a=r(29148),c=r(77251);const l=function(e,t){return e&&(0,a.Z)(e,t,c.Z)};var u=r(49634);const d=function(e,t){return function(r,n){if(null==r)return r;if(!(0,u.Z)(r))return e(r,n);for(var i=r.length,o=t?i:-1,s=Object(r);(t?o--:++o<i)&&!1!==n(s[o],o,s););return r}}(l);var h=r(76402);const p=function(e){return"function"==typeof e?e:h.Z};var f=r(56052);const g=function(e,t){return((0,f.Z)(e)?s.Z:d)(e,p(t))};var m=r(93639),y=r(54029),v=r(55883),b=r(93302),_=r(50959),w=r(10422),S=r(84875),O=r.n(S),E=r(41916),C=r.n(E),x=r(82345),T=r(32890),k=r(75733);var I=r(1714),P=r(19608);const j={TOP:/top/i,RIGHT:/right/i,BOTTOM:/bottom/i,LEFT:/left/i},D={left:0,top:0,height:0,width:0,scrollLeft:0,scrollTop:0};class A extends I.Z{constructor(e){var t;super(Object.assign({},e)),t=this,this.removePortal=()=>{this._adapter.removePortal()},this.setDisplayNone=(e,t)=>{this._adapter.setDisplayNone(e,t)},this.onResize=()=>{this.calcPosition()},this.delayShow=()=>{const e=this.getProp("mouseEnterDelay");this.clearDelayTimer(),e>0?this._timer=setTimeout((()=>{this.show(),this.clearDelayTimer()}),e):this.show()},this.show=()=>{const e=this.getProp("content"),t=this.getProp("trigger"),r=this.getProp("clickTriggerToHide"),{visible:n,displayNone:i}=this.getStates();i&&this.setDisplayNone(!1),n||(this.clearDelayTimer(),this._adapter.on("portalInserted",(()=>{this.calcPosition()})),this._adapter.on("positionUpdated",(()=>{this._togglePortalVisible(!0)})),this._adapter.insertPortal(e,{left:-9999,top:-9999}),"custom"===t&&this._adapter.registerClickOutsideHandler((()=>{})),("click"===t||r||"contextMenu"===t)&&this._adapter.registerClickOutsideHandler(this.hide),this._bindScrollEvent(),this._bindResizeEvent())},this.calcPosition=function(e,r,n){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];e=((0,o.Z)(e)?t._adapter.getTriggerBounding():e)||Object.assign({},D),n=((0,o.Z)(n)?t._adapter.getPopupContainerRect():n)||Object.assign({},D),r=((0,o.Z)(r)?t._adapter.getWrapperBounding():r)||Object.assign({},D);let s=t.calcPosStyle({triggerRect:e,wrapperRect:r,containerRect:n}),a=t.getProp("position");if(t.getProp("autoAdjustOverflow")){const{position:i,isHeightOverFlow:o,isWidthOverFlow:c}=t.adjustPosIfNeed(a,s,e,r,n);(a!==i||o||c)&&(a=i,s=t.calcPosStyle({triggerRect:e,wrapperRect:r,containerRect:n,position:a,spacing:null,isOverFlow:[o,c]}))}return i&&t._mounted&&t._adapter.setPosition(Object.assign(Object.assign({},s),{position:a})),s},this.delayHide=()=>{const e=this.getProp("mouseLeaveDelay");this.clearDelayTimer(),e>0?this._timer=setTimeout((()=>{this.hide(),this.clearDelayTimer()}),e):this.hide()},this.hide=()=>{this.clearDelayTimer(),this._togglePortalVisible(!1),this._adapter.off("portalInserted"),this._adapter.off("positionUpdated")},this.handleContainerKeydown=e=>{const{guardFocus:t,closeOnEsc:r}=this.getProps();switch(e&&e.key){case"Escape":r&&this._handleEscKeyDown(e);break;case"Tab":if(t){const t=this._adapter.getContainer(),r=this._adapter.getFocusableElements(t);r.length&&(e.shiftKey?this._handleContainerShiftTabKeyDown(r,e):this._handleContainerTabKeyDown(r,e))}}},this._timer=null}init(){const{wrapperId:e}=this.getProps();this._mounted=!0,this._bindEvent(),this._shouldShow(),this._initContainerPosition(),e||this._adapter.setId()}destroy(){this._mounted=!1,this.unBindEvent()}_bindEvent(){const e=this.getProp("trigger"),{triggerEventSet:t,portalEventSet:r}=this._generateEvent(e);this._bindTriggerEvent(t),this._bindPortalEvent(r),this._bindResizeEvent()}unBindEvent(){this._adapter.unregisterClickOutsideHandler(),this.unBindResizeEvent(),this.unBindScrollEvent(),clearTimeout(this._timer)}_bindTriggerEvent(e){this._adapter.registerTriggerEvent(e)}_bindPortalEvent(e){this._adapter.registerPortalEvent(e)}_bindResizeEvent(){this._adapter.registerResizeHandler(this.onResize)}unBindResizeEvent(){this._adapter.unregisterResizeHandler(this.onResize)}_adjustPos(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>3?arguments[3]:void 0;switch(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"reverse"){case"reverse":default:return this._reversePos(e,t);case"expand":return this._expandPos(e,r);case"reduce":return this._reducePos(e)}}_reversePos(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){if(j.TOP.test(e))return e.replace("top","bottom").replace("Top","Bottom");if(j.BOTTOM.test(e))return e.replace("bottom","top").replace("Bottom","Top")}else{if(j.LEFT.test(e))return e.replace("left","right").replace("Left","Right");if(j.RIGHT.test(e))return e.replace("right","left").replace("Right","Left")}return e}_expandPos(){let e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").concat(e)}_reducePos(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=["Top","Bottom","Left","Right"].find((t=>e.endsWith(t)));return t?e.replace(t,""):e}clearDelayTimer(){this._timer&&(clearTimeout(this._timer),this._timer=null)}_generateEvent(e){const t=this._adapter.getEventName(),r={[t.keydown]:e=>{this._handleTriggerKeydown(e)}};let n={};switch(e){case"focus":r[t.focus]=()=>{this.delayShow()},r[t.blur]=()=>{this.delayHide()},n=r;break;case"click":r[t.click]=()=>{this.show()},n={};break;case"hover":r[t.mouseEnter]=()=>{this.setCache("isClickToHide",!1),this.delayShow()},r[t.mouseLeave]=()=>{this.delayHide()},r[t.focus]=()=>{const{disableFocusListener:e}=this.getProps();!e&&this.delayShow()},r[t.blur]=()=>{const{disableFocusListener:e}=this.getProps();!e&&this.delayHide()},n=Object.assign({},r),this.getProp("clickToHide")&&(n[t.click]=()=>{this.setCache("isClickToHide",!0),this.hide()},n[t.mouseEnter]=()=>{this.getCache("isClickToHide")||this.delayShow()});break;case"custom":default:break;case"contextMenu":r[t.contextMenu]=e=>{e.preventDefault(),this.show()}}return{triggerEventSet:r,portalEventSet:n}}_shouldShow(){this.getProp("visible")&&this.show()}_togglePortalVisible(e){this.getState("visible")!==e&&this._adapter.togglePortalVisible(e,(()=>{e&&this._adapter.setInitialFocus(),this._adapter.notifyVisibleChange(e)}))}_roundPixel(e){return"number"==typeof e?Math.round(e):e}calcTransformOrigin(e,t,r,n){if(e&&t&&null!=r&&null!=n){if(this.getProp("transformFromCenter")){if(["topLeft","bottomLeft"].includes(e))return`${this._roundPixel(t.width/2)}px ${100*-n}%`;if(["topRight","bottomRight"].includes(e))return`calc(100% - ${this._roundPixel(t.width/2)}px) ${100*-n}%`;if(["leftTop","rightTop"].includes(e))return`${100*-r}% ${this._roundPixel(t.height/2)}px`;if(["leftBottom","rightBottom"].includes(e))return`${100*-r}% calc(100% - ${this._roundPixel(t.height/2)}px)`}return`${100*-r}% ${100*-n}%`}return null}calcPosStyle(e){const{spacing:t,isOverFlow:r}=e,{innerWidth:n}=window,i=((0,o.Z)(e.triggerRect)?e.triggerRect:this._adapter.getTriggerBounding())||Object.assign({},D),s=((0,o.Z)(e.containerRect)?e.containerRect:this._adapter.getPopupContainerRect())||Object.assign({},D),a=((0,o.Z)(e.wrapperRect)?e.wrapperRect:this._adapter.getWrapperBounding())||Object.assign({},D),c=null!=e.position?e.position:this.getProp("position"),l=null!=t?t:this.getProp("spacing"),{arrowPointAtCenter:u,showArrow:d,arrowBounding:h}=this.getProps(),p=d&&u;let f=l,g=0;if("number"!=typeof l){const e=c.includes("top")||c.includes("bottom");f=e?l.y:l.x,g=e?l.x:l.y}const m=(0,y.Z)(h,"width",24),v=(0,y.Z)(h,"width",24),b=(0,y.Z)(h,"offsetY",0);let _,w,S=0,O=0;const E=i.left+i.width/2,C=i.top+i.height/2,x=6+m/2,T=6+v/2,k=a.height-s.height,I=a.width-s.width,P=k>0?k:0,j=I>0?I:0,A=r&&r[0],R=r&&r[1],M=E-s.left<s.right-E,N=C-s.top<s.bottom-C,F=a.width>n;switch(c){case"top":_=R?M?s.left+a.width/2:s.right-a.width/2+j:E+g,w=A?s.bottom+P:i.top-f,S=-.5,O=-1;break;case"topLeft":_=R?F?s.left:s.right-a.width:p?E-x+g:i.left+g,w=A?s.bottom+P:i.top-f,O=-1;break;case"topRight":_=R?s.right+j:p?E+x+g:i.right+g,w=A?s.bottom+P:i.top-f,O=-1,S=-1;break;case"left":_=R?s.right+j-f+x:i.left-f,w=A?N?s.top+a.height/2:s.bottom-a.height/2+P:C+g,S=-1,O=-.5;break;case"leftTop":_=R?s.right+j-f+x:i.left-f,w=A?s.top:p?C-T+g:i.top+g,S=-1;break;case"leftBottom":_=R?s.right+j-f+x:i.left-f,w=A?s.bottom+P:p?C+T+g:i.bottom+g,S=-1,O=-1;break;case"bottom":_=R?M?s.left+a.width/2:s.right-a.width/2+j:E+g,w=A?s.top+T-f:i.top+i.height+f,S=-.5;break;case"bottomLeft":_=R?F?s.left:s.right-a.width:p?E-x+g:i.left+g,w=A?s.top+T-f:i.top+i.height+f;break;case"bottomRight":_=R?s.right+j:p?E+x+g:i.right+g,w=A?s.top+T-f:i.top+i.height+f,S=-1;break;case"right":_=R?s.left-f+x:i.right+f,w=A?N?s.top+a.height/2:s.bottom-a.height/2+P:C+g,O=-.5;break;case"rightTop":_=R?s.left-f+x:i.right+f,w=A?s.top:p?C-T+g:i.top+g;break;case"rightBottom":_=R?s.left-f+x:i.right+f,w=A?s.bottom+P:p?C+T+g:i.bottom+g,O=-1;break;case"leftTopOver":_=i.left-f,w=i.top-f;break;case"rightTopOver":_=i.right+f,w=i.top-f,S=-1;break;case"leftBottomOver":_=i.left-f,w=i.bottom+f,O=-1;break;case"rightBottomOver":_=i.right+f,w=i.bottom+f,S=-1,O=-1}const z=this.calcTransformOrigin(c,i,S,O),L=this._adapter.containerIsBody();if(_-=s.left,w-=s.top,L&&!this._adapter.containerIsRelativeOrAbsolute()){const e=this._adapter.getDocumentElementBounding();_+=s.left-e.left,w+=s.top-e.top}_=L?_:_+s.scrollLeft,w=L?w:w+s.scrollTop;const Z=i.height;if(this.getProp("showArrow")&&!u&&Z<=2*(v/2+b)){const e=Z/2-(b+v/2);!c.includes("Top")&&!c.includes("Bottom")||c.includes("Over")||(w=c.includes("Top")?w+e:w-e)}const B={left:this._roundPixel(_),top:this._roundPixel(w)};let U="";return null!=S&&(U+=`translateX(${100*S}%) `,Object.defineProperty(B,"translateX",{enumerable:!1,value:S})),null!=O&&(U+=`translateY(${100*O}%) `,Object.defineProperty(B,"translateY",{enumerable:!1,value:O})),null!=z&&(B.transformOrigin=z),U&&(B.transform=U),B}isLR(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.includes("left")||e.includes("right")}isTB(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.includes("top")||e.includes("bottom")}isReverse(e,t,r){return e<r&&t>r}isOverFlow(e,t,r){return e<r&&t<r}isHalfOverFlow(e,t,r){return e<r||t<r}isHalfAllEnough(e,t,r){return e>=r||t>=r}getReverse(e,t,r,n){return e&&n||r}adjustPosIfNeed(e,t,r,n,i){const{innerWidth:o,innerHeight:s}=window,{margin:a}=this.getProps(),c="number"==typeof a?a:a.marginLeft,l="number"==typeof a?a:a.marginTop,u="number"==typeof a?a:a.marginRight,d="number"==typeof a?a:a.marginBottom;let h=!1,p=!1;const f=this.getProp("spacing");let g=f,m=0;if("number"!=typeof f){const t=e.includes("top")||e.includes("bottom");g=t?f.y:f.x,m=t?f.x:f.y}if(n.width>0&&n.height>0){const t=r.left,a=r.right,f=r.top,y=r.bottom,v=o-t,b=s-f,_=o-a,w=s-y,S=n.width>r.width,O=n.height>r.height,E=f-l<n.height+g&&w-d>n.height+g,C=t-c<n.width+g&&_-u>n.width+g,x=w-d<n.height+g&&f-l>n.height+g,T=_-u<n.width+g&&t-c>n.width+g,k=(b-d<n.height+g&&n.height,y-l<n.height+g&&n.height,b<n.height+m&&y>n.height+m),I=y<n.height+m&&b>n.height+m,P=v<n.width+m&&a>n.width+m,j=a<n.width+m&&v>n.width+m,D=b<n.height+g&&y>n.height+g,A=y<n.height+g&&b>n.height+g,R=v<n.width&&a>n.width,M=a<n.width&&v>n.width,N=f-i.top,F=t-i.left,z=N+r.height,L=F+r.width,Z=i.bottom-y,B=i.right-a,U=Z+r.height,$=B+r.width,G=this.isReverse(N-l,Z-d,n.height+g),H=this.isReverse(F-c,B-u,n.width+g),V=this.isReverse(Z-d,N-l,n.height+g),K=this.isReverse(B-u,F-c,n.width+g),W=(this.isReverse(U-d,z-l,n.height+g),this.isReverse(z-l,U-d,n.height+g),this.isReverse(U,z,n.height+m)),q=this.isReverse(z,U,n.height+m),X=this.isReverse($,L,n.width+m),J=this.isReverse(L,$,n.width+m),Y=r.height/2,Q=r.width/2,ee=this.isOverFlow(f-l,w-d,n.height+g),te=this.isOverFlow(t-c,_-u,n.width+g),re=this.isOverFlow(y-l,b-d,n.height+g),ne=this.isOverFlow(a-c,v-u,n.width+g),ie=this.isHalfOverFlow(y-Y,b-Y,(n.height+m)/2),oe=this.isHalfOverFlow(a-Q,v-Q,(n.width+m)/2),se=this.isHalfAllEnough(y-Y,b-Y,(n.height+m)/2),ae=this.isHalfAllEnough(a-Q,v-Q,(n.width+m)/2),ce=this.isOverFlow(N-l,Z-d,n.height+g),le=this.isOverFlow(F-c,B-u,n.width+g),ue=this.isOverFlow(z-l,U-d,n.height+g),de=this.isOverFlow(L-c,$-u,n.width+g),he=this.isHalfOverFlow(z-Y,U-Y,(n.height+m)/2),pe=this.isHalfOverFlow(L-Q,$-Q,(n.width+m)/2),fe=this.isHalfAllEnough(z-Y,U-Y,(n.height+m)/2),ge=this.isHalfAllEnough(L-Q,$-Q,(n.width+m)/2),me=this.getReverse(ee,ce,E,G),ye=this.getReverse(te,le,C,H),ve=this.getReverse(ee,ce,x,V),be=this.getReverse(te,le,T,K),_e=this.getReverse(re,ue,k,W),we=this.getReverse(re,ue,I,q),Se=this.getReverse(ne,de,P,X),Oe=this.getReverse(ne,de,j,J),Ee=ie&&he,Ce=oe&&pe;switch(e){case"top":me&&(e=this._adjustPos(e,!0)),Ce&&(Se||Oe)&&(e=this._adjustPos(e,!0,"expand",Se?"Right":"Left"));break;case"topLeft":me&&(e=this._adjustPos(e,!0)),Se&&S&&(e=this._adjustPos(e)),p&&(ae||ge)&&(e=this._adjustPos(e,!0,"reduce"));break;case"topRight":me&&(e=this._adjustPos(e,!0)),Oe&&S&&(e=this._adjustPos(e)),p&&(ae||ge)&&(e=this._adjustPos(e,!0,"reduce"));break;case"left":ye&&(e=this._adjustPos(e)),Ee&&(_e||we)&&(e=this._adjustPos(e,!1,"expand",_e?"Bottom":"Top"));break;case"leftTop":ye&&(e=this._adjustPos(e)),_e&&O&&(e=this._adjustPos(e,!0)),h&&(se||fe)&&(e=this._adjustPos(e,!1,"reduce"));break;case"leftBottom":ye&&(e=this._adjustPos(e)),we&&O&&(e=this._adjustPos(e,!0)),h&&(se||fe)&&(e=this._adjustPos(e,!1,"reduce"));break;case"bottom":ve&&(e=this._adjustPos(e,!0)),Ce&&(Se||Oe)&&(e=this._adjustPos(e,!0,"expand",Se?"Right":"Left"));break;case"bottomLeft":ve&&(e=this._adjustPos(e,!0)),Se&&S&&(e=this._adjustPos(e)),p&&(ae||ge)&&(e=this._adjustPos(e,!0,"reduce"));break;case"bottomRight":ve&&(e=this._adjustPos(e,!0)),Oe&&S&&(e=this._adjustPos(e)),p&&(ae||ge)&&(e=this._adjustPos(e,!0,"reduce"));break;case"right":be&&(e=this._adjustPos(e)),Ee&&(_e||we)&&(e=this._adjustPos(e,!1,"expand",_e?"Bottom":"Top"));break;case"rightTop":be&&(e=this._adjustPos(e)),_e&&O&&(e=this._adjustPos(e,!0)),h&&(se||fe)&&(e=this._adjustPos(e,!1,"reduce"));break;case"rightBottom":be&&(e=this._adjustPos(e)),we&&O&&(e=this._adjustPos(e,!0)),h&&(se||fe)&&(e=this._adjustPos(e,!1,"reduce"));break;case"leftTopOver":D&&(e=this._adjustPos(e,!0)),R&&(e=this._adjustPos(e));break;case"leftBottomOver":A&&(e=this._adjustPos(e,!0)),R&&(e=this._adjustPos(e));break;case"rightTopOver":D&&(e=this._adjustPos(e,!0)),M&&(e=this._adjustPos(e));break;case"rightBottomOver":A&&(e=this._adjustPos(e,!0)),M&&(e=this._adjustPos(e))}this.isTB(e)&&(h=ee&&ce,p="top"===e||"bottom"===e?oe&&pe||a<0||_<0:ne&&de||a<0||_<0),this.isLR(e)&&(p=te&&le,h="left"===e||"right"===e?ie&&he||f<0||b<0:re&&ue||f<0||b<0)}return{position:e,isHeightOverFlow:h,isWidthOverFlow:p}}_bindScrollEvent(){this._adapter.registerScrollHandler((()=>this.calcPosition()))}unBindScrollEvent(){this._adapter.unregisterScrollHandler()}_initContainerPosition(){this._adapter.updateContainerPosition()}_handleTriggerKeydown(e){const{closeOnEsc:t,disableArrowKeyDown:r}=this.getProps(),n=this._adapter.getContainer(),i=this._adapter.getFocusableElements(n),o=i.length;switch(e&&e.key){case"Escape":(0,P.Jt)(e),t&&this._handleEscKeyDown(e);break;case"ArrowUp":!r&&o&&this._handleTriggerArrowUpKeydown(i,e);break;case"ArrowDown":!r&&o&&this._handleTriggerArrowDownKeydown(i,e)}}focusTrigger(){const{trigger:e,returnFocusOnClose:t,preventScroll:r}=this.getProps();if(t&&"custom"!==e){const e=this._adapter.getTriggerNode();e&&"focus"in e&&e.focus({preventScroll:r})}}_handleEscKeyDown(e){const{trigger:t}=this.getProps();"custom"!==t&&(this.focusTrigger(),this.hide()),this._adapter.notifyEscKeydown(e)}_handleContainerTabKeyDown(e,t){const{preventScroll:r}=this.getProps(),n=this._adapter.getActiveElement();e[e.length-1]===n&&(e[0].focus({preventScroll:r}),t.preventDefault())}_handleContainerShiftTabKeyDown(e,t){const{preventScroll:r}=this.getProps(),n=this._adapter.getActiveElement();e[0]===n&&(e[e.length-1].focus({preventScroll:r}),t.preventDefault())}_handleTriggerArrowDownKeydown(e,t){const{preventScroll:r}=this.getProps();e[0].focus({preventScroll:r}),t.preventDefault()}_handleTriggerArrowUpKeydown(e,t){const{preventScroll:r}=this.getProps();e[e.length-1].focus({preventScroll:r}),t.preventDefault()}}var R=r(58706),M=r(74777),N=r(76232),F=r(50840),z=r(43503),L=r(55587),Z=r(25691),B=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const U=e=>{const{className:t,style:r}=e,n=B(e,["className","style"]);return _.createElement("svg",Object.assign({"aria-hidden":!0,className:t,style:r},n,{width:"24",height:"7",viewBox:"0 0 24 7",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}),_.createElement("path",{d:"M24 0V1C20 1 18.5 2 16.5 4C14.5 6 14 7 12 7C10 7 9.5 6 7.5 4C5.5 2 4 1 0 1V0H24Z"}))};var $=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const G=e=>{const{className:t,style:r}=e,n=$(e,["className","style"]);return _.createElement("svg",Object.assign({"aria-hidden":!0,className:t,style:r},n,{width:"7",height:"24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor"}),_.createElement("path",{d:"M0 0L1 0C1 4, 2 5.5, 4 7.5S7,10 7,12S6 14.5, 4 16.5S1,20 1,24L0 24L0 0z"}))},H=C().shape({offsetX:C().number,offsetY:C().number,width:C().number,height:C().number});var V=r(51464),K=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const W=R.UX.PREFIX,q=R.j2.POSITION_SET,X=R.j2.TRIGGER_SET,J=["flex","block","table","flow-root","grid"],Y=()=>document.body;class Q extends N.Z{constructor(e){super(e),this.setContainerEl=e=>this.containerEl={current:e},this.isSpecial=e=>{if((0,F.Z)(e))return Boolean(e.disabled);if((0,_.isValidElement)(e)){if((0,y.Z)(e,"props.disabled"))return R.j2.STATUS_DISABLED;const t=(0,y.Z)(e,"props.loading"),r=!((0,o.Z)(e)||(0,o.Z)(e.type)||"Button"!==(0,y.Z)(e,"type.elementType")&&"IconButton"!==(0,y.Z)(e,"type.elementType"));if(t&&r)return R.j2.STATUS_LOADING}return!1},this.didLeave=()=>{this.props.keepDOM?this.foundation.setDisplayNone(!0):this.foundation.removePortal(),this.foundation.unBindEvent()},this.renderIcon=()=>{const{placement:e}=this.state,{showArrow:t,prefixCls:r,style:n}=this.props;let i=null;const o=O()([`${r}-icon-arrow`]),s=(0,y.Z)(n,"backgroundColor"),a=e.includes("left")||e.includes("right")?_.createElement(G,null):_.createElement(U,null);return t&&(i=(0,_.isValidElement)(t)?t:_.cloneElement(a,{className:o,style:{color:s,fill:"currentColor"}})),i},this.handlePortalInnerClick=e=>{this.props.clickToHide&&this.foundation.hide(),this.props.stopPropagation&&(0,z.UW)(e)},this.handlePortalMouseDown=e=>{this.props.stopPropagation&&(0,z.UW)(e)},this.handlePortalFocus=e=>{this.props.stopPropagation&&(0,z.UW)(e)},this.handlePortalBlur=e=>{this.props.stopPropagation&&(0,z.UW)(e)},this.handlePortalInnerKeyDown=e=>{this.foundation.handleContainerKeydown(e)},this.renderContentNode=e=>{const t={initialFocusRef:this.initialFocusRef};return(0,i.Z)(e)?e(t):e},this.renderPortal=()=>{const{containerStyle:e={},visible:t,portalEventSet:r,placement:n,displayNone:i,transitionState:o,id:s,isPositionUpdated:a}=this.state,{prefixCls:c,content:l,showArrow:u,style:d,motion:h,role:p,zIndex:f}=this.props,g=this.renderContentNode(l),{className:v}=this.props,b=this.context.direction,w=O()(v,{[`${c}-wrapper`]:!0,[`${c}-wrapper-show`]:t,[`${c}-with-arrow`]:Boolean(u),[`${c}-rtl`]:"rtl"===b}),S=this.renderIcon(),E=(0,m.Z)(e,h?["transformOrigin"]:void 0),C=(0,y.Z)(e,"transformOrigin"),T=(0,y.Z)(d,"opacity",null),k=T||1,I=_.createElement(V.Z,{fillMode:"forwards",animationState:o,motion:h&&a,startClassName:"enter"===o?`${W}-animation-show`:`${W}-animation-hide`,onAnimationEnd:()=>{var e,t;"leave"===o&&(this.didLeave(),null===(t=(e=this.props).afterClose)||void 0===t||t.call(e))}},(e=>{let{animationStyle:t,animationClassName:o,animationEventsNeedBind:c}=e;return _.createElement("div",Object.assign({className:O()(w,o),style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},t),i?{display:"none"}:{}),{transformOrigin:C}),d),T?{opacity:a?k:"0"}:{})},r,c,{role:p,"x-placement":n,id:s}),_.createElement("div",{className:`${W}-content`},g),S)}));return _.createElement(L.Z,{getPopupContainer:this.props.getPopupContainer,style:{zIndex:f}},_.createElement("div",{tabIndex:-1,className:`${x.T}-portal-inner`,style:E,ref:this.setContainerEl,onClick:this.handlePortalInnerClick,onFocus:this.handlePortalFocus,onBlur:this.handlePortalBlur,onMouseDown:this.handlePortalMouseDown,onKeyDown:this.handlePortalInnerKeyDown},I))},this.wrapSpan=e=>{const{wrapperClassName:t}=this.props,r=(0,y.Z)(e,"props.style.display"),n=(0,y.Z)(e,"props.block"),i={};return"string"==typeof e||(i.display="inline-block"),(n||J.includes(r))&&(i.width="100%"),_.createElement("span",{className:t,style:i},e)},this.mergeEvents=(e,t)=>{const r={};return g(t,((t,n)=>{"function"==typeof t&&(r[n]=function(){t(...arguments),e&&"function"==typeof e[n]&&e[n](...arguments)})})),r},this.getPopupId=()=>this.state.id,this.state={visible:!1,transitionState:"",triggerEventSet:{},portalEventSet:{},containerStyle:{},isInsert:!1,placement:e.position||"top",transitionStyle:{},isPositionUpdated:!1,id:e.wrapperId,displayNone:!1},this.foundation=new A(this.adapter),this.eventManager=new k.Z,this.triggerEl=_.createRef(),this.containerEl=_.createRef(),this.initialFocusRef=_.createRef(),this.clickOutsideHandler=null,this.resizeHandler=null,this.isWrapped=!1,this.containerPosition=void 0}get adapter(){var e=this;return Object.assign(Object.assign({},super.adapter),{on:function(){return e.eventManager.on(...arguments)},off:function(){return e.eventManager.off(...arguments)},insertPortal:(e,t)=>{var{position:r}=t,n=K(t,["position"]);this.setState({isInsert:!0,transitionState:"enter",containerStyle:Object.assign(Object.assign({},this.state.containerStyle),n)},(()=>{setTimeout((()=>{this.eventManager.emit("portalInserted")}),0)}))},removePortal:()=>{this.setState({isInsert:!1,isPositionUpdated:!1})},getEventName:()=>({mouseEnter:"onMouseEnter",mouseLeave:"onMouseLeave",mouseOut:"onMouseOut",mouseOver:"onMouseOver",click:"onClick",focus:"onFocus",blur:"onBlur",keydown:"onKeyDown",contextMenu:"onContextMenu"}),registerTriggerEvent:e=>{this.setState({triggerEventSet:e})},registerPortalEvent:e=>{this.setState({portalEventSet:e})},getTriggerBounding:()=>{const e=this.adapter.getTriggerNode();return this.triggerEl.current=e,e&&e.getBoundingClientRect()},getPopupContainerRect:()=>{const e=this.getPopupContainer();let t=null;if(e&&(0,F.Z)(e)){const r=function(e){if(e&&"object"==typeof e)return"function"==typeof e.toJSON?e.toJSON():["left","top","right","bottom","width","height"].reduce(((t,r)=>(t[r]=e[r],t)),{})}(e.getBoundingClientRect());t=Object.assign(Object.assign({},r),{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop})}return t},containerIsBody:()=>this.getPopupContainer()===document.body,containerIsRelative:()=>{const e=this.getPopupContainer();return"relative"===window.getComputedStyle(e).getPropertyValue("position")},containerIsRelativeOrAbsolute:()=>["relative","absolute"].includes(this.containerPosition),getWrapperBounding:()=>{const e=this.containerEl&&this.containerEl.current;return e&&e.getBoundingClientRect()},getDocumentElementBounding:()=>document.documentElement.getBoundingClientRect(),setPosition:e=>{var{position:t}=e,r=K(e,["position"]);this.setState({containerStyle:Object.assign(Object.assign({},this.state.containerStyle),r),placement:t,isPositionUpdated:!0},(()=>{this.eventManager.emit("positionUpdated")}))},setDisplayNone:(e,t)=>{this.setState({displayNone:e},t)},updatePlacementAttr:e=>{this.setState({placement:e})},togglePortalVisible:(e,t)=>{const r={};r.transitionState=e?"enter":"leave",r.visible=e,this.mounted&&this.setState(r,(()=>{t()}))},registerClickOutsideHandler:e=>{this.clickOutsideHandler&&this.adapter.unregisterClickOutsideHandler(),this.clickOutsideHandler=t=>{if(!this.mounted)return!1;let r=this.triggerEl&&this.triggerEl.current,n=this.containerEl&&this.containerEl.current;r=w.findDOMNode(r),n=w.findDOMNode(n),(r&&!r.contains(t.target)&&n&&!n.contains(t.target)||this.props.clickTriggerToHide&&r&&r.contains(t.target))&&(this.props.onClickOutSide(t),e())},window.addEventListener("mousedown",this.clickOutsideHandler)},unregisterClickOutsideHandler:()=>{this.clickOutsideHandler&&(window.removeEventListener("mousedown",this.clickOutsideHandler),this.clickOutsideHandler=null)},registerResizeHandler:e=>{this.resizeHandler&&this.adapter.unregisterResizeHandler(),this.resizeHandler=(0,b.Z)((t=>{if(!this.mounted)return!1;e(t)}),10),window.addEventListener("resize",this.resizeHandler,!1)},unregisterResizeHandler:()=>{this.resizeHandler&&(window.removeEventListener("resize",this.resizeHandler,!1),this.resizeHandler=null)},notifyVisibleChange:e=>{this.props.onVisibleChange(e)},registerScrollHandler:e=>{this.scrollHandler&&this.adapter.unregisterScrollHandler(),this.scrollHandler=(0,b.Z)((t=>{if(!this.mounted)return!1;const r=this.adapter.getTriggerNode();if(t.target.contains(r)){const r={x:t.target.scrollLeft,y:t.target.scrollTop};e(r)}}),10),window.addEventListener("scroll",this.scrollHandler,!0)},unregisterScrollHandler:()=>{this.scrollHandler&&(window.removeEventListener("scroll",this.scrollHandler,!0),this.scrollHandler=null)},canMotion:()=>Boolean(this.props.motion),updateContainerPosition:()=>{const e=this.getPopupContainer();if(e&&(0,F.Z)(e)){const t=window.getComputedStyle(e).getPropertyValue("position");this.containerPosition=t}},getContainerPosition:()=>this.containerPosition,getContainer:()=>this.containerEl&&this.containerEl.current,getTriggerNode:()=>{let e=this.triggerEl.current;return(0,F.Z)(this.triggerEl.current)||(e=w.findDOMNode(this.triggerEl.current)),e},getFocusableElements:e=>(0,z.GO)(e),getActiveElement:()=>(0,z.vY)(),setInitialFocus:()=>{const{preventScroll:e}=this.props,t=(0,y.Z)(this,"initialFocusRef.current");t&&"focus"in t&&t.focus({preventScroll:e})},notifyEscKeydown:e=>{this.props.onEscKeyDown(e)},setId:()=>{this.setState({id:(0,M.Ms)()})}})}componentDidMount(){this.mounted=!0,this.getPopupContainer=this.props.getPopupContainer||this.context.getPopupContainer||Y,this.foundation.init()}componentWillUnmount(){this.mounted=!1,this.foundation.destroy()}focusTrigger(){this.foundation.focusTrigger()}rePosition(){return this.foundation.calcPosition()}componentDidUpdate(e,t){(0,T.Z)(this.props.mouseLeaveDelay<this.props.mouseEnterDelay,"[Semi Tooltip] 'mouseLeaveDelay' cannot be less than 'mouseEnterDelay', which may cause the dropdown layer to not be hidden."),e.visible!==this.props.visible&&(["hover","focus"].includes(this.props.trigger)?this.props.visible?this.foundation.delayShow():this.foundation.delayHide():this.props.visible?this.foundation.show():this.foundation.hide()),(0,n.Z)(e.rePosKey,this.props.rePosKey)||this.rePosition()}render(){const{isInsert:e,triggerEventSet:t,visible:r,id:n}=this.state,{wrapWhenSpecial:i,role:o,trigger:s}=this.props;let{children:a}=this.props;const c=Object.assign({},(0,y.Z)(a,"props.style")),l={};if(i){const e=this.isSpecial(a);e?(c.pointerEvents="none",e===R.j2.STATUS_DISABLED&&(l.cursor="not-allowed"),a=(0,_.cloneElement)(a,{style:c}),"custom"!==s&&(a=this.wrapSpan(a)),this.isWrapped=!0):(0,_.isValidElement)(a)||(a=this.wrapSpan(a),this.isWrapped=!0)}let u={};"dialog"===o?(u["aria-expanded"]=r?"true":"false",u["aria-haspopup"]="dialog",u["aria-controls"]=n):u["aria-describedby"]=n;const d=_.cloneElement(a,Object.assign(Object.assign(Object.assign(Object.assign({},u),a.props),this.mergeEvents(a.props,t)),{style:Object.assign(Object.assign({},(0,y.Z)(a,"props.style")),l),className:O()((0,y.Z)(a,"props.className")),ref:e=>{this.triggerEl.current=e;const{ref:t}=a;"function"==typeof t?t(e):t&&"object"==typeof t&&(t.current=e)},tabIndex:a.props.tabIndex||0,"data-popupid":n}));return _.createElement(_.Fragment,null,e?this.renderPortal():null,d)}}Q.contextType=Z.Z,Q.propTypes={children:C().node,motion:C().bool,autoAdjustOverflow:C().bool,position:C().oneOf(q),getPopupContainer:C().func,mouseEnterDelay:C().number,mouseLeaveDelay:C().number,trigger:C().oneOf(X).isRequired,className:C().string,wrapperClassName:C().string,clickToHide:C().bool,clickTriggerToHide:C().bool,visible:C().bool,style:C().object,content:C().oneOfType([C().node,C().func]),prefixCls:C().string,onVisibleChange:C().func,onClickOutSide:C().func,spacing:C().oneOfType([C().number,C().object]),margin:C().oneOfType([C().number,C().object]),showArrow:C().oneOfType([C().bool,C().node]),zIndex:C().number,rePosKey:C().oneOfType([C().string,C().number]),arrowBounding:H,transformFromCenter:C().bool,arrowPointAtCenter:C().bool,stopPropagation:C().bool,role:C().string,wrapWhenSpecial:C().bool,guardFocus:C().bool,returnFocusOnClose:C().bool,preventScroll:C().bool,keepDOM:C().bool},Q.defaultProps={arrowBounding:R.KT.ARROW_BOUNDING,autoAdjustOverflow:!0,arrowPointAtCenter:!0,trigger:"hover",transformFromCenter:!0,position:"top",prefixCls:W,role:"tooltip",mouseEnterDelay:R.KT.MOUSE_ENTER_DELAY,mouseLeaveDelay:R.KT.MOUSE_LEAVE_DELAY,motion:!0,onVisibleChange:v.Z,onClickOutSide:v.Z,spacing:R.KT.SPACING,margin:R.KT.MARGIN,showArrow:!0,wrapWhenSpecial:!0,zIndex:R.KT.DEFAULT_Z_INDEX,closeOnEsc:!1,guardFocus:!1,returnFocusOnClose:!1,onEscKeyDown:v.Z,disableFocusListener:!1,disableArrowKeyDown:!1,keepDOM:!1}},31783:(e,t,r)=>{"use strict";r.d(t,{Z:()=>ae});var n=r(88987),i=r(97459),o=r(83873),s=r(24507),a=r(857),c=r(54523);const l=function(e,t,r){(void 0!==r&&!(0,c.Z)(e[t],r)||void 0===r&&!(t in e))&&(0,a.Z)(e,t,r)};var u=r(29148),d=r(14054),h=r(11523),p=r(32126),f=r(16448),g=r(65380),m=r(56052),y=r(84488),v=r(45673),b=r(82433),_=r(54098),w=r(79064);const S=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]};var O=r(52949),E=r(32817);const C=function(e){return(0,O.Z)(e,(0,E.Z)(e))};const x=function(e,t,r,i,o,s,a){var c=S(e,r),u=S(t,r),O=a.get(u);if(O)l(e,r,O);else{var E=s?s(c,u,r+"",e,t,a):void 0,x=void 0===E;if(x){var T=(0,m.Z)(u),k=!T&&(0,v.Z)(u),I=!T&&!k&&(0,w.Z)(u);E=u,T||k||I?(0,m.Z)(c)?E=c:(0,y.Z)(c)?E=(0,p.Z)(c):k?(x=!1,E=(0,d.Z)(u,!0)):I?(x=!1,E=(0,h.Z)(u,!0)):E=[]:(0,_.Z)(u)||(0,g.Z)(u)?(E=c,(0,g.Z)(c)?E=C(c):(0,b.Z)(c)&&!(0,n.Z)(c)||(E=(0,f.Z)(u))):x=!1}x&&(a.set(u,E),o(E,u,i,s,a),a.delete(u)),l(e,r,E)}};const T=function e(t,r,n,i,o){t!==r&&(0,u.Z)(r,(function(a,c){if(o||(o=new s.Z),(0,b.Z)(a))x(t,r,c,n,e,i,o);else{var u=i?i(S(t,c),a,c+"",t,r,o):void 0;void 0===u&&(u=a),l(t,c,u)}}),E.Z)};var k=r(19851),I=r(61833);const P=function(e){return(0,k.Z)((function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,s&&(0,I.Z)(r[0],r[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++n<i;){var a=r[n];a&&e(t,a,n,o)}return t}))}((function(e,t,r){T(e,t,r)}));var j=r(93639),D=r(71180),A=r(50959),R=r(84875),M=r.n(R),N=r(41916),F=r.n(N),z=r(1293),L=r(96230),Z=r(11643),B=r(22732),U=r.n(B),$=r(35043),G=r(32006),H=r(33831);const V=(0,r(95571).A)((function(e){return A.createElement("svg",Object.assign({viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",focusable:!1,"aria-hidden":!0},e),A.createElement("path",{d:"M7 4C7 2.89543 7.89543 2 9 2H20C21.1046 2 22 2.89543 22 4V15C22 16.1046 21.1046 17 20 17H19V8C19 6 18 5 16 5H7V4Z",fill:"currentColor"}),A.createElement("path",{d:"M5 7C3.89543 7 3 7.89543 3 9V19C3 20.1046 3.89543 21 5 21H15C16.1046 21 17 20.1046 17 19V9C17 7.89543 16.1046 7 15 7H5Z",fill:"currentColor"}))}),"copy");var K=r(37375);const W=z.U.PREFIX;class q extends A.PureComponent{constructor(e){super(e),this.copy=e=>{const{content:t,duration:r,onCopy:n}=this.props,i=U()(t);n&&n(e,t,i),this.setCopied(t,r)},this.setCopied=(e,t)=>{this.setState({copied:!0,item:e}),this._timeId=setTimeout((()=>{this.resetCopied()}),1e3*t)},this.resetCopied=()=>{this._timeId&&(clearTimeout(this._timeId),this._timeId=null,this.setState({copied:!1,item:""}))},this.renderSuccessTip=()=>{const{successTip:e}=this.props;return void 0!==e?e:A.createElement(G.Z,{componentName:"Typography"},(e=>A.createElement("span",null,A.createElement(H.Z,null),e.copied)))},this.renderCopyIcon=()=>{const{icon:e}=this.props,t={role:"button",tabIndex:0,onClick:this.copy,onKeyPress:e=>(0,K.Z)(e)&&this.copy(e)},r=A.createElement("a",{className:`${W}-action-copy-icon`},A.createElement(V,Object.assign({onClick:this.copy},t)));return A.isValidElement(e)?A.cloneElement(e,t):r},this.state={copied:!1,item:""}}componentWillUnmount(){this._timeId&&(clearTimeout(this._timeId),this._timeId=null)}render(){const{style:e,className:t,forwardRef:r,copyTip:n}=this.props,{copied:i}=this.state,o=M()(t,{[`${W}-action-copy`]:!i,[`${W}-action-copied`]:i});return A.createElement(G.Z,{componentName:"Typography"},(t=>A.createElement("span",{style:Object.assign({marginLeft:"4px"},e),className:o,ref:r},i?this.renderSuccessTip():A.createElement(Z.Z,{content:void 0!==n?n:t.copy},this.renderCopyIcon()))))}}q.propTypes={content:F().string,onCopy:F().func,successTip:F().node,copyTip:F().node,duration:F().number,style:F().object,className:F().string,icon:F().node},q.defaultProps={content:"",onCopy:$.Z,duration:3,style:{},className:""};const X=q;var J=r(21797),Y=r(10422);let Q;function ee(e){if(!e)return 0;const t=e.match(/^\d*(\.\d*)?/);return t?Number(t[0]):0}const te=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,o=arguments.length>5?arguments[5]:void 0,s=arguments.length>6?arguments[6]:void 0;if(0===r.length)return"";Q||(Q=document.createElement("div"),Q.setAttribute("aria-hidden","true"),document.body.appendChild(Q));const a=window.getComputedStyle(e),c=(l=a,Array.prototype.slice.apply(l).map((e=>`${e}: ${l.getPropertyValue(e)};`)).join(""));var l;const u=ee(a.lineHeight),d=Math.round(u*(t+1)+ee(a.paddingTop)+ee(a.paddingBottom));function h(){const e=Q.scrollWidth<=Q.offsetWidth,r=Q.scrollHeight<d;return 1===t?e&&r:r}Q.setAttribute("style",c),Q.style.position="fixed",Q.style.left="0",Q.style.height="auto",Q.style.top="-999999px",Q.style.zIndex="-1000",Q.style.textOverflow="clip",Q.style.webkitLineClamp="none",Y.render(A.createElement(A.Fragment,null),Q);const p=document.createElement("span"),f=document.createTextNode(r);if(p.appendChild(f),o.length>0){const e=document.createTextNode(o);p.appendChild(e)}function g(e,t){const r=e.length;return t?"end"===s?e.slice(0,t)+i:e.slice(0,t)+i+e.slice(r-t,r):i}Q.appendChild(p),Object.values((0,j.Z)(n,"expand")).map((e=>e&&Q.appendChild(e.cloneNode(!0))));let m=r;return h()||(Q.innerHTML="",Q.appendChild(p),Object.values(n).map((e=>e&&Q.appendChild(e.cloneNode(!0)))),m=function e(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.length,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const a=Math.floor((n+o)/2),c=g(r,a);if(t.textContent=c,n>=o-1&&o>0)for(let i=o;i>=n;i-=1){const e=g(r,i);if(t.textContent=e,h())return e}else if(0===o)return i;return h()?e(t,r,a,o,a):e(t,r,n,a,s)}(f,r,0,"middle"===s?Math.floor(r.length/2):r.length)),Q.innerHTML="",m};var re=r(32890),ne=r(43503),ie=r(82826),oe=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const se=z.U.PREFIX;class ae extends A.Component{constructor(e){super(e),this.onResize=()=>{this.rafId&&window.cancelAnimationFrame(this.rafId),this.rafId=window.requestAnimationFrame(this.getEllipsisState.bind(this))},this.canUseCSSEllipsis=()=>{const{copyable:e}=this.props,{expandable:t,expandText:r,pos:n,suffix:i}=this.getEllipsisOpt();return!t&&(0,D.Z)(r)&&!e&&"end"===n&&!i.length},this.shouldTruncated=e=>{if(!e||e<1)return!1;return e<=1?this.wrapperRef.current.scrollWidth>this.wrapperRef.current.offsetWidth:this.wrapperRef.current.scrollHeight>this.wrapperRef.current.offsetHeight},this.showTooltip=()=>{var e,t;const{isOverflowed:r,isTruncated:n,expanded:i}=this.state,{showTooltip:o,expandable:s,expandText:a}=this.getEllipsisOpt(),c=!i&&(r||n),l=!s&&(0,D.Z)(a)&&c&&o;if(!l)return l;const u={type:"tooltip"};return"object"==typeof o?o.type&&"popover"===o.type.toLowerCase()?P({opts:{showArrow:!0}},o,{opts:{className:M()({[`${se}-ellipsis-popover`]:!0,[null===(e=null==o?void 0:o.opts)||void 0===e?void 0:e.className]:Boolean(null===(t=null==o?void 0:o.opts)||void 0===t?void 0:t.className)})}}):Object.assign(Object.assign({},u),o):u},this.toggleOverflow=e=>{const{onExpand:t,expandable:r,collapsible:n}=this.getEllipsisOpt(),{expanded:i}=this.state;t&&t(!i,e),(r&&!i||n&&i)&&this.setState({expanded:!i})},this.getEllipsisOpt=()=>{const{ellipsis:e}=this.props;if(!e)return{};return Object.assign({rows:1,expandable:!1,pos:"end",suffix:"",showTooltip:!1,collapsible:!1,expandText:e.expandable?this.expandStr:void 0,collapseText:e.collapsible?this.collapseStr:void 0},"object"==typeof e?e:null)},this.renderExpandable=()=>{const{expanded:e,isTruncated:t}=this.state;if(!t)return null;const{expandText:r,expandable:n,collapseText:i,collapsible:o}=this.getEllipsisOpt(),s=!n&&(0,D.Z)(r),a=!o&&(0,D.Z)(i);let c;return e||s?e&&!a&&(c=i):c=r,s&&a?null:A.createElement("a",{role:"button",tabIndex:0,className:`${se}-ellipsis-expand`,key:"expand",ref:this.expandRef,"aria-label":c,onClick:this.toggleOverflow,onKeyPress:e=>(0,K.Z)(e)&&this.toggleOverflow(e)},c)},this.getEllipsisStyle=()=>{const{ellipsis:e,component:t}=this.props;if(!e)return{ellipsisCls:"",ellipsisStyle:{}};const{rows:r}=this.getEllipsisOpt(),{expanded:n}=this.state,i=!n&&this.canUseCSSEllipsis();return{ellipsisCls:M()({[`${se}-ellipsis`]:!0,[`${se}-ellipsis-single-line`]:1===r,[`${se}-ellipsis-multiple-line`]:r>1,[`${se}-ellipsis-multiple-line-text`]:r>1&&"span"===t,[`${se}-ellipsis-overflow-ellipsis`]:1===r&&i,[`${se}-ellipsis-overflow-ellipsis-text`]:1===r&&i&&"span"===t}),ellipsisStyle:i&&r>1?{WebkitLineClamp:r}:{}}},this.renderEllipsisText=e=>{const{suffix:t}=e,{children:r}=this.props,{isTruncated:n,expanded:i,ellipsisContent:o}=this.state;return i||!n?A.createElement(A.Fragment,null,r,t&&t.length?t:null):A.createElement("span",null,o,t)},this.state={editable:!1,copied:!1,isOverflowed:!0,ellipsisContent:e.children,expanded:!1,isTruncated:!0,prevChildren:null},this.wrapperRef=A.createRef(),this.expandRef=A.createRef(),this.copyRef=A.createRef()}componentDidMount(){this.props.ellipsis&&this.onResize()}static getDerivedStateFromProps(e,t){const{prevChildren:r}=t,n={};return n.prevChildren=e.children,e.ellipsis&&r!==e.children&&(n.isOverflowed=!0,n.ellipsisContent=e.children,n.expanded=!1,n.isTruncated=!0),n}componentDidUpdate(e){this.props.children!==e.children&&(this.forceUpdate(),this.props.ellipsis&&this.onResize())}componentWillUnmount(){this.rafId&&window.cancelAnimationFrame(this.rafId)}getEllipsisState(){const{rows:e,suffix:t,pos:r}=this.getEllipsisOpt(),{children:n}=this.props;if(!this.wrapperRef||!this.wrapperRef.current)return this.onResize(),!1;const{expanded:o}=this.state,s=this.canUseCSSEllipsis();if((0,i.Z)(n))return void this.setState({isTruncated:!1,isOverflowed:!1});if((0,re.Z)("children"in this.props&&"string"!=typeof n,"[Semi Typography] Only children with pure text could be used with ellipsis at this moment."),!e||e<0||o)return;if(s){const t=this.shouldTruncated(e);return void this.setState({isOverflowed:t,isTruncated:!1})}const a={expand:this.expandRef.current,copy:this.copyRef&&this.copyRef.current},c=te(this.wrapperRef.current,e,String(n),a,"...",t,r);this.setState({isOverflowed:!1,ellipsisContent:c,isTruncated:n!==c})}renderOperations(){return A.createElement(A.Fragment,null,this.renderExpandable(),this.renderCopy())}renderCopy(){var e;const{copyable:t,children:r}=this.props;if(!t)return null;const n=null!==(e=null==t?void 0:t.content)&&void 0!==e?e:r;let i,o=!1;Array.isArray(n)?(i="",n.forEach((e=>{"object"==typeof e&&(o=!0),i+=String(e)}))):("object"!=typeof n||(o=!0),i=String(n)),(0,re.Z)(o,"Content to be copied in Typography is a object, it will case a [object Object] mistake when copy to clipboard.");const s=Object.assign({content:i,duration:3},"object"==typeof t?t:null);return A.createElement(X,Object.assign({},s,{forwardRef:this.copyRef}))}renderIcon(){const{icon:e,size:t}=this.props;if(!e)return null;const r="small"===t?"small":"default";return A.createElement("span",{className:`${se}-icon`,"x-semi-prop":"icon"},(0,ne.ID)(e)?A.cloneElement(e,{size:r}):e)}renderContent(){const e=this.props,{component:t,children:r,className:n,type:i,spacing:s,disabled:a,style:c,ellipsis:l,icon:u,size:d,link:h,heading:p,weight:f}=e,g=oe(e,["component","children","className","type","spacing","disabled","style","ellipsis","icon","size","link","heading","weight"]),m=(0,j.Z)(g,["strong","editable","mark","copyable","underline","code","delete"]),y=this.renderIcon(),v=this.getEllipsisOpt(),{ellipsisCls:b,ellipsisStyle:_}=this.getEllipsisStyle();let w=l?this.renderEllipsisText(v):r;const S=M()({[`${se}-link-text`]:h,[`${se}-link-underline`]:this.props.underline&&h});w=((e,t)=>{const{mark:r,code:n,underline:i,strong:o,link:s,disabled:a}=e;let c=t;const l=(e,t)=>{let r={};e&&("object"==typeof e&&(r=Object.assign({},e)),c=A.createElement(t,r,c))};return l(r,"mark"),l(n,"code"),l(i&&!s,"u"),l(o,"strong"),l(e.delete,"del"),l(s,a?"span":"a"),c})(this.props,A.createElement(A.Fragment,null,y,this.props.link?A.createElement("span",{className:S},w):w));const O=(0,o.Z)(p)&&/^h[1-6]$/.test(p),E=M()(n,b,{[`${se}-${i}`]:i&&!h,[`${se}-${d}`]:d,[`${se}-link`]:h,[`${se}-disabled`]:a,[`${se}-${s}`]:s,[`${se}-${p}`]:O,[`${se}-${p}-weight-${f}`]:O&&f&&isNaN(Number(f))}),C=Object.assign(Object.assign({},isNaN(Number(f))?{}:{fontWeight:f}),c);return A.createElement(L.Z,Object.assign({className:E,style:Object.assign(Object.assign({},C),_),component:t,forwardRef:this.wrapperRef},m),w,this.renderOperations())}renderTipWrapper(){const{children:e}=this.props,t=this.showTooltip(),r=this.renderContent();if(t){const{type:i,opts:o,renderTooltip:s}=t;return(0,n.Z)(s)?s(e,r):"popover"===i.toLowerCase()?A.createElement(J.Z,Object.assign({content:e,position:"top"},o),r):A.createElement(Z.Z,Object.assign({content:e,position:"top"},o),r)}return r}render(){const e=A.createElement(G.Z,{componentName:"Typography"},(e=>(this.expandStr=e.expand,this.collapseStr=e.collapse,this.renderTipWrapper())));return this.props.ellipsis?A.createElement(ie.Z,{onResize:this.onResize,observeParent:!0},e):e}}ae.propTypes={children:F().node,copyable:F().oneOfType([F().shape({text:F().string,onCopy:F().func,successTip:F().node,copyTip:F().node}),F().bool]),delete:F().bool,disabled:F().bool,ellipsis:F().oneOfType([F().shape({rows:F().number,expandable:F().bool,expandText:F().string,onExpand:F().func,suffix:F().string,showTooltip:F().oneOfType([F().shape({type:F().string,opts:F().object}),F().bool]),collapsible:F().bool,collapseText:F().string,pos:F().oneOf(["end","middle"])}),F().bool]),mark:F().bool,underline:F().bool,link:F().oneOfType([F().object,F().bool]),spacing:F().oneOf(z.j.SPACING),strong:F().bool,size:F().oneOf(z.j.SIZE),type:F().oneOf(z.j.TYPE),style:F().object,className:F().string,icon:F().oneOfType([F().node,F().string]),heading:F().string,component:F().string},ae.defaultProps={children:null,copyable:!1,delete:!1,disabled:!1,ellipsis:!1,icon:"",mark:!1,underline:!1,strong:!1,link:!1,type:"primary",spacing:"normal",size:"normal",style:{},className:""}},75483:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(50959),i=r(41916),o=r.n(i),s=r(84875),a=r.n(s),c=r(1293),l=r(31783);const u=c.U.PREFIX;class d extends n.PureComponent{render(){const{className:e}=this.props,t=a()(e,`${u}-paragraph`);return n.createElement(l.Z,Object.assign({component:"p"},this.props,{className:t}))}}d.propTypes={copyable:o().oneOfType([o().object,o().bool]),delete:o().bool,disabled:o().bool,ellipsis:o().oneOfType([o().object,o().bool]),mark:o().bool,link:o().oneOfType([o().object,o().bool]),underline:o().bool,strong:o().bool,type:o().oneOf(c.j.TYPE),size:o().oneOf(c.j.SIZE),spacing:o().oneOf(c.j.SPACING),style:o().object,className:o().string,component:o().string},d.defaultProps={copyable:!1,delete:!1,disabled:!1,ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",size:"normal",spacing:"normal",style:{},className:""}},81137:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(50959),i=r(41916),o=r.n(i),s=r(1293),a=r(31783);class c extends n.PureComponent{render(){return n.createElement(a.Z,Object.assign({component:"span"},this.props))}}c.propTypes={copyable:o().oneOfType([o().object,o().bool]),delete:o().bool,disabled:o().bool,icon:o().oneOfType([o().node,o().string]),ellipsis:o().oneOfType([o().object,o().bool]),mark:o().bool,underline:o().bool,link:o().oneOfType([o().object,o().bool]),strong:o().bool,type:o().oneOf(s.j.TYPE),size:o().oneOf(s.j.SIZE),style:o().object,className:o().string,code:o().bool,component:o().string},c.defaultProps={copyable:!1,delete:!1,disabled:!1,icon:"",ellipsis:!1,mark:!1,underline:!1,strong:!1,link:!1,type:"primary",style:{},size:"normal",className:""}},96230:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(50959),i=r(84875),o=r.n(i),s=r(41916),a=r.n(s),c=r(1293),l=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]])}return r};const u=c.U.PREFIX;class d extends n.PureComponent{render(){const e=this.props,{component:t,className:r,children:i,forwardRef:s}=e,a=l(e,["component","className","children","forwardRef"]),c=t,d=o()(u,r);return n.createElement(c,Object.assign({className:d,ref:s},a),i)}}d.defaultProps={component:"article",style:{},className:""},d.propTypes={component:a().string,style:a().object,className:a().string};const h=d},65943:e=>{var t=.1,r="function"==typeof Float32Array;function n(e,t){return 1-3*t+3*e}function i(e,t){return 3*t-6*e}function o(e){return 3*e}function s(e,t,r){return((n(t,r)*e+i(t,r))*e+o(t))*e}function a(e,t,r){return 3*n(t,r)*e*e+2*i(t,r)*e+o(t)}function c(e){return e}e.exports=function(e,n,i,o){if(!(0<=e&&e<=1&&0<=i&&i<=1))throw new Error("bezier x values must be in [0, 1] range");if(e===n&&i===o)return c;for(var l=r?new Float32Array(11):new Array(11),u=0;u<11;++u)l[u]=s(u*t,e,i);function d(r){for(var n=0,o=1;10!==o&&l[o]<=r;++o)n+=t;--o;var c=n+(r-l[o])/(l[o+1]-l[o])*t,u=a(c,e,i);return u>=.001?function(e,t,r,n){for(var i=0;i<4;++i){var o=a(t,r,n);if(0===o)return t;t-=(s(t,r,n)-e)/o}return t}(r,c,e,i):0===u?c:function(e,t,r,n,i){var o,a,c=0;do{(o=s(a=t+(r-t)/2,n,i)-e)>0?r=a:t=a}while(Math.abs(o)>1e-7&&++c<10);return a}(r,n,n+t,e,i)}return function(e){return 0===e?0:1===e?1:s(d(e),n,o)}}},6636:e=>{var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};e.exports=t},84875:(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var s=i.apply(null,r);s&&e.push(s)}}else if("object"===o){if(r.toString!==Object.prototype.toString&&!r.toString.toString().includes("[native code]")){e.push(r.toString());continue}for(var a in r)n.call(r,a)&&r[a]&&e.push(a)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(r=function(){return i}.apply(t,[]))||(e.exports=r)}()},22732:e=>{"use strict";const t=(e,{target:t=document.body}={})=>{const r=document.createElement("textarea"),n=document.activeElement;r.value=e,r.setAttribute("readonly",""),r.style.contain="strict",r.style.position="absolute",r.style.left="-9999px",r.style.fontSize="12pt";const i=document.getSelection();let o=!1;i.rangeCount>0&&(o=i.getRangeAt(0)),t.append(r),r.select(),r.selectionStart=0,r.selectionEnd=e.length;let s=!1;try{s=document.execCommand("copy")}catch(a){}return r.remove(),o&&(i.removeAllRanges(),i.addRange(o)),n&&n.focus(),s};e.exports=t,e.exports.default=t},1048:e=>{var t,r;t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&r.rotl(e,8)|4278255360&r.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=r.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var r=[],n=0;n<e.length;n+=3)for(var i=e[n]<<16|e[n+1]<<8|e[n+2],o=0;o<4;o++)8*n+6*o<=8*e.length?r.push(t.charAt(i>>>6*(3-o)&63)):r.push("=");return r.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var r=[],n=0,i=0;n<e.length;i=++n%4)0!=i&&r.push((t.indexOf(e.charAt(n-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(n))>>>6-2*i);return r}},e.exports=r},72100:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&g(e,"error",t,r)}(e,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){var i,o,s,l;if(a(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=c(e))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,l=u,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=u.bind(n);return i.listener=r,n.wrapFn=i,i}function h(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):f(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function f(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function g(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)n(c,this,t);else{var l=c.length,u=f(c,l);for(r=0;r<l;++r)n(u[r],this,t)}return!0},o.prototype.addListener=function(e,t){return l(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return l(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,i,o,s;if(a(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return h(this,e,!0)},o.prototype.rawListeners=function(e){return h(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},3341:e=>{"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,i,o;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(i=n;0!=i--;)if(!e(t[i],r[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(o=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=n;0!=i--;)if(!Object.prototype.hasOwnProperty.call(r,o[i]))return!1;for(i=n;0!=i--;){var s=o[i];if(!e(t[s],r[s]))return!1}return!0}return t!=t&&r!=r}},13149:e=>{function t(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},96706:(e,t,r)=>{var n,i,o,s,a;n=r(1048),i=r(6636).utf8,o=r(13149),s=r(6636).bin,(a=function(e,t){e.constructor==String?e=t&&"binary"===t.encoding?s.stringToBytes(e):i.stringToBytes(e):o(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var r=n.bytesToWords(e),c=8*e.length,l=1732584193,u=-271733879,d=-1732584194,h=271733878,p=0;p<r.length;p++)r[p]=16711935&(r[p]<<8|r[p]>>>24)|4278255360&(r[p]<<24|r[p]>>>8);r[c>>>5]|=128<<c%32,r[14+(c+64>>>9<<4)]=c;var f=a._ff,g=a._gg,m=a._hh,y=a._ii;for(p=0;p<r.length;p+=16){var v=l,b=u,_=d,w=h;l=f(l,u,d,h,r[p+0],7,-680876936),h=f(h,l,u,d,r[p+1],12,-389564586),d=f(d,h,l,u,r[p+2],17,606105819),u=f(u,d,h,l,r[p+3],22,-1044525330),l=f(l,u,d,h,r[p+4],7,-176418897),h=f(h,l,u,d,r[p+5],12,1200080426),d=f(d,h,l,u,r[p+6],17,-1473231341),u=f(u,d,h,l,r[p+7],22,-45705983),l=f(l,u,d,h,r[p+8],7,1770035416),h=f(h,l,u,d,r[p+9],12,-1958414417),d=f(d,h,l,u,r[p+10],17,-42063),u=f(u,d,h,l,r[p+11],22,-1990404162),l=f(l,u,d,h,r[p+12],7,1804603682),h=f(h,l,u,d,r[p+13],12,-40341101),d=f(d,h,l,u,r[p+14],17,-1502002290),l=g(l,u=f(u,d,h,l,r[p+15],22,1236535329),d,h,r[p+1],5,-165796510),h=g(h,l,u,d,r[p+6],9,-1069501632),d=g(d,h,l,u,r[p+11],14,643717713),u=g(u,d,h,l,r[p+0],20,-373897302),l=g(l,u,d,h,r[p+5],5,-701558691),h=g(h,l,u,d,r[p+10],9,38016083),d=g(d,h,l,u,r[p+15],14,-660478335),u=g(u,d,h,l,r[p+4],20,-405537848),l=g(l,u,d,h,r[p+9],5,568446438),h=g(h,l,u,d,r[p+14],9,-1019803690),d=g(d,h,l,u,r[p+3],14,-187363961),u=g(u,d,h,l,r[p+8],20,1163531501),l=g(l,u,d,h,r[p+13],5,-1444681467),h=g(h,l,u,d,r[p+2],9,-51403784),d=g(d,h,l,u,r[p+7],14,1735328473),l=m(l,u=g(u,d,h,l,r[p+12],20,-1926607734),d,h,r[p+5],4,-378558),h=m(h,l,u,d,r[p+8],11,-2022574463),d=m(d,h,l,u,r[p+11],16,1839030562),u=m(u,d,h,l,r[p+14],23,-35309556),l=m(l,u,d,h,r[p+1],4,-1530992060),h=m(h,l,u,d,r[p+4],11,1272893353),d=m(d,h,l,u,r[p+7],16,-155497632),u=m(u,d,h,l,r[p+10],23,-1094730640),l=m(l,u,d,h,r[p+13],4,681279174),h=m(h,l,u,d,r[p+0],11,-358537222),d=m(d,h,l,u,r[p+3],16,-722521979),u=m(u,d,h,l,r[p+6],23,76029189),l=m(l,u,d,h,r[p+9],4,-640364487),h=m(h,l,u,d,r[p+12],11,-421815835),d=m(d,h,l,u,r[p+15],16,530742520),l=y(l,u=m(u,d,h,l,r[p+2],23,-995338651),d,h,r[p+0],6,-198630844),h=y(h,l,u,d,r[p+7],10,1126891415),d=y(d,h,l,u,r[p+14],15,-1416354905),u=y(u,d,h,l,r[p+5],21,-57434055),l=y(l,u,d,h,r[p+12],6,1700485571),h=y(h,l,u,d,r[p+3],10,-1894986606),d=y(d,h,l,u,r[p+10],15,-1051523),u=y(u,d,h,l,r[p+1],21,-2054922799),l=y(l,u,d,h,r[p+8],6,1873313359),h=y(h,l,u,d,r[p+15],10,-30611744),d=y(d,h,l,u,r[p+6],15,-1560198380),u=y(u,d,h,l,r[p+13],21,1309151649),l=y(l,u,d,h,r[p+4],6,-145523070),h=y(h,l,u,d,r[p+11],10,-1120210379),d=y(d,h,l,u,r[p+2],15,718787259),u=y(u,d,h,l,r[p+9],21,-343485551),l=l+v>>>0,u=u+b>>>0,d=d+_>>>0,h=h+w>>>0}return n.endian([l,u,d,h])})._ff=function(e,t,r,n,i,o,s){var a=e+(t&r|~t&n)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._gg=function(e,t,r,n,i,o,s){var a=e+(t&n|r&~n)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._hh=function(e,t,r,n,i,o,s){var a=e+(t^r^n)+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._ii=function(e,t,r,n,i,o,s){var a=e+(r^(t|~n))+(i>>>0)+s;return(a<<o|a>>>32-o)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,t){if(null==e)throw new Error("Illegal argument "+e);var r=n.wordsToBytes(a(e,t));return t&&t.asBytes?r:t&&t.asString?s.bytesToString(r):n.bytesToHex(r)}},32913:()=>{},52918:(e,t,r)=>{"use strict";r.d(t,{jd:()=>d,FY:()=>l,Pi:()=>b,fv:()=>w});var n=r(66589),i=r(50959);if(!i.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!n.rC)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var o=r(10422);function s(e){e()}function a(e){return(0,n.Gf)(e)}var c=!1;function l(){return c}var u=function(){function e(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(e){void 0===e&&(e=1e4),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var r=Date.now();t.registrations.forEach((function(n,i){r-n.registeredAt>=e&&(t.finalize(n.value),t.registrations.delete(i))})),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,r){this.registrations.set(r,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){void 0===this.sweepTimeout&&(this.sweepTimeout=setTimeout(this.sweep,1e4))}}),e}(),d=new("undefined"!=typeof FinalizationRegistry?FinalizationRegistry:u)((function(e){var t;null===(t=e.reaction)||void 0===t||t.dispose(),e.reaction=null})),h=r(4322),p=function(){};function f(e){e.reaction=new n.le("observer".concat(e.name),(function(){var t;e.stateVersion=Symbol(),null===(t=e.onStoreChange)||void 0===t||t.call(e)}))}function g(e,t){if(void 0===t&&(t="observed"),l())return e();var r=i.useRef(null);if(!r.current){var n={reaction:null,onStoreChange:null,stateVersion:Symbol(),name:t,subscribe:function(e){return d.unregister(n),n.onStoreChange=e,n.reaction||(f(n),n.stateVersion=Symbol()),function(){var e;n.onStoreChange=null,null===(e=n.reaction)||void 0===e||e.dispose(),n.reaction=null}},getSnapshot:function(){return n.stateVersion}};r.current=n}var o,s,c=r.current;if(c.reaction||(f(c),d.register(r,c,c)),i.useDebugValue(c.reaction,a),(0,h.useSyncExternalStore)(c.subscribe,c.getSnapshot,p),c.reaction.track((function(){try{o=e()}catch(t){s=t}})),s)throw s;return o}var m="function"==typeof Symbol&&Symbol.for,y=m?Symbol.for("react.forward_ref"):"function"==typeof i.forwardRef&&(0,i.forwardRef)((function(e){return null})).$$typeof,v=m?Symbol.for("react.memo"):"function"==typeof i.memo&&(0,i.memo)((function(e){return null})).$$typeof;function b(e,t){var r;if(v&&e.$$typeof===v)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if(l())return e;var n=null!==(r=null==t?void 0:t.forwardRef)&&void 0!==r&&r,o=e,s=e.displayName||e.name;if(y&&e.$$typeof===y&&(n=!0,"function"!=typeof(o=e.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var a,c,u=function(e,t){return g((function(){return o(e,t)}),s)};return u.displayName=e.displayName,Object.defineProperty(u,"name",{value:e.name,writable:!0,configurable:!0}),e.contextTypes&&(u.contextTypes=e.contextTypes),n&&(u=(0,i.forwardRef)(u)),u=(0,i.memo)(u),a=e,c=u,Object.keys(a).forEach((function(e){_[e]||Object.defineProperty(c,e,Object.getOwnPropertyDescriptor(a,e))})),u}var _={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function w(e,t){return(0,i.useState)((function(){return(0,n.LO)(e(),t,{autoBind:!0})}))[0]}var S,O;(O=o.unstable_batchedUpdates)||(O=s),(0,n.jQ)({reactionScheduler:O});S=d.finalizeAllImmediately},22780:(e,t,r)=>{"use strict";var n=r(66038);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,r,i,o,s){if(s!==n){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at fb homepage");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return r.PropTypes=r,r}},41916:(e,t,r)=>{e.exports=r(22780)()},66038:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},73023:(e,t,r)=>{"use strict";r.d(t,{Z:()=>E});var n=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var r=-1;return e.some((function(e,n){return e[0]===t&&(r=n,!0)})),r}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var r=e(this.__entries__,t),n=this.__entries__[r];return n&&n[1]},t.prototype.set=function(t,r){var n=e(this.__entries__,t);~n?this.__entries__[n][1]=r:this.__entries__.push([t,r])},t.prototype.delete=function(t){var r=this.__entries__,n=e(r,t);~n&&r.splice(n,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var r=0,n=this.__entries__;r<n.length;r++){var i=n[r];e.call(t,i[1],i[0])}},t}()}(),i="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,o=void 0!==r.g&&r.g.Math===Math?r.g:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),s="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var a=["top","right","bottom","left","width","height","size","weight"],c="undefined"!=typeof MutationObserver,l=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var r=!1,n=!1,i=0;function o(){r&&(r=!1,e()),n&&c()}function a(){s(o)}function c(){var e=Date.now();if(r){if(e-i<2)return;n=!0}else r=!0,n=!1,setTimeout(a,t);i=e}return c}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),c?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=void 0===t?"":t;a.some((function(e){return!!~r.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),u=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},d=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},h=v(0,0,0,0);function p(e){return parseFloat(e)||0}function f(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce((function(t,r){return t+p(e["border-"+r+"-width"])}),0)}function g(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return h;var n=d(e).getComputedStyle(e),i=function(e){for(var t={},r=0,n=["top","right","bottom","left"];r<n.length;r++){var i=n[r],o=e["padding-"+i];t[i]=p(o)}return t}(n),o=i.left+i.right,s=i.top+i.bottom,a=p(n.width),c=p(n.height);if("border-box"===n.boxSizing&&(Math.round(a+o)!==t&&(a-=f(n,"left","right")+o),Math.round(c+s)!==r&&(c-=f(n,"top","bottom")+s)),!function(e){return e===d(e).document.documentElement}(e)){var l=Math.round(a+o)-t,u=Math.round(c+s)-r;1!==Math.abs(l)&&(a-=l),1!==Math.abs(u)&&(c-=u)}return v(i.left,i.top,a,c)}var m="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof d(e).SVGGraphicsElement}:function(e){return e instanceof d(e).SVGElement&&"function"==typeof e.getBBox};function y(e){return i?m(e)?function(e){var t=e.getBBox();return v(0,0,t.width,t.height)}(e):g(e):h}function v(e,t,r,n){return{x:e,y:t,width:r,height:n}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=v(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=y(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),_=function(e,t){var r,n,i,o,s,a,c,l=(n=(r=t).x,i=r.y,o=r.width,s=r.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,c=Object.create(a.prototype),u(c,{x:n,y:i,width:o,height:s,top:i,right:n+o,bottom:s+i,left:n}),c);u(this,{target:e,contentRect:l})},w=function(){function e(e,t,r){if(this.activeObservations_=[],this.observations_=new n,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof d(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new _(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),S="undefined"!=typeof WeakMap?new WeakMap:new n,O=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=l.getInstance(),n=new w(t,r,this);S.set(this,n)};["observe","unobserve","disconnect"].forEach((function(e){O.prototype[e]=function(){var t;return(t=S.get(this))[e].apply(t,arguments)}}));const E=void 0!==o.ResizeObserver?o.ResizeObserver:O},12415:(e,t,r)=>{"use strict";var n=r(50959);var i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=n.useState,s=n.useEffect,a=n.useLayoutEffect,c=n.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!i(e,r)}catch(n){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=o({inst:{value:r,getSnapshot:t}}),i=n[0].inst,u=n[1];return a((function(){i.value=r,i.getSnapshot=t,l(i)&&u({inst:i})}),[e,r,t]),s((function(){return l(i)&&u({inst:i}),e((function(){l(i)&&u({inst:i})}))}),[e]),c(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},4322:(e,t,r)=>{"use strict";e.exports=r(12415)},6346:(e,t,r)=>{"use strict";function n(e,t,...r){if("undefined"!=typeof process&&void 0===t)throw new Error("invariant requires an error message argument");if(!e){let e;if(void 0===t)e=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let n=0;e=new Error(t.replace(/%s/g,(function(){return r[n++]}))),e.name="Invariant Violation"}throw e.framesToPop=1,e}}r.d(t,{k:()=>n})},98789:(e,t,r)=>{"use strict";function n(e,t,r,n){let i=r?r.call(n,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;const o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;const a=Object.prototype.hasOwnProperty.bind(t);for(let c=0;c<o.length;c++){const s=o[c];if(!a(s))return!1;const l=e[s],u=t[s];if(i=r?r.call(n,l,u,s):void 0,!1===i||void 0===i&&l!==u)return!1}return!0}r.d(t,{w:()=>n})},61694:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(91380);const i=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};const o=function(e){return this.__data__.has(e)};function s(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n.Z;++t<r;)this.add(e[t])}s.prototype.add=s.prototype.push=i,s.prototype.has=o;const a=s},28019:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}},29148:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=function(e){return function(t,r,n){for(var i=-1,o=Object(t),s=n(t),a=s.length;a--;){var c=s[e?a:++i];if(!1===r(o[c],c,o))break}return t}}()},49084:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(76750),i=r(13383);const o=function(e,t){for(var r=0,o=(t=(0,n.Z)(t,e)).length;null!=e&&r<o;)e=e[(0,i.Z)(t[r++])];return r&&r==o?e:void 0}},95297:(e,t,r)=>{"use strict";r.d(t,{Z:()=>I});var n=r(24507),i=r(61694);const o=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1};var s=r(20465);const a=function(e,t,r,n,a,c){var l=1&r,u=e.length,d=t.length;if(u!=d&&!(l&&d>u))return!1;var h=c.get(e),p=c.get(t);if(h&&p)return h==t&&p==e;var f=-1,g=!0,m=2&r?new i.Z:void 0;for(c.set(e,t),c.set(t,e);++f<u;){var y=e[f],v=t[f];if(n)var b=l?n(v,y,f,t,e,c):n(y,v,f,e,t,c);if(void 0!==b){if(b)continue;g=!1;break}if(m){if(!o(t,(function(e,t){if(!(0,s.Z)(m,t)&&(y===e||a(y,e,r,n,c)))return m.push(t)}))){g=!1;break}}else if(y!==v&&!a(y,v,r,n,c)){g=!1;break}}return c.delete(e),c.delete(t),g};var c=r(66711),l=r(16299),u=r(54523);const d=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r};const h=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r};var p=c.Z?c.Z.prototype:void 0,f=p?p.valueOf:void 0;const g=function(e,t,r,n,i,o,s){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new l.Z(e),new l.Z(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,u.Z)(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var c=d;case"[object Set]":var p=1&n;if(c||(c=h),e.size!=t.size&&!p)return!1;var g=s.get(e);if(g)return g==t;n|=2,s.set(e,t);var m=a(c(e),c(t),n,i,o,s);return s.delete(e),m;case"[object Symbol]":if(f)return f.call(e)==f.call(t)}return!1};var m=r(38366),y=Object.prototype.hasOwnProperty;const v=function(e,t,r,n,i,o){var s=1&r,a=(0,m.Z)(e),c=a.length;if(c!=(0,m.Z)(t).length&&!s)return!1;for(var l=c;l--;){var u=a[l];if(!(s?u in t:y.call(t,u)))return!1}var d=o.get(e),h=o.get(t);if(d&&h)return d==t&&h==e;var p=!0;o.set(e,t),o.set(t,e);for(var f=s;++l<c;){var g=e[u=a[l]],v=t[u];if(n)var b=s?n(v,g,u,t,e,o):n(g,v,u,e,t,o);if(!(void 0===b?g===v||i(g,v,r,n,o):b)){p=!1;break}f||(f="constructor"==u)}if(p&&!f){var _=e.constructor,w=t.constructor;_==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w||(p=!1)}return o.delete(e),o.delete(t),p};var b=r(25922),_=r(56052),w=r(45673),S=r(79064),O="[object Arguments]",E="[object Array]",C="[object Object]",x=Object.prototype.hasOwnProperty;const T=function(e,t,r,i,o,s){var c=(0,_.Z)(e),l=(0,_.Z)(t),u=c?E:(0,b.Z)(e),d=l?E:(0,b.Z)(t),h=(u=u==O?C:u)==C,p=(d=d==O?C:d)==C,f=u==d;if(f&&(0,w.Z)(e)){if(!(0,w.Z)(t))return!1;c=!0,h=!1}if(f&&!h)return s||(s=new n.Z),c||(0,S.Z)(e)?a(e,t,r,i,o,s):g(e,t,u,r,i,o,s);if(!(1&r)){var m=h&&x.call(e,"__wrapped__"),y=p&&x.call(t,"__wrapped__");if(m||y){var T=m?e.value():e,k=y?t.value():t;return s||(s=new n.Z),o(T,k,r,i,s)}}return!!f&&(s||(s=new n.Z),v(e,t,r,i,o,s))};var k=r(13795);const I=function e(t,r,n,i,o){return t===r||(null==t||null==r||!(0,k.Z)(t)&&!(0,k.Z)(r)?t!=t&&r!=r:T(t,r,n,i,e,o))}},62304:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(49084),i=r(23188),o=r(76750);const s=function(e,t,r){for(var s=-1,a=t.length,c={};++s<a;){var l=t[s],u=(0,n.Z)(e,l);r(u,l)&&(0,i.Z)(c,(0,o.Z)(l,e),u)}return c}},19851:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(76402),i=r(38416),o=r(80744);const s=function(e,t){return(0,o.Z)((0,i.Z)(e,t,n.Z),e+"")}},23188:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(61572),i=r(76750),o=r(99313),s=r(82433),a=r(13383);const c=function(e,t,r,c){if(!(0,s.Z)(e))return e;for(var l=-1,u=(t=(0,i.Z)(t,e)).length,d=u-1,h=e;null!=h&&++l<u;){var p=(0,a.Z)(t[l]),f=r;if("__proto__"===p||"constructor"===p||"prototype"===p)return e;if(l!=d){var g=h[p];void 0===(f=c?c(g,p,h):void 0)&&(f=(0,s.Z)(g)?g:(0,o.Z)(t[l+1])?[]:{})}(0,n.Z)(h,p,f),h=h[p]}return e}},38459:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}},79824:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(76750);const i=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var o=r(49084),s=r(38459);const a=function(e,t){return t.length<2?e:(0,o.Z)(e,(0,s.Z)(t,0,-1))};var c=r(13383);const l=function(e,t){return t=(0,n.Z)(t,e),null==(e=a(e,t))||delete e[(0,c.Z)(i(t))]}},20465:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=function(e,t){return e.has(t)}},76750:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(56052),i=r(61070),o=r(72e3),s=r(99757);const a=function(e,t){return(0,n.Z)(e)?e:(0,i.Z)(e,t)?[e]:(0,o.Z)((0,s.Z)(e))}},19619:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(18573),i=r(66711),o=r(65380),s=r(56052),a=i.Z?i.Z.isConcatSpreadable:void 0;const c=function(e){return(0,s.Z)(e)||(0,o.Z)(e)||!!(a&&e&&e[a])};const l=function e(t,r,i,o,s){var a=-1,l=t.length;for(i||(i=c),s||(s=[]);++a<l;){var u=t[a];r>0&&i(u)?r>1?e(u,r-1,i,o,s):(0,n.Z)(s,u):o||(s[s.length]=u)}return s};const u=function(e){return(null==e?0:e.length)?l(e,1):[]};var d=r(38416),h=r(80744);const p=function(e){return(0,h.Z)((0,d.Z)(e,void 0,u),e+"")}},61833:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(54523),i=r(49634),o=r(99313),s=r(82433);const a=function(e,t,r){if(!(0,s.Z)(r))return!1;var a=typeof t;return!!("number"==a?(0,i.Z)(r)&&(0,o.Z)(t,r.length):"string"==a&&t in r)&&(0,n.Z)(r[t],e)}},61070:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(56052),i=r(98111),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;const a=function(e,t){if((0,n.Z)(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!(0,i.Z)(e))||(s.test(e)||!o.test(e)||null!=t&&e in Object(t))}},38416:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});const n=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)};var i=Math.max;const o=function(e,t,r){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,s=-1,a=i(o.length-t,0),c=Array(a);++s<a;)c[s]=o[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=o[s];return l[t]=r(c),n(e,this,l)}}},80744:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});const n=function(e){return function(){return e}};var i=r(55136),o=r(76402);const s=i.Z?function(e,t){return(0,i.Z)(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:o.Z;var a=Date.now;const c=function(e){var t=0,r=0;return function(){var n=a(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(s)},72e3:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(91380);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(i.Cache||n.Z),r}i.Cache=n.Z;const o=i;var s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g;const c=function(e){var t=o(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(s,(function(e,r,n,i){t.push(n?i.replace(a,"$1"):r||e)})),t}))},13383:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(98111);const i=function(e){if("string"==typeof e||(0,n.Z)(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},82665:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(38459),i=r(61833),o=r(248),s=Math.ceil,a=Math.max;const c=function(e,t,r){t=(r?(0,i.Z)(e,t,r):void 0===t)?1:a((0,o.Z)(t),0);var c=null==e?0:e.length;if(!c||t<1)return[];for(var l=0,u=0,d=Array(s(c/t));l<c;)d[u++]=(0,n.Z)(e,l,l+=t);return d}},54029:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(49084);const i=function(e,t,r){var i=null==e?void 0:(0,n.Z)(e,t);return void 0===i?r:i}},90177:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});const n=function(e,t){return null!=e&&t in Object(e)};var i=r(76750),o=r(65380),s=r(56052),a=r(99313),c=r(65743),l=r(13383);const u=function(e,t,r){for(var n=-1,u=(t=(0,i.Z)(t,e)).length,d=!1;++n<u;){var h=(0,l.Z)(t[n]);if(!(d=null!=e&&r(e,h)))break;e=e[h]}return d||++n!=u?d:!!(u=null==e?0:e.length)&&(0,c.Z)(u)&&(0,a.Z)(h,u)&&((0,s.Z)(e)||(0,o.Z)(e))};const d=function(e,t){return null!=e&&u(e,t,n)}},76402:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=function(e){return e}},84488:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(49634),i=r(13795);const o=function(e){return(0,i.Z)(e)&&(0,n.Z)(e)}},83350:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(33918),i=r(13795);const o=function(e){return!0===e||!1===e||(0,i.Z)(e)&&"[object Boolean]"==(0,n.Z)(e)}},15943:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(88343),i=r(25922),o=r(65380),s=r(56052),a=r(49634),c=r(45673),l=r(5196),u=r(79064),d=Object.prototype.hasOwnProperty;const h=function(e){if(null==e)return!0;if((0,a.Z)(e)&&((0,s.Z)(e)||"string"==typeof e||"function"==typeof e.splice||(0,c.Z)(e)||(0,u.Z)(e)||(0,o.Z)(e)))return!e.length;var t=(0,i.Z)(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if((0,l.Z)(e))return!(0,n.Z)(e).length;for(var r in e)if(d.call(e,r))return!1;return!0}},50279:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(95297);const i=function(e,t){return(0,n.Z)(e,t)}},97459:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=function(e){return null===e}},69708:(e,t,r)=>{"use strict";r.d(t,{Z:()=>o});var n=r(33918),i=r(13795);const o=function(e){return"number"==typeof e||(0,i.Z)(e)&&"[object Number]"==(0,n.Z)(e)}},54098:(e,t,r)=>{"use strict";r.d(t,{Z:()=>d});var n=r(33918),i=r(10964),o=r(13795),s=Function.prototype,a=Object.prototype,c=s.toString,l=a.hasOwnProperty,u=c.call(Object);const d=function(e){if(!(0,o.Z)(e)||"[object Object]"!=(0,n.Z)(e))return!1;var t=(0,i.Z)(e);if(null===t)return!0;var r=l.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)==u}},83873:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(33918),i=r(56052),o=r(13795);const s=function(e){return"string"==typeof e||!(0,i.Z)(e)&&(0,o.Z)(e)&&"[object String]"==(0,n.Z)(e)}},71180:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=function(e){return void 0===e}},55883:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});const n=function(){}},93639:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(28019),i=r(67062),o=r(79824),s=r(76750),a=r(52949),c=r(54098);const l=function(e){return(0,c.Z)(e)?void 0:e};var u=r(19619),d=r(96842);const h=(0,u.Z)((function(e,t){var r={};if(null==e)return r;var c=!1;t=(0,n.Z)(t,(function(t){return t=(0,s.Z)(t,e),c||(c=t.length>1),t})),(0,a.Z)(e,(0,d.Z)(e),r),c&&(r=(0,i.Z)(r,7,l));for(var u=t.length;u--;)(0,o.Z)(r,t[u]);return r}))},23073:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(62304),i=r(90177);const o=function(e,t){return(0,n.Z)(e,t,(function(t,r){return(0,i.Z)(e,r)}))};const s=(0,r(19619).Z)((function(e,t){return null==e?{}:o(e,t)}))},19780:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});var n=r(23188);const i=function(e,t,r){return null==e?e:(0,n.Z)(e,t,r)}},93302:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(82433),i=r(99615);const o=function(){return i.Z.Date.now()};var s=r(28106),a=Math.max,c=Math.min;const l=function(e,t,r){var i,l,u,d,h,p,f=0,g=!1,m=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var r=i,n=l;return i=l=void 0,f=t,d=e.apply(n,r)}function b(e){var r=e-p;return void 0===p||r>=t||r<0||m&&e-f>=u}function _(){var e=o();if(b(e))return w(e);h=setTimeout(_,function(e){var r=t-(e-p);return m?c(r,u-(e-f)):r}(e))}function w(e){return h=void 0,y&&i?v(e):(i=l=void 0,d)}function S(){var e=o(),r=b(e);if(i=arguments,l=this,p=e,r){if(void 0===h)return function(e){return f=e,h=setTimeout(_,t),g?v(e):d}(p);if(m)return clearTimeout(h),h=setTimeout(_,t),v(p)}return void 0===h&&(h=setTimeout(_,t)),d}return t=(0,s.Z)(t)||0,(0,n.Z)(r)&&(g=!!r.leading,u=(m="maxWait"in r)?a((0,s.Z)(r.maxWait)||0,t):u,y="trailing"in r?!!r.trailing:y),S.cancel=function(){void 0!==h&&clearTimeout(h),f=0,i=p=l=h=void 0},S.flush=function(){return void 0===h?d:w(o())},S};const u=function(e,t,r){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return(0,n.Z)(r)&&(i="leading"in r?!!r.leading:i,o="trailing"in r?!!r.trailing:o),l(e,t,{leading:i,maxWait:t,trailing:o})}},88375:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(28019),i=r(32126),o=r(56052),s=r(98111),a=r(72e3),c=r(13383),l=r(99757);const u=function(e){return(0,o.Z)(e)?(0,n.Z)(e,c.Z):(0,s.Z)(e)?[e]:(0,i.Z)((0,a.Z)((0,l.Z)(e)))}},99757:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(66711),i=r(28019),o=r(56052),s=r(98111),a=n.Z?n.Z.prototype:void 0,c=a?a.toString:void 0;const l=function e(t){if("string"==typeof t)return t;if((0,o.Z)(t))return(0,i.Z)(t,e)+"";if((0,s.Z)(t))return c?c.call(t):"";var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r};const u=function(e){return null==e?"":l(e)}},4690:(e,t,r)=>{"use strict";r.d(t,{PD:()=>C});var n={};function i(e){let t=null;return()=>(null==t&&(t=e()),t)}r.r(n),r.d(n,{FILE:()=>a,HTML:()=>u,TEXT:()=>l,URL:()=>c});class o{enter(e){const t=this.entered.length;return this.entered=function(e,t){const r=new Set,n=e=>r.add(e);e.forEach(n),t.forEach(n);const i=[];return r.forEach((e=>i.push(e))),i}(this.entered.filter((t=>this.isNodeInDocument(t)&&(!t.contains||t.contains(e)))),[e]),0===t&&this.entered.length>0}leave(e){const t=this.entered.length;var r,n;return this.entered=(r=this.entered.filter(this.isNodeInDocument),n=e,r.filter((e=>e!==n))),t>0&&0===this.entered.length}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class s{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach((e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get:()=>(console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null)})}))}loadDataTransfer(e){if(e){const t={};Object.keys(this.config.exposeProperties).forEach((r=>{const n=this.config.exposeProperties[r];null!=n&&(t[r]={value:n(e,this.config.matchesTypes),configurable:!0,enumerable:!0})})),Object.defineProperties(this.item,t)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,t){return t===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const a="__NATIVE_FILE__",c="__NATIVE_URL__",l="__NATIVE_TEXT__",u="__NATIVE_HTML__";function d(e,t,r){const n=t.reduce(((t,r)=>t||e.getData(r)),"");return null!=n?n:r}const h={[a]:{exposeProperties:{files:e=>Array.prototype.slice.call(e.files),items:e=>e.items,dataTransfer:e=>e},matchesTypes:["Files"]},[u]:{exposeProperties:{html:(e,t)=>d(e,t,""),dataTransfer:e=>e},matchesTypes:["Html","text/html"]},[c]:{exposeProperties:{urls:(e,t)=>d(e,t,"").split("\n"),dataTransfer:e=>e},matchesTypes:["Url","text/uri-list"]},[l]:{exposeProperties:{text:(e,t)=>d(e,t,""),dataTransfer:e=>e},matchesTypes:["Text","text/plain"]}};function p(e){if(!e)return null;const t=Array.prototype.slice.call(e.types||[]);return Object.keys(h).filter((e=>{const r=h[e];return!!(null==r?void 0:r.matchesTypes)&&r.matchesTypes.some((e=>t.indexOf(e)>-1))}))[0]||null}const f=i((()=>/firefox/i.test(navigator.userAgent))),g=i((()=>Boolean(window.safari)));class m{interpolate(e){const{xs:t,ys:r,c1s:n,c2s:i,c3s:o}=this;let s=t.length-1;if(e===t[s])return r[s];let a,c=0,l=o.length-1;for(;c<=l;){a=Math.floor(.5*(c+l));const n=t[a];if(n<e)c=a+1;else{if(!(n>e))return r[a];l=a-1}}s=Math.max(0,l);const u=e-t[s],d=u*u;return r[s]+n[s]*u+i[s]*d+o[s]*u*d}constructor(e,t){const{length:r}=e,n=[];for(let p=0;p<r;p++)n.push(p);n.sort(((t,r)=>e[t]<e[r]?-1:1));const i=[],o=[],s=[];let a,c;for(let p=0;p<r-1;p++)a=e[p+1]-e[p],c=t[p+1]-t[p],o.push(a),i.push(c),s.push(c/a);const l=[s[0]];for(let p=0;p<o.length-1;p++){const e=s[p],t=s[p+1];if(e*t<=0)l.push(0);else{a=o[p];const r=o[p+1],n=a+r;l.push(3*n/((n+r)/e+(n+a)/t))}}l.push(s[s.length-1]);const u=[],d=[];let h;for(let p=0;p<l.length-1;p++){h=s[p];const e=l[p],t=1/o[p],r=e+l[p+1]-h-h;u.push((h-e-r)*t),d.push(r*t*t)}this.xs=e,this.ys=t,this.c1s=l,this.c2s=u,this.c3s=d}}const y=1;function v(e){const t=e.nodeType===y?e:e.parentElement;if(!t)return null;const{top:r,left:n}=t.getBoundingClientRect();return{x:n,y:r}}function b(e){return{x:e.clientX,y:e.clientY}}function _(e,t,r,n,i){const o="IMG"===(s=t).nodeName&&(f()||!(null===(a=document.documentElement)||void 0===a?void 0:a.contains(s)));var s,a;const c=v(o?e:t),l={x:r.x-c.x,y:r.y-c.y},{offsetWidth:u,offsetHeight:d}=e,{anchorX:h,anchorY:p}=n,{dragPreviewWidth:y,dragPreviewHeight:b}=function(e,t,r,n){let i=e?t.width:r,o=e?t.height:n;return g()&&e&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}(o,t,u,d),{offsetX:_,offsetY:w}=i,S=0===w||w;return{x:0===_||_?_:new m([0,.5,1],[l.x,l.x/u*y,l.x+y-u]).interpolate(h),y:S?w:(()=>{let e=new m([0,.5,1],[l.y,l.y/d*b,l.y+b-d]).interpolate(p);return g()&&o&&(e+=(window.devicePixelRatio-1)*b),e})()}}class w{get window(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}get document(){var e;return(null===(e=this.globalContext)||void 0===e?void 0:e.document)?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}constructor(e,t){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=t}}function S(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){S(e,t,r[t])}))}return e}class E{profile(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;var t;void 0!==e&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(t=this.window)||void 0===t||t.cancelAnimationFrame(this.asyncEndDragFrameId)))}connectDragPreview(e,t,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,t),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,t,r){this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,r);const n=t=>this.handleDragStart(t,e),i=e=>this.handleSelectStart(e);return t.setAttribute("draggable","true"),t.addEventListener("dragstart",n),t.addEventListener("selectstart",i),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",n),t.removeEventListener("selectstart",i),t.setAttribute("draggable","false")}}connectDropTarget(e,t){const r=t=>this.handleDragEnter(t,e),n=t=>this.handleDragOver(t,e),i=t=>this.handleDrop(t,e);return t.addEventListener("dragenter",r),t.addEventListener("dragover",n),t.addEventListener("drop",i),()=>{t.removeEventListener("dragenter",r),t.removeEventListener("dragover",n),t.removeEventListener("drop",i)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return O({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId();return O({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(n).some((t=>n[t]===e))}beginDragNativeItem(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){const r=h[e];if(!r)throw new Error(`native type ${e} has no configuration`);const n=new s(r);return n.loadDataTransfer(t),n}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;this.mouseMoveTimeoutTimer=setTimeout((()=>{var e;return null===(e=this.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){var e;if(this.currentDragSourceNode=null,this.rootElement)null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0);return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}handleDragEnter(e,t){this.dragEnterTargetIds.unshift(t)}handleDragOver(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}handleDrop(e,t){this.dropTargetIds.unshift(t)}constructor(e,t,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=e=>{const t=this.sourceNodes.get(e);return t&&v(t)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=e=>Boolean(e&&this.document&&this.document.body&&this.document.body.contains(e)),this.endDragIfSourceWasRemovedFromDOM=()=>{const e=this.currentDragSourceNode;null==e||this.isNodeInDocument(e)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=e=>{null===this.hoverRafId&&"undefined"!=typeof requestAnimationFrame&&(this.hoverRafId=requestAnimationFrame((()=>{this.monitor.isDragging()&&this.actions.hover(e||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null})))},this.cancelHover=()=>{null!==this.hoverRafId&&"undefined"!=typeof cancelAnimationFrame&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=e=>{if(e.defaultPrevented)return;const{dragStartSourceIds:t}=this;this.dragStartSourceIds=null;const r=b(e);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:r});const{dataTransfer:n}=e,i=p(n);if(this.monitor.isDragging()){if(n&&"function"==typeof n.setDragImage){const e=this.monitor.getSourceId(),t=this.sourceNodes.get(e),i=this.sourcePreviewNodes.get(e)||t;if(i){const{anchorX:e,anchorY:o,offsetX:s,offsetY:a}=this.getCurrentSourcePreviewNodeOptions(),c=_(t,i,r,{anchorX:e,anchorY:o},{offsetX:s,offsetY:a});n.setDragImage(i,c.x,c.y)}}try{null==n||n.setData("application/json",{})}catch(o){}this.setCurrentDragSourceNode(e.target);const{captureDraggingState:t}=this.getCurrentSourcePreviewNodeOptions();t?this.actions.publishDragSource():setTimeout((()=>this.actions.publishDragSource()),0)}else if(i)this.beginDragNativeItem(i);else{if(n&&!n.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=e=>{var t;(this.dragEnterTargetIds=[],this.isDraggingNativeItem())&&(null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer));if(!this.enterLeaveCounter.enter(e.target)||this.monitor.isDragging())return;const{dataTransfer:r}=e,n=p(r);n&&this.beginDragNativeItem(n,r)},this.handleTopDragEnter=e=>{const{dragEnterTargetIds:t}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=e.altKey,t.length>0&&this.actions.hover(t,{clientOffset:b(e)});t.some((e=>this.monitor.canDropOnTarget(e)))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=e=>{var t;(this.dragOverTargetIds=[],this.isDraggingNativeItem())&&(null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer))},this.handleTopDragOver=e=>{const{dragOverTargetIds:t}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));this.altKeyPressed=e.altKey,this.lastClientOffset=b(e),this.scheduleHover(t);(t||[]).some((e=>this.monitor.canDropOnTarget(e)))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=e=>{this.isDraggingNativeItem()&&e.preventDefault();this.enterLeaveCounter.leave(e.target)&&(this.isDraggingNativeItem()&&setTimeout((()=>this.endDragNativeItem()),0),this.cancelHover())},this.handleTopDropCapture=e=>{var t;(this.dropTargetIds=[],this.isDraggingNativeItem())?(e.preventDefault(),null===(t=this.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)):p(e.dataTransfer)&&e.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=e=>{const{dropTargetIds:t}=this;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:b(e)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=e=>{const t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new w(t,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new o(this.isNodeInDocument)}}const C=function(e,t,r){return new E(e,t,r)}},763:(e,t,r)=>{"use strict";r.d(t,{L:()=>n});const n=(0,r(50959).createContext)({dragDropManager:void 0})},26699:(e,t,r)=>{"use strict";r.d(t,{W:()=>ye});var n=r(11527);function i(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var o="function"==typeof Symbol&&Symbol.observable||"@@observable",s=function(){return Math.random().toString(36).substring(7).split("").join(".")},a={INIT:"@@redux/INIT"+s(),REPLACE:"@@redux/REPLACE"+s(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+s()}};function c(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function l(e,t,r){var n;if("function"==typeof t&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error(i(0));if("function"==typeof t&&void 0===r&&(r=t,t=void 0),void 0!==r){if("function"!=typeof r)throw new Error(i(1));return r(l)(e,t)}if("function"!=typeof e)throw new Error(i(2));var s=e,u=t,d=[],h=d,p=!1;function f(){h===d&&(h=d.slice())}function g(){if(p)throw new Error(i(3));return u}function m(e){if("function"!=typeof e)throw new Error(i(4));if(p)throw new Error(i(5));var t=!0;return f(),h.push(e),function(){if(t){if(p)throw new Error(i(6));t=!1,f();var r=h.indexOf(e);h.splice(r,1),d=null}}}function y(e){if(!c(e))throw new Error(i(7));if(void 0===e.type)throw new Error(i(8));if(p)throw new Error(i(9));try{p=!0,u=s(u,e)}finally{p=!1}for(var t=d=h,r=0;r<t.length;r++){(0,t[r])()}return e}return y({type:a.INIT}),(n={dispatch:y,subscribe:m,getState:g,replaceReducer:function(e){if("function"!=typeof e)throw new Error(i(10));s=e,y({type:a.REPLACE})}})[o]=function(){var e,t=m;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(i(11));function r(){e.next&&e.next(g())}return r(),{unsubscribe:t(r)}}})[o]=function(){return this},e},n}var u=r(6346);function d(e){return"object"==typeof e}const h="dnd-core/INIT_COORDS",p="dnd-core/BEGIN_DRAG",f="dnd-core/PUBLISH_DRAG_SOURCE",g="dnd-core/HOVER",m="dnd-core/DROP",y="dnd-core/END_DRAG";function v(e,t){return{type:h,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}const b={type:h,payload:{clientOffset:null,sourceClientOffset:null}};function _(e){return function(t=[],r={publishSource:!0}){const{publishSource:n=!0,clientOffset:i,getSourceClientOffset:o}=r,s=e.getMonitor(),a=e.getRegistry();e.dispatch(v(i)),function(e,t,r){(0,u.k)(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){(0,u.k)(r.getSource(e),"Expected sourceIds to be registered.")}))}(t,s,a);const c=function(e,t){let r=null;for(let n=e.length-1;n>=0;n--)if(t.canDragSource(e[n])){r=e[n];break}return r}(t,s);if(null==c)return void e.dispatch(b);let l=null;if(i){if(!o)throw new Error("getSourceClientOffset must be defined");!function(e){(0,u.k)("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}(o),l=o(c)}e.dispatch(v(i,l));const h=a.getSource(c).beginDrag(s,c);if(null==h)return;!function(e){(0,u.k)(d(e),"Item must be an object.")}(h),a.pinSource(c);const f=a.getSourceType(c);return{type:p,payload:{itemType:f,item:h,sourceId:c,clientOffset:i||null,sourceClientOffset:l||null,isSourcePublic:!!n}}}}function w(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){w(e,t,r[t])}))}return e}function O(e){return function(t={}){const r=e.getMonitor(),n=e.getRegistry();!function(e){(0,u.k)(e.isDragging(),"Cannot call drop while not dragging."),(0,u.k)(!e.didDrop(),"Cannot call drop twice during one drag operation.")}(r);const i=function(e){const t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}(r);i.forEach(((i,o)=>{const s=function(e,t,r,n){const i=r.getTarget(e);let o=i?i.drop(n,e):void 0;(function(e){(0,u.k)(void 0===e||d(e),"Drop result must either be an object or undefined.")})(o),void 0===o&&(o=0===t?{}:n.getDropResult());return o}(i,o,n,r),a={type:m,payload:{dropResult:S({},t,s)}};e.dispatch(a)}))}}function E(e){return function(){const t=e.getMonitor(),r=e.getRegistry();!function(e){(0,u.k)(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);const n=t.getSourceId();if(null!=n){r.getSource(n,!0).endDrag(t,n),r.unpinSource()}return{type:y}}}function C(e,t){return null===t?null===e:Array.isArray(e)?e.some((e=>e===t)):e===t}function x(e){return function(t,{clientOffset:r}={}){!function(e){(0,u.k)(Array.isArray(e),"Expected targetIds to be an array.")}(t);const n=t.slice(0),i=e.getMonitor(),o=e.getRegistry();return function(e,t,r){for(let n=e.length-1;n>=0;n--){const i=e[n];C(t.getTargetType(i),r)||e.splice(n,1)}}(n,o,i.getItemType()),function(e,t,r){(0,u.k)(t.isDragging(),"Cannot call hover while not dragging."),(0,u.k)(!t.didDrop(),"Cannot call hover after drop.");for(let n=0;n<e.length;n++){const t=e[n];(0,u.k)(e.lastIndexOf(t)===n,"Expected targetIds to be unique in the passed array.");const i=r.getTarget(t);(0,u.k)(i,"Expected targetIds to be registered.")}}(n,i,o),function(e,t,r){e.forEach((function(e){r.getTarget(e).hover(t,e)}))}(n,i,o),{type:g,payload:{targetIds:n,clientOffset:r||null}}}}function T(e){return function(){if(e.getMonitor().isDragging())return{type:f}}}class k{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:t}=this.store;const r=function(e){return{beginDrag:_(e),publishDragSource:T(e),hover:x(e),drop:O(e),endDrag:E(e)}}(this);return Object.keys(r).reduce(((n,i)=>{const o=r[i];var s;return n[i]=(s=o,(...r)=>{const n=s.apply(e,r);void 0!==n&&t(n)}),n}),{})}dispatch(e){this.store.dispatch(e)}constructor(e,t){this.isSetUp=!1,this.handleRefCountChange=()=>{const e=this.store.getState().refCount>0;this.backend&&(e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=t,e.subscribe(this.handleRefCountChange)}}function I(e,t){return{x:e.x-t.x,y:e.y-t.y}}const P=[],j=[];P.__IS_NONE__=!0,j.__IS_ALL__=!0;class D{subscribeToStateChange(e,t={}){const{handlerIds:r}=t;(0,u.k)("function"==typeof e,"listener must be a function."),(0,u.k)(void 0===r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let n=this.store.getState().stateId;return this.store.subscribe((()=>{const t=this.store.getState(),i=t.stateId;try{const o=i===n||i===n+1&&!function(e,t){return e!==P&&(e===j||void 0===t||(r=e,t.filter((e=>r.indexOf(e)>-1))).length>0);var r}(t.dirtyHandlerIds,r);o||e()}finally{n=i}}))}subscribeToOffsetChange(e){(0,u.k)("function"==typeof e,"listener must be a function.");let t=this.store.getState().dragOffset;return this.store.subscribe((()=>{const r=this.store.getState().dragOffset;r!==t&&(t=r,e())}))}canDragSource(e){if(!e)return!1;const t=this.registry.getSource(e);return(0,u.k)(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()&&t.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const t=this.registry.getTarget(e);if((0,u.k)(t,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;return C(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}isDragging(){return Boolean(this.getItemType())}isDraggingSource(e){if(!e)return!1;const t=this.registry.getSource(e,!0);if((0,u.k)(t,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;return this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}isOverTarget(e,t={shallow:!1}){if(!e)return!1;const{shallow:r}=t;if(!this.isDragging())return!1;const n=this.registry.getTargetType(e),i=this.getItemType();if(i&&!C(n,i))return!1;const o=this.getTargetIds();if(!o.length)return!1;const s=o.indexOf(e);return r?s===o.length-1:s>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return function(e){const{clientOffset:t,initialClientOffset:r,initialSourceClientOffset:n}=e;return t&&r&&n?I((o=n,{x:(i=t).x+o.x,y:i.y+o.y}),r):null;var i,o}(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return function(e){const{clientOffset:t,initialClientOffset:r}=e;return t&&r?I(t,r):null}(this.store.getState().dragOffset)}constructor(e,t){this.store=e,this.registry=t}}const A="undefined"!=typeof global?global:self,R=A.MutationObserver||A.WebKitMutationObserver;function M(e){return function(){const t=setTimeout(n,0),r=setInterval(n,50);function n(){clearTimeout(t),clearInterval(r),e()}}}const N="function"==typeof R?function(e){let t=1;const r=new R(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}:M;class F{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,t){this.onError=e,this.release=t,this.task=null}}const z=new class{enqueueTask(e){const{queue:t,requestFlush:r}=this;t.length||(r(),this.flushing=!0),t[t.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const t=this.index;if(this.index++,e[t].call(),this.index>this.capacity){for(let t=0,r=e.length-this.index;t<r;t++)e[t]=e[t+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=N(this.flush),this.requestErrorThrow=M((()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()}))}},L=new class{create(e){const t=this.freeTasks,r=t.length?t.pop():new F(this.onError,(e=>t[t.length]=e));return r.task=e,r}constructor(e){this.onError=e,this.freeTasks=[]}}(z.registerPendingError);const Z="dnd-core/ADD_SOURCE",B="dnd-core/ADD_TARGET",U="dnd-core/REMOVE_SOURCE",$="dnd-core/REMOVE_TARGET";function G(e,t){t&&Array.isArray(e)?e.forEach((e=>G(e,!1))):(0,u.k)("string"==typeof e||"symbol"==typeof e,t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var H;!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(H||(H={}));let V=0;function K(e){const t=(V++).toString();switch(e){case H.SOURCE:return`S${t}`;case H.TARGET:return`T${t}`;default:throw new Error(`Unknown Handler Role: ${e}`)}}function W(e){switch(e[0]){case"S":return H.SOURCE;case"T":return H.TARGET;default:throw new Error(`Cannot parse handler ID: ${e}`)}}function q(e,t){const r=e.entries();let n=!1;do{const{done:e,value:[,i]}=r.next();if(i===t)return!0;n=!!e}while(!n);return!1}class X{addSource(e,t){G(e),function(e){(0,u.k)("function"==typeof e.canDrag,"Expected canDrag to be a function."),(0,u.k)("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),(0,u.k)("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);const r=this.addHandler(H.SOURCE,e,t);return this.store.dispatch(function(e){return{type:Z,payload:{sourceId:e}}}(r)),r}addTarget(e,t){G(e,!0),function(e){(0,u.k)("function"==typeof e.canDrop,"Expected canDrop to be a function."),(0,u.k)("function"==typeof e.hover,"Expected hover to be a function."),(0,u.k)("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);const r=this.addHandler(H.TARGET,e,t);return this.store.dispatch(function(e){return{type:B,payload:{targetId:e}}}(r)),r}containsHandler(e){return q(this.dragSources,e)||q(this.dropTargets,e)}getSource(e,t=!1){(0,u.k)(this.isSourceId(e),"Expected a valid source ID.");return t&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return(0,u.k)(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return(0,u.k)(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return(0,u.k)(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return W(e)===H.SOURCE}isTargetId(e){return W(e)===H.TARGET}removeSource(e){var t;(0,u.k)(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:U,payload:{sourceId:e}}}(e)),t=()=>{this.dragSources.delete(e),this.types.delete(e)},z.enqueueTask(L.create(t))}removeTarget(e){(0,u.k)(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:$,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const t=this.getSource(e);(0,u.k)(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}unpinSource(){(0,u.k)(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,t,r){const n=K(e);return this.types.set(n,t),e===H.SOURCE?this.dragSources.set(n,r):e===H.TARGET&&this.dropTargets.set(n,r),n}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const J=(e,t)=>e===t;function Y(e=P,t){switch(t.type){case g:break;case Z:case B:case $:case U:return P;default:return j}const{targetIds:r=[],prevTargetIds:n=[]}=t.payload,i=function(e,t){const r=new Map,n=e=>{r.set(e,r.has(e)?r.get(e)+1:1)};e.forEach(n),t.forEach(n);const i=[];return r.forEach(((e,t)=>{1===e&&i.push(t)})),i}(r,n);if(!(i.length>0||!function(e,t,r=J){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!r(e[n],t[n]))return!1;return!0}(r,n)))return P;const o=n[n.length-1],s=r[r.length-1];return o!==s&&(o&&i.push(o),s&&i.push(s)),i}function Q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const ee={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function te(e=ee,t){const{payload:r}=t;switch(t.type){case h:case p:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case g:return n=e.clientOffset,i=r.clientOffset,!n&&!i||n&&i&&n.x===i.x&&n.y===i.y?e:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){Q(e,t,r[t])}))}return e}({},e,{clientOffset:r.clientOffset});case y:case m:return ee;default:return e}var n,i}function re(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ne(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){re(e,t,r[t])}))}return e}const ie={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function oe(e=ie,t){const{payload:r}=t;switch(t.type){case p:return ne({},e,{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case f:return ne({},e,{isSourcePublic:!0});case g:return ne({},e,{targetIds:r.targetIds});case $:return-1===e.targetIds.indexOf(r.targetId)?e:ne({},e,{targetIds:(n=e.targetIds,i=r.targetId,n.filter((e=>e!==i)))});case m:return ne({},e,{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case y:return ne({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}var n,i}function se(e=0,t){switch(t.type){case Z:case B:return e+1;case U:case $:return e-1;default:return e}}function ae(e=0){return e+1}function ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function le(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){ce(e,t,r[t])}))}return e}function ue(e={},t){return{dirtyHandlerIds:Y(e.dirtyHandlerIds,{type:t.type,payload:le({},t.payload,{prevTargetIds:(r=e,n="dragOperation.targetIds",i=[],n.split(".").reduce(((e,t)=>e&&e[t]?e[t]:i||null),r))})}),dragOffset:te(e.dragOffset,t),refCount:se(e.refCount,t),dragOperation:oe(e.dragOperation,t),stateId:ae(e.stateId)};var r,n,i}function de(e,t=void 0,r={},n=!1){const i=function(e){const t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return l(ue,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}(n),o=new D(i,new X(i)),s=new k(i,o),a=e(s,t,r);return s.receiveBackend(a),s}var he=r(50959),pe=r(763);function fe(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}let ge=0;const me=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var ye=(0,he.memo)((function(e){var{children:t}=e,r=fe(e,["children"]);const[i,o]=function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}const t=function(e,t=ve(),r,n){const i=t;i[me]||(i[me]={dragDropManager:de(e,t,r,n)});return i[me]}(e.backend,e.context,e.options,e.debugMode),r=!e.context;return[t,r]}(r);return(0,he.useEffect)((()=>{if(o){const e=ve();return++ge,()=>{0==--ge&&(e[me]=null)}}}),[]),(0,n.jsx)(pe.L.Provider,{value:i,children:t})}));function ve(){return"undefined"!=typeof global?global:window}},83386:(e,t,r)=>{"use strict";r.d(t,{J:()=>a});var n=r(3341),i=r(50959),o=r(68098);function s(e,t,r){const[s,a]=function(e,t,r){const[s,a]=(0,i.useState)((()=>t(e))),c=(0,i.useCallback)((()=>{const i=t(e);n(s,i)||(a(i),r&&r())}),[s,e,r]);return(0,o.L)(c),[s,c]}(e,t,r);return(0,o.L)((function(){const t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(a,{handlerIds:[t]})}),[e,a]),s}function a(e,t,r){return s(t,e||(()=>({})),(()=>r.reconnect()))}},28516:(e,t,r)=>{"use strict";r.d(t,{c:()=>w});var n=r(6346),i=r(83386),o=r(79732),s=r(50959);function a(e){return(0,s.useMemo)((()=>e.hooks.dragSource()),[e])}function c(e){return(0,s.useMemo)((()=>e.hooks.dragPreview()),[e])}var l=r(98789),u=r(12726),d=r(49822);class h{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return t&&this.disconnectDragSource(),this.handlerId?e?(t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),t):(this.lastConnectedDragSource=e,t):t}reconnectDragPreview(e=!1){const t=this.dragPreview,r=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();r&&this.disconnectDragPreview(),this.handlerId&&(t?r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions)):this.lastConnectedDragPreview=t)}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!(0,l.w)(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!(0,l.w)(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=(0,d.p)({dragSource:(e,t)=>{this.clearDragSource(),this.dragSourceOptions=t||null,(0,u.d)(e)?this.dragSourceRef=e:this.dragSourceNode=e,this.reconnectDragSource()},dragPreview:(e,t)=>{this.clearDragPreview(),this.dragPreviewOptions=t||null,(0,u.d)(e)?this.dragPreviewRef=e:this.dragPreviewNode=e,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}var p=r(53297),f=r(68098);let g=!1,m=!1;class y{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){(0,n.k)(!g,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return g=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{g=!1}}isDragging(){if(!this.sourceId)return!1;(0,n.k)(!m,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return m=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{m=!1}}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,t){return this.internalMonitor.isOverTarget(e,t)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}var v=r(86240);class b{beginDrag(){const e=this.spec,t=this.monitor;let r=null;return r="object"==typeof e.item?e.item:"function"==typeof e.item?e.item(t):{},null!=r?r:null}canDrag(){const e=this.spec,t=this.monitor;return"boolean"==typeof e.canDrag?e.canDrag:"function"!=typeof e.canDrag||e.canDrag(t)}isDragging(e,t){const r=this.spec,n=this.monitor,{isDragging:i}=r;return i?i(n):t===e.getSourceId()}endDrag(){const e=this.spec,t=this.monitor,r=this.connector,{end:n}=e;n&&n(t.getItem(),t),r.reconnect()}constructor(e,t,r){this.spec=e,this.monitor=t,this.connector=r}}function _(e,t,r){const i=(0,p.N)(),o=function(e,t,r){const n=(0,s.useMemo)((()=>new b(e,t,r)),[t,r]);return(0,s.useEffect)((()=>{n.spec=e}),[e]),n}(e,t,r),a=function(e){return(0,s.useMemo)((()=>{const t=e.type;return(0,n.k)(null!=t,"spec.type must be defined"),t}),[e])}(e);(0,f.L)((function(){if(null!=a){const[e,n]=(0,v.w)(a,o,i);return t.receiveHandlerId(e),r.receiveHandlerId(e),n}}),[i,t,r,o,a])}function w(e,t){const r=(0,o.w)(e,t);(0,n.k)(!r.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const l=function(){const e=(0,p.N)();return(0,s.useMemo)((()=>new y(e)),[e])}(),u=function(e,t){const r=(0,p.N)(),n=(0,s.useMemo)((()=>new h(r.getBackend())),[r]);return(0,f.L)((()=>(n.dragSourceOptions=e||null,n.reconnect(),()=>n.disconnectDragSource())),[n,e]),(0,f.L)((()=>(n.dragPreviewOptions=t||null,n.reconnect(),()=>n.disconnectDragPreview())),[n,t]),n}(r.options,r.previewOptions);return _(r,l,u),[(0,i.J)(r.collect,l,u),a(u),c(u)]}},53297:(e,t,r)=>{"use strict";r.d(t,{N:()=>s});var n=r(6346),i=r(50959),o=r(763);function s(){const{dragDropManager:e}=(0,i.useContext)(o.L);return(0,n.k)(null!=e,"Expected drag drop context"),e}},98205:(e,t,r)=>{"use strict";r.d(t,{L:()=>b});var n=r(83386),i=r(79732),o=r(50959);function s(e){return(0,o.useMemo)((()=>e.hooks.dropTarget()),[e])}var a=r(98789),c=r(12726),l=r(49822);class u{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!(0,a.w)(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=(0,l.p)({dropTarget:(e,t)=>{this.clearDropTarget(),this.dropTargetOptions=t,(0,c.d)(e)?this.dropTargetRef=e:this.dropTargetNode=e,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}var d=r(53297),h=r(68098);var p=r(6346);let f=!1;class g{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}canDrop(){if(!this.targetId)return!1;(0,p.k)(!f,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return f=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{f=!1}}isOver(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}var m=r(86240);class y{canDrop(){const e=this.spec,t=this.monitor;return!e.canDrop||e.canDrop(t.getItem(),t)}hover(){const e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}drop(){const e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}constructor(e,t){this.spec=e,this.monitor=t}}function v(e,t,r){const n=(0,d.N)(),i=function(e,t){const r=(0,o.useMemo)((()=>new y(e,t)),[t]);return(0,o.useEffect)((()=>{r.spec=e}),[e]),r}(e,t),s=function(e){const{accept:t}=e;return(0,o.useMemo)((()=>((0,p.k)(null!=e.accept,"accept must be defined"),Array.isArray(t)?t:[t])),[t])}(e);(0,h.L)((function(){const[e,o]=(0,m.n)(s,i,n);return t.receiveHandlerId(e),r.receiveHandlerId(e),o}),[n,t,i,r,s.map((e=>e.toString())).join("|")])}function b(e,t){const r=(0,i.w)(e,t),a=function(){const e=(0,d.N)();return(0,o.useMemo)((()=>new g(e)),[e])}(),c=function(e){const t=(0,d.N)(),r=(0,o.useMemo)((()=>new u(t.getBackend())),[t]);return(0,h.L)((()=>(r.dropTargetOptions=e||null,r.reconnect(),()=>r.disconnectDropTarget())),[e]),r}(r.options);return v(r,a,c),[(0,n.J)(r.collect,a,c),s(c)]}},68098:(e,t,r)=>{"use strict";r.d(t,{L:()=>i});var n=r(50959);const i="undefined"!=typeof window?n.useLayoutEffect:n.useEffect},79732:(e,t,r)=>{"use strict";r.d(t,{w:()=>i});var n=r(50959);function i(e,t){const r=[...t||[]];return null==t&&"function"!=typeof e&&r.push(e),(0,n.useMemo)((()=>"function"==typeof e?e():e),r)}},12726:(e,t,r)=>{"use strict";function n(e){return null!==e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}r.d(t,{d:()=>n})},86240:(e,t,r)=>{"use strict";function n(e,t,r){const n=r.getRegistry(),i=n.addTarget(e,t);return[i,()=>n.removeTarget(i)]}function i(e,t,r){const n=r.getRegistry(),i=n.addSource(e,t);return[i,()=>n.removeSource(i)]}r.d(t,{n:()=>n,w:()=>i})},49822:(e,t,r)=>{"use strict";r.d(t,{p:()=>s});var n=r(6346),i=r(50959);function o(e){return(t=null,r=null)=>{if(!(0,i.isValidElement)(t)){const n=t;return e(n,r),n}const o=t;!function(e){if("string"==typeof e.type)return;const t=e.type.displayName||e.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${t} into a <div>, or turn it into a drag source or a drop target itself.`)}(o);return function(e,t){const r=e.ref;return(0,n.k)("string"!=typeof r,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),r?(0,i.cloneElement)(e,{ref:e=>{a(r,e),a(t,e)}}):(0,i.cloneElement)(e,{ref:t})}(o,r?t=>e(t,r):e)}}function s(e){const t={};return Object.keys(e).forEach((r=>{const n=e[r];if(r.endsWith("Ref"))t[r]=e[r];else{const e=o(n);t[r]=()=>e}})),t}function a(e,t){"function"==typeof e?e(t):e.current=t}}}]);