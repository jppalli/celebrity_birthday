(()=>{"use strict";var e={61:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AnalyticsManager=void 0;const n=s(185);var i;!function(e){e.widgetClick="widget-click",e.SearchBox="search-box",e.ArticleUsage="article-usage",e.TicketOpened="ticket-opened"}(i||(i={}));const o=[{src:"jotform",name:"give_feedback"},{src:"discord",name:"join_community"},{src:"support/tickets",name:"my_tickets"},{src:"support/home",name:"help_center"},{src:"twitter",name:"twitter_support"},{src:"create_logs",name:"create_logs"},{src:"request_help",name:"open_ticket"}];t.AnalyticsManager=class{constructor(){const e=window.location.href,t=n.Utils.getUrlParam("source",e),s=n.Utils.getUrlParam("origin",e);this.origin=s||t,this.onAppLaunch=this.onAppLaunch.bind(this),overwolf.extensions.onAppLaunchTriggered.addListener(this.onAppLaunch)}onAppLaunch(e){e&&e.origin&&(this.origin=e.origin),this.trackAppOpened(this.origin)}trackTicketOpened(e){const t={open_ticket_source:"tile",ticket_submition_states:e};this.sendTrackingData({name:"ow_support_ticket_opened",extra:t})}trackWidgetClick(e){const t=o.find((t=>e.includes(t.src)));if(!t)return;const s={clicked_on:t.name};this.sendTrackingData({name:"ow_support_widget_click",extra:s})}sendTracking(e){switch(e.id){case i.widgetClick:this.trackWidgetClick(e.src);break;case i.SearchBox:this.trackSearchBox(e);break;case i.ArticleUsage:this.trackArticleUsage(e.value);break;case i.TicketOpened:this.trackTicketOpened(e.value)}}trackSearchBox(e){const{option_selected:t,text_inserted:s,index:n}=e,i={text_inserted:s,option_selected:t,option_selected_index:n};this.sendTrackingData({name:"ow_support_search_box",extra:i})}trackArticleUsage(e){const t={article_helpful_button:e};this.sendTrackingData({name:"ow_support_article_usage",extra:t})}trackAppOpened(e){const t={open_click_source:e};this.sendTrackingData({name:"ow_support_app_opened",extra:t})}sendTrackingData(e){console.log(`tracking data ${JSON.stringify(e)}`),void 0!==overwolfInternal.trackRSEventV2?overwolfInternal.trackRSEventV2(e.name,e.extra):overwolfInternal.trackRSEvent(e.name,e.extra)}}},479:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.AppEntryPoint=void 0;const n=s(642),i=s(185);t.AppEntryPoint=class{constructor(e){this._delegate=e,this._extensionListener=new n.OWExtensionsListener(this),this._extensionListener.start(),this.checkLaunchParam()}get page(){return this._page}checkLaunchParam(){const e=i.Utils.getUrlParam("source",window.location.href),t=location.search.split("&"),s=t.length>1?t[1]:null;this.handleLaunchSource(e,s,!0)}handleLaunchSource(e,t,s){this._page="urlscheme"===e?new URL(decodeURIComponent(t)).pathname.replace(/\//g,""):null==t?void 0:t.substring(7),this._delegate.onLaunch(this._page)}onAppLaunchTriggered(e){this.handleLaunchSource(e.origin,e.parameter,!1)}}},373:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IframeMessageManager=void 0;const n=s(626);t.IframeMessageManager=class{constructor(e){this._isLoaded=!1,this._delegate=e,this._timeout=null;const t=document.getElementById("supportIframe");this._iframe=t.contentWindow,window.addEventListener("message",this.onMessage.bind(this))}get isLoaded(){return this._isLoaded}sendDataToIframe(e){this._iframe.postMessage(e,"*")}async onMessage(e){if("https://widget.overwolf.com/support/home"===e.origin)return;const t=e.data;if(!t)return;const s=t.action;switch(t){case n.eMessageIds.iframeLoaded:return this._isLoaded=!0,null!==this._timeout&&(clearTimeout(this._timeout),this._timeout=null),void this._delegate.onIframeLoaded();case n.eMessageIds.closeWindow:return await this._delegate.onClose();case n.eMessageIds.dragWindow:return await this._delegate.onDrag();case n.eMessageIds.minimizeWindow:return await this._delegate.onMinimize();case n.eMessageIds.createLogsZip:return this._delegate.onCreateLogsZip()}switch(s){case n.eMessageIds.iframeNavigation:return null!==this._timeout&&clearTimeout(this._timeout),void(this._timeout=setTimeout((()=>{this._timeout=null,this._isLoaded=!1,this._delegate.onIframeOffline()}),2e3));case n.eMessageIds.openUrlOld:case n.eMessageIds.openUrl:return this._delegate.onOpenUrl(t.url);case n.eMessageIds.submitTicket:return this._delegate.onSendTicket(t.email,t.description,t.uploadedFile);case n.eMessageIds.sendTracking:return this._delegate.onSendTracking(t.trackingData)}}}},626:(e,t)=>{var s;Object.defineProperty(t,"__esModule",{value:!0}),t.eMessageIds=void 0,(s=t.eMessageIds||(t.eMessageIds={})).iframeLoaded="widget-loaded",s.iframeNavigation="widget-before-navigation",s.closeWindow="close-window",s.dragWindow="drag-window",s.minimizeWindow="minimize-window",s.openUrl="open-url-in-default-browser",s.openUrlOld="openUrlInDefaultBrowser",s.createLogsZip="create-logs-zip",s.submitTicket="submit-a-ticket",s.sendTracking="send-tracking"},832:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MainController=void 0;const n=s(373),i=s(624),o=s(140),r=s(61),a=s(659),d=s(479),l="alreadySetPosition";t.MainController=class{constructor(){this._iframeManager=new n.IframeMessageManager(this),this._progressBar=new a.ProgressBar(this._iframeManager),this._analyticsManager=new r.AnalyticsManager,this._window=new i.OWWindow("main"),this._appEntryPoint=new d.AppEntryPoint(this),document.addEventListener("DOMContentLoaded",this.onDocumentLoaded.bind(this)),this.setPosition()}run(){this._analyticsManager.onAppLaunch(),this._progressBar.start()}onDocumentLoaded(){document.querySelector(".reload-page").addEventListener("mousedown",(()=>{window.location.reload()})),document.querySelector(".support-title-wrapper").addEventListener("mousedown",(()=>{window.location.reload()})),document.querySelector(".resize-right").addEventListener("mousedown",(async()=>await this._window.dragResizeRight())),document.querySelector(".resize-left").addEventListener("mousedown",(async()=>await this._window.dragResizeLeft())),document.querySelector(".draggable-area").addEventListener("mousedown",(async()=>await this._window.dragMove())),document.querySelector(".close-window").addEventListener("mousedown",(async()=>await this._window.close())),document.querySelector(".minimize-window").addEventListener("mousedown",(async()=>await this._window.minimize())),document.querySelector(".my-tickets").addEventListener("mousedown",(async()=>this.onOpenUrl("https://support.overwolf.com/support/tickets",!1)))}async setPosition(){o.LocalStorage.get(l).asBool()||(await this._window.center(),o.LocalStorage.set(l,!0))}onLaunch(e){"openTicketPage"!=e&&"open-ticket-page"!=e||this._iframeManager.sendDataToIframe({action:e})}async onIframeLoaded(){const e=overwolf.version;overwolfInternal.profile.getCurrentUser((t=>{if("success"===t.status&&!t.profile.unverified){const{email:s}=t.profile;this._iframeManager.sendDataToIframe({action:"email",email:s,version:e})}this.onLaunch(this._appEntryPoint.page)}))}onIframeOffline(){this._progressBar.setOffline()}onSendTicket(e,t,s){this._analyticsManager.trackTicketOpened("sent");let n=t.substring(0,40);t.length>40&&(n+="..."),overwolfInternal.utils.sendBugReport({title:n,email:e,description:t,imagePath:s},(e=>{this._iframeManager.sendDataToIframe({action:"send-ticket-result",success:e.success})}))}async onClose(){await this._window.close()}async onDrag(){await this._window.dragMove()}async onMinimize(){await this._window.minimize()}onOpenUrl(e,t=!0){t&&this._analyticsManager.trackWidgetClick(e),overwolf.utils.openUrlInDefaultBrowser(e)}onCreateLogsZip(){this._analyticsManager.trackWidgetClick("create_logs"),overwolfInternal.utils.createLogsZip(console.log)}onSendTracking(e){this._analyticsManager.sendTracking(e)}}},659:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressBar=void 0,t.ProgressBar=class{constructor(e){this._width=1,this._isOffline=!0,this._iframeManager=e}start(){this._started||(this._started=!0,this._progressBarFill=document.querySelector("#progress-bar-fill"),this._noConnectionMessage=document.querySelector(".no-connection-message"),this._loaderContainer=document.querySelector(".loader"),this.startProgress())}setOffline(){console.log("We are offline"),this._isOffline=!0,this._noConnectionMessage.classList.remove("hidden"),document.getElementById("supportIframe").classList.add("hidden")}startProgress(){setTimeout((()=>{if("complete"!==document.readyState){if(this._width++,this._width>=100)return;return this._progressBarFill.style.width=this._width+"%",void this.startProgress()}this._iframeManager.isLoaded?this._isOffline=!1:this.setOffline(),this._progressBarFill.addEventListener("transitionend",this.transitionEnd.bind(this)),this._progressBarFill.style.width="100%"}),100)}transitionEnd(e){this._isOffline||this._noConnectionMessage.classList.add("hidden"),this._loaderContainer.classList.add("hide")}}},86:function(e,t,s){var n=this&&this.__createBinding||(Object.create?function(e,t,s,n){void 0===n&&(n=s),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,n){void 0===n&&(n=s),e[n]=t[s]}),i=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||t.hasOwnProperty(s)||n(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),i(s(140),t),i(s(683),t)},683:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OWListener=void 0,t.OWListener=class{constructor(e){this._delegate=e}start(){this.stop()}}},140:function(e,t,s){var n=this&&this.__createBinding||(Object.create?function(e,t,s,n){void 0===n&&(n=s),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,n){void 0===n&&(n=s),e[n]=t[s]}),i=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||t.hasOwnProperty(s)||n(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),i(s(605),t),i(s(212),t),i(s(51),t),i(s(343),t)},51:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorage=t.LocalStorageValue=void 0;class s{constructor(e){this._value=e}get raw(){return this._value}asBool(){return this._value&&"true"===this._value.toLowerCase()}asInt(){return this._value&&parseInt(this._value)}asObject(){try{return JSON.parse(this._value)}catch(e){return console.error(e),null}}isNull(){return null===this._value}}t.LocalStorageValue=s,t.LocalStorage=class{static get(e){const t=localStorage.getItem(e);return new s(t)}static set(e,t){t||(t=""),localStorage.setItem(e,t.toString())}static remove(e){localStorage.removeItem(e)}static setObject(e,t){try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(e){return console.error(e),!1}}}},212:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StopWatch=void 0,t.StopWatch=class{constructor(){this._startTime=0,this._stopTime=0,this._initialized=!1}get initialized(){return this._initialized}start(){this._stopTime=0,this._startTime=Date.now(),this._initialized=!0}stop(){return this._initialized?(this._stopTime=Date.now(),this._stopTime-this._startTime):0}getTime(){return this._initialized?this._stopTime>0?this._stopTime-this._startTime:Date.now()-this._startTime:0}}},343:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StringUtils=void 0,t.StringUtils=class{static isNullOrEmpty(e){return!e||0===e.length}}},605:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0,t.Timer=class{constructor(e,t){this._timerId=null,this.handleTimerEvent=()=>{this._timerId=null,this._delegate.onTimer(this._id)},this._delegate=e,this._id=t}static async wait(e){return new Promise((t=>{setTimeout(t,e)}))}start(e){this.stop(),this._timerId=setTimeout(this.handleTimerEvent,e)}stop(){null!=this._timerId&&(clearTimeout(this._timerId),this._timerId=null)}}},642:function(e,t,s){var n=this&&this.__createBinding||(Object.create?function(e,t,s,n){void 0===n&&(n=s),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,n){void 0===n&&(n=s),e[n]=t[s]}),i=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||t.hasOwnProperty(s)||n(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),i(s(86),t),i(s(624),t),i(s(610),t),i(s(622),t),i(s(542),t),i(s(364),t),i(s(872),t),i(s(25),t),i(s(508),t),i(s(353),t),i(s(723),t),i(s(806),t),i(s(870),t)},610:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OWExtension=void 0;class s{constructor(e){this._manifest=e}static async fromCurrent(){return new Promise((e=>{overwolf.extensions.current.getManifest((t=>e(new s(t))))}))}static CheckForUpdate(){return new Promise((e=>{overwolf.extensions.checkForExtensionUpdate(e)}))}static UpdateExtension(){return new Promise((e=>{overwolf.extensions.updateExtension(e)}))}get manifest(){return this._manifest}}t.OWExtension=s},622:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OWExtensionsListener=void 0;const n=s(683);class i extends n.OWListener{constructor(e){super(e),this.onAppLaunchTriggered=e=>{this._delegate.onAppLaunchTriggered&&this._delegate.onAppLaunchTriggered(e)}}start(){super.start(),overwolf.extensions.onAppLaunchTriggered.addListener(this.onAppLaunchTriggered)}stop(){overwolf.extensions.onAppLaunchTriggered.removeListener(this.onAppLaunchTriggered)}}t.OWExtensionsListener=i},542:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OWGameListener=void 0;const n=s(683);class i extends n.OWListener{constructor(e,t=!1){super(e),this.onGameInfoUpdated=e=>{e&&e.gameInfo&&(e.runningChanged||e.gameChanged)&&(e.gameInfo.isRunning?this._delegate.onGameStarted&&this._delegate.onGameStarted(e.gameInfo):this._delegate.onGameEnded&&this._delegate.onGameEnded(e.gameInfo))},this.onRunningGameInfo=e=>{e&&e.isRunning&&this._delegate.onGameStarted&&this._delegate.onGameStarted(e)},t&&this.start()}start(){super.start(),overwolf.games.onGameInfoUpdated.addListener(this.onGameInfoUpdated),overwolf.games.getRunningGameInfo(this.onRunningGameInfo)}stop(){overwolf.games.onGameInfoUpdated.removeListener(this.onGameInfoUpdated)}}t.OWGameListener=i},364:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OWGamesEvents=void 0;const n=s(605);t.OWGamesEvents=class{constructor(e,t,s=10){this._stopped=!0,this.onInfoUpdates=e=>{this._delegate.onInfoUpdates(e.info)},this.onNewEvents=e=>{this._delegate.onNewEvents(e)},this._delegate=e,this._requiredFeatures=t,this._featureRetries=s}async getInfo(){return new Promise((e=>{overwolf.games.events.getInfo(e)}))}async start(){console.log("[ow-game-events] START"),this._stopped=!1,this.registerEvents();const e=await this.setRequiredFeatures(),{res:t,status:s}=await this.getInfo();return t&&"success"===s&&this.onInfoUpdates({info:t}),e}stop(){console.log("[ow-game-events] STOP"),this._stopped=!0,this.unRegisterEvents()}async setRequiredFeatures(){let e,t=1;for(;t<=this._featureRetries;){if(e=await new Promise((e=>{overwolf.games.events.setRequiredFeatures(this._requiredFeatures,e)})),"success"===e.status){const t=JSON.stringify(e,null,2);return console.log(`setRequiredFeatures(): success: ${t}`),e.supportedFeatures.length>0}if(await n.Timer.wait(3e3),this._stopped)return console.info("setRequiredFeatures(): stopped while in loop"),!1;t++}const s=JSON.stringify(e,null,2);return console.warn(`setRequiredFeatures(): failure after ${t} tries ${s}`),!1}registerEvents(){this.unRegisterEvents(),overwolf.games.events.onInfoUpdates2.addListener(this.onInfoUpdates),overwolf.games.events.onNewEvents.addListener(this.onNewEvents)}unRegisterEvents(){overwolf.games.events.onInfoUpdates2.removeListener(this.onInfoUpdates),overwolf.games.events.onNewEvents.removeListener(this.onNewEvents)}}},872:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OWGames=void 0,t.OWGames=class{static getRunningGameInfo(){return new Promise((e=>{overwolf.games.getRunningGameInfo(e)}))}static classIdFromGameId(e){return Math.floor(e/10)}static async getRecentlyPlayedGames(e=3){return new Promise((t=>{if(!overwolf.games.getRecentlyPlayedGames)return t(null);overwolf.games.getRecentlyPlayedGames(e,(e=>{t(e.games)}))}))}static async getGameDBInfo(e){return new Promise((t=>{overwolf.games.getGameDBInfo(e,t)}))}}},25:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OWHotkeysListener=void 0,t.OWHotkeysListener=class{constructor(e){this.onHotKeyChanged=e=>{},this._delegate=e}start(){overwolf.settings.OnHotKeyChanged.removeListener(this.onHotKeyChanged),overwolf.settings.OnHotKeyChanged.addListener(this.onHotKeyChanged)}stop(){overwolf.windows.onStateChanged.removeListener(this.onHotKeyChanged)}}},508:(e,t)=>{var s;Object.defineProperty(t,"__esModule",{value:!0}),t.OWHotkeys=t.Hotkeys=void 0,function(e){e.HOTKEY_NAME="show-hide-porofessor",e.UNASSIGEND="Unassigned"}(s=t.Hotkeys||(t.Hotkeys={}));class n{constructor(){}static _get(e,t){overwolf.settings.getHotKey(e,(function(e){e&&"error"!==e.status&&e.hotkey?t(e.hotkey):t(s.UNASSIGEND)}))}static _set(e,t){overwolf.settings.registerHotKey(e,(function(s){s.success?t():console.error(`[HOTKEYS SERVICE] failed to register hotkey ${e}`)}))}static getToggleHotkey(){return new Promise(((e,t)=>{n._get(s.HOTKEY_NAME,e)}))}static setToggleHotkey(e){n._set(s.HOTKEY_NAME,e)}static addHotkeyChangeListener(e){overwolf.settings.OnHotKeyChanged.addListener(e)}static beautifyHotkeyString(e){return e.split("+").join(" + ")}}t.OWHotkeys=n},353:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OWLauncherEvents=void 0;const n=s(605);class i{constructor(e){this.onLauncherStarted=async e=>{if(!e||e.classId!==i.Constants.LOL_LAUNCHER_ID)return;this.registerEvents(),await this.setRequiredFeatures(),await n.Timer.wait(600);const{res:t,status:s}=await this.getInfo();this._delegate.onLauncherStarted(e),t&&"success"===s&&this.onInfoUpdates({info:t})},this.onLauncherStopped=e=>{this.unRegisterEvents(),this._delegate.onLauncherStopped(e)},this.onInfoUpdates=e=>{this._delegate.onInfoUpdates(e.info)},this.onNewEvents=e=>{this._delegate.onNewEvents(e)},this._delegate=e,this.settingRunes=null,this.cancelSettingRunes=null}static get Constants(){return{LOL_LAUNCHER_ID:10902,SET_FEATURE_RETRIES:10,FEATURES:["game_flow","summoner_info","champ_select","lcu_info","credentials","lobby_info"]}}static async getInfo(e){return new Promise((t=>{overwolf.games.launchers.events.getInfo(e,t)}))}static getRunningLOLLauncher(){return new Promise((e=>{overwolf.games.launchers.getRunningLaunchersInfo((t=>t&&t.launchers[0]?Math.floor(t.launchers[0].id/10)!=i.Constants.LOL_LAUNCHER_ID?e(!1):e(t.launchers[0]):e(!1)))}))}async getInfo(){return i.getInfo(i.Constants.LOL_LAUNCHER_ID)}async setRequiredFeatures(){let e,t=1;for(;t<=i.Constants.SET_FEATURE_RETRIES;){if(e=await new Promise((e=>{overwolf.games.launchers.events.setRequiredFeatures(i.Constants.LOL_LAUNCHER_ID,i.Constants.FEATURES,e)})),"success"===e.status)return console.log("setRequiredFeatures(): success: "+JSON.stringify(e,null,2)),e.supportedFeatures.length>0;await n.Timer.wait(3e3),t++}return console.warn("setRequiredFeatures(): failure after "+t+" tries"+JSON.stringify(e,null,2)),!1}registerEvents(){this.unRegisterEvents(),overwolf.games.launchers.events.onInfoUpdates.addListener(this.onInfoUpdates),overwolf.games.launchers.events.onNewEvents.addListener(this.onNewEvents)}unRegisterEvents(){overwolf.games.launchers.events.onInfoUpdates.removeListener(this.onInfoUpdates),overwolf.games.launchers.events.onNewEvents.removeListener(this.onNewEvents)}async setRunesSingle(e,t){return null!==this.settingRunes&&null!==this.cancelSettingRunes&&(this.cancelSettingRunes(),await this.settingRunes),this.settingRunes=this.setRunesWithRetry(e,t)}async setRunesWithRetry(e,t){let s=!1,i=!1,o=20;this.cancelSettingRunes=()=>{i=!0};do{s=await this.setPages(e,t),o--,console.log(`[OWLauncherEvents.setRunesWithRetry] setting try: ${20-o}, result: ${s}`),i||s||await n.Timer.wait(3e3)}while(!i&&!s&&o>0);return this.cancelSettingRunes=null,s}async setRunes(e,t){return console.log(`[OWLauncherEvents.setRunes] ${JSON.stringify(e)} ${JSON.stringify(t)}`),this.setPages(e,t)}async setPages({token:e,port:t},{title:s,primaryStyleId:i,selectedPerkIds:o,subStyleId:r}){const a=`https://127.0.0.1:${t}`,d=[{key:"Accept",value:"application/json"},{key:"Authorization",value:`Basic ${e}`}],l=await new Promise((e=>{overwolf.web.sendHttpRequest(`${a}/lol-perks/v1/pages`,overwolf.web.enums.HttpRequestMethods.GET,d,null,(t=>{if(console.log(`[OWLauncherEvents.setPages] got pages: ${JSON.stringify(t)}`),t.success)try{e(JSON.parse(t.data))}catch(s){e(t.data)}else e()}))}));let c=null;if(l&&l.length){let e=l.find((e=>e.isDeletable&&e.name.toLowerCase().includes("porofessor")));e||(e=l.find((e=>e.isDeletable&&e.current))),e||(e=l.find((e=>e.isDeletable))),e&&e.id&&(c=e.id)}if(null!==c){const e=await new Promise((e=>{overwolf.web.sendHttpRequest(`${a}/lol-perks/v1/pages/${c}`,overwolf.web.enums.HttpRequestMethods.DELETE,d,null,(t=>e(t)))}));console.log(`[OWLauncherEvents.setPages] DELETE code: ${e.statusCode} / response: ${JSON.stringify(e)}`),(!e.statusCode||e.statusCode<200||e.statusCode>=300)&&console.log(`[OWLauncherEvents.setPages] pages: ${JSON.stringify(l)}`),await n.Timer.wait(2e3)}const u={id:0,name:s,current:!0,isActive:!1,isDeletable:!0,isEditable:!0,isValid:!0,order:0,lastModified:Date.now(),autoModifiedSelections:[],primaryStyleId:i,selectedPerkIds:o,subStyleId:r},h=JSON.stringify(u),g=await new Promise((e=>{overwolf.web.sendHttpRequest(`${a}/lol-perks/v1/pages`,overwolf.web.enums.HttpRequestMethods.POST,d,h,(t=>e(t)))}));return console.log(`[OWLauncherEvents.setPages] POST: ${g.statusCode} / response: ${JSON.stringify(g)}`),(!g.statusCode||g.statusCode<200||g.statusCode>=300)&&console.log(`[OWLauncherEvents.setPages] pages: ${JSON.stringify(l)}`),g.statusCode>=200&&g.statusCode<300}async start(){console.log("[ow-launch-events] START");const e=await i.getRunningLOLLauncher();e&&(console.log("[ow-launch-events] lol launcher running"),this.onLauncherStarted(e)),overwolf.games.launchers.onLaunched.addListener(this.onLauncherStarted),overwolf.games.launchers.onTerminated.addListener(this.onLauncherStopped)}stop(){console.log("[ow-launch-events] STOP"),this.unRegisterEvents()}}t.OWLauncherEvents=i},723:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OWProfileListener=void 0;const n=s(683);class i extends n.OWListener{constructor(e){super(e),this.onLoginStateChanged=e=>{super._delegate.onLoginStateChanged&&super._delegate.onLoginStateChanged(e)}}start(){super.start(),overwolf.profile.onLoginStateChanged.addListener(this.onLoginStateChanged)}stop(){overwolf.profile.onLoginStateChanged.removeListener(this.onLoginStateChanged)}}t.OWProfileListener=i},806:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OWProfile=void 0,t.OWProfile=class{static async getCurrentUser(){return new Promise((e=>{overwolf.profile.getCurrentUser(e)}))}}},870:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OWUtils=void 0,t.OWUtils=class{static getViewportSize(){return new Promise(((e,t)=>{overwolf.utils.getMonitorsList((s=>{let n=-1,i=-1;for(let e of s.displays)e.is_primary&&(n=e.width,i=e.height);overwolf.games.getRunningGameInfo((async s=>{s&&s.isInFocus&&(n=s.width,i=s.height),null!==n&&null!==i?e({width:n,height:i}):t(new Error("could not get monitors width/height"))}))}))}))}static getDPIScale(){return new Promise((e=>{overwolf.windows.getWindowDPI((t=>e(t.scale)))}))}static getAppVersion(){return new Promise((e=>{overwolf.extensions.current.getManifest((t=>e(t.meta.version)))}))}static getSystemInformation(){return new Promise((e=>{overwolf.utils.getSystemInformation((t=>t.success?e(t.systemInfo):e({})))}))}static placeOnClipboard(e){overwolf.utils.placeOnClipboard(e)}}},624:function(e,t,s){var n=this&&this.__createBinding||(Object.create?function(e,t,s,n){void 0===n&&(n=s),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[s]}})}:function(e,t,s,n){void 0===n&&(n=s),e[n]=t[s]}),i=this&&this.__exportStar||function(e,t){for(var s in e)"default"===s||t.hasOwnProperty(s)||n(t,e,s)};Object.defineProperty(t,"__esModule",{value:!0}),i(s(420),t),i(s(881),t),i(s(37),t)},420:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OWGameWindowAnchor=t.OWWindowAnchorTypes=void 0;const n=s(870);var i;!function(e){e[e.topRight=0]="topRight",e[e.middleRight=1]="middleRight",e[e.bottomRight=2]="bottomRight"}(i=t.OWWindowAnchorTypes||(t.OWWindowAnchorTypes={}));class o{constructor(e,t,s){this.onGameInfoUpdated=e=>{if(null==e||null==e.resolutionChanged)return;if(0==e.resolutionChanged)return;if(null==e.gameInfo)return;let t=e.gameInfo.logicalWidth,s=e.gameInfo.logicalHeight;this.repositionWindow({width:t,height:s})},this._window=e,this._winWidth=t.width,this._winHeight=t.height,this._anchorType=s}static get Constants(){return{MARGIN:10}}start(){overwolf.games.onGameInfoUpdated.removeListener(this.onGameInfoUpdated),overwolf.games.onGameInfoUpdated.addListener(this.onGameInfoUpdated);let e=this;overwolf.games.getRunningGameInfo((t=>{t&&e.repositionWindow({width:t.logicalWidth,height:t.logicalHeight})}))}stop(){overwolf.games.onGameInfoUpdated.removeListener(this.onGameInfoUpdated)}async repositionWindow(e){let t=await n.OWUtils.getDPIScale(),s=o.Constants.MARGIN,r=Math.floor(e.width-this._winWidth*t)-s,a=s;switch(this._anchorType){case i.topRight:break;case i.middleRight:a=Math.floor(e.height/2-this._winHeight/2*t);break;case i.bottomRight:a=Math.floor(e.height-this._winHeight*t)-s}this._window.changePosition(r,a)}}t.OWGameWindowAnchor=o},881:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OWWindow=void 0;const n=s(870),i=s(420);t.OWWindow=class{constructor(e=null){this._name=e,this._id=null,this._obtained=!1}async createGameWindowAnchor(e){let t=await this.obtain();return t?new i.OWGameWindowAnchor(this,{width:t.width,height:t.height},e):null}async center(){return new Promise((async(e,t)=>{try{const t=await this.obtain(),s=await n.OWUtils.getDPIScale();this.changePosition(Math.round((window.screen.availWidth-t.width*s)/2),Math.round((window.screen.availHeight-t.height*s)/2)),e()}catch(e){return t(e)}}))}async bottomRight(){return new Promise((async e=>{let t=null;const[s,i]=await Promise.all([this.obtain(),n.OWUtils.getViewportSize()]);if(t=s,!t)return e();let o=await n.OWUtils.getDPIScale(),r=i.width-t.width*o,a=i.height-t.height*o;return r=Math.max(r,0),a=Math.max(a,0),r=Math.floor(r),a=Math.floor(a),await this.changePosition(r,a),e()}))}async restore(){let e=this;return new Promise((async t=>{await e.assureObtained();let s=e._id;overwolf.windows.restore(s,(e=>{e.success||console.error(`[restore] - an error occurred, windowId=${s}, reason=${e.error}`),t()}))}))}async minimize(){let e=this;return new Promise((async t=>{await e.assureObtained();let s=e._id;return overwolf.windows.minimize(s,(()=>{})),t()}))}async hide(){let e=this;return new Promise((async t=>{await e.assureObtained();let s=e._id;return overwolf.windows.hide(s,(()=>{})),t()}))}async changePosition(e,t){let s=this;return new Promise((async n=>{await s.assureObtained();let i=s._id;return overwolf.windows.changePosition(i,e,t,(()=>{})),n()}))}async changeSize(e,t){let s=this;return new Promise((async n=>{await s.assureObtained();let i=s._id;return overwolf.windows.changeSize(i,e,t,(()=>{})),n()}))}dragMove(){let e=this;return new Promise((async t=>{await e.assureObtained();let s=e._id;return overwolf.windows.dragMove(s,t),t()}))}dragResizeLeft(){return new Promise((async e=>{await this.assureObtained();const t=this._id;return overwolf.windows.dragResize(t,"Left"),e()}))}dragResizeRight(){return new Promise((async e=>{await this.assureObtained();const t=this._id;return overwolf.windows.dragResize(t,"Right"),e()}))}async getWindowState(){let e=this;return new Promise((async t=>{await e.assureObtained();let s=e._id;overwolf.windows.getWindowState(s,t)}))}async setTopmost(){const e=this;return new Promise((async t=>{await e.assureObtained();let s=e._id;overwolf.windows.setTopmost(s,!0,(e=>t(e.success)))}))}static async getCurrentInfo(){return new Promise((async e=>{overwolf.windows.getCurrentWindow((t=>{e(t.window)}))}))}static async setMute(e=!0){return new Promise((async(t,s)=>{if(!overwolf.windows.setMute)return s("setMute doesn't exist");overwolf.windows.setMute(e,(e=>{e.success?t():s(e.error)}))}))}async close(){let e=this;return new Promise((async t=>{await e.assureObtained(),e._id;const s=await this.getWindowState();return s.success&&"closed"!==s.window_state&&await this.internalClose(),t()}))}obtain(){return new Promise(((e,t)=>{const s=s=>{s&&"success"===s.status&&s.window&&s.window.id?(this._obtained=!0,this._id=s.window.id,this._name||(this._name=s.window.name),e(s.window)):(this._obtained=!1,this._id=null,t())};this._name?overwolf.windows.obtainDeclaredWindow(this._name,s):overwolf.windows.getCurrentWindow(s)}))}async assureObtained(){let e=this;return new Promise((async t=>(await e.obtain(),t())))}async internalClose(){let e=this;return new Promise((async(t,s)=>{await e.assureObtained();let n=e._id;overwolf.windows.close(n,(n=>{e._obtained=!1,n&&n.success?t():s(n)}))}))}}},37:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.OWWindowsListener=void 0;const n=s(683);class i extends n.OWListener{constructor(e){super(e),this.onWindowStateChanged=e=>{e&&("closed"==e.window_state&&this._delegate.onWindowClosed&&this._delegate.onWindowClosed(e.window_name),"minimized"==e.window_state&&this._delegate.onWindowMinimized&&this._delegate.onWindowMinimized(e.window_name),"normal"==e.window_state&&this._delegate.onWindowRestored&&this._delegate.onWindowRestored(e.window_name))}}start(){super.start(),overwolf.windows.onStateChanged.addListener(this.onWindowStateChanged)}stop(){overwolf.windows.onStateChanged.removeListener(this.onWindowStateChanged)}}t.OWWindowsListener=i},185:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=void 0;class s{}t.Utils=s,s.getUrlParam=(e,t)=>{t||(t=""),e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");const s=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return null==s?null:s[1]}}},t={};(new(function s(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,s),o.exports}(832).MainController)).run()})();
//# sourceMappingURL=../source-map/main/main.js.map