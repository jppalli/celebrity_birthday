/*! For license information please see tester.js.LICENSE.txt */
(()=>{var e={4862:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(7537),o=r.n(n),i=r(3645),s=r.n(i)()(o());s.push([e.id,"html,body,#main{height:100%;width:100%}html{overflow:hidden}html body{margin:0}html body #main{display:block}html body iframe{border:none}html body #tester-form{margin:auto;width:310px}html body #tester-form select{margin-top:10px;width:300px}html body #tester-form #environment{margin-top:10px}html body .section-title{margin:auto;text-align:center;width:310px}html body #buttons-container{display:flex;margin:auto;align-content:center;justify-content:space-evenly;width:310px}html body .button{padding:10px;width:300px;align-self:center}html body #submit{display:block;margin:auto;margin-top:10px}html body #submit{display:block;margin:auto;margin-top:10px}html body .show{display:block}","",{version:3,sources:["webpack://./src/tester/tester.scss"],names:[],mappings:"AAAA,gBACE,WAAA,CACA,UAAA,CAGF,KACE,eAAA,CAEA,UACE,QAAA,CAEA,gBACE,aAAA,CAGF,iBACE,WAAA,CAGF,uBACE,WAAA,CACA,WAAA,CAEA,8BACE,eAAA,CACA,WAAA,CAGF,oCACE,eAAA,CAKJ,yBACE,WAAA,CACA,iBAAA,CACA,WAAA,CAGF,6BACE,YAAA,CACA,WAAA,CACA,oBAAA,CACA,4BAAA,CACA,WAAA,CAGF,kBACE,YAAA,CACA,WAAA,CACA,iBAAA,CAGF,kBACE,aAAA,CACA,WAAA,CACA,eAAA,CAGF,kBACE,aAAA,CACA,WAAA,CACA,eAAA,CAIF,gBAAA,aAAA",sourcesContent:["html, body, #main {\r\n  height: 100%;\r\n  width: 100%;\r\n}\r\n\r\nhtml {\r\n  overflow: hidden;\r\n\r\n  body {\r\n    margin: 0;\r\n\r\n    #main{\r\n      display: block;\r\n    }\r\n\r\n    iframe {\r\n      border: none;\r\n    }\r\n\r\n    #tester-form {\r\n      margin: auto;\r\n      width: 310px;\r\n\r\n      select {\r\n        margin-top: 10px;\r\n        width: 300px;\r\n      }\r\n\r\n      #environment {\r\n        margin-top: 10px;\r\n        // width: 300px;\r\n      }\r\n    }\r\n\r\n    .section-title {\r\n      margin: auto;\r\n      text-align: center;\r\n      width: 310px;\r\n    }\r\n\r\n    #buttons-container {\r\n      display: flex;\r\n      margin: auto;\r\n      align-content: center;\r\n      justify-content: space-evenly;\r\n      width: 310px;\r\n    }\r\n\r\n    .button{\r\n      padding: 10px;\r\n      width: 300px;\r\n      align-self: center;\r\n    }\r\n\r\n    #submit{\r\n      display: block;\r\n      margin: auto;\r\n      margin-top: 10px;\r\n    }\r\n\r\n    #submit{\r\n      display: block;\r\n      margin: auto;\r\n      margin-top: 10px;\r\n    }\r\n\r\n\r\n    .show {display:block;}\r\n  }\r\n\r\n}"],sourceRoot:""}]);const a=s},3645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(n)for(var a=0;a<this.length;a++){var l=this[a][0];null!=l&&(s[l]=!0)}for(var u=0;u<e.length;u++){var c=[].concat(e[u]);n&&s[c[0]]||(void 0!==i&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=i),r&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=r):c[2]=r),o&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=o):c[4]="".concat(o)),t.push(c))}},t}},7537:e=>{"use strict";e.exports=function(e){var t=e[1],r=e[3];if(!r)return t;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),i="/*# ".concat(o," */");return[t].concat([i]).join("\n")}return[t].join("\n")}},8660:(e,t,r)=>{var n;!function(e){!function(t){var n="object"==typeof r.g?r.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),o=i(e);function i(e,t){return function(r,n){"function"!=typeof e[r]&&Object.defineProperty(e,r,{configurable:!0,writable:!0,value:n}),t&&t(r,n)}}void 0===n.Reflect?n.Reflect=e:o=i(n.Reflect,o),function(e){var t=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,n=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",i="function"==typeof Object.create,s={__proto__:[]}instanceof Array,a=!i&&!s,l={create:i?function(){return j(Object.create(null))}:s?function(){return j({__proto__:null})}:function(){return j({})},has:a?function(e,r){return t.call(e,r)}:function(e,t){return t in e},get:a?function(e,r){return t.call(e,r)?e[r]:void 0}:function(e,t){return e[t]}},u=Object.getPrototypeOf(Function),c="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,g=c||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],r=function(){function e(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[o]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},t.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var n=this._keys.length,o=r+1;o<n;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new r(this._keys,this._values,n)},t.prototype.values=function(){return new r(this._keys,this._values,i)},t.prototype.entries=function(){return new r(this._keys,this._values,s)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[o]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function n(e,t){return e}function i(e,t){return t}function s(e,t){return[e,t]}}():Map,h=c||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new g}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[o]=function(){return this.keys()},e}():Set,f=new(c||"function"!=typeof WeakMap?function(){var e=16,r=l.create(),n=o();return function(){function e(){this._key=o()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&l.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?l.get(t,this._key):void 0},e.prototype.set=function(e,t){return i(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=o()},e}();function o(){var e;do{e="@@WeakMap@@"+a()}while(l.has(r,e));return r[e]=!0,e}function i(e,r){if(!t.call(e,n)){if(!r)return;Object.defineProperty(e,n,{value:l.create()})}return e[n]}function s(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}function a(){var t,r=(t=e,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):s(new Uint8Array(t),t):s(new Array(t),t));r[6]=79&r[6]|64,r[8]=191&r[8]|128;for(var n="",o=0;o<e;++o){var i=r[o];4!==o&&6!==o&&8!==o||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}():WeakMap);function d(e,t,r){var n=f.get(e);if(A(n)){if(!r)return;n=new g,f.set(e,n)}var o=n.get(t);if(A(o)){if(!r)return;o=new g,n.set(t,o)}return o}function p(e,t,r){if(v(e,t,r))return!0;var n=M(t);return!S(n)&&p(e,n,r)}function v(e,t,r){var n=d(t,r,!1);return!A(n)&&!!n.has(e)}function y(e,t,r){if(v(e,t,r))return m(e,t,r);var n=M(t);return S(n)?void 0:y(e,n,r)}function m(e,t,r){var n=d(t,r,!1);if(!A(n))return n.get(e)}function _(e,t,r,n){d(r,n,!0).set(e,t)}function w(e,t){var r=C(e,t),n=M(e);if(null===n)return r;var o=w(n,t);if(o.length<=0)return r;if(r.length<=0)return o;for(var i=new h,s=[],a=0,l=r;a<l.length;a++){var u=l[a];i.has(u)||(i.add(u),s.push(u))}for(var c=0,g=o;c<g.length;c++)u=g[c],i.has(u)||(i.add(u),s.push(u));return s}function C(e,t){var r=[],n=d(e,t,!1);if(A(n))return r;for(var i=function(e){var t=x(e,o);if(!P(t))throw new TypeError;var r=t.call(e);if(!L(r))throw new TypeError;return r}(n.keys()),s=0;;){var a=T(i);if(!a)return r.length=s,r;var l=a.value;try{r[s]=l}catch(e){try{k(i)}finally{throw e}}s++}}function b(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function A(e){return void 0===e}function S(e){return null===e}function L(e){return"object"==typeof e?null!==e:"function"==typeof e}function O(e,t){switch(b(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=3===t?"string":5===t?"number":"default",o=x(e,n);if(void 0!==o){var i=o.call(e,r);if(L(i))throw new TypeError;return i}return function(e,t){if("string"===t){var r=e.toString;if(P(r)&&!L(o=r.call(e)))return o;if(P(n=e.valueOf)&&!L(o=n.call(e)))return o}else{var n;if(P(n=e.valueOf)&&!L(o=n.call(e)))return o;var o,i=e.toString;if(P(i)&&!L(o=i.call(e)))return o}throw new TypeError}(e,"default"===r?"number":r)}function R(e){var t=O(e,3);return"symbol"==typeof t?t:function(e){return""+e}(t)}function E(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function P(e){return"function"==typeof e}function I(e){return"function"==typeof e}function x(e,t){var r=e[t];if(null!=r){if(!P(r))throw new TypeError;return r}}function T(e){var t=e.next();return!t.done&&t}function k(e){var t=e.return;t&&t.call(e)}function M(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===u)return t;if(t!==u)return t;var r=e.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return t;var o=n.constructor;return"function"!=typeof o||o===e?t:o}function j(e){return e.__=void 0,delete e.__,e}e("decorate",(function(e,t,r,n){if(A(r)){if(!E(e))throw new TypeError;if(!I(t))throw new TypeError;return function(e,t){for(var r=e.length-1;r>=0;--r){var n=(0,e[r])(t);if(!A(n)&&!S(n)){if(!I(n))throw new TypeError;t=n}}return t}(e,t)}if(!E(e))throw new TypeError;if(!L(t))throw new TypeError;if(!L(n)&&!A(n)&&!S(n))throw new TypeError;return S(n)&&(n=void 0),function(e,t,r,n){for(var o=e.length-1;o>=0;--o){var i=(0,e[o])(t,r,n);if(!A(i)&&!S(i)){if(!L(i))throw new TypeError;n=i}}return n}(e,t,r=R(r),n)})),e("metadata",(function(e,t){return function(r,n){if(!L(r))throw new TypeError;if(!A(n)&&!function(e){switch(b(e)){case 3:case 4:return!0;default:return!1}}(n))throw new TypeError;_(e,t,r,n)}})),e("defineMetadata",(function(e,t,r,n){if(!L(r))throw new TypeError;return A(n)||(n=R(n)),_(e,t,r,n)})),e("hasMetadata",(function(e,t,r){if(!L(t))throw new TypeError;return A(r)||(r=R(r)),p(e,t,r)})),e("hasOwnMetadata",(function(e,t,r){if(!L(t))throw new TypeError;return A(r)||(r=R(r)),v(e,t,r)})),e("getMetadata",(function(e,t,r){if(!L(t))throw new TypeError;return A(r)||(r=R(r)),y(e,t,r)})),e("getOwnMetadata",(function(e,t,r){if(!L(t))throw new TypeError;return A(r)||(r=R(r)),m(e,t,r)})),e("getMetadataKeys",(function(e,t){if(!L(e))throw new TypeError;return A(t)||(t=R(t)),w(e,t)})),e("getOwnMetadataKeys",(function(e,t){if(!L(e))throw new TypeError;return A(t)||(t=R(t)),C(e,t)})),e("deleteMetadata",(function(e,t,r){if(!L(t))throw new TypeError;A(r)||(r=R(r));var n=d(t,r,!1);if(A(n))return!1;if(!n.delete(e))return!1;if(n.size>0)return!0;var o=f.get(t);return o.delete(r),o.size>0||f.delete(t),!0}))}(o)}()}(n||(n={}))},6936:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var n=r(3379),o=r.n(n),i=r(7795),s=r.n(i),a=r(569),l=r.n(a),u=r(3565),c=r.n(u),g=r(9216),h=r.n(g),f=r(4589),d=r.n(f),p=r(4862),v={};v.styleTagTransform=d(),v.setAttributes=c(),v.insert=l().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=h(),o()(p.Z,v);const y=p.Z&&p.Z.locals?p.Z.locals:void 0},3379:e=>{"use strict";var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var i={},s=[],a=0;a<e.length;a++){var l=e[a],u=n.base?l[0]+n.base:l[0],c=i[u]||0,g="".concat(u," ").concat(c);i[u]=c+1;var h=r(g),f={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==h)t[h].references++,t[h].updater(f);else{var d=o(f,n);n.byIndex=a,t.splice(a,0,{identifier:g,updater:d,references:1})}s.push(g)}return s}function o(e,t){var r=t.domAPI(t);return r.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,o){var i=n(e=e||[],o=o||{});return function(e){e=e||[];for(var s=0;s<i.length;s++){var a=r(i[s]);t[a].references--}for(var l=n(e,o),u=0;u<i.length;u++){var c=r(i[u]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}i=l}}},569:e=>{"use strict";var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},9216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3565:(e,t,r)=>{"use strict";e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{"use strict";e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var i=r.sourceMap;i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},4801:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kNameOfTesterWindowService=void 0,t.kNameOfTesterWindowService="TesterWindowService"},3593:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerService=void 0;var n=r(9959),o=r(5602),i=function(){function e(){}return e.setup=function(t){e.logProvider=o.CategoryProvider.createProvider(t,{level:n.LogLevel.Info})},e.getCategory=function(t){return e.logProvider.getCategory(t)},e.logProvider=o.CategoryProvider.createProvider("OwAppLogProvider",{level:n.LogLevel.Info}),e}();t.LoggerService=i},7219:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WindowsTunnelDataService=t.kTunnelDataUserAction=t.kTunnelDataPromotionInfo=void 0;var i=r(1984),s=r(6658),a="__WINDOWS_TUNNEL_DATA_SERVICE__";t.kTunnelDataPromotionInfo="promotionInfo",t.kTunnelDataUserAction="userAction";var l=function(){function e(e){this.owMainWIndowWrapper=e,this._globalDataMap=null,this.initialize()}return e.prototype.initialize=function(){var e=this.owMainWIndowWrapper.getMainWindow();e?(e[a]||(e[a]={}),this._globalDataMap=e[a]):console.error("Could not get main window!")},e.prototype.set=function(e,t){this._globalDataMap?this._globalDataMap[e]=t:console.error("globalDataMap is undefined")},e.prototype.get=function(e){if(this._globalDataMap)return this._globalDataMap[e];console.error("globalDataMap is undefined")},n([(0,i.singleton)(),o("design:paramtypes",[s.OWMainWindowWrapper])],e)}();t.WindowsTunnelDataService=l},6658:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.OWMainWindowWrapper=void 0;var o=r(1984),i=function(){function e(){}return e.prototype.getMainWindow=function(){var e;return(null===(e=null===overwolf||void 0===overwolf?void 0:overwolf.windows)||void 0===e?void 0:e.getMainWindow)?overwolf.windows.getMainWindow():null},n([(0,o.injectable)()],e)}();t.OWMainWindowWrapper=i},7728:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(t,"__esModule",{value:!0}),r(8660);var o=r(1984),i=r(4801),s=r(3593),a=r(7219),l=r(2088);r(6936),function(){function e(){}e=n([(0,o.registry)([{token:i.kNameOfTesterWindowService,useFactory:(0,o.instancePerContainerCachingFactory)((function(e){return e.resolve(a.WindowsTunnelDataService).get(i.kNameOfTesterWindowService)}))}])],e)}(),s.LoggerService.setup("Overwolf Promotions Tester"),o.container.resolve(l.TesterController).run()},2088:function(e,t,r){"use strict";var n=this&&this.__decorate||function(e,t,r,n){var o,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,r,s):o(t,r))||s);return i>3&&s&&Object.defineProperty(t,r,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=this&&this.__param||function(e,t){return function(r,n){t(r,n,e)}},s=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(l){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,n=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,l])}}},l=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.TesterController=void 0;var u=r(1984),c=r(3593),g=r(4801),h=function(){function e(e){var t=this;this.testerWindowService=e,this.logger=c.LoggerService.getCategory("TesterController"),this.handleGameChange=function(e){return s(t,void 0,void 0,(function(){var t,r;return a(this,(function(n){switch(n.label){case 0:return document.querySelectorAll(".promotionSelection").forEach((function(e){return e.remove()})),[4,this.testerWindowService.getGameConfiguration(parseInt(e.target.value))];case 1:return(t=null!==(r=n.sent())&&void 0!==r?r:null)?(this.selectedGame=t,this.loadPromosFromConfig(t),[2]):[2]}}))}))},this.handleEnvChange=function(e){return s(t,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.testerWindowService.setEnvironment(e.target.value)];case 1:return t.sent(),[4,this.loadGamesFromConfig()];case 2:return t.sent(),[2]}}))}))}}return e.prototype.run=function(){return s(this,void 0,void 0,(function(){return a(this,(function(e){try{this.createTesterForm()}catch(e){this.logger.error("Error:",e)}return[2]}))}))},e.prototype.createTesterForm=function(){return s(this,void 0,void 0,(function(){var e,t=this;return a(this,(function(r){switch(r.label){case 0:return e=document.getElementById("tester-form"),document.querySelector("#environment").onchange=this.handleEnvChange,this.AddActionButtons(),[4,this.loadGamesFromConfig()];case 1:return r.sent(),e.addEventListener("submit",(function(e){if(e.preventDefault(),""!==e.currentTarget.promotionId.value&&""!==e.currentTarget.gameId.value){var r=e.currentTarget.promotionId.value,n=t.getPromotion(r),o=e.currentTarget.environment.value;t.testerWindowService.transferTesterPromotion(t.selectedGame,n,o)}else console.error("[Promotion tester] Missing parameters")})),[2]}}))}))},e.prototype.loadPromosFromConfig=function(e){var t,r,n=this,o=document.getElementById("promotionId");document.querySelectorAll(".promotionSelection").forEach((function(e){e.remove()})),e.promotions.sort((function(e,t){return n.sort(e.name,t.name)}));try{for(var i=l(e.promotions),s=i.next();!s.done;s=i.next()){var a=s.value,u=document.createElement("option");u.setAttribute("value",a.id),u.setAttribute("class","promotionSelection"),u.textContent="".concat(a.name," - ").concat(a.id),o.appendChild(u)}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e.prototype.loadGamesFromConfig=function(){return s(this,void 0,void 0,(function(){var e,t,r,n,o,i,s,u,c=this;return a(this,(function(a){switch(a.label){case 0:return(e=document.getElementById("gameId")).onchange=this.handleGameChange,[4,this.testerWindowService.getAllGamesConfigurations()];case 1:if(t=a.sent(),document.querySelectorAll(".game").forEach((function(e){e.remove()})),null==t||t.sort((function(e,t){return c.sort(e.name,t.name)})),!t||0===t.length)return[2];try{for(r=l(t),n=r.next();!n.done;n=r.next())o=n.value,(i=document.createElement("option")).setAttribute("value",o.id.toString()),i.setAttribute("class","game"),i.textContent=o.name,e.appendChild(i)}catch(e){s={error:e}}finally{try{n&&!n.done&&(u=r.return)&&u.call(r)}finally{if(s)throw s.error}}return e.dispatchEvent(new Event("change")),[2]}}))}))},e.prototype.getPromotion=function(e){return{displayLimit:null,name:null,recommendWeight:null,id:e,geoRestriction:[]}},e.prototype.AddActionButtons=function(){this.addClearDisplayedPromotions(),this.addResetLocalStorageBtn(),this.addResetPromotionsHistoryBtn(),this.addSimulateAdUnitView()},e.prototype.addResetPromotionsHistoryBtn=function(){var e=this;document.getElementById("resetPromotionsHistory").addEventListener("click",(function(){e.testerWindowService.resetPromotionsHistory()}))},e.prototype.addResetLocalStorageBtn=function(){var e=this;document.getElementById("resetLocalStorage").addEventListener("click",(function(){e.testerWindowService.resetLocalStorage()}))},e.prototype.addClearDisplayedPromotions=function(){var e=this;document.getElementById("clearDisplayedPromotions").addEventListener("click",(function(){e.testerWindowService.resetDisplayedPromotions()}))},e.prototype.addSimulateAdUnitView=function(){var e=this;document.getElementById("simulateAdView").addEventListener("click",(function(){e.simulateAdUnitView()}))},e.prototype.simulateAdUnitView=function(){document.querySelector("#coms-iframe").src="overwolf-extension://bgahplehcohebablohmbilgjdnihhgfmfepkpgcj/dist/coms/coms.html?promotionId=FROVERWOLF1"},e.prototype.sort=function(e,t){return e>t?1:e<t?-1:0},n([(0,u.singleton)(),i(0,(0,u.inject)(g.kNameOfTesterWindowService)),o("design:paramtypes",[Object])],e)}();t.TesterController=h},1984:(e,t,r)=>{"use strict";var n;r.r(t),r.d(t,{Lifecycle:()=>o,autoInjectable:()=>T,container:()=>x,delay:()=>v,inject:()=>k,injectAll:()=>N,injectAllWithTransform:()=>W,injectWithTransform:()=>F,injectable:()=>M,instanceCachingFactory:()=>B,instancePerContainerCachingFactory:()=>G,isClassProvider:()=>f,isFactoryProvider:()=>d,isNormalToken:()=>y,isTokenProvider:()=>w,isValueProvider:()=>C,predicateAwareClassFactory:()=>U,registry:()=>j,scoped:()=>D,singleton:()=>$}),function(e){e[e.Transient=0]="Transient",e[e.Singleton=1]="Singleton",e[e.ResolutionScoped=2]="ResolutionScoped",e[e.ContainerScoped=3]="ContainerScoped"}(n||(n={}));const o=n;var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},i(e,t)};function s(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function a(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}function u(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(l(arguments[t]));return e}var c="injectionTokens";function g(e){var t=Reflect.getMetadata("design:paramtypes",e)||[],r=Reflect.getOwnMetadata(c,e)||{};return Object.keys(r).forEach((function(e){t[+e]=r[e]})),t}function h(e,t){return function(r,n,o){var i=Reflect.getOwnMetadata(c,r)||{};i[o]=t?{token:e,transform:t.transformToken,transformArgs:t.args||[]}:e,Reflect.defineMetadata(c,i,r)}}function f(e){return!!e.useClass}function d(e){return!!e.useFactory}var p=function(){function e(e){this.wrap=e,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return e.prototype.createProxy=function(e){var t,r=this,n=!1;return new Proxy({},this.createHandler((function(){return n||(t=e(r.wrap()),n=!0),t})))},e.prototype.createHandler=function(e){var t={};return this.reflectMethods.forEach((function(r){t[r]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t[0]=e(),Reflect[r].apply(void 0,u(t))}})),t},e}();function v(e){if(void 0===e)throw new Error("Attempt to `delay` undefined. Constructor must be wrapped in a callback");return new p(e)}function y(e){return"string"==typeof e||"symbol"==typeof e}function m(e){return"object"==typeof e&&"token"in e&&"multiple"in e}function _(e){return"object"==typeof e&&"token"in e&&"transform"in e}function w(e){return!!e.useToken}function C(e){return null!=e.useValue}const b=function(){function e(){this._registryMap=new Map}return e.prototype.entries=function(){return this._registryMap.entries()},e.prototype.getAll=function(e){return this.ensure(e),this._registryMap.get(e)},e.prototype.get=function(e){this.ensure(e);var t=this._registryMap.get(e);return t[t.length-1]||null},e.prototype.set=function(e,t){this.ensure(e),this._registryMap.get(e).push(t)},e.prototype.setAll=function(e,t){this._registryMap.set(e,t)},e.prototype.has=function(e){return this.ensure(e),this._registryMap.get(e).length>0},e.prototype.clear=function(){this._registryMap.clear()},e.prototype.ensure=function(e){this._registryMap.has(e)||this._registryMap.set(e,[])},e}(),A=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t}(b),S=function(){this.scopedResolutions=new Map};function L(e,t,r){var n,o,i,s,a=l(e.toString().match(/constructor\(([\w, ]+)\)/)||[],2)[1];return n="Cannot inject the dependency "+(s=t,null===(i=void 0===a?null:a)?"at position #"+s:'"'+i.split(",")[s].trim()+'" at position #'+s)+' of "'+e.name+'" constructor. Reason:',void 0===o&&(o="    "),u([n],r.message.split("\n").map((function(e){return o+e}))).join("\n")}var O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t}(b),R=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t}(b);const E=function(){this.preResolution=new O,this.postResolution=new R};var P=new Map,I=function(){function e(e){this.parent=e,this._registry=new A,this.interceptors=new E,this.disposed=!1,this.disposables=new Set}return e.prototype.register=function(e,t,r){var n;if(void 0===r&&(r={lifecycle:o.Transient}),this.ensureNotDisposed(),n=function(e){return f(e)||C(e)||w(e)||d(e)}(t)?t:{useClass:t},w(n))for(var i=[e],s=n;null!=s;){var a=s.useToken;if(i.includes(a))throw new Error("Token registration cycle detected! "+u(i,[a]).join(" -> "));i.push(a);var l=this._registry.get(a);s=l&&w(l.provider)?l.provider:null}if((r.lifecycle===o.Singleton||r.lifecycle==o.ContainerScoped||r.lifecycle==o.ResolutionScoped)&&(C(n)||d(n)))throw new Error('Cannot use lifecycle "'+o[r.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(e,{provider:n,options:r}),this},e.prototype.registerType=function(e,t){return this.ensureNotDisposed(),y(t)?this.register(e,{useToken:t}):this.register(e,{useClass:t})},e.prototype.registerInstance=function(e,t){return this.ensureNotDisposed(),this.register(e,{useValue:t})},e.prototype.registerSingleton=function(e,t){if(this.ensureNotDisposed(),y(e)){if(y(t))return this.register(e,{useToken:t},{lifecycle:o.Singleton});if(t)return this.register(e,{useClass:t},{lifecycle:o.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}var r=e;return t&&!y(t)&&(r=t),this.register(e,{useClass:r},{lifecycle:o.Singleton})},e.prototype.resolve=function(e,t){void 0===t&&(t=new S),this.ensureNotDisposed();var r=this.getRegistration(e);if(!r&&y(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"Single"),r){var n=this.resolveRegistration(r,t);return this.executePostResolutionInterceptor(e,n,"Single"),n}if(function(e){return"function"==typeof e||e instanceof p}(e))return n=this.construct(e,t),this.executePostResolutionInterceptor(e,n,"Single"),n;throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},e.prototype.executePreResolutionInterceptor=function(e,t){var r,n;if(this.interceptors.preResolution.has(e)){var o=[];try{for(var i=a(this.interceptors.preResolution.getAll(e)),s=i.next();!s.done;s=i.next()){var l=s.value;"Once"!=l.options.frequency&&o.push(l),l.callback(e,t)}}catch(e){r={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}this.interceptors.preResolution.setAll(e,o)}},e.prototype.executePostResolutionInterceptor=function(e,t,r){var n,o;if(this.interceptors.postResolution.has(e)){var i=[];try{for(var s=a(this.interceptors.postResolution.getAll(e)),l=s.next();!l.done;l=s.next()){var u=l.value;"Once"!=u.options.frequency&&i.push(u),u.callback(e,t,r)}}catch(e){n={error:e}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}this.interceptors.postResolution.setAll(e,i)}},e.prototype.resolveRegistration=function(e,t){if(this.ensureNotDisposed(),e.options.lifecycle===o.ResolutionScoped&&t.scopedResolutions.has(e))return t.scopedResolutions.get(e);var r,n=e.options.lifecycle===o.Singleton,i=e.options.lifecycle===o.ContainerScoped,s=n||i;return r=C(e.provider)?e.provider.useValue:w(e.provider)?s?e.instance||(e.instance=this.resolve(e.provider.useToken,t)):this.resolve(e.provider.useToken,t):f(e.provider)?s?e.instance||(e.instance=this.construct(e.provider.useClass,t)):this.construct(e.provider.useClass,t):d(e.provider)?e.provider.useFactory(this):this.construct(e.provider,t),e.options.lifecycle===o.ResolutionScoped&&t.scopedResolutions.set(e,r),r},e.prototype.resolveAll=function(e,t){var r=this;void 0===t&&(t=new S),this.ensureNotDisposed();var n=this.getAllRegistrations(e);if(!n&&y(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"All"),n){var o=n.map((function(e){return r.resolveRegistration(e,t)}));return this.executePostResolutionInterceptor(e,o,"All"),o}var i=[this.construct(e,t)];return this.executePostResolutionInterceptor(e,i,"All"),i},e.prototype.isRegistered=function(e,t){return void 0===t&&(t=!1),this.ensureNotDisposed(),this._registry.has(e)||t&&(this.parent||!1)&&this.parent.isRegistered(e,!0)},e.prototype.reset=function(){this.ensureNotDisposed(),this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},e.prototype.clearInstances=function(){var e,t;this.ensureNotDisposed();try{for(var r=a(this._registry.entries()),n=r.next();!n.done;n=r.next()){var o=l(n.value,2),i=o[0],s=o[1];this._registry.setAll(i,s.filter((function(e){return!C(e.provider)})).map((function(e){return e.instance=void 0,e})))}}catch(t){e={error:t}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}},e.prototype.createChildContainer=function(){var t,r;this.ensureNotDisposed();var n=new e(this);try{for(var i=a(this._registry.entries()),s=i.next();!s.done;s=i.next()){var u=l(s.value,2),c=u[0],g=u[1];g.some((function(e){return e.options.lifecycle===o.ContainerScoped}))&&n._registry.setAll(c,g.map((function(e){return e.options.lifecycle===o.ContainerScoped?{provider:e.provider,options:e.options}:e})))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}return n},e.prototype.beforeResolution=function(e,t,r){void 0===r&&(r={frequency:"Always"}),this.interceptors.preResolution.set(e,{callback:t,options:r})},e.prototype.afterResolution=function(e,t,r){void 0===r&&(r={frequency:"Always"}),this.interceptors.postResolution.set(e,{callback:t,options:r})},e.prototype.dispose=function(){return e=this,t=void 0,n=function(){var e;return function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(t){switch(t.label){case 0:return this.disposed=!0,e=[],this.disposables.forEach((function(t){var r=t.dispose();r&&e.push(r)})),[4,Promise.all(e)];case 1:return t.sent(),[2]}}))},new((r=void 0)||(r=Promise))((function(o,i){function s(e){try{l(n.next(e))}catch(e){i(e)}}function a(e){try{l(n.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}l((n=n.apply(e,t||[])).next())}));var e,t,r,n},e.prototype.getRegistration=function(e){return this.isRegistered(e)?this._registry.get(e):this.parent?this.parent.getRegistration(e):null},e.prototype.getAllRegistrations=function(e){return this.isRegistered(e)?this._registry.getAll(e):this.parent?this.parent.getAllRegistrations(e):null},e.prototype.construct=function(e,t){var r=this;if(e instanceof p)return e.createProxy((function(e){return r.resolve(e,t)}));var n,o=function(){var n=P.get(e);if(!n||0===n.length){if(0===e.length)return new e;throw new Error('TypeInfo not known for "'+e.name+'"')}var o=n.map(r.resolveParams(t,e));return new(e.bind.apply(e,u([void 0],o)))}();return"function"!=typeof(n=o).dispose||n.dispose.length>0||this.disposables.add(o),o},e.prototype.resolveParams=function(e,t){var r=this;return function(n,o){var i,s,a;try{return m(n)?_(n)?n.multiple?(i=r.resolve(n.transform)).transform.apply(i,u([r.resolveAll(n.token)],n.transformArgs)):(s=r.resolve(n.transform)).transform.apply(s,u([r.resolve(n.token,e)],n.transformArgs)):n.multiple?r.resolveAll(n.token):r.resolve(n.token,e):_(n)?(a=r.resolve(n.transform,e)).transform.apply(a,u([r.resolve(n.token,e)],n.transformArgs)):r.resolve(n,e)}catch(e){throw new Error(L(t,o,e))}}},e.prototype.ensureNotDisposed=function(){if(this.disposed)throw new Error("This container has been disposed, you cannot interact with a disposed container")},e}(),x=new I;const T=function(){return function(e){var t=g(e);return function(r){function n(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return r.apply(this,u(n.concat(t.slice(n.length).map((function(t,r){var o,i,s;try{return m(t)?_(t)?t.multiple?(o=x.resolve(t.transform)).transform.apply(o,u([x.resolveAll(t.token)],t.transformArgs)):(i=x.resolve(t.transform)).transform.apply(i,u([x.resolve(t.token)],t.transformArgs)):t.multiple?x.resolveAll(t.token):x.resolve(t.token):_(t)?(s=x.resolve(t.transform)).transform.apply(s,u([x.resolve(t.token)],t.transformArgs)):x.resolve(t)}catch(t){var a=r+n.length;throw new Error(L(e,a,t))}})))))||this}return s(n,r),n}(e)}},k=function(e){return h(e)},M=function(){return function(e){P.set(e,g(e))}},j=function(e){return void 0===e&&(e=[]),function(t){return e.forEach((function(e){var t=e.token,r=e.options,n=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}(e,["token","options"]);return x.register(t,n,r)})),t}},$=function(){return function(e){M()(e),x.registerSingleton(e)}},N=function(e){return h({token:e,multiple:!0})},W=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return h({token:e,multiple:!0,transform:t,transformArgs:r})},F=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return h(e,{transformToken:t,args:r})};function D(e,t){return function(r){M()(r),x.register(t||r,r,{lifecycle:e})}}function B(e){var t;return function(r){return null==t&&(t=e(r)),t}}function G(e){var t=new WeakMap;return function(r){var n=t.get(r);return null==n&&(n=e(r),t.set(r,n)),n}}function U(e,t,r,n){var o,i;return void 0===n&&(n=!0),function(s){var a=e(s);return n&&i===a||(o=(i=a)?s.resolve(t):s.resolve(r)),o}}if("undefined"==typeof Reflect||!Reflect.getMetadata)throw new Error("tsyringe requires a reflect polyfill. Please add 'import \"reflect-metadata\"' to the top of your entry point.")},5602:(e,t,r)=>{"use strict";r.r(t),r.d(t,{CATEGORY_LOG_CONTROL:()=>E,CategoryProvider:()=>P});class n extends Map{computeIfAbsent(e,t){if(this.has(e))return this.get(e);const r=t(e);return this.set(e,r),r}computeIfPresent(e,t){const r=this.get(e);if(void 0===r)return;const n=t(e,r);return void 0!==n?this.set(e,n):this.delete(e),n}compute(e,t){const r=t(e,this.get(e));return r?this.set(e,r):this.delete(e),r}}var o;function i(e){return u.getLogger(e)}!function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Info=2]="Info",e[e.Warn=3]="Warn",e[e.Error=4]="Error"}(o||(o={}));const s={setInternalLogLevel:e=>u.changeLogLevel(e),setOutput:e=>u.changeOutput(e),reset:()=>u.reset()};class a{constructor(e,t,r){this._name=e,this._level=t,this._fnOutput=r}trace(e){this.log(o.Trace,e)}debug(e){this.log(o.Debug,e)}error(e,t){this.log(o.Error,e,t)}info(e){this.log(o.Info,e)}warn(e,t){this.log(o.Warn,e,t)}setLevel(e){this._level=e}setOutput(e){this._fnOutput=e}log(e,t,r){this._level>e||this._fnOutput(`${o[this._level].toString()} <INTERNAL LOGGER> ${this._name} ${t()}${r?"\n"+r.stack:""}`)}}class l{constructor(){this._loggers=new n,this._logLevel=o.Error,this._fnOutput=l.logConsole}getLogger(e){return this._loggers.computeIfAbsent(e,(e=>new a(e,this._logLevel,this._fnOutput)))}changeLogLevel(e){this._logLevel=e,this._loggers.forEach((t=>t.setLevel(e)))}changeOutput(e){this._fnOutput=e,this._loggers.forEach((e=>e.setOutput(this._fnOutput)))}reset(){this.changeLogLevel(o.Error),this._fnOutput=l.logConsole,this._loggers.forEach((e=>e.setOutput(this._fnOutput)))}static logConsole(e){console&&console.log&&console.log(e)}}const u=new l;var c,g,h=Object.freeze({__proto__:null,INTERNAL_LOGGING_SETTINGS:s,get InternalLogLevel(){return o},getInternalLogger:i});!function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Info=2]="Info",e[e.Warn=3]="Warn",e[e.Error=4]="Error",e[e.Fatal=5]="Fatal",e[e.Off=6]="Off"}(c||(c={})),function(e){e.toLogLevel=function(t){switch(t.toLowerCase()){case"trace":return e.Trace;case"debug":return e.Debug;case"info":return e.Info;case"warn":return e.Warn;case"error":return e.Error;case"fatal":return e.Fatal;case"off":return e.Off;default:return}}}(c||(c={}));class f{constructor(e){this._runtime=e}get id(){return this._runtime.id}get logLevel(){return this._runtime.level}get runtimeSettings(){return Object.assign({},this._runtime)}set runtimeSettings(e){this._runtime=e}trace(e,...t){this.logMessage(c.Trace,e,t)}debug(e,...t){this.logMessage(c.Debug,e,t)}info(e,...t){this.logMessage(c.Info,e,t)}warn(e,...t){this.logMessage(c.Warn,e,t)}error(e,...t){this.logMessage(c.Error,e,t)}fatal(e,...t){this.logMessage(c.Fatal,e,t)}logMessage(e,t,r){if(this._runtime.level>e)return;const n=Date.now(),o="string"==typeof t?t:t(),i=f.getErrorAndArgs(r);switch(this._runtime.channel.type){case"RawLogChannel":return void this._runtime.channel.write({message:o,exception:i.error,args:i.args,timeInMillis:n,level:e,logNames:this._runtime.name},this._runtime.argumentFormatter);case"LogChannel":this._runtime.channel.write(this.createLogMessage(o,e,i,n))}}formatArgValue(e){try{return this._runtime.argumentFormatter(e)}catch(t){return`>>ARG CONVERT FAILED: '${void 0!==e?e.toString():"undefined"}'<<`}}createLogMessage(e,t,r,n){let o;const i=r.error,s=r.args;i&&(o=`${i.name}: ${i.message}`,i.stack&&(o+=`@\n${i.stack}`));const a=this._runtime.dateFormatter(n);let l=c[t].toUpperCase();return l.length<5&&(l+=" "),{message:a+" "+l+" ["+("string"==typeof this._runtime.name?this._runtime.name:this._runtime.name.join(", "))+"] "+e+(void 0!==s&&s.length>0?" ["+s.map((e=>this.formatArgValue(e))).join(", ")+"]":""),error:o}}static getErrorAndArgs(e){if(0===e.length)return{};let t,r;const n=e[0];if(n instanceof Error)return t=n,r=e.length>1?e.slice(1):void 0,{error:t,args:r};if("function"==typeof n){const o=n();return o instanceof Error?(t=o,r=e.length>1?e.slice(1):void 0,{error:t,args:r}):1===e.length?Array.isArray(o)?{args:o.length>0?o:void 0}:{args:o}:Array.isArray(o)?{args:[...o,...e.slice(1)]}:{args:[o,...e.slice(1)]}}return{args:e}}}function d(e,t,r=" "){return p(e,t,"start",r)}function p(e,t,r,n=" "){if(t<=e.length)return e;if(n.length>1)throw new Error(`Fill char must be one char exactly, it is: ${n.length}`);const o=t-e.length;let i="";for(let e=0;e<o;e++)i+=n;return"start"===r?i+e:e+i}function v(e){return void 0===e?"undefined":JSON.stringify(e)}function y(e){const t=new Date(e);return`${t.getFullYear()}-${d((t.getMonth()+1).toString(),2,"0")}-${d(t.getDate().toString(),2,"0")} ${d(t.getHours().toString(),2,"0")}:${d(t.getMinutes().toString(),2,"0")}:${d(t.getSeconds().toString(),2,"0")},${d(t.getMilliseconds().toString(),2,"0")}`}class m{constructor(){this.type="LogChannel"}write(e){console&&console.log&&console.log(e.message+(e.error?`\n${e.error}`:""))}}!function(e){e.createConsoleChannel=function(){return new m}}(g||(g={}));class _{constructor(e,t){this._log=i("core.impl.LogProviderImpl"),this._name=e,this._settings=t,this._loggers=new n,this._idToKeyMap=new n,this._globalRuntimeSettings={level:t.level,channel:t.channel},this._nextLoggerId=1,this._log.trace((()=>`Created LogProviderImpl with settings: ${JSON.stringify(this._settings)}`))}get runtimeSettings(){return Object.assign(Object.assign({},this._settings),{level:this._globalRuntimeSettings.level,channel:this._globalRuntimeSettings.channel})}getLogger(e){return this.getOrCreateLogger(e)}updateLoggerRuntime(e,t){this._log.debug((()=>`Updating logger ${e.id} runtime settings using: '${JSON.stringify(t)}'`));const r=this._idToKeyMap.get(e.id);return void 0===r?(this._log.warn((()=>`Cannot update logger with id: ${e.id}, it was not found.`)),!1):(this._loggers.computeIfPresent(r,((e,r)=>(r.runtimeSettings=_.mergeRuntimeSettingsIntoLogRuntime(r.runtimeSettings,t),r))),!0)}updateRuntimeSettings(e){this._log.debug((()=>`Updating global runtime settings and updating existing loggers runtime settings using: '${JSON.stringify(e)}'`)),this._globalRuntimeSettings={level:void 0!==e.level?e.level:this._globalRuntimeSettings.level,channel:void 0!==e.channel?e.channel:this._globalRuntimeSettings.channel},this._loggers.forEach((t=>t.runtimeSettings=_.mergeRuntimeSettingsIntoLogRuntime(t.runtimeSettings,e)))}clear(){this._loggers.clear(),this._idToKeyMap.clear(),this._globalRuntimeSettings=Object.assign({},this._settings),this._nextLoggerId=1}getOrCreateLogger(e){const t=_.createKey(e),r=this._loggers.computeIfAbsent(t,(()=>{const t={level:this._globalRuntimeSettings.level,channel:this._globalRuntimeSettings.channel,id:this.nextLoggerId(),name:e,argumentFormatter:this._settings.argumentFormatter,dateFormatter:this._settings.dateFormatter};return new f(t)}));return this._idToKeyMap.computeIfAbsent(r.id,(()=>t)),r}nextLoggerId(){const e=this._name+"_"+this._nextLoggerId;return this._nextLoggerId++,e}static mergeRuntimeSettingsIntoLogRuntime(e,t){return Object.assign(Object.assign({},e),{level:void 0!==t.level?t.level:e.level,channel:void 0!==t.channel?t.channel:e.channel})}static createKey(e){return"string"==typeof e?e:e.join(",")}}var w=Object.freeze({__proto__:null,EnhancedMap:n,maxLengthStringValueInArray:function(e){return e.map((e=>e.length)).reduce(((e,t)=>t>e?t:e),0)},padEnd:function(e,t,r=" "){return p(e,t,"end",r)},padStart:d});class C{constructor(e,t,r,n){this._children=[],this._logger=e,this._name=t,this._parent=r,this._fnGetOrCreateChildCategory=n}get name(){return this._name}get parent(){return this._parent}get path(){const e=[];let t=this;for(;void 0!==t;)e.push(t.name),t=t.parent;return e.reverse()}get children(){return[...this._children]}addChild(e){if(e.parent!==this)throw new Error(`Cannot add child '${e.name}', expected parent '${this._name} but got ${e.parent?e.parent.name:"undefined"}'`);this._children.push(e)}getChildCategory(e){const t=this._children.find((t=>t.name===e));return void 0!==t?t:this._fnGetOrCreateChildCategory(e,this)}get id(){return this._logger.id}get logLevel(){return this._logger.logLevel}get runtimeSettings(){return this._logger.runtimeSettings}get logger(){return this._logger}trace(e,...t){this._logger.trace(e,...t)}debug(e,...t){this._logger.debug(e,...t)}info(e,...t){this._logger.info(e,...t)}warn(e,...t){this._logger.warn(e,...t)}error(e,...t){this._logger.error(e,...t)}fatal(e,...t){this._logger.fatal(e,...t)}}const b="#";class A{constructor(e,t){this._name=e,this._initialConfig=t,this._categoryStorage=new S(e,t)}get name(){return this._name}get config(){return this._initialConfig}get runtimeConfig(){return this._categoryStorage.getCurrentRuntimeConfig()}getCategory(e,t){return this._categoryStorage.getOrCreateCategory(e,t)}updateRuntimeSettingsCategory(e,t){this._categoryStorage.updateRuntimeSettingsCategory(e,t)}updateRuntimeSettings(e){this._categoryStorage.updateRuntimeSettings(e)}getRegisteredCategories(){return this._categoryStorage.getRegisteredCategories()}getCategoryByPath(e){return this._categoryStorage.getCategoryByPath(e)}}class S{constructor(e,t){var r,n;this._categoriesById=new Map,this._categoriesByPath=new Map,this._categoryProviderName=e,this._allowSameCategoryName=t.allowSameCategoryName,this._logProvider=(r=e,n=Object.assign({},t),new _(r,n)),this.getOrCreateCategory=this.getOrCreateCategory.bind(this)}getOrCreateCategory(e,t){if(-1!==e.indexOf(b))throw new Error(`Cannot create category '${e}', name cannot contain a '${b}'.`);const r=void 0!==t?this.getParentCategory(t):void 0;return void 0===r?this.getOrCreateRootCategory(e):this.getOrCreateChildCategory(e,r)}updateRuntimeSettingsCategory(e,t){if(!e.id.startsWith(this._categoryProviderName))throw new Error(`Category '${e.name}' with LogId '${e.id}' is from a different CategoryProvider, cannot mix categories between providers.`);const r=this._categoriesById.get(e.id);void 0!==r&&(this._logProvider.updateLoggerRuntime(r.logger,{level:t.level}),void 0!==t.disableRecursion&&t.disableRecursion||r.children.forEach((e=>this.updateRuntimeSettingsCategory(e,t))))}updateRuntimeSettings(e){this._logProvider.updateRuntimeSettings(e)}getCurrentRuntimeConfig(){return Object.assign(Object.assign({},this._logProvider.runtimeSettings),{allowSameCategoryName:this._allowSameCategoryName})}getRegisteredCategories(){return[...this._categoriesById.values()]}getCategoryByPath(e){return this._categoriesByPath.get(e)}getParentCategory(e){let t;if(S.isLogId(e)){if(t=this._categoriesById.get(e),void 0===t)throw new Error(`Parent category was not found by LogId '${e}'. Are you sure you passed in the correct argument?`)}else if(t=this._categoriesById.get(e.id),void 0===t)throw new Error(`Parent category '${e.name}' was not found by it's LogId '${e.id}'. Are you sure you passed in the correct parent category?`);return t}getOrCreateRootCategory(e){const t=this._categoriesByPath.get(e);if(t){if(!this._allowSameCategoryName)throw new Error(`Category '${e} already exists, config flag allowSameCategoryName=false - therefore matching version 1 behavior (hence this Error)`);return t}const r=this._logProvider.getLogger(e),n=new C(r,e,void 0,this.getOrCreateCategory);return this._categoriesById.set(n.id,n),this._categoriesByPath.set(e,n),n}getOrCreateChildCategory(e,t){if(!t.id.startsWith(this._categoryProviderName))throw new Error(`Parent category '${t.name}' with LogId '${t.id}' is from a different CategoryProvider, cannot mix categories between providers.`);const r=[...t.path,e].join(b),n=this._categoriesByPath.get(r);if(n){if(!this._allowSameCategoryName)throw new Error(`Child category '${e} already exists for parent category ${t.name}, config flag allowSameCategoryName=false - therefore matching version 1 behavior (hence this Error)`);return n}const o=this._logProvider.getLogger(r);this._logProvider.updateLoggerRuntime(o,{level:t.logger.runtimeSettings.level,channel:t.logger.runtimeSettings.channel});const i=new C(o,e,t,this.getOrCreateCategory);return this._categoriesById.set(i.id,i),this._categoriesByPath.set(i.path.join(b),i),t.addChild(i),i}static isLogId(e){return"string"==typeof e}}class L{constructor(e,t){this._provider=e,this._messageChannel=t,this._originalLogLevels=L.loadCurrentGroupLogLevels(e)}get name(){return this._provider.name}showSettings(){let e=`Available categories (CategoryProvider '${this._provider.name}'):\n`;const t=this.createCategoryInfoHierarchy(),r=t.size.toString().length,n=w.maxLengthStringValueInArray([...t.values()].map((e=>e.category.name+" ".repeat(e.depth)))),o=[...t.values()].map(((e,t)=>L.createSettingLineCategory(e,t,r,n)));e+=o.join("\n")+(o.length>0?"\n":""),this._messageChannel(e)}help(){const e=`You can use the following commands (CategoryProvider ${this._provider.name}):\n  showSettings()\n    Shows the current configuration settings.\n  update(level: CategoryControlProviderLogLevel, categoryId?: number | string, noRecurse?: boolean)\n    Change the log level for a category (by default recursively).\n      @param level      The log level to set - must be one of 'trace', 'debug', 'info', 'warn', 'error' or 'fatal'\n      @param categoryId The category id or path of a category (e.g. root#child1) to update. Use showSettings() for id and/or name.\n                        When omitted, it applies the level to all categories recursively.\n  reset()\n    Resets the log levels of the config groups back to when this control provider was created.\n  save()\n    Saves the current log levels for all categories of this provider. Use restore() to load last saved state.\n  restore()\n    Restore stored saved state, if any. Log levels will be set according to the saved state.\n  help()\n    Shows this help.\n`;this._messageChannel(e)}reset(){const e=new Map(this._provider.getRegisteredCategories().map((e=>[e.id,e])));this._originalLogLevels.forEach(((t,r)=>{const n=e.get(r);void 0!==n&&this._provider.updateRuntimeSettingsCategory(n,{level:t,disableRecursion:!0}),e.delete(r)})),e.forEach((e=>{void 0!==e.parent&&this._provider.updateRuntimeSettingsCategory(e,{level:e.parent.logLevel,disableRecursion:!0})})),this._originalLogLevels=L.loadCurrentGroupLogLevels(this._provider),this._messageChannel("Successfully reset log levels back to original state (from when this CategoryControlProvider was created).")}save(){if(!localStorage)return void this._messageChannel("Cannot save state, localStorage is not available.");const e=this._provider.getRegisteredCategories().filter((e=>void 0===e.parent)).map((e=>L.createCategorySaveData(e))),t={name:this._provider.name,rootCategories:e};localStorage.setItem(this.createKey(),JSON.stringify(t)),this._messageChannel(`Successfully saved state for CategoryControlProvider '${this._provider.name}'.`)}restore(e){const t=void 0===e||e;if(!localStorage)return void(t&&this._messageChannel(`Will not attempt to restore state for CategoryControlProvider '${this._provider.name}', localStorage is not available.`));const r=this.createKey(),n=localStorage.getItem(r);if(null!==n)try{const e=JSON.parse(n);if(this._provider.name!==e.name)return void(t&&this._messageChannel(`Cannot restore state for CategoryControlProvider '${this._provider.name}', data is not for provider - found name '${e.name}'.`));this.restoreBySaveData(e,t),this._messageChannel(`Successfully restored state for CategoryControlProvider '${this._provider.name}'`),this._originalLogLevels=L.loadCurrentGroupLogLevels(this._provider)}catch(e){localStorage.removeItem(r),this._messageChannel(`Cannot restore state for CategoryControlProvider '${this._provider.name}', data is not valid. Invalid data removed from localStorage.`)}else t&&this._messageChannel(`Cannot restore state for CategoryControlProvider '${this._provider.name}', no data available.`)}update(e,t,r){void 0===t?this.updateAll(e):"number"==typeof t?this.updateByIndex(e,t,void 0!==r&&r):this.updateByPath(e,t,void 0!==r&&r)}updateAll(e){const t=c.toLogLevel(e);this._provider.getRegisteredCategories().filter((e=>void 0===e.parent)).forEach((e=>this._provider.updateRuntimeSettingsCategory(e,{level:t}))),this._messageChannel(`Updated all categories to use log level '${e.toLowerCase()}'`)}updateByPath(e,t,r){const n=this._provider.getCategoryByPath(t);void 0!==n?(this._provider.updateRuntimeSettingsCategory(n,{level:c.toLogLevel(e),disableRecursion:r}),this._messageChannel(`Successfully updated category '${n.name}' with path '${t}' to log level '${e.toLowerCase()}'${r?"":" and recursively applied to children (if any)"}.`)):this._messageChannel(`Failed to find a provider by path '${t}', please make sure to separate the parts by a ${b}.`)}updateByIndex(e,t,r){if(t<0)return void this._messageChannel(`Cannot update category by index '${t}', it is negative.`);const n=this.createCategoryInfoHierarchy();if(t>=n.size)return void this._messageChannel(`Cannot update category by index '${t}', it is outside of the range of available categories, use showSettings() to see the indices.`);const o=[...n.values()][t].category;this._provider.updateRuntimeSettingsCategory(o,{level:c.toLogLevel(e),disableRecursion:r}),this._messageChannel(`Successfully updated category '${o.name}' by index '${t}' to log level '${e.toLowerCase()}'${r?"":" and recursively applied to children (if any)"}.`)}restoreBySaveData(e,t){const r=(e,n)=>{const o=n.length>0?n+b+e.name:e.name,i=this._provider.getCategoryByPath(o);if(void 0!==i){const n=c.toLogLevel(e.level);void 0!==n?this._provider.updateRuntimeSettingsCategory(i,{level:n,disableRecursion:!0}):t&&this._messageChannel(`CategoryControlProvider '${this._provider.name}' - cannot restore log level for category path '${o}', log level is invalid.`);for(const t of e.children)r(t,o)}else t&&this._messageChannel(`CategoryControlProvider '${this._provider.name}' - failed to find a Category by path '${o}', will not restore category (and children)`)};for(const t of e.rootCategories)r(t,"")}createKey(){return`CategoryProvider-${this._provider.name}`}createCategoryInfoHierarchy(){const e=new Map;return this._provider.getRegisteredCategories().filter((e=>void 0===e.parent)).forEach((t=>L.addCategoryInfoHierarchy(t,0,e))),e}static createCategorySaveData(e){return{name:e.name,level:c[e.logLevel],children:e.children.map((e=>this.createCategorySaveData(e)))}}static loadCurrentGroupLogLevels(e){return new Map(e.getRegisteredCategories().map((e=>[e.id,e.logLevel])))}static createSettingLineCategory(e,t,r,n){const o=" ".repeat(e.depth)+e.category.name;return`  [${w.padStart(t.toString(),r)}, ${w.padEnd(o,n)} (level=${w.padEnd(e.logLevel,5)})]`}static addCategoryInfoHierarchy(e,t,r){r.set(e.id,{category:e,logLevel:c[e.logLevel],depth:t}),e.children.forEach((e=>this.addCategoryInfoHierarchy(e,t+1,r)))}}class O{constructor(){this._log=h.getInternalLogger("category.impl.CategoryProviderService"),this._providers=new w.EnhancedMap}createLogProvider(e,t){const r=this._providers.compute(e,((r,n)=>{if(n)throw new Error(`CategoryProvider with name '${e}' already exists, cannot create another.`);const o=function(e){const t={channel:g.createConsoleChannel(),allowSameCategoryName:!0,level:c.Error,dateFormatter:y,argumentFormatter:v};return e?{channel:e.channel?e.channel:t.channel,allowSameCategoryName:void 0!==e.allowSameCategoryName?e.allowSameCategoryName:t.allowSameCategoryName,level:void 0!==e.level?e.level:t.level,dateFormatter:e.dateFormatter?e.dateFormatter:t.dateFormatter,argumentFormatter:e.argumentFormatter?e.argumentFormatter:t.argumentFormatter}:t}(t);return this._log.debug((()=>`Creating new CategoryProvider with name '${e}', using config settings '${function(e){return`CategoryConfig=level: ${c[e.level].toString()}, allowSameCategoryName=${e.allowSameCategoryName}`}(o)}'.`)),new A(e,o)}));if(r)return r;throw new Error("No CategoryProvider? This is a bug.")}getCategoryControl(e){const t=e||(e=>{if(!console||!console.log)throw new Error("Cannot use console (it is not present), please specify a custom function to write to.");console.log(e)});return{help:()=>t(O.help()),showSettings:()=>t(this.showSettings()),getProvider:e=>this.getCategoryControlProviderByIdOrName(e,t)}}clear(){this._providers.clear()}showSettings(){let e="Available CategoryProviders:\n";const t=this._providers.size.toString().length,r=w.maxLengthStringValueInArray([...this._providers.keys()]),n=[...this._providers.entries()].map(((e,n)=>{const o=e[0];return`  [${w.padStart(n.toString(),t)}, ${w.padEnd(o,r)}]`}));return e+=n.join("\n")+(n.length>0?"\n":""),e}getCategoryControlProviderByIdOrName(e,t){if("string"==typeof e){const r=this._providers.get(e);if(void 0===r)throw new Error(`Provider with name '${e}' does not exist.`);return new L(r,t)}const r=[...this._providers.values()];if(e<0||e>=r.length)throw new Error(`Provider with index '${e}' does not exist (outside of range).`);return new L(r[e],t)}static help(){return"You can use the following commands:\n  showSettings()\n    Shows the current configuration settings.\n  getProvider: (id: number | string): CategoryControlProvider\n    Get access to a CategoryControlProvider to change log levels.\n      @param id The id (use showSettings to see) or name of the provider\n  help()\n    Shows this help.\n"}}const R=new O,E=e=>R.getCategoryControl(e);var P;!function(e){e.createProvider=function(e,t){return R.createLogProvider(e,t)},e.clear=function(){R.clear()}}(P||(P={}))},9959:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$internal:()=>h,$test:()=>b,DefaultChannels:()=>g,LogLevel:()=>c,createLogProvider:()=>w,formatArgument:()=>v,formatDate:()=>y,util:()=>C});class n extends Map{computeIfAbsent(e,t){if(this.has(e))return this.get(e);const r=t(e);return this.set(e,r),r}computeIfPresent(e,t){const r=this.get(e);if(void 0===r)return;const n=t(e,r);return void 0!==n?this.set(e,n):this.delete(e),n}compute(e,t){const r=t(e,this.get(e));return r?this.set(e,r):this.delete(e),r}}var o;function i(e){return u.getLogger(e)}!function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Info=2]="Info",e[e.Warn=3]="Warn",e[e.Error=4]="Error"}(o||(o={}));const s={setInternalLogLevel:e=>u.changeLogLevel(e),setOutput:e=>u.changeOutput(e),reset:()=>u.reset()};class a{constructor(e,t,r){this._name=e,this._level=t,this._fnOutput=r}trace(e){this.log(o.Trace,e)}debug(e){this.log(o.Debug,e)}error(e,t){this.log(o.Error,e,t)}info(e){this.log(o.Info,e)}warn(e,t){this.log(o.Warn,e,t)}setLevel(e){this._level=e}setOutput(e){this._fnOutput=e}log(e,t,r){this._level>e||this._fnOutput(`${o[this._level].toString()} <INTERNAL LOGGER> ${this._name} ${t()}${r?"\n"+r.stack:""}`)}}class l{constructor(){this._loggers=new n,this._logLevel=o.Error,this._fnOutput=l.logConsole}getLogger(e){return this._loggers.computeIfAbsent(e,(e=>new a(e,this._logLevel,this._fnOutput)))}changeLogLevel(e){this._logLevel=e,this._loggers.forEach((t=>t.setLevel(e)))}changeOutput(e){this._fnOutput=e,this._loggers.forEach((e=>e.setOutput(this._fnOutput)))}reset(){this.changeLogLevel(o.Error),this._fnOutput=l.logConsole,this._loggers.forEach((e=>e.setOutput(this._fnOutput)))}static logConsole(e){console&&console.log&&console.log(e)}}const u=new l;var c,g,h=Object.freeze({__proto__:null,INTERNAL_LOGGING_SETTINGS:s,get InternalLogLevel(){return o},getInternalLogger:i});!function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Info=2]="Info",e[e.Warn=3]="Warn",e[e.Error=4]="Error",e[e.Fatal=5]="Fatal",e[e.Off=6]="Off"}(c||(c={})),function(e){e.toLogLevel=function(t){switch(t.toLowerCase()){case"trace":return e.Trace;case"debug":return e.Debug;case"info":return e.Info;case"warn":return e.Warn;case"error":return e.Error;case"fatal":return e.Fatal;case"off":return e.Off;default:return}}}(c||(c={}));class f{constructor(e){this._runtime=e}get id(){return this._runtime.id}get logLevel(){return this._runtime.level}get runtimeSettings(){return Object.assign({},this._runtime)}set runtimeSettings(e){this._runtime=e}trace(e,...t){this.logMessage(c.Trace,e,t)}debug(e,...t){this.logMessage(c.Debug,e,t)}info(e,...t){this.logMessage(c.Info,e,t)}warn(e,...t){this.logMessage(c.Warn,e,t)}error(e,...t){this.logMessage(c.Error,e,t)}fatal(e,...t){this.logMessage(c.Fatal,e,t)}logMessage(e,t,r){if(this._runtime.level>e)return;const n=Date.now(),o="string"==typeof t?t:t(),i=f.getErrorAndArgs(r);switch(this._runtime.channel.type){case"RawLogChannel":return void this._runtime.channel.write({message:o,exception:i.error,args:i.args,timeInMillis:n,level:e,logNames:this._runtime.name},this._runtime.argumentFormatter);case"LogChannel":this._runtime.channel.write(this.createLogMessage(o,e,i,n))}}formatArgValue(e){try{return this._runtime.argumentFormatter(e)}catch(t){return`>>ARG CONVERT FAILED: '${void 0!==e?e.toString():"undefined"}'<<`}}createLogMessage(e,t,r,n){let o;const i=r.error,s=r.args;i&&(o=`${i.name}: ${i.message}`,i.stack&&(o+=`@\n${i.stack}`));const a=this._runtime.dateFormatter(n);let l=c[t].toUpperCase();return l.length<5&&(l+=" "),{message:a+" "+l+" ["+("string"==typeof this._runtime.name?this._runtime.name:this._runtime.name.join(", "))+"] "+e+(void 0!==s&&s.length>0?" ["+s.map((e=>this.formatArgValue(e))).join(", ")+"]":""),error:o}}static getErrorAndArgs(e){if(0===e.length)return{};let t,r;const n=e[0];if(n instanceof Error)return t=n,r=e.length>1?e.slice(1):void 0,{error:t,args:r};if("function"==typeof n){const o=n();return o instanceof Error?(t=o,r=e.length>1?e.slice(1):void 0,{error:t,args:r}):1===e.length?Array.isArray(o)?{args:o.length>0?o:void 0}:{args:o}:Array.isArray(o)?{args:[...o,...e.slice(1)]}:{args:[o,...e.slice(1)]}}return{args:e}}}function d(e,t,r=" "){return p(e,t,"start",r)}function p(e,t,r,n=" "){if(t<=e.length)return e;if(n.length>1)throw new Error(`Fill char must be one char exactly, it is: ${n.length}`);const o=t-e.length;let i="";for(let e=0;e<o;e++)i+=n;return"start"===r?i+e:e+i}function v(e){return void 0===e?"undefined":JSON.stringify(e)}function y(e){const t=new Date(e);return`${t.getFullYear()}-${d((t.getMonth()+1).toString(),2,"0")}-${d(t.getDate().toString(),2,"0")} ${d(t.getHours().toString(),2,"0")}:${d(t.getMinutes().toString(),2,"0")}:${d(t.getSeconds().toString(),2,"0")},${d(t.getMilliseconds().toString(),2,"0")}`}class m{constructor(){this.type="LogChannel"}write(e){console&&console.log&&console.log(e.message+(e.error?`\n${e.error}`:""))}}!function(e){e.createConsoleChannel=function(){return new m}}(g||(g={}));class _{constructor(e,t){this._log=i("core.impl.LogProviderImpl"),this._name=e,this._settings=t,this._loggers=new n,this._idToKeyMap=new n,this._globalRuntimeSettings={level:t.level,channel:t.channel},this._nextLoggerId=1,this._log.trace((()=>`Created LogProviderImpl with settings: ${JSON.stringify(this._settings)}`))}get runtimeSettings(){return Object.assign(Object.assign({},this._settings),{level:this._globalRuntimeSettings.level,channel:this._globalRuntimeSettings.channel})}getLogger(e){return this.getOrCreateLogger(e)}updateLoggerRuntime(e,t){this._log.debug((()=>`Updating logger ${e.id} runtime settings using: '${JSON.stringify(t)}'`));const r=this._idToKeyMap.get(e.id);return void 0===r?(this._log.warn((()=>`Cannot update logger with id: ${e.id}, it was not found.`)),!1):(this._loggers.computeIfPresent(r,((e,r)=>(r.runtimeSettings=_.mergeRuntimeSettingsIntoLogRuntime(r.runtimeSettings,t),r))),!0)}updateRuntimeSettings(e){this._log.debug((()=>`Updating global runtime settings and updating existing loggers runtime settings using: '${JSON.stringify(e)}'`)),this._globalRuntimeSettings={level:void 0!==e.level?e.level:this._globalRuntimeSettings.level,channel:void 0!==e.channel?e.channel:this._globalRuntimeSettings.channel},this._loggers.forEach((t=>t.runtimeSettings=_.mergeRuntimeSettingsIntoLogRuntime(t.runtimeSettings,e)))}clear(){this._loggers.clear(),this._idToKeyMap.clear(),this._globalRuntimeSettings=Object.assign({},this._settings),this._nextLoggerId=1}getOrCreateLogger(e){const t=_.createKey(e),r=this._loggers.computeIfAbsent(t,(()=>{const t={level:this._globalRuntimeSettings.level,channel:this._globalRuntimeSettings.channel,id:this.nextLoggerId(),name:e,argumentFormatter:this._settings.argumentFormatter,dateFormatter:this._settings.dateFormatter};return new f(t)}));return this._idToKeyMap.computeIfAbsent(r.id,(()=>t)),r}nextLoggerId(){const e=this._name+"_"+this._nextLoggerId;return this._nextLoggerId++,e}static mergeRuntimeSettingsIntoLogRuntime(e,t){return Object.assign(Object.assign({},e),{level:void 0!==t.level?t.level:e.level,channel:void 0!==t.channel?t.channel:e.channel})}static createKey(e){return"string"==typeof e?e:e.join(",")}}function w(e,t){return new _(e,t)}var C=Object.freeze({__proto__:null,EnhancedMap:n,maxLengthStringValueInArray:function(e){return e.map((e=>e.length)).reduce(((e,t)=>t>e?t:e),0)},padEnd:function(e,t,r=" "){return p(e,t,"end",r)},padStart:d}),b=Object.freeze({__proto__:null,ArrayLogChannel:class{constructor(){this._buffer=[],this.type="LogChannel"}write(e){this._buffer.push(e)}get logMessages(){return this._buffer}get messages(){return this._buffer.map((e=>e.message))}},ArrayRawLogChannel:class{constructor(){this._buffer=[],this.type="RawLogChannel"}write(e,t){this._buffer.push(e)}get messages(){return this._buffer.map((e=>e.message))}get errors(){return this._buffer.map((e=>e.exception))}get size(){return this._buffer.length}get rawMessages(){return this._buffer}clear(){this._buffer=[]}},TestControlMessage:class{constructor(){this._messages=[],this.write=this.write.bind(this)}get messages(){return this._messages}write(e){this._messages.push(e)}clear(){this._messages=[]}}})}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={id:n,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nc=void 0,r(7728)})();
//# sourceMappingURL=../source-maps/tester/tester.js.map