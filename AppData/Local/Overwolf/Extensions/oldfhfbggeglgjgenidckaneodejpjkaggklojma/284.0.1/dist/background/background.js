/*! For license information please see background.js.LICENSE.txt */
(()=>{var e={5651:(e,t,n)=>{"use strict";n.d(t,{B:()=>s,V:()=>r});var i=n(4170),o={};function r(){return(0,i.wD)()?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:o}function s(e,t,n){var i=n||r(),o=i.__SENTRY__=i.__SENTRY__||{};return o[e]||(o[e]=t())}},4170:(e,t,n)=>{"use strict";function i(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function o(e,t){return e.require(t)}n.d(t,{fj:()=>o,wD:()=>i}),e=n.hmd(e)},6457:(e,t,n)=>{"use strict";n.d(t,{lu:()=>c,zf:()=>l});var i=n(5651),o=n(4170);e=n.hmd(e);var r={nowSeconds:function(){return Date.now()/1e3}},s=(0,o.wD)()?function(){try{return(0,o.fj)(e,"perf_hooks").performance}catch(e){return}}():function(){var e=(0,i.V)().performance;if(e&&e.now)return{now:function(){return e.now()},timeOrigin:Date.now()-e.now()}}(),a=void 0===s?r:{nowSeconds:function(){return(s.timeOrigin+s.now())/1e3}},c=r.nowSeconds.bind(r),l=a.nowSeconds.bind(a);!function(){var e=(0,i.V)().performance;if(e&&e.now){var t=36e5,n=e.now(),o=Date.now(),r=e.timeOrigin?Math.abs(e.timeOrigin+n-o):t,s=r<t,a=e.timing&&e.timing.navigationStart,c="number"==typeof a?Math.abs(a+n-o):t;(s||c<t)&&(r<=c&&e.timeOrigin)}}()},5647:(e,t,n)=>{("undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"app-overwolf@284.0.1"}},6660:(e,t,n)=>{e.exports=n(8226)},8427:(e,t,n)=>{"use strict";var i=n(4345),o=n(6435),r=n(5905),s=n(3025),a=n(3916),c=n(6135),l=n(6923),u=n(1792),d=n(5582),f=n(9945);e.exports=function(e){return new Promise((function(t,n){var h,p=e.data,g=e.headers,v=e.responseType;function m(){e.cancelToken&&e.cancelToken.unsubscribe(h),e.signal&&e.signal.removeEventListener("abort",h)}i.isFormData(p)&&delete g["Content-Type"];var y=new XMLHttpRequest;if(e.auth){var w=e.auth.username||"",_=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";g.Authorization="Basic "+btoa(w+":"+_)}var S=a(e.baseURL,e.url);function b(){if(y){var i="getAllResponseHeaders"in y?c(y.getAllResponseHeaders()):null,r={data:v&&"text"!==v&&"json"!==v?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:i,config:e,request:y};o((function(e){t(e),m()}),(function(e){n(e),m()}),r),y=null}}if(y.open(e.method.toUpperCase(),s(S,e.params,e.paramsSerializer),!0),y.timeout=e.timeout,"onloadend"in y?y.onloadend=b:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(b)},y.onabort=function(){y&&(n(u("Request aborted",e,"ECONNABORTED",y)),y=null)},y.onerror=function(){n(u("Network Error",e,null,y)),y=null},y.ontimeout=function(){var t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",i=e.transitional||d;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(u(t,e,i.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},i.isStandardBrowserEnv()){var O=(e.withCredentials||l(S))&&e.xsrfCookieName?r.read(e.xsrfCookieName):void 0;O&&(g[e.xsrfHeaderName]=O)}"setRequestHeader"in y&&i.forEach(g,(function(e,t){void 0===p&&"content-type"===t.toLowerCase()?delete g[t]:y.setRequestHeader(t,e)})),i.isUndefined(e.withCredentials)||(y.withCredentials=!!e.withCredentials),v&&"json"!==v&&(y.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&y.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(h=function(e){y&&(n(!e||e&&e.type?new f("canceled"):e),y.abort(),y=null)},e.cancelToken&&e.cancelToken.subscribe(h),e.signal&&(e.signal.aborted?h():e.signal.addEventListener("abort",h))),p||(p=null),y.send(p)}))}},8226:(e,t,n)=>{"use strict";var i=n(4345),o=n(5063),r=n(9560),s=n(4816),a=function e(t){var n=new r(t),a=o(r.prototype.request,n);return i.extend(a,r.prototype,n),i.extend(a,n),a.create=function(n){return e(s(t,n))},a}(n(6075));a.Axios=r,a.Cancel=n(9945),a.CancelToken=n(5912),a.isCancel=n(6945),a.VERSION=n(9978).version,a.all=function(e){return Promise.all(e)},a.spread=n(8127),a.isAxiosError=n(8568),e.exports=a,e.exports.default=a},9945:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},5912:(e,t,n)=>{"use strict";var i=n(9945);function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;this.promise.then((function(e){if(n._listeners){var t,i=n._listeners.length;for(t=0;t<i;t++)n._listeners[t](e);n._listeners=null}})),this.promise.then=function(e){var t,i=new Promise((function(e){n.subscribe(e),t=e})).then(e);return i.cancel=function(){n.unsubscribe(t)},i},e((function(e){n.reason||(n.reason=new i(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},o.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},6945:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},9560:(e,t,n)=>{"use strict";var i=n(4345),o=n(3025),r=n(546),s=n(1617),a=n(4816),c=n(6552),l=c.validators;function u(e){this.defaults=e,this.interceptors={request:new r,response:new r}}u.prototype.request=function(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var n=t.transitional;void 0!==n&&c.assertOptions(n,{silentJSONParsing:l.transitional(l.boolean),forcedJSONParsing:l.transitional(l.boolean),clarifyTimeoutError:l.transitional(l.boolean)},!1);var i=[],o=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));var r,u=[];if(this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)})),!o){var d=[s,void 0];for(Array.prototype.unshift.apply(d,i),d=d.concat(u),r=Promise.resolve(t);d.length;)r=r.then(d.shift(),d.shift());return r}for(var f=t;i.length;){var h=i.shift(),p=i.shift();try{f=h(f)}catch(e){p(e);break}}try{r=s(f)}catch(e){return Promise.reject(e)}for(;u.length;)r=r.then(u.shift(),u.shift());return r},u.prototype.getUri=function(e){return e=a(this.defaults,e),o(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},i.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),i.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,i){return this.request(a(i||{},{method:e,url:t,data:n}))}})),e.exports=u},546:(e,t,n)=>{"use strict";var i=n(4345);function o(){this.handlers=[]}o.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){i.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},3916:(e,t,n)=>{"use strict";var i=n(4860),o=n(7825);e.exports=function(e,t){return e&&!i(t)?o(e,t):t}},1792:(e,t,n)=>{"use strict";var i=n(7148);e.exports=function(e,t,n,o,r){var s=new Error(e);return i(s,t,n,o,r)}},1617:(e,t,n)=>{"use strict";var i=n(4345),o=n(7638),r=n(6945),s=n(6075),a=n(9945);function c(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new a("canceled")}e.exports=function(e){return c(e),e.headers=e.headers||{},e.data=o.call(e,e.data,e.headers,e.transformRequest),e.headers=i.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),i.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||s.adapter)(e).then((function(t){return c(e),t.data=o.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return r(t)||(c(e),t&&t.response&&(t.response.data=o.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},7148:e=>{"use strict";e.exports=function(e,t,n,i,o){return e.config=t,n&&(e.code=n),e.request=i,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}},4816:(e,t,n)=>{"use strict";var i=n(4345);e.exports=function(e,t){t=t||{};var n={};function o(e,t){return i.isPlainObject(e)&&i.isPlainObject(t)?i.merge(e,t):i.isPlainObject(t)?i.merge({},t):i.isArray(t)?t.slice():t}function r(n){return i.isUndefined(t[n])?i.isUndefined(e[n])?void 0:o(void 0,e[n]):o(e[n],t[n])}function s(e){if(!i.isUndefined(t[e]))return o(void 0,t[e])}function a(n){return i.isUndefined(t[n])?i.isUndefined(e[n])?void 0:o(void 0,e[n]):o(void 0,t[n])}function c(n){return n in t?o(e[n],t[n]):n in e?o(void 0,e[n]):void 0}var l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return i.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=l[e]||r,o=t(e);i.isUndefined(o)&&t!==c||(n[e]=o)})),n}},6435:(e,t,n)=>{"use strict";var i=n(1792);e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(i("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},7638:(e,t,n)=>{"use strict";var i=n(4345),o=n(6075);e.exports=function(e,t,n){var r=this||o;return i.forEach(n,(function(n){e=n.call(r,e,t)})),e}},6075:(e,t,n)=>{"use strict";var i=n(4345),o=n(2327),r=n(7148),s=n(5582),a={"Content-Type":"application/x-www-form-urlencoded"};function c(e,t){!i.isUndefined(e)&&i.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var l,u={transitional:s,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(l=n(8427)),l),transformRequest:[function(e,t){return o(t,"Accept"),o(t,"Content-Type"),i.isFormData(e)||i.isArrayBuffer(e)||i.isBuffer(e)||i.isStream(e)||i.isFile(e)||i.isBlob(e)?e:i.isArrayBufferView(e)?e.buffer:i.isURLSearchParams(e)?(c(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):i.isObject(e)||t&&"application/json"===t["Content-Type"]?(c(t,"application/json"),function(e){if(i.isString(e))try{return(0,JSON.parse)(e),i.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||u.transitional,n=t&&t.silentJSONParsing,o=t&&t.forcedJSONParsing,s=!n&&"json"===this.responseType;if(s||o&&i.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(s){if("SyntaxError"===e.name)throw r(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};i.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),i.forEach(["post","put","patch"],(function(e){u.headers[e]=i.merge(a)})),e.exports=u},5582:e=>{"use strict";e.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},9978:e=>{e.exports={version:"0.26.1"}},5063:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return e.apply(t,n)}}},3025:(e,t,n)=>{"use strict";var i=n(4345);function o(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(i.isURLSearchParams(t))r=t.toString();else{var s=[];i.forEach(t,(function(e,t){null!=e&&(i.isArray(e)?t+="[]":e=[e],i.forEach(e,(function(e){i.isDate(e)?e=e.toISOString():i.isObject(e)&&(e=JSON.stringify(e)),s.push(o(t)+"="+o(e))})))})),r=s.join("&")}if(r){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e}},7825:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},5905:(e,t,n)=>{"use strict";var i=n(4345);e.exports=i.isStandardBrowserEnv()?{write:function(e,t,n,o,r,s){var a=[];a.push(e+"="+encodeURIComponent(t)),i.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),i.isString(o)&&a.push("path="+o),i.isString(r)&&a.push("domain="+r),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},4860:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}},8568:(e,t,n)=>{"use strict";var i=n(4345);e.exports=function(e){return i.isObject(e)&&!0===e.isAxiosError}},6923:(e,t,n)=>{"use strict";var i=n(4345);e.exports=i.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=i.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},2327:(e,t,n)=>{"use strict";var i=n(4345);e.exports=function(e,t){i.forEach(e,(function(n,i){i!==t&&i.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[i])}))}},6135:(e,t,n)=>{"use strict";var i=n(4345),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,r,s={};return e?(i.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=i.trim(e.substr(0,r)).toLowerCase(),n=i.trim(e.substr(r+1)),t){if(s[t]&&o.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}})),s):s}},8127:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},6552:(e,t,n)=>{"use strict";var i=n(9978).version,o={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){o[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var r={};o.transitional=function(e,t,n){function o(e,t){return"[Axios v"+i+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,i,s){if(!1===e)throw new Error(o(i," has been removed"+(t?" in "+t:"")));return t&&!r[i]&&(r[i]=!0,console.warn(o(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}},e.exports={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var i=Object.keys(e),o=i.length;o-- >0;){var r=i[o],s=t[r];if(s){var a=e[r],c=void 0===a||s(a,r,e);if(!0!==c)throw new TypeError("option "+r+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+r)}},validators:o}},4345:(e,t,n)=>{"use strict";var i=n(5063),o=Object.prototype.toString;function r(e){return Array.isArray(e)}function s(e){return void 0===e}function a(e){return"[object ArrayBuffer]"===o.call(e)}function c(e){return null!==e&&"object"==typeof e}function l(e){if("[object Object]"!==o.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===o.call(e)}function d(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),r(e))for(var n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:r,isArrayBuffer:a,isBuffer:function(e){return null!==e&&!s(e)&&null!==e.constructor&&!s(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"[object FormData]"===o.call(e)},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&a(e.buffer)},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:c,isPlainObject:l,isUndefined:s,isDate:function(e){return"[object Date]"===o.call(e)},isFile:function(e){return"[object File]"===o.call(e)},isBlob:function(e){return"[object Blob]"===o.call(e)},isFunction:u,isStream:function(e){return c(e)&&u(e.pipe)},isURLSearchParams:function(e){return"[object URLSearchParams]"===o.call(e)},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:d,merge:function e(){var t={};function n(n,i){l(t[i])&&l(n)?t[i]=e(t[i],n):l(n)?t[i]=e({},n):r(n)?t[i]=n.slice():t[i]=n}for(var i=0,o=arguments.length;i<o;i++)d(arguments[i],n);return t},extend:function(e,t,n){return d(t,(function(t,o){e[o]=n&&"function"==typeof t?i(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},2326:(e,t,n)=>{var i;!function(e){!function(){var t="object"==typeof n.g?n.g:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),i=o(e);function o(e,t){return function(n,i){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:i}),t&&t(n,i)}}void 0===t.Reflect?t.Reflect=e:i=o(t.Reflect,i),function(e){var t=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,i=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",r="function"==typeof Object.create,s={__proto__:[]}instanceof Array,a=!r&&!s,c={create:r?function(){return N(Object.create(null))}:s?function(){return N({__proto__:null})}:function(){return N({})},has:a?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:a?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),u="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,d=u||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[o]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var i=this._keys.length,o=n+1;o<i;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,i)},t.prototype.values=function(){return new n(this._keys,this._values,r)},t.prototype.entries=function(){return new n(this._keys,this._values,s)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[o]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function i(e,t){return e}function r(e,t){return t}function s(e,t){return[e,t]}}():Map,f=u||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new d}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[o]=function(){return this.keys()},e}():Set,h=new(u||"function"!=typeof WeakMap?function(){var e=c.create(),n=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&c.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?c.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var t;do{t="@@WeakMap@@"+s()}while(c.has(e,t));return e[t]=!0,t}function o(e,i){if(!t.call(e,n)){if(!i)return;Object.defineProperty(e,n,{value:c.create()})}return e[n]}function r(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function s(){var e,t=(e=16,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):r(new Uint8Array(e),e):r(new Array(e),e));t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",i=0;i<16;++i){var o=t[i];4!==i&&6!==i&&8!==i||(n+="-"),o<16&&(n+="0"),n+=o.toString(16).toLowerCase()}return n}}():WeakMap);function p(e,t,n){var i=h.get(e);if(O(i)){if(!n)return;i=new d,h.set(e,i)}var o=i.get(t);if(O(o)){if(!n)return;o=new d,i.set(t,o)}return o}function g(e,t,n){if(v(e,t,n))return!0;var i=W(t);return!R(i)&&g(e,i,n)}function v(e,t,n){var i=p(t,n,!1);return!O(i)&&!!i.has(e)}function m(e,t,n){if(v(e,t,n))return y(e,t,n);var i=W(t);return R(i)?void 0:m(e,i,n)}function y(e,t,n){var i=p(t,n,!1);if(!O(i))return i.get(e)}function w(e,t,n,i){p(n,i,!0).set(e,t)}function _(e,t){var n=S(e,t),i=W(e);if(null===i)return n;var o=_(i,t);if(o.length<=0)return n;if(n.length<=0)return o;for(var r=new f,s=[],a=0,c=n;a<c.length;a++){var l=c[a];r.has(l)||(r.add(l),s.push(l))}for(var u=0,d=o;u<d.length;u++)l=d[u],r.has(l)||(r.add(l),s.push(l));return s}function S(e,t){var n=[],i=p(e,t,!1);if(O(i))return n;for(var r=function(e){var t=I(e,o);if(!k(t))throw new TypeError;var n=t.call(e);if(!C(n))throw new TypeError;return n}(i.keys()),s=0;;){var a=L(r);if(!a)return n.length=s,n;var c=a.value;try{n[s]=c}catch(e){try{T(r)}finally{throw e}}s++}}function b(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function O(e){return void 0===e}function R(e){return null===e}function C(e){return"object"==typeof e?null!==e:"function"==typeof e}function P(e,t){switch(b(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",o=I(e,i);if(void 0!==o){var r=o.call(e,n);if(C(r))throw new TypeError;return r}return function(e,t){if("string"===t){var n=e.toString;if(k(n)&&!C(o=n.call(e)))return o;if(k(i=e.valueOf)&&!C(o=i.call(e)))return o}else{var i;if(k(i=e.valueOf)&&!C(o=i.call(e)))return o;var o,r=e.toString;if(k(r)&&!C(o=r.call(e)))return o}throw new TypeError}(e,"default"===n?"number":n)}function E(e){var t=P(e,3);return"symbol"==typeof t?t:function(e){return""+e}(t)}function x(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function k(e){return"function"==typeof e}function j(e){return"function"==typeof e}function I(e,t){var n=e[t];if(null!=n){if(!k(n))throw new TypeError;return n}}function L(e){var t=e.next();return!t.done&&t}function T(e){var t=e.return;t&&t.call(e)}function W(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===l)return t;if(t!==l)return t;var n=e.prototype,i=n&&Object.getPrototypeOf(n);if(null==i||i===Object.prototype)return t;var o=i.constructor;return"function"!=typeof o||o===e?t:o}function N(e){return e.__=void 0,delete e.__,e}e("decorate",(function(e,t,n,i){if(O(n)){if(!x(e))throw new TypeError;if(!j(t))throw new TypeError;return function(e,t){for(var n=e.length-1;n>=0;--n){var i=(0,e[n])(t);if(!O(i)&&!R(i)){if(!j(i))throw new TypeError;t=i}}return t}(e,t)}if(!x(e))throw new TypeError;if(!C(t))throw new TypeError;if(!C(i)&&!O(i)&&!R(i))throw new TypeError;return R(i)&&(i=void 0),function(e,t,n,i){for(var o=e.length-1;o>=0;--o){var r=(0,e[o])(t,n,i);if(!O(r)&&!R(r)){if(!C(r))throw new TypeError;i=r}}return i}(e,t,n=E(n),i)})),e("metadata",(function(e,t){return function(n,i){if(!C(n))throw new TypeError;if(!O(i)&&!function(e){switch(b(e)){case 3:case 4:return!0;default:return!1}}(i))throw new TypeError;w(e,t,n,i)}})),e("defineMetadata",(function(e,t,n,i){if(!C(n))throw new TypeError;return O(i)||(i=E(i)),w(e,t,n,i)})),e("hasMetadata",(function(e,t,n){if(!C(t))throw new TypeError;return O(n)||(n=E(n)),g(e,t,n)})),e("hasOwnMetadata",(function(e,t,n){if(!C(t))throw new TypeError;return O(n)||(n=E(n)),v(e,t,n)})),e("getMetadata",(function(e,t,n){if(!C(t))throw new TypeError;return O(n)||(n=E(n)),m(e,t,n)})),e("getOwnMetadata",(function(e,t,n){if(!C(t))throw new TypeError;return O(n)||(n=E(n)),y(e,t,n)})),e("getMetadataKeys",(function(e,t){if(!C(e))throw new TypeError;return O(t)||(t=E(t)),_(e,t)})),e("getOwnMetadataKeys",(function(e,t){if(!C(e))throw new TypeError;return O(t)||(t=E(t)),S(e,t)})),e("deleteMetadata",(function(e,t,n){if(!C(t))throw new TypeError;O(n)||(n=E(n));var i=p(t,n,!1);if(O(i))return!1;if(!i.delete(e))return!1;if(i.size>0)return!0;var o=h.get(t);return o.delete(n),o.size>0||h.delete(t),!0}))}(i)}()}(i||(i={}))},7502:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionsRegistry=void 0;const o=n(6094),r=n(1770),s=n(4227),a=n(6066),c=n(8841),l=n(2118),u=n(3256),d=n(8128),f=n(2132),h=n(1032),p=n(1561),g=n(7176),v=n(57),m=n(4159),y=n(1351),w=n(1185),_=n(3617),S=n(6691),b=n(7515);let O=class{};O=i([(0,o.registry)([{token:r.kNameOfCondition,useFactory:(0,o.instancePerContainerCachingFactory)((e=>e.resolve(v.GlobalConditionCooldownOwLaunch)))},{token:r.kNameOfCondition,useFactory:(0,o.instancePerContainerCachingFactory)((e=>e.resolve(g.GlobalConditionCooldownFromInstall)))},{token:r.kNameOfCondition,useFactory:(0,o.instancePerContainerCachingFactory)((e=>e.resolve(s.GlobalConditionCooldownFromLastNotification)))},{token:r.kNameOfCondition,useFactory:(0,o.instancePerContainerCachingFactory)((e=>e.resolve(y.GlobalConditionGameRunning)))},{token:r.kNameOfCondition,useFactory:(0,o.instancePerContainerCachingFactory)((e=>e.resolve(w.GlobalConditionUserPhasing)))},{token:r.kNameOfCondition,useFactory:(0,o.instancePerContainerCachingFactory)((e=>e.resolve(S.ConditionPlatformDisabled)))},{token:r.kNameOfCondition,useFactory:(0,o.instancePerContainerCachingFactory)((e=>e.resolve(_.ConditionExtensionPhasing)))},{token:r.kNameOfCondition,useFactory:(0,o.instancePerContainerCachingFactory)((e=>e.resolve(b.ConditionHostApp)))},{token:r.kNameOfCondition,useFactory:(0,o.instancePerContainerCachingFactory)((e=>e.resolve(p.ConditionNotificationPreviouslyDismissed)))},{token:r.kNameOfCondition,useFactory:(0,o.instancePerContainerCachingFactory)((e=>e.resolve(c.ConditionApplicationAlreadyInstalled)))},{token:r.kNameOfCondition,useFactory:(0,o.instancePerContainerCachingFactory)((e=>e.resolve(u.ConditionDedicatedAppInstalled)))},{token:r.kNameOfCondition,useFactory:(0,o.instancePerContainerCachingFactory)((e=>e.resolve(l.ConditionBlacklistApplicationInstalled)))},{token:r.kNameOfCondition,useFactory:(0,o.instancePerContainerCachingFactory)((e=>e.resolve(h.ConditionNotificationDisplayCap)))},{token:r.kNameOfCondition,useFactory:(0,o.instancePerContainerCachingFactory)((e=>e.resolve(f.ConditionGPUSupported)))},{token:r.kNameOfCondition,useFactory:(0,o.instancePerContainerCachingFactory)((e=>e.resolve(a.ConditionApplicationExcluded)))},{token:r.kNameOfCondition,useFactory:(0,o.instancePerContainerCachingFactory)((e=>e.resolve(m.GlobalConditionGameExcluded)))},{token:r.kNameOfCondition,useFactory:(0,o.instancePerContainerCachingFactory)((e=>e.resolve(d.ConditionGeoRestricted)))}])],O),t.ConditionsRegistry=O},8711:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.VendorRegistry=t.kDITokenAxios=void 0;const r=o(n(6660)),s=n(6094);t.kDITokenAxios="vendor-axios";let a=class{};a=i([(0,s.registry)([{token:t.kDITokenAxios,useValue:r.default}])],a),t.VendorRegistry=a},6198:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kPlatformMap=t.kOwRegistryKey=t.kOwElectronEnableNotifications=t.kOwElectronRegistryPath=t.kOwRegistryPath=t.kNameOfApprovedDLCertificates=t.kNameOfOwCRNDlUserAgent=t.kNameOfRegistryWrapper=t.kNameOfSimplePluginService=t.kNameOfDownloadService=t.kNameOfSimpleIOPlugin=t.kNameOfDownloadPlugin=t.KNameOfLastNotificationInfo=t.KTesterWindowName=t.kDITokenOwTesterWindow=t.kTesterWindowName=t.kNotificationWindowName=void 0,t.kNotificationWindowName="notification",t.kTesterWindowName="tester",t.kDITokenOwTesterWindow="ow-tester-window",t.KTesterWindowName="tester",t.KNameOfLastNotificationInfo="last-notification-info",t.kNameOfDownloadPlugin="downloader-plugin",t.kNameOfSimpleIOPlugin="simple-io-plugin",t.kNameOfDownloadService="DownloadService",t.kNameOfSimplePluginService="SimplePluginService",t.kNameOfRegistryWrapper="registryWrapper",t.kNameOfOwCRNDlUserAgent="Overwolf CRN Downloader",t.kNameOfApprovedDLCertificates=["7E555D99CC1F1A9FAC1205E31D7A2E5CB369D672","17AC7A6D7F20F48993BC7098A88DD051DA90BCFD","4CFB89FAA49539A58968D81960B3C1258E8F6A34","7622C0BC58B09EA199633C6BBBB92A7B0057B2F7","17AC7A6D7F20F48993BC7098A88DD051DA90BCFD","A2AC3B36FB87C6C17A7A01F317500CE926A64254","962A9D59796B8C6AE1A7D8FAE72EC3729A898814"],t.kOwRegistryPath="\\SOFTWARE\\WOW6432Node\\Overwolf",t.kOwElectronRegistryPath="Software\\OverwolfElectron",t.kOwElectronEnableNotifications="enableNotifications",t.kOwRegistryKey="InstallFolder",t.kPlatformMap=new Map([["ow","phasingForOverwolf"],["owe","phasingForElectron"]])},9774:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.ContentRecommendationUserAction=void 0,(n=t.ContentRecommendationUserAction||(t.ContentRecommendationUserAction={}))[n.Dismissed=1]="Dismissed",n[n.OpenApplicationInStore=2]="OpenApplicationInStore",n[n.DirectInstallApplication=3]="DirectInstallApplication",n[n.IgnoredByLaunchingGame=4]="IgnoredByLaunchingGame",n[n.Timeout=5]="Timeout",n[n.TurnOffNotificationsRequested=6]="TurnOffNotificationsRequested",n[n.NotificationSettingsOpened=7]="NotificationSettingsOpened",n[n.OpenExternalUrl=8]="OpenExternalUrl",n[n.DownloadExternalApp=9]="DownloadExternalApp",n[n.CancelDownloadExternalApp=10]="CancelDownloadExternalApp",n[n.CloseClickedWhileDownloadingExternalApp=11]="CloseClickedWhileDownloadingExternalApp",n[n.ForceClosed=12]="ForceClosed"},5516:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kDITokenLogger=t.kDITokenWindowListener=t.kDITokenNotificationWindowScreenAnchor=t.kDITokenOwNotificationWindow=t.kDIConfigurations=t.kDIOWOWSettingsGamesWrapper=t.kDIOWSettingsWrapper=t.kDIOWIOPathsWrapper=t.kDITokenExternalService=t.kDITOWCustomURLWrapper=t.kDITOWWrapper=t.kDITOWExtensionWrapper=t.kDITOWGameListenerWrapper=t.kDITOWSettingsWrapper=t.kDITOWTrackRSWrapper=t.kDITOWGamesWrapper=t.kDITOWUtilsWrapper=void 0,t.kDITOWUtilsWrapper="OWUtilsWrapper",t.kDITOWGamesWrapper="OWGamesWrapper",t.kDITOWTrackRSWrapper="OWTrackRSWrapper",t.kDITOWSettingsWrapper="OWSettingsWrapper",t.kDITOWGameListenerWrapper="OWGameListenerWrapper",t.kDITOWExtensionWrapper="OWExtensionWrapper",t.kDITOWWrapper="OWWrapper",t.kDITOWCustomURLWrapper="OWCustomURLWrapper",t.kDITokenExternalService="ExternalService",t.kDIOWIOPathsWrapper="OWIOPathsWrapper",t.kDIOWSettingsWrapper="OWENotificationSettingsWrapper",t.kDIOWOWSettingsGamesWrapper="OWSettingsGamesWrapper",t.kDIConfigurations="configurations",t.kDITokenOwNotificationWindow="ow-notification-window",t.kDITokenNotificationWindowScreenAnchor="ow-notification-window-screen-anchor",t.kDITokenWindowListener="ow-window-listener",t.kDITokenLogger="Logger"},5273:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kNameOfNotificationWindowManagerService=void 0,t.kNameOfNotificationWindowManagerService="NotificationWindowManagerService"},5403:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kNameOfNotificationWindowService=void 0,t.kNameOfNotificationWindowService="NotificationWindowService"},8843:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kNameOfTesterWindowService=void 0,t.kNameOfTesterWindowService="TesterWindowService"},3445:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kNameOfUserActionService=void 0,t.kNameOfUserActionService="UserActionService"},8841:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionApplicationAlreadyInstalled=void 0;const a=n(6094),c=n(4246),l=n(1741),u=n(1257),d=n(5516);let f=class{constructor(e){this.owExtensionWrapper=e,this.logger=u.LoggerService.getCategory("ConditionApplicationAlreadyInstalled")}get id(){return this.logger.name}match(e){return s(this,void 0,void 0,(function*(){const{application:t}=e,n=yield this.nonInstalledExtensionsFound(t);return[n,n?null:c.NoRecommendationsReasons.SpecificApplicationAlreadyDownloaded]}))}nonInstalledExtensionsFound(e){return s(this,void 0,void 0,(function*(){const t=yield this.owExtensionWrapper.getInstalledAndEnabledExtensionUids();if(!t)return!0;for(let n=0;n<t.length;n++)if(t[n]===e.uid)return this.logger.info(`Application ${e.uid} already Installed`),!1;return!0}))}};f=i([(0,a.injectable)(),(0,l.conditionType)(l.ConditionType.AppSpecific),r(0,(0,a.inject)(d.kDITOWExtensionWrapper)),o("design:paramtypes",[Object])],f),t.ConditionApplicationAlreadyInstalled=f},6066:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionApplicationExcluded=void 0;const a=n(6094),c=n(382),l=n(4246),u=n(1741),d=n(3445),f=n(1257);let h=class{constructor(e,t){this.storage=e,this.userActionService=t,this.logger=f.LoggerService.getCategory("ConditionApplicationExcluded"),this.userActionService.addListener(this)}get id(){return this.logger.name}match(e){return s(this,void 0,void 0,(function*(){const t=this.storage.getExcludedExtensions();return t&&t.includes(e.application.uid)?[!1,l.NoRecommendationsReasons.AppExcludedByUser]:[!0,null]}))}onApplicationExcluded(e){this.storage.addExtensionToExcluded(e)}};h=i([(0,a.injectable)(),(0,u.conditionType)(u.ConditionType.AllApps),r(1,(0,a.inject)(d.kNameOfUserActionService)),o("design:paramtypes",[c.PersistentStorageService,Object])],h),t.ConditionApplicationExcluded=h},7515:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionHostApp=void 0;const a=n(6094),c=n(4246),l=n(1741),u=n(1257),d=n(5516),f=n(5942);let h=class{constructor(e,t,n){this.owWrapper=e,this.datastoreService=t,this.owUtilsWrapper=n,this.logger=u.LoggerService.getCategory("ConditionHostApp")}get id(){return this.logger.name}match(e){return s(this,void 0,void 0,(function*(){const{application:t}=e;if("ow"===this.owWrapper.getPlatform())return[!0,null];const n=yield this.datastoreService.getHostApps();this.logger.info("hostApps",JSON.stringify(n));const i=this.owWrapper.getHostAppUid();if(!(null==n?void 0:n[i]))return[!1,c.NoRecommendationsReasons.HostAppNotApproved];const o=yield this.owUtilsWrapper.getPersistentPhasedPercent(),r=n[i].find((e=>e.id===t.uid&&e.enabled&&o<=e.phasing));return[r,r?null:c.NoRecommendationsReasons.HostAppNotApproved]}))}};h=i([(0,a.injectable)(),(0,l.conditionType)(l.ConditionType.AppSpecific),r(0,(0,a.inject)(d.kDITOWWrapper)),r(2,(0,a.inject)(d.kDITOWUtilsWrapper)),o("design:paramtypes",[Object,f.RecommendationDatastoreService,Object])],h),t.ConditionHostApp=h},2118:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionBlacklistApplicationInstalled=void 0;const a=n(6094),c=n(4246),l=n(1741),u=n(1257),d=n(5516);let f=class{constructor(e){this.owExtensionWrapper=e,this.logger=u.LoggerService.getCategory("ConditionBlacklistApplicationInstalled")}get id(){return this.logger.name}match(e){return s(this,void 0,void 0,(function*(){const{application:t}=e,n=yield this.noBlacklistApplicationsFound(t);return[n,n?null:c.NoRecommendationsReasons.BlackListedApp]}))}noBlacklistApplicationsFound(e){return s(this,void 0,void 0,(function*(){const t=e.blacklistExtensionIds,n=yield this.owExtensionWrapper.getInstalledAndEnabledExtensionUids();if(!n||!t)return this.logger.info("No installed or blacklist extensions found"),!0;for(const e of n)if(t.includes(e))return this.logger.info(`Blacklisted app: ${e} was detected`),!1;return!0}))}};f=i([(0,a.injectable)(),(0,l.conditionType)(l.ConditionType.AppSpecific),r(0,(0,a.inject)(d.kDITOWExtensionWrapper)),o("design:paramtypes",[Object])],f),t.ConditionBlacklistApplicationInstalled=f},3256:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionDedicatedAppInstalled=void 0;const a=n(6094),c=n(4246),l=n(2012),u=n(1741),d=n(1257),f=n(5516);let h=class{constructor(e){this.owExtensionWrapper=e,this.logger=d.LoggerService.getCategory("ConditionDedicatedAppInstalled")}get id(){return this.logger.name}match(e){return s(this,void 0,void 0,(function*(){const t=yield this.owExtensionWrapper.getInstalledAndEnabledExtensions();if(!t)return[!0];const n=t.filter((e=>"WebApp"===e.type&&e.data.game_targeting&&"dedicated"===e.data.game_targeting.type)),{game:i}=e,o=i.targetGameId?i.targetGameId:i.id;for(const e of n)if(e.data.game_targeting.game_ids.includes(o))return this.logger.info(`Dedicated app for game: ${i.name} is already installed`),[!1,c.NoRecommendationsReasons.DedicatedAppAlreadyInstalled];return[!0]}))}shouldSkip(e){return s(this,void 0,void 0,(function*(){const{application:t}=e;return!t.appConditions||!t.appConditions.includes(l.RecommendationConditions.ConditionNoInstalledDedicatedGameApplication)}))}};h=i([(0,a.injectable)(),(0,u.conditionType)(u.ConditionType.AppSpecific),r(0,(0,a.inject)(f.kDITOWExtensionWrapper)),o("design:paramtypes",[Object])],h),t.ConditionDedicatedAppInstalled=h},3617:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionExtensionPhasing=void 0;const a=n(6094),c=n(4246),l=n(1741),u=n(1257),d=n(5516),f=n(6198);let h=class{constructor(e,t){this.owWrapper=e,this.owUtilsWrapper=t,this.logger=u.LoggerService.getCategory("ConditionExtensionPhasing")}get id(){return this.logger.name}match(e){return s(this,void 0,void 0,(function*(){const{application:t}=e,n=this.owWrapper.getPlatform(),i=t[f.kPlatformMap.get(n)],o=(yield this.owUtilsWrapper.getPersistentPhasedPercent())<=i;return[o,o?null:c.NoRecommendationsReasons.ExtensionPhasing]}))}};h=i([(0,a.injectable)(),(0,l.conditionType)(l.ConditionType.AppSpecific),r(0,(0,a.inject)(d.kDITOWWrapper)),r(1,(0,a.inject)(d.kDITOWUtilsWrapper)),o("design:paramtypes",[Object,Object])],h),t.ConditionExtensionPhasing=h},8128:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionGeoRestricted=void 0;const a=n(6094),c=n(4246),l=n(2012),u=n(1741),d=n(1437),f=n(1257),h=n(5516);let p=class{constructor(e,t){this.remoteObject=e,this.configurations=t,this.logger=f.LoggerService.getCategory("ConditionGeoRestricted")}get id(){return this.logger.name}match(e){return s(this,void 0,void 0,(function*(){const{application:t}=e,n=yield this.IsUserGeoAllowed(t);return[n,n?null:c.NoRecommendationsReasons.GeoRestricted]}))}shouldSkip(e){return s(this,void 0,void 0,(function*(){const{application:t}=e;return!t.appConditions||!t.appConditions.includes(l.RecommendationConditions.ConditionGeoRestriction)}))}IsUserGeoAllowed(e){return s(this,void 0,void 0,(function*(){yield this.remoteObject.initialize(`${this.configurations.generalConfiguration.geoConditionURL}${e.uid}`);const[t]=yield this.remoteObject.retrieve();return!!t&&t.eligible}))}};p=i([(0,a.injectable)(),(0,u.conditionType)(u.ConditionType.AppSpecific),r(0,(0,a.inject)(d.kNameOfRemoteObjectHttpFile)),r(1,(0,a.inject)(h.kDIConfigurations)),o("design:paramtypes",[Object,Object])],p),t.ConditionGeoRestricted=p},2132:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionGPUSupported=void 0;const a=n(6094),c=n(4246),l=n(2012),u=n(1741),d=n(1257),f=n(5516);let h=class{constructor(e){this.owUtilsWrapper=e,this.logger=d.LoggerService.getCategory("ConditionGPUSupported")}get id(){return this.logger.name}match(){return s(this,void 0,void 0,(function*(){const e=yield this.owUtilsWrapper.getSystemInformation();if(!e||!e.VideoEncSupport)return[!1,c.NoRecommendationsReasons.GPUNotSupported];const t=e.VideoEncSupport;return this.logger.info(`GPU supported: ${t}`),[t,t?null:c.NoRecommendationsReasons.GPUNotSupported]}))}shouldSkip(e){return s(this,void 0,void 0,(function*(){const{application:t}=e;return!t.appConditions||!t.appConditions.includes(l.RecommendationConditions.ConditionGPUSupported)}))}};h=i([(0,a.injectable)(),(0,u.conditionType)(u.ConditionType.AppSpecific),r(0,(0,a.inject)(f.kDITOWUtilsWrapper)),o("design:paramtypes",[Object])],h),t.ConditionGPUSupported=h},1032:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionNotificationDisplayCap=void 0;const a=n(6094),c=n(1741),l=n(4246),u=n(382),d=n(5942),f=n(5273),h=n(954),p=n(1257);let g=class{constructor(e,t,n){this.datastoreService=e,this.storage=t,this.notifWindowManager=n,this.logger=p.LoggerService.getCategory("ConditionNotificationDisplayCap"),this.notifWindowManager.addListener(this)}get id(){return this.logger.name}match(e){return s(this,void 0,void 0,(function*(){const{game:t,application:n}=e;if(n.displayLimit<=0)return this.logger.warn(`The app's displayLimit is set to: ${n.displayLimit}`),[!1,null];const i=this.storage.getDisplayedNotificationInfo(t,n),o=this.reachedDisplayLimit(n,i);return o?o&&(yield this.shouldResetCap(i))?(this.resetDisplayCount(i,t,n),[!0]):(this.logger.info(`App [${n.name}] has Reached the display limit of: ${n.displayLimit}`),[!1,l.NoRecommendationsReasons.CapLimitReached]):[!0]}))}reachedDisplayLimit(e,t){return(null==t?void 0:t.count)>=e.displayLimit}shouldResetCap(e){return s(this,void 0,void 0,(function*(){return!!(null==e?void 0:e.lastTimestamp)&&(yield this.getNotificationsCapResetPeriodInWeeks())<=h.Utils.calcTimePassedInWeeks(e.lastTimestamp)}))}resetDisplayCount(e,t,n){const i=new Date(null==e?void 0:e.lastTimestamp);this.logger.info(`Reached display cap reset period ${i} - resetting`),this.storage.resetDisplayedNotificationCount(t,n)}getNotificationsCapResetPeriodInWeeks(){return s(this,void 0,void 0,(function*(){return(yield this.datastoreService.getGlobalConfigurations()).resetNotificationsCapPeriodInWeeks}))}onNotificationReachedMinTimeToDisplay(e){return s(this,void 0,void 0,(function*(){const{gameId:t,applicationUid:n}=e;this.logger.info(`Updating display count for (${t}, ${n})`),this.storage.setNotificationDisplayed(t,n)}))}};g=i([(0,a.injectable)(),(0,c.conditionType)(c.ConditionType.AllApps),r(2,(0,a.inject)(f.kNameOfNotificationWindowManagerService)),o("design:paramtypes",[d.RecommendationDatastoreService,u.PersistentStorageService,Object])],g),t.ConditionNotificationDisplayCap=g},1561:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionNotificationPreviouslyDismissed=void 0;const a=n(6094),c=n(4246),l=n(382),u=n(5942),d=n(1741),f=n(3445),h=n(954),p=n(1257);let g=class{constructor(e,t,n){this.datastoreService=e,this.persistentLocalStorage=t,this.userActionService=n,this.logger=p.LoggerService.getCategory("ConditionNotificationPreviouslyDismissed"),this.userActionService.addListener(this)}get id(){return this.logger.name}match(e){return s(this,void 0,void 0,(function*(){const{application:t}=e,n=this.getApplicationDismissedTimestamp(t);return n?(yield this.didPassDismissalResetTime(n))?(this.logger.info(`${t.name} (${t.uid}) resetting dismiss timestamp.`),this.persistentLocalStorage.removeNotificationFromDismissedApps(t),[!0]):(this.logger.info(`${t.name} (${t.uid}) was dismissed by user - won't recommend.`),[!1,c.NoRecommendationsReasons.DismissedByUser]):[!0]}))}getApplicationDismissedTimestamp(e){const t=this.persistentLocalStorage.getDismissedNotifications();if(!(null==t?void 0:t.length))return 0;const n=t.find((t=>t.applicationId===e.uid));return null==n?void 0:n.timestamp}didPassDismissalResetTime(e){return s(this,void 0,void 0,(function*(){return(yield this.datastoreService.getGlobalConfigurations()).resetNotificationDismissPeriodWeeks<=h.Utils.calcTimePassedInWeeks(e)}))}onUserActionDismissed(e){return s(this,void 0,void 0,(function*(){const{applicationUid:t,gameId:n}=e;this.logger.info(`The notification (${n}, ${t}) was Dismissed.`),this.persistentLocalStorage.setNotificationDismissed(t)}))}};g=i([(0,a.injectable)(),(0,d.conditionType)(d.ConditionType.AllApps),r(2,(0,a.inject)(f.kNameOfUserActionService)),o("design:paramtypes",[u.RecommendationDatastoreService,l.PersistentStorageService,Object])],g),t.ConditionNotificationPreviouslyDismissed=g},6691:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ConditionPlatformDisabled=void 0;const a=n(6094),c=n(4246),l=n(2012),u=n(1741),d=n(1257),f=n(5516),h=new Map([["ow",l.RecommendationConditions.ConditionOwEnabled],["owe",l.RecommendationConditions.ConditionElectronEnabled]]);let p=class{constructor(e){this.owWrapper=e,this.logger=d.LoggerService.getCategory("ConditionPlatformDisabled")}get id(){return this.logger.name}match(e){return s(this,void 0,void 0,(function*(){const{application:t}=e,n=this.owWrapper.getPlatform(),i=t.appConditions.includes(h.get(n));return[i,i?null:c.NoRecommendationsReasons.PlatformDisabled]}))}};p=i([(0,a.injectable)(),(0,u.conditionType)(u.ConditionType.AppSpecific),r(0,(0,a.inject)(f.kDITOWWrapper)),o("design:paramtypes",[Object])],p),t.ConditionPlatformDisabled=p},1741:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getConditionType=t.conditionType=t.ConditionType=void 0,n(2326);const i=Symbol("ConditionType");var o;(o=t.ConditionType||(t.ConditionType={}))[o.Global=0]="Global",o[o.AllApps=1]="AllApps",o[o.AppSpecific=2]="AppSpecific",t.conditionType=e=>t=>(Reflect.defineMetadata(i,e,t.prototype),t),t.getConditionType=e=>Reflect.getMetadata(i,e)},7176:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalConditionCooldownFromInstall=void 0;const a=n(6094),c=n(5942),l=n(4246),u=n(1741),d=n(1257),f=n(5516);let h=class{constructor(e,t){this.datastoreService=e,this.owUtilsWrapper=t,this.logger=d.LoggerService.getCategory("GlobalConditionCooldownFromInstall")}get id(){return this.logger.name}match(){return s(this,void 0,void 0,(function*(){const e=yield this.datastoreService.getGlobalConfigurations();return e?(yield this.isCooldownHrsFromInstallPassed(e.cooldownFromOverwolfInstallationInHours))?[!0,void 0]:[!1,l.NoRecommendationsReasons.CooldownInitial]:(this.logger.warn("Failed to get server configurations - returning false"),[!1,l.NoRecommendationsReasons.FailedToGetServiceConfig])}))}isCooldownHrsFromInstallPassed(e){return s(this,void 0,void 0,(function*(){if(isNaN(e))return!0;const t=yield this.owUtilsWrapper.getClientInfo(),n=(Date.now()-(null==t?void 0:t.installTime))/36e5,i=n>=e,o=`Installed: ${Math.floor(n)} hrs ago, config: ${e}hrs, ret:${i}`;return this.logger.info(o),i}))}};h=i([(0,a.injectable)(),(0,u.conditionType)(u.ConditionType.Global),r(1,(0,a.inject)(f.kDITOWUtilsWrapper)),o("design:paramtypes",[c.RecommendationDatastoreService,Object])],h),t.GlobalConditionCooldownFromInstall=h},4227:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalConditionCooldownFromLastNotification=void 0;const a=n(6094),c=n(5942),l=n(382),u=n(4246),d=n(1741),f=n(1257),h=n(5273);let p=class{constructor(e,t,n){this.datastoreService=e,this.persistentStorageService=t,this.notifWindowManager=n,this.logger=f.LoggerService.getCategory("GlobalConditionCooldownFromLastNotification"),this.notifWindowManager.addListener(this)}get id(){return this.logger.name}match(){return s(this,void 0,void 0,(function*(){const e=yield this.datastoreService.getGlobalConfigurations();return e?this.isCooldownHrsFromPreviousNotificationExpired(e.cooldownFromPreviousNotificationInHours)?[!0,void 0]:[!1,u.NoRecommendationsReasons.CooldownDisplay]:(this.logger.warn("Failed to get server configurations - returning false"),[!1,u.NoRecommendationsReasons.FailedToGetServiceConfig])}))}isCooldownHrsFromPreviousNotificationExpired(e){const t=this.persistentStorageService.getLastDisplayedNotificationTimestamp();if(!t)return!0;const n=(Date.now()-t)/36e5,i=n>=e,o=`Previous notification displayed: ${Math.floor(n)} hrs ago, config:${e} hrs, ret:${i}`;return this.logger.info(o),i}onNotificationWindowClosed(){return s(this,void 0,void 0,(function*(){this.logger.info(`Updating lastDisplayedNotificationTimestamp with current timestamp: ${Date.now()}`),this.persistentStorageService.setLastDisplayedNotificationTimestamp(Date.now())}))}};p=i([(0,a.injectable)(),(0,d.conditionType)(d.ConditionType.Global),r(2,(0,a.inject)(h.kNameOfNotificationWindowManagerService)),o("design:paramtypes",[c.RecommendationDatastoreService,l.PersistentStorageService,Object])],p),t.GlobalConditionCooldownFromLastNotification=p},57:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalConditionCooldownOwLaunch=void 0;const a=n(6094),c=n(5942),l=n(4246),u=n(1741),d=n(1257),f=n(8678),h=n(5516);let p=class{constructor(e,t,n){this.datastoreService=e,this.owUtilsWrapper=t,this.timerService=n,this.logger=d.LoggerService.getCategory("GlobalConditionCooldownOwLaunch")}get id(){return this.logger.name}match(e){return s(this,void 0,void 0,(function*(){const{game:t}=e,n=yield this.datastoreService.getGlobalConfigurations();if(!n)return this.logger.warn("Failed to get server configurations - returning false"),[!1,l.NoRecommendationsReasons.FailedToGetServiceConfig];const i=yield this.datastoreService.getGame(t.id);return(yield this.isCooldownMinFromLaunchPassed(n.cooldownFromOverwolfLaunchInMinutes,i.shouldShowOnStart))?[!0,void 0]:[!1,l.NoRecommendationsReasons.CooldownOWLaunch]}))}isCooldownMinFromLaunchPassed(e,t){return s(this,void 0,void 0,(function*(){if(isNaN(e))return!0;const n=60*e,i=yield this.owUtilsWrapper.getClientInfo(),o=null==i?void 0:i.uptimeSeconds,r=o>=n;if(t&&!r)return yield this.sleepIfCooldownIsYetReached(o,n),!0;const s=`launched: ${Math.floor(o/60)} Minutes ago, config: ${e}Mins, ret:${r}`;return this.logger.info(s),r}))}sleepIfCooldownIsYetReached(e,t){return s(this,void 0,void 0,(function*(){const n=`launched: ${Math.floor(e/60)} Minutes ago, started sleep for ${t-e} sec`;this.logger.info(n);const i=1e3*(t-e);yield this.timerService.sleep(i),this.logger.info("Sleep timer has finished")}))}};p=i([(0,a.injectable)(),(0,u.conditionType)(u.ConditionType.Global),r(1,(0,a.inject)(h.kDITOWUtilsWrapper)),o("design:paramtypes",[c.RecommendationDatastoreService,Object,f.TimerService])],p),t.GlobalConditionCooldownOwLaunch=p},4159:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalConditionGameExcluded=void 0;const a=n(6094),c=n(382),l=n(4246),u=n(1741),d=n(3445),f=n(1257);let h=class{constructor(e,t){this.storage=e,this.userActionService=t,this.logger=f.LoggerService.getCategory("GlobalConditionGameExcluded"),this.userActionService.addListener(this)}get id(){return this.logger.name}match(e){return s(this,void 0,void 0,(function*(){const t=this.storage.getExcludedGames();return t&&t.includes(e.game.id)?[!1,l.NoRecommendationsReasons.GameExcludedByUser]:[!0,null]}))}onGameExcluded(e){this.storage.addGameToExcluded(e)}};h=i([(0,a.injectable)(),(0,u.conditionType)(u.ConditionType.Global),r(1,(0,a.inject)(d.kNameOfUserActionService)),o("design:paramtypes",[c.PersistentStorageService,Object])],h),t.GlobalConditionGameExcluded=h},1351:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalConditionGameRunning=void 0;const a=n(6094),c=n(5942),l=n(4246),u=n(1741),d=n(2827),f=n(1257),h=n(5516);let p=class{constructor(e,t,n,i){this.datastoreService=e,this.owGamesWrapper=t,this.singleRequestLock=n,this.owGameListener=i,this.logger=f.LoggerService.getCategory("GlobalConditionGameRunning"),this.owGameListener.addListener(this)}get id(){return this.logger.name}match(e){return s(this,void 0,void 0,(function*(){const{game:t}=e;if(!(yield this.datastoreService.getGlobalConfigurations()))return this.logger.warn("Failed to get server configurations - returning false"),[!1,l.NoRecommendationsReasons.FailedToGetServiceConfig];const n=yield this.datastoreService.getGame(t.id);return(yield this.isGameRunning(t.id,n.shouldShowOnStart,n.targetGameId))?[!1,l.NoRecommendationsReasons.GameIsRunning]:[!0,void 0]}))}shouldSkip(e){var t;return s(this,void 0,void 0,(function*(){const{game:n}=e;if(!(yield this.datastoreService.getGlobalConfigurations()))return this.logger.warn("Failed to get server configurations - returning false"),!1;const i=yield this.datastoreService.getGame(n.id);return!(n.targetGameId>0)&&null!==(t=null==i?void 0:i.shouldShowOnStart)&&void 0!==t&&t}))}isGameRunning(e,t,n){return s(this,void 0,void 0,(function*(){const e=yield this.owGamesWrapper.getRunningGameInfo();if(!e)return this.logger.info("runningGameInfo",e),!1;const i=`A game [${e.classId}] is currently running`;if(this.logger.info(i),!t)return!0;if(n===e.classId){const e="Target game is currently running, shouldShowOnStart = truewaiting for game to close, and launcher to load";return this.logger.info(e),yield this.waitForGameToEnd(),!1}return this.logger.info("shouldShowOnStart:",!t),!t}))}waitForGameToEnd(){return s(this,void 0,void 0,(function*(){yield this.singleRequestLock.lock(),yield this.singleRequestLock.lock()}))}onGameTerminated(){return s(this,void 0,void 0,(function*(){this.logger.info("onGameEnded event received, unlocking"),yield this.singleRequestLock.unlock()}))}};p=i([(0,a.injectable)(),(0,u.conditionType)(u.ConditionType.Global),r(1,(0,a.inject)(h.kDITOWGamesWrapper)),r(3,(0,a.inject)(h.kDITOWGameListenerWrapper)),o("design:paramtypes",[c.RecommendationDatastoreService,Object,d.AsyncLock,Object])],p),t.GlobalConditionGameRunning=p},1185:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalConditionUserPhasing=void 0;const a=n(6094),c=n(5942),l=n(4246),u=n(1741),d=n(1257),f=n(5516);let h=class{constructor(e,t){this.datastoreService=e,this.owUtilsWrapper=t,this.logger=d.LoggerService.getCategory("GlobalConditionUserPhasing")}get id(){return this.logger.name}match(e){return s(this,void 0,void 0,(function*(){if(!(yield this.datastoreService.getGlobalConfigurations()))return[!1,l.NoRecommendationsReasons.FailedToGetServiceConfig];const{game:t}=e,n=yield this.owUtilsWrapper.getPersistentPhasedPercent(),i=(n+t.id)%100;this.logger.info(`calculatedPhasedPercent = ${n} (user) + ${t.id} (game) % 100 = ${i}`),this.logger.info(`game.recommendPercent = ${t.recommendPercent}`);const o=i<=t.recommendPercent;return[o,o?void 0:l.NoRecommendationsReasons.UserPersistentPhasing]}))}};h=i([(0,a.injectable)(),(0,u.conditionType)(u.ConditionType.Global),r(1,(0,a.inject)(f.kDITOWUtilsWrapper)),o("design:paramtypes",[c.RecommendationDatastoreService,Object])],h),t.GlobalConditionUserPhasing=h},1770:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kNameOfCondition=void 0,t.kNameOfCondition="Condition"},3474:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.ContentRecommendationService=void 0;const a=n(6094),c=n(1257),l=n(5942),u=n(1770),d=n(4246),f=n(5309),h=n(1741),p=n(4810),g=n(5029);let v=class{constructor(e,t,n,i,o){this.datastoreService=e,this.weightedRandomAppSelector=t,this.conditions=n,this.notificationAnalyticsService=i,this.stopWatch=o,this.logger=c.LoggerService.getCategory("ContentRecommendationService"),this.listeners=new Set}gameStarted(e){return s(this,void 0,void 0,(function*(){this.stopWatch.start(),this.logger.info(`Game Id ${e} started`),yield this.notificationAnalyticsService.reportNewGameSession(e);const t=yield this.getAndHandleGameConfiguration(e);return t?t.shouldShowOnStart?this.runConditions(t):(this.logger.info("Game configured to wait for game to end ..."),void this.triggerNoRecommendation(d.NoRecommendationsReasons.ConfiguredForEnd,e)):(this.triggerNoRecommendation(d.NoRecommendationsReasons.NoGameConfig,e),void this.notificationAnalyticsService.reportNoGameToRecommend(e))}))}gameEnded(e){return s(this,void 0,void 0,(function*(){const t=yield this.getAndHandleGameConfiguration(e);if(!t)return void this.triggerNoRecommendation(d.NoRecommendationsReasons.NoGameConfig,e);if(t.shouldShowOnStart)return void this.triggerNoRecommendation(d.NoRecommendationsReasons.ConfiguredForStart,e);const n=yield this.datastoreService.getGlobalConfigurations(),i=this.stopWatch.getTime()/60/1e3;if(this.stopWatch.stop(),this.logger.info(`Game Id ${e} ended, after running for ${i} minutes out of the configured ${n.minimumGameSessionTimeToDisplayNotificationMins} minutes `),i<n.minimumGameSessionTimeToDisplayNotificationMins)return this.logger.info("Skipping recommendation display because game session was to short"),void this.triggerNoRecommendation(d.NoRecommendationsReasons.MinimumGameSessionLengthNotReached,e);this.runConditions(t)}))}getAndHandleGameConfiguration(e){return s(this,void 0,void 0,(function*(){try{return(yield this.datastoreService.getGame(e))||(this.logger.info("No game configuration found"),this.triggerNoRecommendation(d.NoRecommendationsReasons.NoGameConfig,e),null)}catch(t){return this.logger.error("error obtaining configurations",t),this.triggerNoRecommendation(d.NoRecommendationsReasons.FailedToQueryServer,e),null}}))}runConditions(e){return s(this,void 0,void 0,(function*(){this.logger.info("*** Starting notification display conditions evaluation process ...");const[t,n]=yield this.getGlobalConditionsResult(e);if(!t)return this.triggerNoRecommendation(n,e.id);yield this.tryRecommendingApp(e)}))}getGlobalConditionsResult(e){return s(this,void 0,void 0,(function*(){try{const t={game:e},n=this.conditions.filter((e=>(0,h.getConditionType)(e)===h.ConditionType.Global));return yield this.passesConditions(t,n)}catch(e){this.logger.error("Failed checking global conditions: ",e)}return[!1,d.NoRecommendationsReasons.CooldownCrashed]}))}tryRecommendingApp(e){return s(this,void 0,void 0,(function*(){const t=this.conditions.filter((e=>(0,h.getConditionType)(e)!==h.ConditionType.Global));this.weightedRandomAppSelector.initialize(e,e.apps);let n=this.weightedRandomAppSelector.next();for(;n;){const i={game:e,application:n};this.logger.info(`**** Running conditions on: ${n.name} ...`);const[o,r]=yield this.passesConditions(i,t);if(o||this.notificationAnalyticsService.reportApplicationConditionResult({gameId:e.id,reason:r,applicationUid:n.uid}),o)return this.triggerShowNotification(e,n);n=this.weightedRandomAppSelector.next()}this.notificationAnalyticsService.reportPortfolioExhausted(e.id),this.triggerNoRecommendation(d.NoRecommendationsReasons.PortfolioExhausted,e.id)}))}passesConditions(e,t){return s(this,void 0,void 0,(function*(){for(const n of t){if(yield this.shouldSkipCondition(n,e)){this.logger.info(`Skipping condition ${n.id}`);continue}const[t,i]=yield n.match(e);if(!t)return this.logger.info(`${n.id}: [Failed] (${i})`),[t,i];this.logger.info(`${n.id}: [Passed]`)}return[!0]}))}shouldSkipCondition(e,t){return s(this,void 0,void 0,(function*(){return!!e.shouldSkip&&(yield e.shouldSkip(t))}))}triggerNoRecommendation(e,t){this.notificationAnalyticsService.reportGlobalConditionResult({gameId:t,reason:e}),this.logger.info(`No recommendation triggered with reason: ${e}`);for(const t of this.listeners)t.onNoRecommendations&&t.onNoRecommendations(e)}triggerShowNotification(e,t){this.logger.info(`Triggering recommendation for game: ${e.id} & application: ${t.name}`);for(const n of this.listeners)n.onShowNotification&&n.onShowNotification(e,t)}addListener(e){this.listeners.add(e)}removeListener(e){this.listeners.delete(e)}};v=i([(0,a.singleton)(),r(2,(0,a.injectAll)(u.kNameOfCondition)),o("design:paramtypes",[l.RecommendationDatastoreService,f.WeightedRandomAppSelector,Array,p.NotificationAnalyticsService,g.StopWatch])],v),t.ContentRecommendationService=v},4246:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.NoRecommendationsReasons=void 0,(n=t.NoRecommendationsReasons||(t.NoRecommendationsReasons={})).FailedToQueryServer="FailedToQueryServer",n.NoGameConfig="NoGameConfig",n.CooldownCrashed="CooldownCrashed",n.CooldownInitial="CooldownInitial",n.CooldownDisplay="CooldownDisplay",n.CooldownOWLaunch="CooldownOWLaunch",n.UserPersistentPhasing="UserPersistentPhasing",n.NoRelevantApp="NoRelevantApp",n.PortfolioExhausted="PortfolioExhausted",n.FailedToGetServiceConfig="FailedToGetServiceConfig",n.SpecificApplicationAlreadyDownloaded="SpecificApplicationAlreadyDownloaded",n.CapLimitReached="CapLimitReached",n.DedicatedAppAlreadyInstalled="DedicatedAppAlreadyInstalled",n.AppAlreadyInstalled="AppAlreadyInstalled",n.ErrorNoAppContext="ErrorNoAppContext",n.GPUNotSupported="GPUNotSupported",n.DismissedByUser="DismissedByUser",n.BlackListedApp="BlackListedApp",n.NoAppToRecommend="NoAppToRecommend",n.GameIsRunning="GameIsRunning",n.MinimumGameSessionLengthNotReached="MinimumGameSessionLengthNotReached",n.GameExcludedByUser="GameExcludedByUser",n.AppExcludedByUser="AppExcludedByUser",n.GeoRestricted="GeoRestricted",n.OWInstalled="OWInstalled",n.DevAbort="DevAbort",n.NotificationsDisabled="NotificationsDisabled",n.ConfiguredForStart="ConfiguredForStart",n.ConfiguredForEnd="ConfiguredForEnd",n.PlatformDisabled="PlatformDisabled",n.HostAppNotApproved="HostAppNotApproved",n.ExtensionPhasing="extensionPhasing"},5309:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WeightedRandomAppSelector=void 0;const r=n(6094),s=n(954),a=n(382);let c=class{constructor(e){this.persistentStorage=e,this.applications=[]}initialize(e,t){var n;this.applications=s.Utils.deepClone(t);for(const t of this.applications){const i=this.persistentStorage.getDisplayedNotificationInfo(e,t);t.timesDisplayed=null!==(n=null==i?void 0:i.count)&&void 0!==n?n:0}}next(){var e;if(0===(null===(e=this.applications)||void 0===e?void 0:e.length))return null;const t=this.fillArrayWithAppIndices();this.fisherYatesShuffle(t);const n=t[s.Utils.randomWholeNumber(0,t.length-1)],i=this.applications[n];return this.applications.splice(n,1),i}fillArrayWithAppIndices(){var e;const t=[];for(let n=0;n<this.applications.length;++n){const i=this.applications[n],o=i.recommendWeight*(i.displayLimit-(null!==(e=null==i?void 0:i.timesDisplayed)&&void 0!==e?e:0));for(let e=0;e<o;++e)t.push(n)}return t}fisherYatesShuffle(e){for(let t=e.length-1;t>=0;--t){const n=s.Utils.randomWholeNumber(0,t),i=e[t];e[t]=e[n],e[n]=i}}};c=i([(0,r.injectable)(),o("design:paramtypes",[a.PersistentStorageService])],c),t.WeightedRandomAppSelector=c},2012:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.RecommendationConditions=void 0,(n=t.RecommendationConditions||(t.RecommendationConditions={})).ConditionCooldownFromOverwolfInstall="ConditionCooldownFromOverwolfInstall",n.ConditionCooldownFromLastNotification="ConditionCooldownFromLastNotification",n.ConditionOverwolfNotificationNotShown="ConditionOverwolfNotificationNotShown",n.ConditionGameNotRunning="ConditionGameNotRunning",n.ConditionDidntDownloadSpecificApplication="ConditionDidntDownloadSpecificApplication",n.ConditionGPUSupported="ConditionGPUSupported",n.ConditionGeoRestriction="ConditionGeoRestriction",n.ConditionNoInstalledDedicatedGameApplication="ConditionNoInstalledDedicatedGameApplication",n.ConditionOwEnabled="ConditionOwEnabled",n.ConditionElectronEnabled="ConditionElectronEnabled"},2537:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.KnownRawGlobalConfigs=void 0,(n=t.KnownRawGlobalConfigs||(t.KnownRawGlobalConfigs={})).AutoDismissNotificationsSecs="auto_dismiss_notifications_seconds",n.ResetNotificationCapPeriodWeeks="res_notification_cap_period_weeks",n.CooldownFromPreviousNotificationsHours="cooldown_from_previous_notification_hours",n.CooldownFromOverwolfLaunchMinutes="cooldown_from_ow_launch_mins",n.CooldownFromOverwolfInstallationHours="cooldown_from_ow_installation_hours",n.MinimumVisibleTimeToCountInSeconds="min_visible_time_to_count_seconds",n.PassiveAnalyticsPersistentPhasing="passive_analytics_persistent_phasing",n.MinimumGameSessionTimeToDisplayNotificationMins="minimum_game_session_time_to_display_notification_mins",n.ResetNotificationDismissPeriodWeeks="res_notification_dismiss_period_weeks"},5942:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.RecommendationDatastoreService=void 0;const s=n(6094),a=n(2537),c=n(3605),l=n(1257);let u=class{constructor(e){this.remoteConfigsService=e,this.logger=l.LoggerService.getCategory("RecommendationDatastoreService")}getGame(e){return r(this,void 0,void 0,(function*(){const t=yield this.remoteConfigsService.getRawGame(e);return t?{id:e,name:t.name,recommendPercent:t.recommendPercent,shouldShowOnStart:t.shouldShowOnStart,targetGameId:t.targetGameId,apps:yield this.getRecommendedApps(t)}:null}))}getAllGames(){return r(this,void 0,void 0,(function*(){const e=yield this.remoteConfigsService.getRawGames();if(!e)return null;const t=[];for(const[n,i]of Object.entries(e)){const e={id:parseInt(n),name:i.name,recommendPercent:i.recommendPercent,shouldShowOnStart:i.shouldShowOnStart,targetGameId:i.targetGameId,apps:yield this.getRecommendedApps(i)};t.push(e)}return t}))}getApplicationForGame(e,t){return r(this,void 0,void 0,(function*(){return(yield this.getGame(e)).apps.find((e=>e.uid===t))}))}getGlobalConfigurations(){return r(this,void 0,void 0,(function*(){const e=yield this.remoteConfigsService.getRawGlobalConfigs();if(!e)return this.logger.error("Failed to get server configurations"),null;const t=this.generateGlobalConfigsMapping(),n={};for(const[i,o]of t.entries())e[o]&&(n[i]=this.getConfigAsNumber(e,o));return n}))}setEnvironment(e){return r(this,void 0,void 0,(function*(){return this.remoteConfigsService.setNewEnvironment(e)}))}getHostApps(){return r(this,void 0,void 0,(function*(){return this.remoteConfigsService.getHostApps()}))}getRecommendedApps(e){return r(this,void 0,void 0,(function*(){const t=[];for(const n of e.apps){const e=yield this.toApp(n);e&&t.push(e)}return t}))}toApp(e){return r(this,void 0,void 0,(function*(){const t=e.id,n=yield this.remoteConfigsService.getAppName(t),i=yield this.remoteConfigsService.getAppUid(t),o=yield this.getAppSpecificConditions(t),r=yield this.getBlacklistedExtIds(t);return{name:n,uid:i,recommendWeight:e.recommend_weight,displayLimit:e.display_limit,appConditions:o,blacklistExtensionIds:r,phasingForElectron:e.phasing_for_electron,phasingForOverwolf:e.phasing_for_overwolf}}))}getAppSpecificConditions(e){return r(this,void 0,void 0,(function*(){const t=this.remoteConfigsService,n=yield t.getSpecificConditions(e),i=[];for(const e of n||[]){const n=yield t.getCondition(e);i.push(n)}return i}))}getBlacklistedExtIds(e){return r(this,void 0,void 0,(function*(){const t=this.remoteConfigsService,n=yield t.getBlacklistExtensionIds(e),i=[];for(const e of n||[]){const n=yield t.getBlacklistAppLookup(e);i.push(n)}return i}))}generateGlobalConfigsMapping(){return new Map([["autoDismissNotificationsInSeconds",a.KnownRawGlobalConfigs.AutoDismissNotificationsSecs],["resetNotificationsCapPeriodInWeeks",a.KnownRawGlobalConfigs.ResetNotificationCapPeriodWeeks],["cooldownFromPreviousNotificationInHours",a.KnownRawGlobalConfigs.CooldownFromPreviousNotificationsHours],["cooldownFromOverwolfLaunchInMinutes",a.KnownRawGlobalConfigs.CooldownFromOverwolfLaunchMinutes],["cooldownFromOverwolfInstallationInHours",a.KnownRawGlobalConfigs.CooldownFromOverwolfInstallationHours],["minimumVisibleTimeToCountInSeconds",a.KnownRawGlobalConfigs.MinimumVisibleTimeToCountInSeconds],["passiveAnalyticsPersistentPhasing",a.KnownRawGlobalConfigs.PassiveAnalyticsPersistentPhasing],["minimumGameSessionTimeToDisplayNotificationMins",a.KnownRawGlobalConfigs.MinimumGameSessionTimeToDisplayNotificationMins],["resetNotificationDismissPeriodWeeks",a.KnownRawGlobalConfigs.ResetNotificationDismissPeriodWeeks]])}getConfigAsNumber(e,t){return parseInt(e[t],10)}};u=i([(0,s.singleton)(),o("design:paramtypes",[c.RemoteConfigurationsService])],u),t.RecommendationDatastoreService=u},3605:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteConfigurationsService=t.kDITRecommendationRemoteObjectRetrieverService=void 0;const a=n(6094),c=n(382);t.kDITRecommendationRemoteObjectRetrieverService="rec-remote-object-ret-service";let l=class{constructor(e,t){this.remoteObjectRetrieverService=e,this.persistentStorage=t}getRawGame(e){return s(this,void 0,void 0,(function*(){const t=yield this.getRemoteConfigs();return null==t?void 0:t.games[e]}))}setNewEnvironment(e,t="prod"){return s(this,void 0,void 0,(function*(){return yield this.remoteObjectRetrieverService.initConfigUrl(this.remoteObjectRetrieverService.options.configUrl.replace(t,e)),!0}))}getRawGames(){return s(this,void 0,void 0,(function*(){const e=yield this.getRemoteConfigs();return null==e?void 0:e.games}))}getRawGlobalConfigs(){return s(this,void 0,void 0,(function*(){const e=yield this.getRemoteConfigs();return null==e?void 0:e.config}))}getAppName(e){var t;return s(this,void 0,void 0,(function*(){const n=yield this.getRemoteConfigs(),i=null===(t=null==n?void 0:n.lookups)||void 0===t?void 0:t.app_names;return i?i[e]:null}))}getAppUid(e){var t;return s(this,void 0,void 0,(function*(){const n=yield this.getRemoteConfigs(),i=null===(t=null==n?void 0:n.lookups)||void 0===t?void 0:t.apps;return i?i[e]:null}))}getSpecificConditions(e){return s(this,void 0,void 0,(function*(){return(yield this.getRemoteConfigs()).app_conditions.specific[e]}))}getCondition(e){var t;return s(this,void 0,void 0,(function*(){const n=yield this.getRemoteConfigs(),i=null===(t=null==n?void 0:n.lookups)||void 0===t?void 0:t.conditions;return i?i[e]:null}))}getBlacklistExtensionIds(e){return s(this,void 0,void 0,(function*(){const t=(yield this.getRemoteConfigs()).blacklisted_apps;return t?t[e]:null}))}getBlacklistAppLookup(e){return s(this,void 0,void 0,(function*(){const t=(yield this.getRemoteConfigs()).lookups.apps;return t?t[e]:null}))}getHostApps(){return s(this,void 0,void 0,(function*(){const e=(yield this.getRemoteConfigs()).hosts;if(!e)return null;const t={},n=Object.keys(e);for(const i of n){const n=yield this.getAppUid(parseInt(i));t[n]||(t[n]=[]);const o=e[i];for(const e of o){const i=yield this.getAppUid(e.id);t[n].push({id:i,phasing:e.phasing,enabled:e.enabled})}}return t}))}getRemoteConfigs(){return s(this,void 0,void 0,(function*(){const e=yield this.remoteObjectRetrieverService.getObject();return e?(this.persistentStorage.setGlobalConfiguration(e),e):this.persistentStorage.getGlobalConfiguration()}))}};l=i([(0,a.singleton)(),r(0,(0,a.inject)(t.kDITRecommendationRemoteObjectRetrieverService)),o("design:paramtypes",[Object,c.PersistentStorageService])],l),t.RemoteConfigurationsService=l},6604:function(e,t,n){"use strict";var i,o=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerBaseService=void 0;const a=n(6094),c=n(5516);let l=i=class{constructor(e){this.logger=e,i.logger=e}static assignCustomLogger(e){var t;"undefined"!=typeof process&&void 0!==(null===(t=null==i?void 0:i.logger)||void 0===t?void 0:t.info)&&(e.debug=(...t)=>i.logger.debug(this.mapLogMessage(e,...t)),e.error=(...t)=>i.logger.error(this.mapLogMessage(e,...t)),e.info=(...t)=>i.logger.info(this.mapLogMessage(e,...t)),e.trace=(...t)=>i.logger.trace(this.mapLogMessage(e,...t)),e.warn=(...t)=>i.logger.warn(this.mapLogMessage(e,...t)))}static mapLogMessage(e,...t){return`[${e.name}] ${t.join(" - ")}`}};l=i=o([(0,a.singleton)(),s(0,(0,a.inject)(c.kDITokenLogger)),r("design:paramtypes",[Object])],l),t.LoggerBaseService=l},1257:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerService=void 0;const i=n(3461),o=n(7797),r=n(6604);class s extends r.LoggerBaseService{static setup(e){s.logProvider=o.CategoryProvider.createProvider(e,{level:i.LogLevel.Info})}static getCategory(e){const t=s.logProvider.getCategory(e);return super.assignCustomLogger(t),t}}t.LoggerService=s,s.logProvider=o.CategoryProvider.createProvider("OwAppLogProvider",{level:i.LogLevel.Info})},7214:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationAnalyticsTracker=void 0;const a=n(6094),c=n(5516),l=n(5942),u=n(1257);let d=class{constructor(e,t,n,i,o){this.OWtracking=e,this.owExtensionWrapper=t,this.owUtilsWrapper=n,this.datastoreService=i,this.oWSettingsGamesWrapper=o,this.logger=u.LoggerService.getCategory("NotificationAnalyticsTracker"),this.owExtensionWrapper.initialize(),this.phasePercent=0}sendAnalyticsError(e,t){return s(this,void 0,void 0,(function*(){if(!(yield this.shouldTrack()))return;const n={},i={InGameId:e,Value:1};n.appVersion=this.getAppVersion(),n.app_id=t,this.sendAnalyticsEvent({name:"content_recommend_error",extraData:n,overrides:i})}))}sendPortfolioExhausted(e){return s(this,void 0,void 0,(function*(){if(!(yield this.shouldTrack()))return;const t={game_id:e,appVersion:this.getAppVersion()};this.sendAnalyticsEvent({name:"content_recommend_missed_opportunity_exhausted",extraData:t,overrides:{}})}))}sendConditionsSummary(e){return s(this,void 0,void 0,(function*(){if(!(yield this.shouldTrack()))return;const t={conditionsSummaryJson:JSON.stringify(e),appVersion:this.getAppVersion()};this.sendAnalyticsEvent({name:"content_recommend_missed_opportunity_summary",extraData:t,overrides:{}})}))}sendContentRecommend(e,t,n,i){return s(this,void 0,void 0,(function*(){if("string"==typeof e&&(e=parseInt(e)),!(yield this.shouldTrack()))return;const o=yield this.datastoreService.getGlobalConfigurations(),r=null==o?void 0:o.cooldownFromPreviousNotificationInHours,s=yield this.getInstalledApps(),a=(yield this.oWSettingsGamesWrapper.getOverlayEnabled(e))?"enabled":"disabled",c={crn_app:t,appVersion:this.getAppVersion(),cooldown:r,game_overlay_state:a};i&&(c.dismiss_counter=i),s&&(c.installed_apps=s.toString());const l={InGameId:e,Value:n};this.sendAnalyticsEvent({name:"content_recommend",extraData:c,overrides:l})}))}sendContentViewEvent(e){return s(this,void 0,void 0,(function*(){if(!(yield this.shouldTrack()))return;const t=e.name,n=e.extra;n.appVersion=this.getAppVersion();const i=e.overrides;t&&n&&this.sendAnalyticsEvent({name:t,extraData:n,overrides:i})}))}ABTestStarted(e){this.abTestParams=e}getAppVersion(){const{manifest:e}=this.owExtensionWrapper;return e.meta.version}getInstalledApps(){return s(this,void 0,void 0,(function*(){return this.owExtensionWrapper.getInstalledAndEnabledExtensionUids()}))}sendAnalyticsEvent(e){this.appendABTestDataIfNeeded(e),this.OWtracking.trackRSEvent(e.name,e.extraData,e.overrides)}appendABTestDataIfNeeded(e){this.abTestParams&&(e.extraData.experience_name=this.abTestParams.experience_name,e.extraData.version_viewed=this.abTestParams.version_viewed)}shouldTrack(){return s(this,void 0,void 0,(function*(){return this.isPhasingInRange()}))}isPhasingInRange(){return s(this,void 0,void 0,(function*(){0===this.phasePercent&&(this.phasePercent=yield this.owUtilsWrapper.getPersistentPhasedPercent());const e=yield this.datastoreService.getGlobalConfigurations(),t=null==e?void 0:e.passiveAnalyticsPersistentPhasing;return this.phasePercent<=t}))}};d=i([(0,a.injectable)(),r(0,(0,a.inject)(c.kDITOWTrackRSWrapper)),r(1,(0,a.inject)(c.kDITOWExtensionWrapper)),r(2,(0,a.inject)(c.kDITOWUtilsWrapper)),r(4,(0,a.inject)(c.kDIOWOWSettingsGamesWrapper)),o("design:paramtypes",[Object,Object,Object,l.RecommendationDatastoreService,Object])],d),t.NotificationAnalyticsTracker=d},4810:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationAnalyticsService=t.kNameOfNotificationAnalyticsService=void 0;const s=n(6094),a=n(7214),c=n(4246),l=n(1257),u=n(382);t.kNameOfNotificationAnalyticsService="NotificationAnalyticsService";const d=[c.NoRecommendationsReasons.PlatformDisabled];let f=class{constructor(e,n){this.persistentStorageService=e,this.notificationAnalyticsTracker=n,this.logger=l.LoggerService.getCategory(t.kNameOfNotificationAnalyticsService)}setDelegate(e){this.analyticsDelegate=e}reportGlobalConditionResult(e){e.reason&&(this.logger.info("ConditionResult update: ",JSON.stringify(e)),this.setGlobalConditionResult(e))}reportApplicationConditionResult(e){e.reason&&(d.includes(e.reason)?this.logger.info("Excluded ConditionResult update: ",JSON.stringify(e)):(this.logger.info("ConditionResult update: ",JSON.stringify(e)),this.setApplicationConditionGame(e)))}reportPortfolioExhausted(e){this.notificationAnalyticsTracker.sendPortfolioExhausted(e)}reportNoGameToRecommend(e){const t={gameId:e,reason:c.NoRecommendationsReasons.NoAppToRecommend};this.setGlobalConditionResult(t)}reportNewGameSession(e){return r(this,void 0,void 0,(function*(){yield this.sendAndResetConditionsSummaryIfShould(),this.incrementGameSessionsCounter(e)}))}reportContentViewError(e,t){this.notificationAnalyticsTracker.sendAnalyticsError(e,t)}reportContentRecommend(e,t,n,i){var o;null===(o=this.analyticsDelegate)||void 0===o||o.onContentRecommend(n),this.notificationAnalyticsTracker.sendContentRecommend(e,t,n,i)}reportContentViewEvent(e){this.notificationAnalyticsTracker.sendContentViewEvent(e)}incrementGameSessionsCounter(e){let t=this.persistentStorageService.getConditionsSummary();t||(t=this.generateNewConditionsSummary());const n=t.globalConditions;let i=n[e];i||(n[e]={dailyGameSessions:0},i=n[e]),n[e].dailyGameSessions++,this.persistentStorageService.setConditionsSummary(t)}resetConditionsSummary(){this.persistentStorageService.setConditionsSummary(this.generateNewConditionsSummary())}generateNewConditionsSummary(){return{applicationConditions:{},globalConditions:{},lastSummaryResetTimestamp:Date.now()}}setGlobalConditionResult(e){const{gameId:t,reason:n}=e;let i=this.persistentStorageService.getConditionsSummary();i||(i=this.generateNewConditionsSummary());const o=i.globalConditions;let r=o[t];r||(o[t]={dailyGameSessions:0},r=o[t]),r[n]||(r[n]=0),r[n]++,this.persistentStorageService.setConditionsSummary(i)}setApplicationConditionGame(e){const{gameId:t,applicationUid:n,reason:i}=e;let o=this.persistentStorageService.getConditionsSummary();o||(o=this.generateNewConditionsSummary());let r=o.applicationConditions[t];r||(o.applicationConditions[t]={},r=o.applicationConditions[t]);let s=r[n];s||(r[n]={attempt:0},s=r[n]),s[i]||(s[i]=0),s[i]++,s.attempt++,this.persistentStorageService.setConditionsSummary(o)}sendAndResetConditionsSummaryIfShould(){return r(this,void 0,void 0,(function*(){const e=this.persistentStorageService.getConditionsSummary();e&&Date.now()-e.lastSummaryResetTimestamp>=864e5&&(this.logger.info(`Sending ConditionResult tracking event, Data: ${JSON.stringify(e)}`),yield this.notificationAnalyticsTracker.sendConditionsSummary(e),this.resetConditionsSummary())}))}reportNotificationABTest(e){this.notificationAnalyticsTracker.ABTestStarted(e)}};f=i([(0,s.singleton)(),o("design:paramtypes",[u.PersistentStorageService,a.NotificationAnalyticsTracker])],f),t.NotificationAnalyticsService=f},1107:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationDetailsBuilderService=void 0;const a=n(6094),c=n(1257),l=n(382),u=n(5942),d=n(5516);let f=class{constructor(e,t,n,i,o,r){this.owSettingsWrapper=e,this.persistentStorage=t,this.owWrapper=n,this.owExtensionWrapper=i,this.datastoreService=o,this.configurations=r,this.logger=c.LoggerService.getCategory("NotificationDetails")}getNotificationDetails(e,t,n){return s(this,void 0,void 0,(function*(){return this.createNotificationDetails(e,t,yield this.buildUrlWithParameters(e,t,n))}))}createNotificationDetails(e,t,n){return{targetGameId:e.targetGameId||null,gameId:e.id,applicationUid:t.uid,url:n}}buildUrlWithParameters(e,t,n){var i;return s(this,void 0,void 0,(function*(){try{const o=yield this.owExtensionWrapper.getInstalledAndEnabledExtensionUids(),r=yield this.owSettingsWrapper.getLanguage(),s=yield this.getCooldownFromLastConfig(),a=this.getDisplayedInfo(e,t),c=yield this.getAppVersion(),l=this.selectedTargetGameId(e),u=Date.now(),d=this.configurations.generalConfiguration.notificationIframeURL,f=new URL(d);return f.searchParams.append("gameId",l.toString()),f.searchParams.append("extId",t.uid),f.searchParams.append("views",a.count.toString()),f.searchParams.append("version",yield this.owWrapper.getVersion()),f.searchParams.append("appVersion",c),f.searchParams.append("lang",r),f.searchParams.append("cooldown",s),f.searchParams.append("installedApps",o.toString()),f.searchParams.append("timestamp",u.toString()),f.searchParams.append("platform",null===(i=this.owWrapper)||void 0===i?void 0:i.getPlatform()),f.searchParams.append("hostAppUid",this.owWrapper.getHostAppUid()),n&&(f.pathname=f.pathname.replace("prod",n),f.searchParams.append("localeEnv",n)),f.toString()}catch(e){return this.logger.error("Failed to gather parameters, exception details:",e),null}}))}selectedTargetGameId(e){return e.targetGameId?e.targetGameId:e.id}getCooldownFromLastConfig(){return s(this,void 0,void 0,(function*(){return(yield this.datastoreService.getGlobalConfigurations()).cooldownFromPreviousNotificationInHours.toString()}))}getDisplayedInfo(e,t){let n=this.persistentStorage.getDisplayedNotificationInfo(e,t);return n||(n={},n.count=0),n}getAppVersion(){var e,t,n;return s(this,void 0,void 0,(function*(){return yield this.owExtensionWrapper.initialize(),null===(n=null===(t=null===(e=this.owExtensionWrapper)||void 0===e?void 0:e.manifest)||void 0===t?void 0:t.meta)||void 0===n?void 0:n.version}))}};f=i([(0,a.singleton)(),r(0,(0,a.inject)(d.kDITOWSettingsWrapper)),r(2,(0,a.inject)(d.kDITOWWrapper)),r(3,(0,a.inject)(d.kDITOWExtensionWrapper)),r(5,(0,a.inject)(d.kDIConfigurations)),o("design:paramtypes",[Object,l.PersistentStorageService,Object,Object,u.RecommendationDatastoreService,Object])],f),t.NotificationDetailsBuilderService=f},1365:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.NotificationWindowService=void 0;const a=n(6094),c=n(5403),l=n(1257),u=n(8678),d=n(6198),f=n(5942),h=n(1107),p=n(9774),g=n(3445),v=n(4810),m=n(5029),y=n(5516);let w=class{constructor(e,t,n,i,o,r,s,a,c){this.owNotificationWindow=e,this.owWindowScreenAnchor=t,this.owWindowListener=n,this.datastoreService=i,this.timerService=o,this.notificationVisibilityStopWatch=r,this.userActionService=s,this.notifDetailsBuilder=a,this.analyticsService=c,this.logger=l.LoggerService.getCategory("NotificationWindowService"),this.listeners=new Set,this.timerService.addListener(this),this.isTesterNotification=!1}show(e,t,n=!1,i){return s(this,void 0,void 0,(function*(){this.logger.info(`Showing recommendation for game: ${e.id} & application: ${t.name}`),this.registerListeners(),this.activeNotificationInfo=yield this.notifDetailsBuilder.getNotificationDetails(e,t,i),this.owWindowScreenAnchor.start(),this.startIdleTimer(),n&&(this.isTesterNotification=!0)}))}close(e=!1){e&&this.analyticsService.reportContentRecommend(this.activeNotificationInfo.targetGameId||this.activeNotificationInfo.gameId,this.activeNotificationInfo.applicationUid,p.ContentRecommendationUserAction.ForceClosed),this.owWindowScreenAnchor.stop()}isNotificationShown(){return s(this,void 0,void 0,(function*(){return"closed"!==(yield this.owNotificationWindow.getWindowState()).window_state_ex}))}getNotificationInfo(){return this.activeNotificationInfo}registerListeners(){return s(this,void 0,void 0,(function*(){this.unregisterListeners(),this.owWindowListener.addListener(this)}))}unregisterListeners(){return s(this,void 0,void 0,(function*(){this.owWindowListener.removeListener(this)}))}startIdleTimer(){return s(this,void 0,void 0,(function*(){const e=yield this.datastoreService.getGlobalConfigurations(),t=this.isTesterNotification?6e4:1e3*e.autoDismissNotificationsInSeconds;this.timerService.initialize({intervalInMs:t}),this.timerService.start()}))}stopIdleTimer(){this.timerService.stop()}triggerListenerEvent(e,...t){if(e)for(const n of this.listeners)n[e]&&n[e].apply(n,t)}handleNotificationViewed(){return s(this,void 0,void 0,(function*(){const e=yield this.datastoreService.getGlobalConfigurations();setTimeout((()=>{this.isTesterNotification||this.triggerListenerEvent("onNotificationReachedMinTimeToDisplay",this.activeNotificationInfo)}),1e3*e.minimumVisibleTimeToCountInSeconds)}))}get token(){return c.kNameOfNotificationWindowService}addListener(e){this.listeners.add(e)}removeListener(e){this.listeners.delete(e)}notificationBecameVisible(){return s(this,void 0,void 0,(function*(){this.logger.info("Recommendation became visible, restarting timer"),this.stopIdleTimer(),this.timerService.start(),this.notificationVisibilityStopWatch.start(),yield this.handleNotificationViewed()}))}getNotificationStopWatchTime(){return this.notificationVisibilityStopWatch.getTime()}getActiveNotification(){return s(this,void 0,void 0,(function*(){return this.activeNotificationInfo}))}closeNotificationWindow(){this.close()}toggleTimeoutTimer(e){e?this.stopIdleTimer():this.timerService.start()}onAltF4Blocked(e){if(this.logger.info(`received Alt+F4 key combination on windowId: ${e} `),!e.endsWith(d.kNotificationWindowName))return;const t=this.notificationVisibilityStopWatch.getTime()/1e3;this.notificationVisibilityStopWatch.stop(),this.userActionService.notificationDismissed(this.activeNotificationInfo,t),this.close()}onWindowClosed(e){if(!e.endsWith(d.kNotificationWindowName))return;this.stopIdleTimer(),this.unregisterListeners(),this.logger.info(`Notification window, windowId: "${e}" closed,`);const t=this.notificationVisibilityStopWatch.getTime()/1e3;this.notificationVisibilityStopWatch.stop(),this.isTesterNotification||this.triggerListenerEvent("onNotificationWindowClosed",this.activeNotificationInfo,t)}onTimer(){this.logger.info("Notification timer has reached an end, closing notification ");const e=this.notificationVisibilityStopWatch.getTime()/1e3;this.notificationVisibilityStopWatch.stop(),this.analyticsService.reportContentRecommend(this.activeNotificationInfo.targetGameId||this.activeNotificationInfo.gameId,this.activeNotificationInfo.applicationUid,p.ContentRecommendationUserAction.Timeout,e),this.close()}};w=i([(0,a.singleton)(),r(0,(0,a.inject)(y.kDITokenOwNotificationWindow)),r(1,(0,a.inject)(y.kDITokenNotificationWindowScreenAnchor)),r(2,(0,a.inject)(y.kDITokenWindowListener)),r(6,(0,a.inject)(g.kNameOfUserActionService)),r(8,(0,a.inject)(v.kNameOfNotificationAnalyticsService)),o("design:paramtypes",[Object,Object,Object,f.RecommendationDatastoreService,u.TimerService,m.StopWatch,Object,h.NotificationDetailsBuilderService,Object])],w),t.NotificationWindowService=w},382:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.PersistentStorageService=void 0;const r=n(1257),s=n(8314),a=n(6094),c="notification-history",l="notification-global-configurations",u="LastNotificationTimestamp",d="LegacyDataMigrated",f="DismissedApps",h="notifications-conditions-summary";let p=class{constructor(){this.logger=r.LoggerService.getCategory("PersistentStorageService"),this.isMigrating=!1}deleteLocalStorageItems(){localStorage.removeItem(c),localStorage.removeItem(l),localStorage.removeItem(h)}getGlobalConfiguration(){return s.LocalStorage.get(l).asObject()||(this.logger.error("Notification global configurations were not found"),null)}setGlobalConfiguration(e){s.LocalStorage.setObject(l,e)}getLastDisplayedNotificationTimestamp(){const e=this.getNotificationHistory();return null==e?void 0:e.lastDisplayedTimestamp}setLastDisplayedNotificationTimestamp(e=Date.now()){const t=this.getNotificationHistory();t.lastDisplayedTimestamp=e,this.setNotificationHistory(t)}resetLastDisplayedNotificationTimestamp(){const e=this.getNotificationHistory();e.lastDisplayedTimestamp=0,this.setNotificationHistory(e)}getDismissedNotifications(){const e=this.getNotificationHistory();return null==e?void 0:e.dismissedApps}setNotificationDismissed(e){const t=this.getNotificationHistory(),n={applicationId:e,timestamp:Date.now()};t.dismissedApps?t.dismissedApps.push(n):t.dismissedApps=[n],this.setNotificationHistory(t)}removeNotificationFromDismissedApps(e){const t=this.getNotificationHistory();t.dismissedApps=t.dismissedApps.filter((t=>t.applicationId!==e.uid)),this.setNotificationHistory(t)}getDisplayedNotificationInfo(e,t){const n=this.getNotificationHistory().displayedAppsPerGame;if(!n)return null;const i=n[e.id];if(!i)return null;return i[t.uid]||null}addGameToExcluded(e){const t=this.getNotificationHistory();t.excluded||(t.excluded={games:[]});const n=t.excluded;n.games||(n.games=[]),n.games.includes(e)||(n.games=[...n.games,e]),this.setNotificationHistory(t)}addExtensionToExcluded(e){const t=this.getNotificationHistory();t.excluded||(t.excluded={applications:[]});const n=t.excluded;n.applications||(n.applications=[]),n.applications.includes(e)||(n.applications=[...n.applications,e]),this.setNotificationHistory(t)}getExcludedExtensions(){const e=this.getNotificationHistory();return e.excluded&&e.excluded.applications?null==e?void 0:e.excluded.applications:[]}getExcludedGames(){const e=this.getNotificationHistory();return e.excluded&&e.excluded.games?null==e?void 0:e.excluded.games:[]}setNotificationDisplayed(e,t,n=0){const i=this.getNotificationHistory();let o=i.displayedAppsPerGame;o||(i.displayedAppsPerGame={},o=i.displayedAppsPerGame);let r=o[e];r||(i.displayedAppsPerGame[e]={},r=i.displayedAppsPerGame[e]),r[t]||(r[t]={lastTimestamp:0,count:0});const s=r[t];s.lastTimestamp=Date.now(),s.count=n>0?n:s.count+1,this.setNotificationHistory(i)}resetDisplayedNotificationCount(e,t){const n=this.getNotificationHistory(),i=n.displayedAppsPerGame[e.id];i&&(i[t.uid]&&delete n.displayedAppsPerGame[e.id][t.uid],this.setNotificationHistory(n))}setConditionsSummary(e){s.LocalStorage.setObject(h,e)}getConditionsSummary(){return s.LocalStorage.get(h).asObject()}getNotificationHistory(){this.migrateLegacyLocalStorageData();return s.LocalStorage.get(c).asObject()||this.generateNewNotificationHistory()}createNotificationHistory(){const e=this.generateNewNotificationHistory();this.setNotificationHistory(e)}generateNewNotificationHistory(){return{lastDisplayedTimestamp:0,dismissedApps:[],displayedAppsPerGame:{},excluded:{applications:[],games:[]}}}migrateLegacyLocalStorageData(){this.isLegacyDataMigrated()||this.isMigrating||!this.isMigrationNeeded()||(this.isMigrating=!0,this.createNotificationHistory(),this.migrateLegacyLastNotificationTimestamp(),this.migrateLegacyAppDisplayCount(),this.migrateLegacyDismissedApps(),this.deleteLegacyKeys(),this.setLegacyDataMigrated(),this.isMigrating=!1)}isMigrationNeeded(){return!!s.LocalStorage.get("CachedNotificationsInfo").raw}setNotificationHistory(e){s.LocalStorage.setObject(c,e)}migrateLegacyLastNotificationTimestamp(){const e=s.LocalStorage.get(u).asInt();e&&(s.LocalStorage.remove(u),this.setLastDisplayedNotificationTimestamp(e))}migrateLegacyAppDisplayCount(){const e=s.LocalStorage.getKeysByPrefix("AppsDisplayCount_");e&&e.forEach((e=>{const t=e.split("_").pop(),n=s.LocalStorage.get(e).asObject();Object.keys(n).forEach((e=>{const i=n[e];this.setLegacyNotificationDisplayed(parseInt(t),e,i)})),s.LocalStorage.remove(e)}))}setLegacyNotificationDisplayed(e,t,n){this.setNotificationDisplayed(e,t,n)}migrateLegacyDismissedApps(){const e=s.LocalStorage.get(f).asArray();e&&(e.forEach((e=>{this.setLegacyDismissedApp(e)})),s.LocalStorage.remove(f))}setLegacyDismissedApp(e){this.setNotificationDismissed(e)}deleteLegacyKeys(){let e=["NotificationsInfoLastModified","LastNotificationTimestamp","LastNotificationGame","DismissedApps","CachedNotificationsInfo","LastNotificationParameterIsVideo","LastNotificationParameter"];["NotificationShowCount_","LastPlayed_","AppsDisplayCount_","SendControl_"].forEach((t=>{const n=s.LocalStorage.getKeysByPrefix(t);e=[...e,...n]})),e.forEach((e=>{s.LocalStorage.remove(e)}))}isLegacyDataMigrated(){return s.LocalStorage.get(d).asBool()}setLegacyDataMigrated(){s.LocalStorage.setBool(d,!0)}};p=i([(0,a.singleton)(),o("design:paramtypes",[])],p),t.PersistentStorageService=p},1437:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteObjectHttpFile=t.kNameOfRemoteObjectHttpFile=t.kHeaderLastModified=void 0;const c=a(n(6660)),l=n(6094),u=n(8711),d=n(2827);t.kHeaderLastModified="last-modified",t.kNameOfRemoteObjectHttpFile="RemoteObjectHttpFile";let f=class{constructor(e,t){this.singleRequestLock=e,this.axiosImpl=t,t||(this.axiosImpl=c.default)}initialize(e){this.url=e}getLastModified(){return s(this,void 0,void 0,(function*(){yield this.singleRequestLock.lock();try{const e=(yield this.axiosImpl.head(this.url.toString())).headers[t.kHeaderLastModified];return new Date(e)}finally{yield this.singleRequestLock.unlock()}}))}retrieve(){return s(this,void 0,void 0,(function*(){yield this.singleRequestLock.lock();try{const e=yield this.axiosImpl.get(this.url.toString()),n=e.headers[t.kHeaderLastModified];return[e.data,new Date(n)]}catch(e){return[null,null]}finally{yield this.singleRequestLock.unlock()}}))}};f=i([(0,l.injectable)(),r(1,(0,l.inject)(u.kDITokenAxios)),o("design:paramtypes",[d.AsyncLock,Function])],f),t.RemoteObjectHttpFile=f},9731:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteObjectRetrieverService=t.kDITRemoteObjectRetrieverServiceOptions=void 0;const a=n(6094),c=n(2827),l=n(1257),u=n(8678);t.kDITRemoteObjectRetrieverServiceOptions="RemoteObjectRetrieverServiceOptions";let d=class{constructor(e,t,n,i){this.options=e,this.remoteObject=t,this.timerService=n,this.singleRequestLock=i,this.logger=l.LoggerService.getCategory("RemoteObjectRetrieverService"),this.latestRetrievedObject=void 0,this.preformedFirstRetrievalAttempt=!1,t.initialize(e.configUrl),n.initialize({intervalInMs:e.retrievalIntervalInMs,autoReset:!0}),n.addListener(this)}getObject(){return s(this,void 0,void 0,(function*(){yield this.singleRequestLock.lock();try{if(this.preformedFirstRetrievalAttempt)return this.latestRetrievedObject;if(yield this.tryToRetrieveRemoteObjectWithRetries(this.options.maxRetries),this.timerService.start(),!this.latestRetrievedObject)throw new Error("Failed to retrieve config");return this.latestRetrievedObject}finally{this.preformedFirstRetrievalAttempt=!0,yield this.singleRequestLock.unlock()}}))}initConfigUrl(e){return s(this,void 0,void 0,(function*(){this.remoteObject.initialize(e),yield this.tryToRetrieveRemoteObject()}))}tryToRetrieveRemoteObjectWithRetries(e){return s(this,void 0,void 0,(function*(){let t=!1;for(;!t&&e>0;)t=yield this.handleSingleRetrievalRetry(),e--;return this.preformedFirstRetrievalAttempt=!0,!!t||(this.logger.error("Failed all retries!"),!1)}))}handleSingleRetrievalRetry(){return s(this,void 0,void 0,(function*(){try{return yield this.tryToRetrieveRemoteObject(),!0}catch(e){yield this.timerService.sleep(this.options.waitIntervalBetweenRetriesInMs)}return!1}))}tryToRetrieveRemoteObject(){return s(this,void 0,void 0,(function*(){try{const[e,t]=yield this.remoteObject.retrieve();this.latestRetrievedObject=e,this.logger.info(`Retrieved remote config ${t}`)}catch(e){throw this.logger.error("Failed to retrieve remote object",e),e}}))}onTimer(){return s(this,void 0,void 0,(function*(){this.logger.info("Try to retrieve updated remote object ..."),yield this.tryToRetrieveRemoteObjectWithRetries(this.options.maxRetries)}))}};d=i([r(0,(0,a.inject)(t.kDITRemoteObjectRetrieverServiceOptions)),o("design:paramtypes",[Object,Object,u.TimerService,c.AsyncLock])],d),t.RemoteObjectRetrieverService=d},8678:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TimerService=void 0;const s=n(6094);let a=class{constructor(){this.timerId=null,this.handleTimerEvent=()=>r(this,void 0,void 0,(function*(){this.timerId=null;for(const e of this.listeners)try{yield e.onTimer(this.options.id)}catch(e){}this.options.autoReset&&this.start()})),this.listeners=new Set}initialize(e){this.options=e}sleep(e){return r(this,void 0,void 0,(function*(){return new Promise((t=>{setTimeout(t,e)}))}))}start(){this.stop();const{intervalInMs:e}=this.options;this.timerId=setTimeout(this.handleTimerEvent,e)}stop(){null!=this.timerId&&(clearTimeout(this.timerId),this.timerId=null)}addListener(e){this.listeners.add(e)}removeListener(e){this.listeners.delete(e)}};a=i([(0,s.injectable)(),o("design:paramtypes",[])],a),t.TimerService=a},8719:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.UserActionService=void 0;const a=n(6094),c=n(3445),l=n(8678),u=n(4810),d=n(6198),f=n(9774),h=n(5516);let p=class{constructor(e,t,n,i,o,r,s){this.owExtensionWrapper=e,this.owUtilsWrapper=t,this.notificationAnalyticsService=n,this.owCustomURLWrapper=i,this.timerService=o,this.downloadService=r,this.ioPaths=s,this.listeners=new Set,this.owExtensionWrapper.initialize(),this.downloadService.addListener(this)}get token(){return c.kNameOfUserActionService}triggerListenerEvent(e,t){if(e)for(const n of this.listeners)n[e]&&n[e](t)}addListener(e){this.listeners.add(e)}removeListener(e){this.listeners.delete(e)}installApplication(e){return s(this,void 0,void 0,(function*(){this.notificationAnalyticsService.reportContentRecommend(e.targetGameId||e.gameId,e.applicationUid,f.ContentRecommendationUserAction.DirectInstallApplication),yield this.owExtensionWrapper.installAnyApp(e.applicationUid)}))}openApplicationInStore(e){return s(this,void 0,void 0,(function*(){this.notificationAnalyticsService.reportContentRecommend(e.targetGameId||e.gameId,e.applicationUid,f.ContentRecommendationUserAction.OpenApplicationInStore),yield this.owExtensionWrapper.addTemporarilyWhitelistedExtension(e.applicationUid),this.owUtilsWrapper.openStoreOneAppPage(e.applicationUid)}))}openNotificationSettings(e){return s(this,void 0,void 0,(function*(){this.notificationAnalyticsService.reportContentRecommend(e.targetGameId||e.gameId,e.applicationUid,f.ContentRecommendationUserAction.NotificationSettingsOpened),this.owCustomURLWrapper.openNotificationsSettings()}))}turnOffNotifications(e){return s(this,void 0,void 0,(function*(){this.notificationAnalyticsService.reportContentRecommend(e.targetGameId||e.gameId,e.applicationUid,f.ContentRecommendationUserAction.TurnOffNotificationsRequested),yield this.timerService.sleep(100);const{manifest:t}=this.owExtensionWrapper;yield this.owExtensionWrapper.changeExtensionEnableState(t.UID,!1)}))}sendTrackingEvent(e){this.notificationAnalyticsService.reportContentViewEvent(e)}sendErrorTrackingEvent(e){this.notificationAnalyticsService.reportContentViewError(e.gameId,e.applicationUid)}notificationDismissed(e,t){this.notificationAnalyticsService.reportContentRecommend(e.targetGameId||e.gameId,e.applicationUid,f.ContentRecommendationUserAction.Dismissed,t),this.triggerListenerEvent("onUserActionDismissed",e)}notificationDismissedWhileDownloading(e,t){this.notificationAnalyticsService.reportContentRecommend(e.targetGameId||e.gameId,e.applicationUid,f.ContentRecommendationUserAction.CloseClickedWhileDownloadingExternalApp,t),this.triggerListenerEvent("onUserActionDismissed",e)}gameExcluded(e){this.triggerListenerEvent("onGameExcluded",e)}applicationExcluded(e){this.triggerListenerEvent("onApplicationExcluded",e)}notificationABTest(e){this.notificationAnalyticsService.reportNotificationABTest(e)}OpenExternalUrl(e,t){this.notificationAnalyticsService.reportContentRecommend(t.targetGameId||t.gameId,t.applicationUid,f.ContentRecommendationUserAction.OpenExternalUrl),this.owUtilsWrapper.openUrlInDefaultBrowser(e)}OnDownloadExternalApplication(e,t){this.notificationAnalyticsService.reportContentRecommend(t.targetGameId||t.gameId,t.applicationUid,f.ContentRecommendationUserAction.DownloadExternalApp),this.downloadService.downloadFile(e,`${this.ioPaths.tempLocalAppData}\\${t.applicationUid}_${Date.now()}.exe`,t.applicationUid)}OnCancelDownloadExternalApplication(e){this.notificationAnalyticsService.reportContentRecommend(e.targetGameId||e.gameId,e.applicationUid,f.ContentRecommendationUserAction.CancelDownloadExternalApp),this.downloadService.cancelDownload()}onDownloadStart(e){var t;this.triggerListenerEvent("onDownloadStarted",e),this.sendTrackingEvent({name:"crn_download_start",extra:{downloadUrl:e,crnAppId:null===(t=this.downloadService)||void 0===t?void 0:t.downloadingAppid},overrides:{}})}onDownloadError(e){var t,n,i;this.triggerListenerEvent("onDownloadError",e),this.sendTrackingEvent({name:"crn_download_error",extra:{error:e,url:null!==(n=null===(t=this.downloadService)||void 0===t?void 0:t.downloadingUrl)&&void 0!==n?n:"",crnAppId:null===(i=this.downloadService)||void 0===i?void 0:i.downloadingAppid},overrides:{}})}onDownloadCompleted(e){var t;this.triggerListenerEvent("onDownloadCompleted",e),this.sendTrackingEvent({name:"crn_download_complete",extra:{url:e,crnAppId:null===(t=this.downloadService)||void 0===t?void 0:t.downloadingAppid},overrides:{}})}onDownloadProgress(e){this.triggerListenerEvent("onDownloadProgress",e)}onFileExecuted(e){this.triggerListenerEvent("onFileExecuted",e),e||this.sendTrackingEvent({name:"crn_download_verification_error",extra:{downloadUrl:this.downloadService.downloadingUrl},overrides:{}})}};p=i([(0,a.singleton)(),r(0,(0,a.inject)(h.kDITOWExtensionWrapper)),r(1,(0,a.inject)(h.kDITOWUtilsWrapper)),r(3,(0,a.inject)(h.kDITOWCustomURLWrapper)),r(5,(0,a.inject)(d.kNameOfDownloadService)),r(6,(0,a.inject)(h.kDIOWIOPathsWrapper)),o("design:paramtypes",[Object,Object,u.NotificationAnalyticsService,Object,l.TimerService,Object,Object])],p),t.UserActionService=p},5314:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.UtilsService=void 0;const o=n(6094);let r=class{getUrlParam(e){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");const t=new RegExp(`[\\?&]${e}=([^&#]*)`).exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}areObjectsEqual(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.getOwnPropertyNames(e),i=Object.getOwnPropertyNames(t);if(n.length!==i.length)return!1;for(let i=0;i<n.length;i++){const o=n[i];if(e[o]!==t[o])return!1}return!0}};r=i([(0,o.singleton)()],r),t.UtilsService=r},2827:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncLock=void 0;const r=n(6094);let s=class{constructor(){this.promiseResolver=null}lock(){return o(this,void 0,void 0,(function*(){yield this.promiseLock,this.promiseLock=new Promise((e=>{this.promiseResolver=e}))}))}unlock(){return o(this,void 0,void 0,(function*(){this.promiseResolver&&(this.promiseResolver(),this.promiseResolver=null)}))}};s=i([(0,r.injectable)()],s),t.AsyncLock=s},5029:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StopWatch=void 0,t.StopWatch=class{constructor(){this._startTime=0,this._stopTime=0,this._initialized=!1}get initialized(){return this._initialized}start(){this._stopTime=0,this._startTime=Date.now(),this._initialized=!0}stop(){return this._initialized?(this._stopTime=Date.now(),this._stopTime-this._startTime):0}getTime(){return this._initialized?this._stopTime>0?this._stopTime-this._startTime:Date.now()-this._startTime:0}}},8314:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorage=void 0;const i=n(8616);t.LocalStorage=class{static get keys(){return Object.keys(localStorage)}static get(e){const t=localStorage.getItem(e);return new i.StorageValue(t)}static getKeysByPrefix(e){const t=[];return Object.keys(localStorage).forEach((n=>{n.startsWith(e)&&t.push(n)})),t}static set(e,t){t||(t=""),localStorage.setItem(e,t)}static setNumber(e,t){localStorage.setItem(e,JSON.stringify(t))}static setBool(e,t){localStorage.setItem(e,JSON.stringify(t))}static remove(e){localStorage.removeItem(e)}static setObject(e,t){try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(e){return!1}}}},8616:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StorageValue=void 0,t.StorageValue=class{constructor(e){this._value=e}get raw(){return this._value}asBool(){return!!this._value&&"true"===this._value.toLowerCase()}asInt(){return this._value?parseInt(this._value,10):NaN}asObject(){if(!this._value)return null;try{return JSON.parse(this._value)}catch(e){return null}}asArray(){try{return JSON.parse(this._value)}catch(e){return null}}isNull(){return null===this._value}}},954:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=t.kWeekInMilliseconds=void 0,t.kWeekInMilliseconds=6048e5,t.Utils=class{static deepClone(e){return JSON.parse(JSON.stringify(e))}static randomWholeNumber(e,t){return Math.floor(Math.random()*(t-e+1)+e)}static calcTimePassedInWeeks(e){return 0===e?0:(Date.now()-e)/t.kWeekInMilliseconds}static getPersistentPhasedPercent(e){if(this._persistentPhase)return this._persistentPhase;const t=this.stringToHash(e);return this._persistentPhase=t%100,this._persistentPhase}static stringToHash(e){let t=0;for(let n=0;n<e.length;n++)t=(31*t+e.charCodeAt(n))%1e4;return t+Math.floor(100*Math.random())}}},3201:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundBootstrap=void 0,n(2326);const a=n(6094),c=n(5202),l=n(1257),u=n(4029),d=n(2488),f=n(5926),h=n(7502),p=n(3374),g=n(8711),v=n(5264),m=n(4810);new g.VendorRegistry,new d.BackgroundRegistry,new f.ExternalServicesRegistry,new h.ConditionsRegistry;let y=class{constructor(e,t,n){this.backgroundController=e,this.exposerService=t,this.analyticsService=n,this.startup()}startup(){return s(this,void 0,void 0,(function*(){v.Sentry.initSentry(),l.LoggerService.setup("Overwolf Notifications"),a.container.resolve(p.PatchesService),this.exposerService.initialize(),this.backgroundController.run()}))}};y=i([(0,a.injectable)(),r(2,(0,a.inject)(m.kNameOfNotificationAnalyticsService)),o("design:paramtypes",[c.BackgroundController,u.ExternalServicesExposerService,Object])],y),t.BackgroundBootstrap=y,a.container.resolve(y)},5202:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundController=void 0;const a=n(1257),c=n(6094),l=n(7481),u=n(6540),d=n(3474),f=n(8678),h=n(7102),p=n(5273),g=n(9774),v=n(5516),m=n(4810),y=n(4246);let w=class{constructor(e,t,n,i,o,r,s,c,l){this.entryPointService=e,this.owExtensionWrapper=t,this.contentRecommendationService=n,this.notificationWinManager=i,this.testerWindow=o,this.shutdownTimer=r,this.owApplicationWrapper=s,this.analyticsService=c,this.owGamesWrapper=l,this.logger=a.LoggerService.getCategory("BackgroundController"),this.entryPointService.addListener(this),this.contentRecommendationService.addListener(this),this.notificationWinManager.addListener(this)}run(){return s(this,void 0,void 0,(function*(){try{this.entryPointService.initialize(),yield this.printStartupInformationToConsole()}catch(e){this.logger.error("Error:",e)}}))}printStartupInformationToConsole(){var e;return s(this,void 0,void 0,(function*(){yield this.owExtensionWrapper.initialize();const{manifest:t}=this.owExtensionWrapper;this.logger.info(`App version: ${null===(e=null==t?void 0:t.meta)||void 0===e?void 0:e.version}`)}))}shutdown(){return s(this,void 0,void 0,(function*(){(yield this.hasOpenWindows())?this.logger.info("We have open windows - not closing app"):(this.logger.info("Shutting down ..."),this.closeBackgroundWithDelay())}))}hasOpenWindows(){return s(this,void 0,void 0,(function*(){return!!(yield this.notificationWinManager.isNotificationShown())}))}closeBackgroundWithDelay(){return s(this,void 0,void 0,(function*(){yield this.shutdownTimer.sleep(100),this.owApplicationWrapper.shutdown()}))}shouldGameBeExcluded(e){var t,n,i;return s(this,void 0,void 0,(function*(){try{const o=yield this.owGamesWrapper.getGameDBInfo(e);return"Application"===(null===(t=null==o?void 0:o.gameInfo)||void 0===t?void 0:t.TypeString)||"Application"===(null===(i=null===(n=null==o?void 0:o.installedGameInfo)||void 0===n?void 0:n.GameInfo)||void 0===i?void 0:i.TypeString)}catch(e){return!1}}))}onLaunchedWithDock(){return s(this,void 0,void 0,(function*(){yield this.testerWindow.show()}))}onLaunchedWithGame(e){return s(this,void 0,void 0,(function*(){if(yield this.shouldGameBeExcluded(e))return this.logger.info(`Excluded Game started ${e}, Ignoring`),void this.shutdown();this.contentRecommendationService.gameStarted(e)}))}onGameStarted(e){return s(this,void 0,void 0,(function*(){if(yield this.shouldGameBeExcluded(e))this.logger.info(`Excluded Game started ${e}, Ignoring`);else{if(yield this.hasOpenWindows()){this.logger.info("Game started while notification window is still open, closing notification window");let t="";const n=this.notificationWinManager.getNotificationInfo();n&&(t=n.applicationUid),this.analyticsService.reportContentRecommend(e,t,g.ContentRecommendationUserAction.IgnoredByLaunchingGame),this.notificationWinManager.close()}this.contentRecommendationService.gameStarted(e)}}))}onGameEnded(e){return s(this,void 0,void 0,(function*(){(yield this.shouldGameBeExcluded(e))?this.logger.info(`Excluded Game Ended ${e}, Ignoring`):this.contentRecommendationService.gameEnded(e)}))}onNoRecommendations(e){e!==y.NoRecommendationsReasons.ConfiguredForEnd&&this.shutdown()}onShowNotification(e,t){return s(this,void 0,void 0,(function*(){this.notificationWinManager.show(e,t)}))}onNotificationWindowClosed(){return s(this,void 0,void 0,(function*(){this.logger.info("Notification Window closed, Shutting down in 3 seconds"),setTimeout((()=>{this.shutdown()}),3e3)}))}};w=i([(0,c.singleton)(),r(1,(0,c.inject)(v.kDITOWExtensionWrapper)),r(3,(0,c.inject)(p.kNameOfNotificationWindowManagerService)),r(7,(0,c.inject)(m.kNameOfNotificationAnalyticsService)),r(8,(0,c.inject)(v.kDITOWGamesWrapper)),o("design:paramtypes",[l.AppEntryPointService,Object,d.ContentRecommendationService,Object,u.TesterWindow,f.TimerService,h.OWApplicationWrapper,Object,Object])],w),t.BackgroundController=w},2488:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundRegistry=void 0;const r=n(6094),s=n(1590),a=n(8678),c=n(2827),l=n(6198),u=n(5273),d=n(8926),f=n(1365),h=n(1437),p=n(9731),g=n(8990),v=o(n(2302)),m=n(5311),y=n(3605),w=n(5516),_=n(9759),S=n(8873),b=n(839),O=n(7085),R=n(2611),C=n(9177),P=n(748),E=n(7418),x=n(4810),k=n(7195),j=n(2881),I=n(114),L=n(618),T=n(7668);let W=class{};W=i([(0,r.registry)([{token:w.kDITokenOwNotificationWindow,useFactory:(0,r.instancePerContainerCachingFactory)((()=>new s.OWWindow(l.kNotificationWindowName)))},{token:w.kDITokenNotificationWindowScreenAnchor,useFactory:(0,r.instancePerContainerCachingFactory)((e=>new s.OWWindowScreenAnchor({window:e.resolve(w.kDITokenOwNotificationWindow),anchorType:s.OWWindowAnchorTypes.bottomRight,isTopMost:!0})))},{token:u.kNameOfNotificationWindowManagerService,useFactory:(0,r.instancePerContainerCachingFactory)((e=>e.resolve(f.NotificationWindowService)))},{token:l.kDITokenOwTesterWindow,useFactory:(0,r.instancePerContainerCachingFactory)((()=>new s.OWWindow(l.KTesterWindowName)))},{token:d.kNameOfTesterWindowManagerService,useFactory:(0,r.instancePerContainerCachingFactory)((e=>e.resolve(g.TesterWindowService)))},{token:x.kNameOfNotificationAnalyticsService,useFactory:(0,r.instancePerContainerCachingFactory)((e=>e.resolve(x.NotificationAnalyticsService)))},{token:h.kNameOfRemoteObjectHttpFile,useFactory:(0,r.instancePerContainerCachingFactory)((e=>e.resolve(h.RemoteObjectHttpFile)))},{token:p.kDITRemoteObjectRetrieverServiceOptions,useFactory:(0,r.instancePerContainerCachingFactory)((()=>{const{configUrl:e,maxRetries:t,retrievalIntervalInMs:n,waitIntervalBetweenRetriesInMs:i}=v.default.remoteObjectRetrieverService;return{configUrl:e,retrievalIntervalInMs:n,maxRetries:t,waitIntervalBetweenRetriesInMs:i}}))},{token:y.kDITRecommendationRemoteObjectRetrieverService,useFactory:(0,r.instancePerContainerCachingFactory)((e=>new p.RemoteObjectRetrieverService(e.resolve(p.kDITRemoteObjectRetrieverServiceOptions),e.resolve(h.kNameOfRemoteObjectHttpFile),e.resolve(a.TimerService),e.resolve(c.AsyncLock))))},{token:l.kNameOfDownloadService,useFactory:(0,r.instancePerContainerCachingFactory)((e=>e.resolve(m.OverwolfDownloadService)))},{token:l.kNameOfSimplePluginService,useFactory:(0,r.instancePerContainerCachingFactory)((e=>e.resolve(L.OwSimplePluginService)))},{token:l.kNameOfRegistryWrapper,useFactory:(0,r.instancePerContainerCachingFactory)((e=>e.resolve(T.OwRegistryWrapper)))},{token:w.kDIConfigurations,useFactory:(0,r.instancePerContainerCachingFactory)((()=>v.default))},{token:w.kDITOWGamesWrapper,useFactory:(0,r.instancePerContainerCachingFactory)((e=>e.resolve(b.OWGamesWrapper)))},{token:w.kDITOWTrackRSWrapper,useFactory:(0,r.instancePerContainerCachingFactory)((e=>e.resolve(_.OWTrackRSWrapper)))},{token:w.kDITOWUtilsWrapper,useFactory:(0,r.instancePerContainerCachingFactory)((e=>e.resolve(O.OWUtilsWrapper)))},{token:w.kDITOWSettingsWrapper,useFactory:(0,r.instancePerContainerCachingFactory)((e=>e.resolve(R.OWSettingsWrapper)))},{token:w.kDITOWGameListenerWrapper,useFactory:(0,r.instancePerContainerCachingFactory)((e=>e.resolve(S.OWGameListenerWrapper)))},{token:w.kDITOWExtensionWrapper,useFactory:(0,r.instancePerContainerCachingFactory)((e=>e.resolve(C.OWExtensionWrapper)))},{token:w.kDITOWWrapper,useFactory:(0,r.instancePerContainerCachingFactory)((e=>e.resolve(P.OWWrapper)))},{token:w.kDITOWCustomURLWrapper,useFactory:(0,r.instancePerContainerCachingFactory)((e=>e.resolve(E.OWCustomURLWrapper)))},{token:w.kDIOWIOPathsWrapper,useFactory:(0,r.instancePerContainerCachingFactory)((e=>e.resolve(k.OWIOPathsWrapper)))},{token:w.kDIOWOWSettingsGamesWrapper,useFactory:(0,r.instancePerContainerCachingFactory)((e=>e.resolve(j.OWSettingsGamesWrapper)))},{token:w.kDITokenWindowListener,useFactory:(0,r.instancePerContainerCachingFactory)((e=>e.resolve(I.OWWindowListenerWrapper)))}])],W),t.BackgroundRegistry=W},5926:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.ExternalServicesRegistry=void 0;const o=n(6094),r=n(5403),s=n(8843),a=n(3445),c=n(1365),l=n(8990),u=n(8719),d=n(4029);let f=class{};f=i([(0,o.registry)([{token:r.kNameOfNotificationWindowService,useFactory:(0,o.instancePerContainerCachingFactory)((e=>e.resolve(c.NotificationWindowService)))},{token:s.kNameOfTesterWindowService,useFactory:(0,o.instancePerContainerCachingFactory)((e=>e.resolve(l.TesterWindowService)))},{token:a.kNameOfUserActionService,useFactory:(0,o.instancePerContainerCachingFactory)((e=>e.resolve(u.UserActionService)))},{token:d.kDITokenExternalService,useFactory:(0,o.instancePerContainerCachingFactory)((e=>e.resolve(r.kNameOfNotificationWindowService)))},{token:d.kDITokenExternalService,useFactory:(0,o.instancePerContainerCachingFactory)((e=>e.resolve(s.kNameOfTesterWindowService)))},{token:d.kDITokenExternalService,useFactory:(0,o.instancePerContainerCachingFactory)((e=>e.resolve(a.kNameOfUserActionService)))}])],f),t.ExternalServicesRegistry=f},8926:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kNameOfTesterWindowManagerService=void 0,t.kNameOfTesterWindowManagerService="TesterWindowManagerService"},7102:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.OWApplicationWrapper=void 0;const o=n(6094);let r=class{shutdown(){overwolf.windows.getMainWindow().close()}};r=i([(0,o.singleton)()],r),t.OWApplicationWrapper=r},9177:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OWExtensionWrapper=void 0;const a=n(6094),c=n(6967),l=n(1590),u=n(6198),d=n(7668);let f=class{constructor(e){this.registryWrapper=e,this.owExtension=null}get manifest(){var e;return null===(e=this.owExtension)||void 0===e?void 0:e.manifest}initialize(){return s(this,void 0,void 0,(function*(){this.owExtension=yield l.OWExtension.fromCurrent()}))}initializeForExtension(e){return s(this,void 0,void 0,(function*(){this.owExtension=yield l.OWExtension.fromExtensionId(e)}))}changeExtensionEnableState(e,t){return s(this,void 0,void 0,(function*(){yield c.OWInternalExtensions.changeExtensionEnableState(e,t)}))}addTemporarilyWhitelistedExtension(e){return s(this,void 0,void 0,(function*(){c.OWInternalExtensions.addTemporarilyWhitelistedExtension(e)}))}installAnyApp(e){return s(this,void 0,void 0,(function*(){yield c.OWInternalExtensions.installAnyApp(e)}))}getDownloadedExtensions(){return s(this,void 0,void 0,(function*(){return c.OWInternalExtensions.getDownloadedExtensions()}))}getInstalledAndEnabledExtensions(){return s(this,void 0,void 0,(function*(){return(yield this.getDownloadedExtensions()).filter((e=>e.is_installed&&e.is_enabled))}))}getInstalledAndEnabledExtensionUids(){return s(this,void 0,void 0,(function*(){const e=(yield this.getDownloadedExtensions()).filter((e=>e.is_installed&&e.is_enabled)).map((e=>e.UID)),t=yield this.getElectronDownloadedExtensions();return t&&0!==t.length?[...e,...t]:e}))}getElectronDownloadedExtensions(){return s(this,void 0,void 0,(function*(){return this.registryWrapper.getCurrentUserKeyList(u.kOwElectronRegistryPath)}))}};f=i([(0,a.injectable)(),r(0,(0,a.inject)(u.kNameOfRegistryWrapper)),o("design:paramtypes",[d.OwRegistryWrapper])],f),t.OWExtensionWrapper=f},7125:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.OWExtensionsListenerWrapper=void 0;const r=n(6094),s=n(1590);let a=class{constructor(){this.listeners=new Map}addListener(e){this.removeListener(e),this.listeners.set(e,new s.OWExtensionsListener(e,!0))}removeListener(e){const t=this.listeners.get(e);t&&(t.stop(),this.listeners.delete(e))}};a=i([(0,r.injectable)(),o("design:paramtypes",[])],a),t.OWExtensionsListenerWrapper=a},8873:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.OWGameListenerWrapper=void 0;const r=n(6094),s=n(1590);let a=class{constructor(){this.listeners=new Map}addListener(e){this.removeListener(e),this.listeners.set(e,new s.OWGameListener(e,!0))}removeListener(e){const t=this.listeners.get(e);t&&(t.stop(),this.listeners.delete(e))}};a=i([(0,r.injectable)(),o("design:paramtypes",[])],a),t.OWGameListenerWrapper=a},839:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OWGamesWrapper=void 0;const r=n(6094),s=n(1590);let a=class{getRunningGameInfo(){return o(this,void 0,void 0,(function*(){return s.OWGames.getRunningGameInfo()}))}getGameDBInfo(e){return o(this,void 0,void 0,(function*(){return s.OWGames.getGameDBInfo(e)}))}};a=i([(0,r.singleton)()],a),t.OWGamesWrapper=a},7195:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.OWIOPathsWrapper=void 0;const o=n(6094);let r=class{get commonAppData(){return overwolf.io.paths.commonAppData}get commonFiles(){return overwolf.io.paths.commonFiles}get commonFilesX86(){return overwolf.io.paths.commonFilesX86}get desktop(){return overwolf.io.paths.desktop}get documents(){return overwolf.io.paths.documents}get localAppData(){return overwolf.io.paths.localAppData}get tempLocalAppData(){return`${overwolf.io.paths.localAppData}\\temp`}};r=i([(0,o.singleton)()],r),t.OWIOPathsWrapper=r},2881:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OWSettingsGamesWrapper=void 0;const r=n(6094),s=n(1080);let a=class{getOverlayEnabled(e){return o(this,void 0,void 0,(function*(){return s.OWSettingsGames.getOverlayEnabled(e)}))}};a=i([(0,r.injectable)()],a),t.OWSettingsGamesWrapper=a},2611:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OWSettingsWrapper=void 0;const r=n(6094),s=n(7114);let a=class{getLanguage(){return o(this,void 0,void 0,(function*(){return s.OWSettings.getLanguage()}))}};a=i([(0,r.injectable)()],a),t.OWSettingsWrapper=a},7085:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OWUtilsWrapper=void 0;const r=n(6094),s=n(5240),a=n(5176),c=n(1590);let l=class{setClientStartupTime(){this.patchedClientLaunchedTime=new Date}openStoreOneAppPage(e){c.OWUtils.openStoreOneAppPage(e)}getClientInfo(){return c.OWUtils.isGetClientInfoSupported()?c.OWUtils.getClientInfo():this.getClientInfoFromPatchValues()}getPersistentPhasedPercent(){return o(this,void 0,void 0,(function*(){return a.OWInternalUtils.getPersistentPhasedPercent()}))}getClientInfoFromPatchValues(){return o(this,void 0,void 0,(function*(){return{success:!0,installTime:yield this.getConsentTimestamp(),uptimeSeconds:this.calcUptimeFromPatchedLaunchedTimeInSeconds()}}))}getConsentTimestamp(){return o(this,void 0,void 0,(function*(){let e;const t=yield s.OWInternalProfile.getCurrentUser().catch((t=>{e=t.consentTimestamp}));return t&&(e=t.consentTimestamp),e}))}calcUptimeFromPatchedLaunchedTimeInSeconds(){return(Date.now()-this.patchedClientLaunchedTime.getTime())/1e3}getSystemInformation(){return o(this,void 0,void 0,(function*(){return c.OWUtils.getSystemInformation()}))}openUrlInDefaultBrowser(e){c.OWUtils.openUrlInDefaultBrowser(e)}};l=i([(0,r.singleton)()],l),t.OWUtilsWrapper=l},7481:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.AppEntryPointService=void 0;const a=n(6094),c=n(5973),l=n(1257),u=n(5314),d=n(7125),f=n(5516);let h=class{constructor(e,t,n){this.utilsService=e,this.owExtensionsListener=t,this.owGameListener=n,this.logger=l.LoggerService.getCategory("AppEntryPointService"),this.listeners=new Set}initialize(){this.checkLaunchParam(),this.owExtensionsListener.addListener(this),this.owGameListener.addListener(this)}addListener(e){this.listeners.add(e)}removeListener(e){this.listeners.delete(e)}checkLaunchParam(){const e=this.utilsService.getUrlParam(c.kUrlParamSource),t=this.utilsService.getUrlParam(c.kUrlParamGameId);this.handleLaunchSource(e,t,!0)}handleLaunchSource(e,t,n){const i=n?"Launched":"Received event";this.logger.info(`${i} source: ${e} param: ${t||"n/a"}`);const[o,r]=this.calcListenerEventFromLaunchSource(e,t);this.triggerListenerEvent(o,r)}calcListenerEventFromLaunchSource(e,t){switch(e){case c.kLaunchEventDockLaunch:return["onLaunchedWithDock",null];case c.kLaunchEventOverwolfStart:return["onLaunchedWithStartup",null];case c.kLaunchEventGameLaunch:return["onLaunchedWithGame",parseInt(t,10)]}return[null,null]}triggerListenerEvent(e,t){return s(this,void 0,void 0,(function*(){if(e)for(const n of this.listeners)n[e]&&(yield n[e](t))}))}onAppLaunchTriggered(e){switch(e.origin){case c.kLaunchEventDockLaunch:this.handleLaunchSource(e.origin,e.parameter,!1);break;case c.kLaunchEventGameLaunch:{const t=`${c.kUrlParamGameId}=`,n=e.parameter.substring(t.length);this.triggerListenerEvent("onGameStarted",parseInt(n,10));break}}}onGameTerminated(e){this.triggerListenerEvent("onGameEnded",e.gameInfo.classId)}};h=i([(0,a.singleton)(),r(2,(0,a.inject)(f.kDITOWGameListenerWrapper)),o("design:paramtypes",[u.UtilsService,d.OWExtensionsListenerWrapper,Object])],h),t.AppEntryPointService=h},5311:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OverwolfDownloadService=void 0;const a=n(6094),c=n(1257),l=n(1590),u=n(6198),d=n(5516);let f=class{constructor(e){this.owWrapper=e,this.logger=c.LoggerService.getCategory(u.kNameOfDownloadService),this.autoRun=!1,this.isDownloading=!1,this.listeners=new Set,this.init()}triggerListenerEvent(e,t){if(e)for(const n of this.listeners)n[e]&&n[e](t)}addListener(e){var t;null===(t=this.listeners)||void 0===t||t.add(e)}removeListener(e){var t;null===(t=this.listeners)||void 0===t||t.delete(e)}downloadFile(e,t,n,i=!0){this.downloadingAppid=n;try{if(!this.downloaderPluginInstance)throw new Error("downloaderPluginInstance is undefined");if(this.isDownloading)throw new Error("Download plugin already downloading");this.logger.info(`Download File requested, url: ${e}, path: ${t}`),this.downloadingUrl=e,this.autoRun=i,this.downloaderPluginInstance.downloadFile(e,t,`${u.kNameOfOwCRNDlUserAgent} ${this.owWrapper.getVersion()}`),this.triggerListenerEvent("onDownloadStart",e),this.externalDownloadPath=t}catch(e){this.logger.error("Error while requesting download file",e),this.onDownloadError(e.message)}}cancelDownload(){this.logger.info("Download Cancel requested"),this.downloaderPluginInstance.cancelDownload(),this.externalDownloadPath=null,this.downloadingUrl=null}runFileProcess(e){try{return this.logger.info(`Running file process, File: ${e}`),this.downloaderPluginInstance.ExecuteFileProcess(e),!0}catch(t){return this.logger.error(`Error Running file process, File: ${e}`,t),!1}}init(){return s(this,void 0,void 0,(function*(){try{const e=yield l.OWPlugin.create(u.kNameOfDownloadPlugin);if(!e.isInitialized||!(null==e?void 0:e.instance))throw new Error("Error obtaining download plugin");this.downloaderPluginInstance=null==e?void 0:e.instance,this.downloaderPluginInstance.onDownloadComplete.addListener(this.onDownloadComplete.bind(this)),this.downloaderPluginInstance.onDownloadError.addListener(this.onDownloadError.bind(this)),this.downloaderPluginInstance.onDownloadProgress.addListener(this.onDownloadProgress.bind(this)),this.downloaderPluginInstance.onFileExecuted.addListener(this.onFileExecuted.bind(this))}catch(e){this.logger.error("Error during download plugin initialization ",e)}}))}onDownloadComplete(...e){var t,n;this.isDownloading=!1,this.logger.info("Download Complete",...e),this.triggerListenerEvent("onDownloadCompleted",null!==(n=null===(t=e[0])||void 0===t?void 0:t.url)&&void 0!==n?n:null),this.autoRun&&(this.runFileProcess(this.externalDownloadPath),this.externalDownloadPath=null,this.autoRun=!1)}onDownloadError(...e){var t,n;this.isDownloading=!1,this.logger.info("Download error",...e),this.triggerListenerEvent("onDownloadError",null!==(n=null===(t=e[0])||void 0===t?void 0:t.reason)&&void 0!==n?n:"")}onDownloadProgress(...e){let t;try{this.isDownloading||(this.isDownloading=!0),t=e[0].progress,this.triggerListenerEvent("onDownloadProgress",t)}catch(e){}}onFileExecuted(...e){var t;try{const n=e[0].result;this.logger.info(`onFileExecuted Result: ${n}`),n||this.logger.error(`Error executing file, Reason: ${null===(t=e[0])||void 0===t?void 0:t.reason}`),this.triggerListenerEvent("onFileExecuted",n),this.downloadingUrl=null}catch(e){}}};f=i([(0,a.injectable)(),r(0,(0,a.inject)(d.kDITOWWrapper)),o("design:paramtypes",[Object])],f),t.OverwolfDownloadService=f},4029:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExternalServicesExposerService=t.kDITokenExternalService=void 0;const s=n(6094),a=n(2402);t.kDITokenExternalService="ExternalService";let c=class{constructor(e,t){this.windowsTunnelDataService=e,this.services=t}initialize(){for(const e of this.services)this.windowsTunnelDataService.set(e.token,e)}};c=i([(0,s.injectable)(),r(1,(0,s.injectAll)(t.kDITokenExternalService)),o("design:paramtypes",[a.WindowsTunnelDataService,Array])],c),t.ExternalServicesExposerService=c},3374:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}};Object.defineProperty(t,"__esModule",{value:!0}),t.PatchesService=void 0;const s=n(5516),a=n(6094);let c=class{constructor(e){this.owUtilsWrapper=e,this.owUtilsWrapper.setClientStartupTime()}};c=i([(0,a.singleton)(),r(0,(0,a.inject)(s.kDITOWUtilsWrapper)),o("design:paramtypes",[Object])],c),t.PatchesService=c},7668:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OwRegistryWrapper=void 0;const a=n(6198),c=n(6094),l=n(618);let u=class{constructor(e){this.pluginService=e}getLocalMachineKey(e,t){return s(this,void 0,void 0,(function*(){return this.pluginService.getRegistryKey("LocalMachine",e,t)}))}getCurrentUserKey(e,t){return s(this,void 0,void 0,(function*(){return this.pluginService.getRegistryKey("CurrentUser",e,t)}))}getClassesRootKey(e,t){return s(this,void 0,void 0,(function*(){return this.pluginService.getRegistryKey("ClassesRoot",e,t)}))}getUsersKey(e,t){return s(this,void 0,void 0,(function*(){return this.pluginService.getRegistryKey("users",e,t)}))}getLocalMachineKeyList(e){return s(this,void 0,void 0,(function*(){return this.pluginService.getRegistryKeyList("LocalMachine",e)}))}getCurrentUserKeyList(e){return s(this,void 0,void 0,(function*(){return this.pluginService.getRegistryKeyList("CurrentUser",e)}))}getClassesRootKeyList(e){return s(this,void 0,void 0,(function*(){return this.pluginService.getRegistryKeyList("ClassesRoot",e)}))}getUsersKeyList(e){return s(this,void 0,void 0,(function*(){return this.pluginService.getRegistryKeyList("users",e)}))}};u=i([(0,c.injectable)(),r(0,(0,c.inject)(a.kNameOfSimplePluginService)),o("design:paramtypes",[l.OwSimplePluginService])],u),t.OwRegistryWrapper=u},618:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OwSimplePluginService=void 0;const s=n(6094),a=n(1257),c=n(1590),l=n(6198);let u=class{constructor(){this.logger=a.LoggerService.getCategory("OwSimplePluginService"),this.init()}getRegistryKey(e,t,n){return r(this,void 0,void 0,(function*(){return new Promise((i=>{try{this.simpleIoInstance.RegistryGetKeyValue(e,t,n,((e,t)=>{i(e?t:null)}))}catch(e){this.logger.error("Error during download plugin initialization ",e),i(null)}}))}))}getRegistryKeyList(e,t){return r(this,void 0,void 0,(function*(){return new Promise((n=>{try{this.simpleIoInstance.RegistryGetKeys(e,t,((e,t)=>{n(e?t:null)}))}catch(e){this.logger.error("Error during download plugin initialization ",e),n(null)}}))}))}init(){return r(this,void 0,void 0,(function*(){try{const e=yield c.OWPlugin.create(l.kNameOfSimpleIOPlugin);if(!e.isInitialized||!(null==e?void 0:e.instance))throw new Error("Error obtaining download plugin");this.simpleIoInstance=null==e?void 0:e.instance}catch(e){this.logger.error("Error during download plugin initialization ",e)}}))}};u=i([(0,s.singleton)(),o("design:paramtypes",[])],u),t.OwSimplePluginService=u},8990:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TesterWindowService=void 0;const a=n(6094),c=n(8843),l=n(6198),u=n(5942),d=n(382),f=n(5516);let h=class{constructor(e,t,n){this.persistentStorage=e,this.datastoreService=t,this.owWindowListener=n,this.listeners=new Set,this.isRunning=!1,this.owWindowListener.addListener(this)}triggerListenerEvent(e,t,n){return s(this,void 0,void 0,(function*(){if(e&&t)for(const i of this.listeners)yield i.onTestingNotificationSet(e,t,n)}))}IsNotificationRunning(){return this.isRunning}addListener(e){this.listeners.add(e)}removeListener(e){this.listeners.delete(e)}notificationAlreadyRunning(e){this.isRunning=e}transferTesterNotification(e,t,n=null){this.triggerListenerEvent(e,t,n)}resetNotificationTimestamp(){this.persistentStorage.resetLastDisplayedNotificationTimestamp()}resetLocalStorage(){this.persistentStorage.deleteLocalStorageItems()}resetConditionsSummary(){this.persistentStorage.setConditionsSummary({applicationConditions:{},globalConditions:{},lastSummaryResetTimestamp:Date.now()})}resetNotificationsHistory(){this.persistentStorage.createNotificationHistory()}getGlobalConfigurations(){return this.datastoreService.getGlobalConfigurations()}getAllGamesConfigurations(){return this.datastoreService.getAllGames()}getGameConfiguration(e){return this.datastoreService.getGame(e)}setEnvironment(e){return s(this,void 0,void 0,(function*(){return this.datastoreService.setEnvironment(e)}))}get token(){return c.kNameOfTesterWindowService}onWindowClosed(e){e.endsWith(l.kTesterWindowName)&&window.close()}};h=i([(0,a.singleton)(),r(2,(0,a.inject)(f.kDITokenWindowListener)),o("design:paramtypes",[d.PersistentStorageService,u.RecommendationDatastoreService,Object])],h),t.TesterWindowService=h},6540:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},s=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.TesterWindow=void 0;const a=n(6094),c=n(1590),l=n(1257),u=n(6198),d=n(5273),f=n(8926),h=n(5516);let p=class{constructor(e,t,n,i){this.notificationWinManager=e,this.testerWindowManagerService=t,this.owWindow=n,this.owWindowScreenAnchor=i,this.logger=l.LoggerService.getCategory("TesterWindow")}show(){return s(this,void 0,void 0,(function*(){this.testerWindowManagerService.addListener(this),this.owWindow.restore()}))}onTestingNotificationSet(e,t,n){return s(this,void 0,void 0,(function*(){const i=yield this.notificationWinManager.isNotificationShown();return this.testerWindowManagerService.notificationAlreadyRunning(i),i?(this.logger.info("Notifications window is Open,   unable to load new notification until window is closed."),!1):(this.notificationWinManager.show(e,t,!0,n),!0)}))}closeNotificationWindow(){this.owWindowScreenAnchor.stop()}};p=i([(0,a.injectable)(),r(0,(0,a.inject)(d.kNameOfNotificationWindowManagerService)),r(1,(0,a.inject)(f.kNameOfTesterWindowManagerService)),r(2,(0,a.inject)(u.kDITokenOwTesterWindow)),r(3,(0,a.inject)(h.kDITokenNotificationWindowScreenAnchor)),o("design:paramtypes",[Object,Object,Object,c.OWWindowScreenAnchor])],p),t.TesterWindow=p},6967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OWInternalExtensions=void 0,t.OWInternalExtensions=class{static getDownloadedExtensions(){return new Promise((e=>{overwolfInternal.extensions.getDownloadedExtensions((t=>("error"===(null==t?void 0:t.status)&&console.error(`Failed to get all open windows: ${t.reason}`),e((null==t?void 0:t.extensions)||[]))))}))}static showDevTools(e,t){overwolfInternal.extensions.showDevTools(e,t)}static installAnyApp(e,t=!1){return new Promise((n=>{overwolfInternal.extensions.installAnyApp(e,t,(e=>("error"===e.status&&console.error(`Failed to install app: ${e.reason}`),n(e))))}))}static changeExtensionEnableState(e,t){return new Promise((n=>{overwolfInternal.extensions.changeExtensionEnableState(e,t,(i=>(i.success||console.error(`Failed to change enable state for ${e} to ${t}`),n(i))))}))}static addTemporarilyWhitelistedExtension(e){return new Promise((t=>{overwolfInternal.extensions.addTemporarilyWhitelistedExtension(e,(n=>("success"!==n.status&&console.error(`Failed to addTemporarilyWhitelistedExtension ${e} `),t(n))))}))}}},5240:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OWInternalProfile=void 0,t.OWInternalProfile=class{static getCurrentUser(){return n(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{overwolfInternal.profile.getCurrentUser((n=>"success"!==n.status?t(n):e(n)))}))}))}}},5176:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OWInternalUtils=void 0,t.OWInternalUtils=class{static getPersistentPhasedPercent(){return n(this,void 0,void 0,(function*(){return new Promise((e=>{overwolfInternal.utils.getPersistentPhasedPercent((t=>{e(t.phasedPercent)}))}))}))}static isAnyNotificationDisplayed(){return n(this,void 0,void 0,(function*(){return new Promise((e=>{overwolfInternal.utils.isAnyNotificationDisplayed((t=>{const n=t&&"success"===t.status&&!0===t.displayed;e(n)}))}))}))}static collectLogs(){return new Promise((e=>{overwolfInternal.utils.createLogsZip((t=>{e("success"===t.status)}))}))}}},4202:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(3176),t),o(n(3647),t)},3647:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OWListener=void 0,t.OWListener=class{constructor(e){this._delegate=e}start(){this.stop()}}},3176:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(5105),t),o(n(968),t),o(n(7119),t),o(n(2763),t)},7119:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorage=t.LocalStorageValue=void 0;class n{constructor(e){this._value=e}get raw(){return this._value}asBool(){return this._value&&"true"===this._value.toLowerCase()}asInt(){return this._value&&parseInt(this._value,10)}asObject(){try{return JSON.parse(this._value)}catch(e){return console.error(e),null}}asArray(){try{return JSON.parse(this._value)}catch(e){return console.error(e),null}}isNull(){return null===this._value}}t.LocalStorageValue=n,t.LocalStorage=class{static get(e){const t=localStorage.getItem(e);return new n(t)}static set(e,t){t||(t=""),localStorage.setItem(e,t)}static setBool(e,t){localStorage.setItem(e,JSON.stringify(t))}static remove(e){localStorage.removeItem(e)}static setObject(e,t){try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(e){return console.error(e),!1}}}},968:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StopWatch=void 0,t.StopWatch=class{constructor(){this._startTime=0,this._stopTime=0,this._initialized=!1}get initialized(){return this._initialized}start(){this._stopTime=0,this._startTime=Date.now(),this._initialized=!0}stop(){return this._initialized?(this._stopTime=Date.now(),this._stopTime-this._startTime):0}getTime(){return this._initialized?this._stopTime>0?this._stopTime-this._startTime:Date.now()-this._startTime:0}}},2763:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringUtils=void 0,t.StringUtils=class{static isNullOrEmpty(e){return!e||0===e.length}}},5105:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0,t.Timer=class{static wait(e){return n(this,void 0,void 0,(function*(){return new Promise((t=>{setTimeout(t,e)}))}))}constructor(e,t,n=!1){this._timerId=null,this.handleTimerEvent=()=>{this._timerId=null,this._delegate.onTimer(this._id),this._autoReset&&this.start(this._intervalInMS)},this._delegate=e,this._id=t,this._autoReset=n}get id(){return this._id}start(e){this.stop(),this._intervalInMS=e,this._timerId=setTimeout(this.handleTimerEvent,e)}stop(){null!=this._timerId&&(clearTimeout(this._timerId),this._timerId=null)}}},1590:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(4202),t),o(n(9788),t),o(n(9958),t),o(n(6602),t),o(n(1666),t),o(n(7154),t),o(n(6712),t),o(n(4020),t),o(n(533),t),o(n(6296),t),o(n(5349),t),o(n(2087),t),o(n(3650),t),o(n(6874),t),o(n(4296),t),o(n(7087),t)},9958:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OWExtension=void 0;class i{static fromCurrent(){return n(this,void 0,void 0,(function*(){return new Promise((e=>{overwolf.extensions.current.getManifest((t=>e(new i(t))))}))}))}static fromExtensionId(e){return n(this,void 0,void 0,(function*(){return new Promise((t=>{overwolf.extensions.getManifest(e,(n=>{n.success?t(new i(n)):(console.log(`${e} - ${JSON.stringify(n)}`),t(null))}))}))}))}static CheckForUpdate(){return new Promise((e=>{overwolf.extensions.checkForExtensionUpdate(e)}))}static UpdateExtension(){return new Promise((e=>{overwolf.extensions.updateExtension(e)}))}constructor(e){this._manifest=e}get manifest(){return this._manifest}}t.OWExtension=i},1666:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OWExtensionsIO=void 0,t.OWExtensionsIO=class{static readTextFile(e,t){return n(this,void 0,void 0,(function*(){return new Promise((n=>{overwolf.extensions.io.readTextFile(e,t,(e=>n(Object.assign(Object.assign({},e),{status:""}))))}))}))}static writeTextFile(e,t,i){return n(this,void 0,void 0,(function*(){return new Promise((n=>{overwolf.extensions.io.writeTextFile(e,t,i,(e=>n(e.success)))}))}))}static getStoragePath(e){return n(this,void 0,void 0,(function*(){return new Promise((t=>{overwolf.extensions.io.getStoragePath(e,(e=>t(e)))}))}))}}},6602:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OWExtensionsListener=void 0;const i=n(4202);class o extends i.OWListener{constructor(e,t=!1){super(e),this.onAppLaunchTriggered=e=>{this._delegate.onAppLaunchTriggered&&this._delegate.onAppLaunchTriggered(e)},this.onAppInstalled=e=>{this._delegate.onAppInstalled&&this._delegate.onAppInstalled(e)},this.onAppUninstalled=e=>{this._delegate.onAppUninstalled&&this._delegate.onAppUninstalled(e)},this.onExtensionUpdated=e=>{this._delegate.onExtensionUpdated&&this._delegate.onExtensionUpdated(e)},t&&this.start()}start(){super.start(),this._delegate.onAppLaunchTriggered&&overwolf.extensions.onAppLaunchTriggered.addListener(this.onAppLaunchTriggered),this._delegate.onAppInstalled&&overwolf.extensions.onAppInstalled.addListener(this.onAppInstalled),this._delegate.onAppUninstalled&&overwolf.extensions.onAppUninstalled.addListener(this.onAppUninstalled),this._delegate.onExtensionUpdated&&overwolf.extensions.onExtensionUpdated.addListener(this.onExtensionUpdated)}stop(){overwolf.extensions.onAppLaunchTriggered.removeListener(this.onAppLaunchTriggered),overwolf.extensions.onAppInstalled.removeListener(this.onAppInstalled),overwolf.extensions.onAppUninstalled.removeListener(this.onAppUninstalled),overwolf.extensions.onExtensionUpdated.addListener(this.onExtensionUpdated)}}t.OWExtensionsListener=o},5973:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OWExtensions=t.kLaunchEventDockLaunch=t.kLaunchEventGameLaunch=t.kLaunchEventOverwolfStart=t.kUrlParamGameId=t.kUrlParamSource=void 0,t.kUrlParamSource="source",t.kUrlParamGameId="gameid",t.kLaunchEventOverwolfStart="overwolfstartlaunchevent",t.kLaunchEventGameLaunch="gamelaunchevent",t.kLaunchEventDockLaunch="dock",t.OWExtensions=class{static launch(e,t){overwolf.extensions.launch(e,t)}static getExtraObject(e){return n(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{overwolf.extensions.current.getExtraObject(e,(e=>{e.success?t(e.object):n(e.error)}))}))}))}static relaunch(){overwolf.extensions.relaunch()}}},7154:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OWGameListener=void 0;const i=n(3647);class o extends i.OWListener{constructor(e,t=!1){super(e),this.onGameInfoUpdated=e=>{e&&e.gameInfo&&(e.runningChanged||e.gameChanged)&&(e.gameInfo.isRunning?this._delegate.onGameStarted&&this._delegate.onGameStarted(e.gameInfo):this._delegate.onGameEnded&&this._delegate.onGameEnded(e.gameInfo))},this.onRunningGameInfo=e=>{e&&e.isRunning&&this._delegate.onGameStarted&&this._delegate.onGameStarted(e)},this.onGameTerminated=e=>{e&&e.gameInfo&&this._delegate.onGameTerminated&&this._delegate.onGameTerminated(e)},t&&this.start()}start(){super.start(),this.onTerminatedFunc=this.onGameTerminated.bind(this),overwolf.games.onGameInfoUpdated.addListener(this.onGameInfoUpdated),overwolf.games.tracked.onTerminated.addListener(this.onTerminatedFunc),overwolf.games.getRunningGameInfo(this.onRunningGameInfo)}stop(){overwolf.games.onGameInfoUpdated.removeListener(this.onGameInfoUpdated),overwolf.games.tracked.onTerminated.removeListener(this.onTerminatedFunc)}}t.OWGameListener=o},6712:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OWGamesEvents=void 0;const o=n(5105);t.OWGamesEvents=class{constructor(e,t,n=10){this._stopped=!0,this.onInfoUpdates=e=>{this._delegate.onInfoUpdates(e.info)},this.onNewEvents=e=>{this._delegate.onNewEvents(e)},this._delegate=e,this._requiredFeatures=t,this._featureRetries=n}getInfo(){return i(this,void 0,void 0,(function*(){return new Promise((e=>{overwolf.games.events.getInfo(e)}))}))}start(){return i(this,void 0,void 0,(function*(){console.log("[ow-game-events] START"),this._stopped=!1,this.registerEvents();const e=yield this.setRequiredFeatures(),{res:t,status:n}=yield this.getInfo();return t&&"success"===n&&this.onInfoUpdates({info:t}),e}))}stop(){console.log("[ow-game-events] STOP"),this._stopped=!0,this.unRegisterEvents()}setRequiredFeatures(){return i(this,void 0,void 0,(function*(){let e,t=1;for(;t<=this._featureRetries;){if(e=yield new Promise((e=>{overwolf.games.events.setRequiredFeatures(this._requiredFeatures,e)})),"success"===e.status){const t=JSON.stringify(e,null,2);return console.log(`setRequiredFeatures(): success: ${t}`),e.supportedFeatures.length>0}if(yield o.Timer.wait(3e3),this._stopped)return console.info("setRequiredFeatures(): stopped while in loop"),!1;t++}const n=JSON.stringify(e,null,2);return console.warn(`setRequiredFeatures(): failure after ${t} tries ${n}`),!1}))}registerEvents(){this.unRegisterEvents(),overwolf.games.events.onInfoUpdates2.addListener(this.onInfoUpdates),overwolf.games.events.onNewEvents.addListener(this.onNewEvents)}unRegisterEvents(){overwolf.games.events.onInfoUpdates2.removeListener(this.onInfoUpdates),overwolf.games.events.onNewEvents.removeListener(this.onNewEvents)}}},4020:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OWGames=void 0,t.OWGames=class{static getRunningGameInfo(){return new Promise((e=>{overwolf.games.getRunningGameInfo(e)}))}static classIdFromGameId(e){return Math.floor(e/10)}static getRecentlyPlayedGames(e=3){return n(this,void 0,void 0,(function*(){return new Promise((t=>{if(!overwolf.games.getRecentlyPlayedGames)return t(null);overwolf.games.getRecentlyPlayedGames(e,(e=>{t(e.games)}))}))}))}static getGameDBInfo(e){return n(this,void 0,void 0,(function*(){return new Promise((t=>{overwolf.games.getGameDBInfo(e,t)}))}))}}},533:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OWHotkeysListener=void 0,t.OWHotkeysListener=class{constructor(e){this.onHotKeyChanged=e=>{},this._delegate=e}start(){overwolf.settings.OnHotKeyChanged.removeListener(this.onHotKeyChanged),overwolf.settings.OnHotKeyChanged.addListener(this.onHotKeyChanged)}stop(){overwolf.windows.onStateChanged.removeListener(this.onHotKeyChanged)}}},6296:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.OWHotkeys=t.Hotkeys=void 0,function(e){e.HOTKEY_NAME="show-hide-porofessor",e.UNASSIGEND="Unassigned"}(n=t.Hotkeys||(t.Hotkeys={}));class i{constructor(){}static _get(e,t){overwolf.settings.getHotKey(e,(function(e){e&&"error"!==e.status&&e.hotkey?t(e.hotkey):t(n.UNASSIGEND)}))}static _set(e,t){overwolf.settings.registerHotKey(e,(function(n){n.success?t():console.error(`[HOTKEYS SERVICE] failed to register hotkey ${e}`)}))}static getToggleHotkey(){return new Promise(((e,t)=>{i._get(n.HOTKEY_NAME,e)}))}static setToggleHotkey(e){i._set(n.HOTKEY_NAME,e)}static addHotkeyChangeListener(e){overwolf.settings.OnHotKeyChanged.addListener(e)}static beautifyHotkeyString(e){return e.split("+").join(" + ")}}t.OWHotkeys=i},7087:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OWIO=void 0,t.OWIO=class{static copyFile(e,t,n,i){return new Promise((o=>{overwolf.io.copyFile(e,t,n,i,(e=>o(e.success)))}))}static dir(e){return new Promise(((t,n)=>{overwolf.io.dir(e,(e=>t(e)))}))}static exist(e){return new Promise(((t,n)=>{overwolf.io.exist(e,(e=>t(e)))}))}static fileExists(e){return new Promise(((t,n)=>{overwolf.io.fileExists(e,(e=>t(e)))}))}static readTextFile(e,t){return new Promise(((n,i)=>{overwolf.io.readTextFile(e,t,(e=>n(e)))}))}static writeFileContents(e,t,n,i){return new Promise(((o,r)=>{overwolf.io.writeFileContents(e,t,n,i,(e=>o(e.success)))}))}static readFileContents(e,t){return new Promise(((n,i)=>{overwolf.io.readFileContents(e,t,(e=>n(e)))}))}}},5349:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OWLauncherEvents=void 0;const o=n(5105);class r{constructor(e){this.onLauncherStarted=e=>i(this,void 0,void 0,(function*(){if(!e||e.classId!==r.Constants.LOL_LAUNCHER_ID)return;this.registerEvents(),yield this.setRequiredFeatures(),yield o.Timer.wait(600);const{res:t,status:n}=yield this.getInfo();this._delegate.onLauncherStarted(e),t&&"success"===n&&this.onInfoUpdates({info:t})})),this.onLauncherStopped=e=>{this.unRegisterEvents(),this._delegate.onLauncherStopped(e)},this.onInfoUpdates=e=>{this._delegate.onInfoUpdates(e.info)},this.onNewEvents=e=>{this._delegate.onNewEvents(e)},this._delegate=e,this.settingRunes=null,this.cancelSettingRunes=null}static get Constants(){return{LOL_LAUNCHER_ID:10902,SET_FEATURE_RETRIES:10,FEATURES:["game_flow","summoner_info","champ_select","lcu_info","credentials","lobby_info"]}}static getInfo(e){return i(this,void 0,void 0,(function*(){return new Promise((t=>{overwolf.games.launchers.events.getInfo(e,t)}))}))}static getRunningLOLLauncher(){return new Promise((e=>{overwolf.games.launchers.getRunningLaunchersInfo((t=>t&&t.launchers[0]?Math.floor(t.launchers[0].id/10)!=r.Constants.LOL_LAUNCHER_ID?e(!1):e(t.launchers[0]):e(!1)))}))}getInfo(){return i(this,void 0,void 0,(function*(){return r.getInfo(r.Constants.LOL_LAUNCHER_ID)}))}setRequiredFeatures(){return i(this,void 0,void 0,(function*(){let e,t=1;for(;t<=r.Constants.SET_FEATURE_RETRIES;){if(e=yield new Promise((e=>{overwolf.games.launchers.events.setRequiredFeatures(r.Constants.LOL_LAUNCHER_ID,r.Constants.FEATURES,e)})),"success"===e.status)return console.log("setRequiredFeatures(): success: "+JSON.stringify(e,null,2)),e.supportedFeatures.length>0;yield o.Timer.wait(3e3),t++}return console.warn("setRequiredFeatures(): failure after "+t+" tries"+JSON.stringify(e,null,2)),!1}))}registerEvents(){this.unRegisterEvents(),overwolf.games.launchers.events.onInfoUpdates.addListener(this.onInfoUpdates),overwolf.games.launchers.events.onNewEvents.addListener(this.onNewEvents)}unRegisterEvents(){overwolf.games.launchers.events.onInfoUpdates.removeListener(this.onInfoUpdates),overwolf.games.launchers.events.onNewEvents.removeListener(this.onNewEvents)}setRunesSingle(e,t){return i(this,void 0,void 0,(function*(){return null!==this.settingRunes&&null!==this.cancelSettingRunes&&(this.cancelSettingRunes(),yield this.settingRunes),this.settingRunes=this.setRunesWithRetry(e,t)}))}setRunesWithRetry(e,t){return i(this,void 0,void 0,(function*(){let n=!1,i=!1,r=20;this.cancelSettingRunes=()=>{i=!0};do{n=yield this.setPages(e,t),r--,console.log(`[OWLauncherEvents.setRunesWithRetry] setting try: ${20-r}, result: ${n}`),i||n||(yield o.Timer.wait(3e3))}while(!i&&!n&&r>0);return this.cancelSettingRunes=null,n}))}setRunes(e,t){return i(this,void 0,void 0,(function*(){return console.log(`[OWLauncherEvents.setRunes] ${JSON.stringify(e)} ${JSON.stringify(t)}`),this.setPages(e,t)}))}setPages({token:e,port:t},{title:n,primaryStyleId:r,selectedPerkIds:s,subStyleId:a}){return i(this,void 0,void 0,(function*(){const i=`https://127.0.0.1:${t}`,c=[{key:"Accept",value:"application/json"},{key:"Authorization",value:`Basic ${e}`}],l=yield new Promise((e=>{overwolf.web.sendHttpRequest(`${i}/lol-perks/v1/pages`,"GET",c,null,(t=>{if(console.log(`[OWLauncherEvents.setPages] got pages: ${JSON.stringify(t)}`),t.success)try{e(JSON.parse(t.data))}catch(n){e(t.data)}else e(null)}))}));let u=null;if(l&&l.length){let e=l.find((e=>e.isDeletable&&e.name.toLowerCase().includes("porofessor")));e||(e=l.find((e=>e.isDeletable&&e.current))),e||(e=l.find((e=>e.isDeletable))),e&&e.id&&(u=e.id)}if(null!==u){const e=yield new Promise((e=>{overwolf.web.sendHttpRequest(`${i}/lol-perks/v1/pages/${u}`,"DELETE",c,null,(t=>e(t)))}));console.log(`[OWLauncherEvents.setPages] DELETE code: ${e.statusCode} / response: ${JSON.stringify(e)}`),(!e.statusCode||e.statusCode<200||e.statusCode>=300)&&console.log(`[OWLauncherEvents.setPages] pages: ${JSON.stringify(l)}`),yield o.Timer.wait(2e3)}const d={id:0,name:n,current:!0,isActive:!1,isDeletable:!0,isEditable:!0,isValid:!0,order:0,lastModified:Date.now(),autoModifiedSelections:[],primaryStyleId:r,selectedPerkIds:s,subStyleId:a},f=JSON.stringify(d),h=yield new Promise((e=>{overwolf.web.sendHttpRequest(`${i}/lol-perks/v1/pages`,"POST",c,f,(t=>e(t)))}));return console.log(`[OWLauncherEvents.setPages] POST: ${h.statusCode} / response: ${JSON.stringify(h)}`),(!h.statusCode||h.statusCode<200||h.statusCode>=300)&&console.log(`[OWLauncherEvents.setPages] pages: ${JSON.stringify(l)}`),h.statusCode>=200&&h.statusCode<300}))}start(){return i(this,void 0,void 0,(function*(){console.log("[ow-launch-events] START");const e=yield r.getRunningLOLLauncher();e&&(console.log("[ow-launch-events] lol launcher running"),this.onLauncherStarted(e)),overwolf.games.launchers.onLaunched.addListener(this.onLauncherStarted),overwolf.games.launchers.onTerminated.addListener(this.onLauncherStopped)}))}stop(){console.log("[ow-launch-events] STOP"),this.unRegisterEvents()}}t.OWLauncherEvents=r},4296:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OWPlugin=void 0;const o=n(5973);class r{static create(e){return i(this,void 0,void 0,(function*(){const t=yield o.OWExtensions.getExtraObject(e);return new r(t)}))}get isInitialized(){return null!==this._pluginInstance}get instance(){return this._pluginInstance}constructor(e){this._pluginInstance=null,this._pluginInstance=e}}t.OWPlugin=r},2087:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OWProfileListener=void 0;const i=n(4202);class o extends i.OWListener{constructor(e){super(e),this.onLoginStateChanged=e=>{this._delegate.onLoginStateChanged&&this._delegate.onLoginStateChanged(e)}}start(){super.start(),overwolf.profile.onLoginStateChanged.addListener(this.onLoginStateChanged)}stop(){overwolf.profile.onLoginStateChanged.removeListener(this.onLoginStateChanged)}}t.OWProfileListener=o},3650:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OWProfile=void 0,t.OWProfile=class{static getCurrentUser(){return n(this,void 0,void 0,(function*(){return new Promise((e=>{overwolf.profile.getCurrentUser(e)}))}))}static openLoginDialog(){overwolf.profile.openLoginDialog()}}},1080:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OWSettingsGames=void 0,t.OWSettingsGames=class{static getOverlayEnabled(e){return new Promise((t=>{overwolf.settings.games.getOverlayEnabled(e,(e=>{const n=e.success&&e.enabled;t(n)}))}))}}},7114:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OWSettings=void 0,t.OWSettings=class{static getLanguage(){return new Promise((e=>{overwolf.settings.language.get((t=>e(t.language)))}))}static getExtensionSettings(){return new Promise(((e,t)=>{overwolf.settings.getExtensionSettings((t=>e(t.settings)))}))}static setExtensionSettings(e){return new Promise(((t,n)=>{overwolf.settings.setExtensionSettings(e,(e=>t(e.success)))}))}}},6874:function(e,t){"use strict";var n=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OWUtils=void 0,t.OWUtils=class{static getViewportSize(){return new Promise(((e,t)=>{overwolf.utils.getMonitorsList((i=>{let o=-1,r=-1;for(const e of i.displays)e.is_primary&&(o=e.width,r=e.height);overwolf.games.getRunningGameInfo((i=>n(this,void 0,void 0,(function*(){i&&i.isInFocus&&(o=i.width,r=i.height),null!==o&&null!==r?e({width:o,height:r}):t(new Error("could not get monitors width/height"))}))))}))}))}static getDPIScale(){return new Promise((e=>{overwolf.windows.getWindowDPI((t=>e(t.scale)))}))}static getAppVersion(){return new Promise((e=>{overwolf.extensions.current.getManifest((t=>e(t.meta.version)))}))}static getSystemInformation(){return new Promise((e=>{overwolf.utils.getSystemInformation((t=>t.success?e(t.systemInfo):e({})))}))}static placeOnClipboard(e){overwolf.utils.placeOnClipboard(e)}static openUrlInDefaultBrowser(e){overwolf.utils.openUrlInDefaultBrowser(e)}static openStore(e,t){overwolf.utils.openStore({uid:e,page:t})}static openFolderPicker(e){return new Promise((t=>{overwolf.utils.openFolderPicker(e,(e=>{t(e)}))}))}static openFilePicker(e,t,n){return new Promise((i=>{overwolf.utils.openFilePicker(e,t,(e=>{i(e)}),n)}))}static getMonitorsList(){return n(this,void 0,void 0,(function*(){return new Promise((e=>{overwolf.utils.getMonitorsList((t=>{e(t.displays)}))}))}))}static openWindowsExplorer(e){return n(this,void 0,void 0,(function*(){return new Promise((t=>{overwolf.utils.openWindowsExplorer(e,t)}))}))}static encryptForUser(e){return n(this,void 0,void 0,(function*(){return new Promise((t=>{overwolf.cryptography.encryptForCurrentUser(e,(e=>{t(e.ciphertext)}))}))}))}static decryptForUser(e){return n(this,void 0,void 0,(function*(){return new Promise((t=>{overwolf.cryptography.decryptForCurrentUser(e,(e=>{t(e.plaintext)}))}))}))}static openStoreOneAppPage(e){return n(this,void 0,void 0,(function*(){overwolf.utils.openStoreOneAppPage(e)}))}static isGetClientInfoSupported(){return"function"==typeof overwolf.utils.getClientInfo}static getClientInfo(){return new Promise((e=>{overwolf.utils.getClientInfo((t=>(null==t?void 0:t.success)?e(t):e(null)))}))}}},9788:function(e,t,n){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,n,i){void 0===i&&(i=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,i,o)}:function(e,t,n,i){void 0===i&&(i=n),e[i]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(56),t),o(n(9301),t),o(n(9105),t),o(n(8874),t),o(n(4443),t)},56:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OWGameWindowAnchor=void 0;const o=n(6874),r=n(4443);t.OWGameWindowAnchor=class{constructor(e,t,n,i=10){this.onGameInfoUpdated=e=>{if(null==e||null==e.resolutionChanged)return;if(0==e.resolutionChanged)return;if(null==e.gameInfo)return;const t=e.gameInfo.logicalWidth,n=e.gameInfo.logicalHeight;this.repositionWindow({width:t,height:n})},this._window=e,this._winWidth=t.width,this._winHeight=t.height,this._anchorType=n,this._margin=i}start(){overwolf.games.onGameInfoUpdated.removeListener(this.onGameInfoUpdated),overwolf.games.onGameInfoUpdated.addListener(this.onGameInfoUpdated),overwolf.games.getRunningGameInfo((e=>{e&&this.repositionWindow({width:e.logicalWidth,height:e.logicalHeight})}))}stop(){overwolf.games.onGameInfoUpdated.removeListener(this.onGameInfoUpdated)}repositionWindow(e){return i(this,void 0,void 0,(function*(){const t=yield o.OWUtils.getDPIScale(),n=this._margin;let i=Math.floor(e.width-this._winWidth*t)-n,s=n;switch(this._anchorType){case r.OWWindowAnchorTypes.topRight:break;case r.OWWindowAnchorTypes.middleRight:s=Math.floor(e.height/2-this._winHeight/2*t);break;case r.OWWindowAnchorTypes.bottomRight:s=Math.floor(e.height-this._winHeight*t)-n;break;case r.OWWindowAnchorTypes.bottomLeft:i=n,s=Math.floor(e.height-this._winHeight*t)-n;break;case r.OWWindowAnchorTypes.topLeft:i=n}yield this._window.changePosition(i,s)}))}repositionAnchor(e){this._anchorType=e,this.start()}}},8874:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OWWindowScreenAnchor=void 0;const o=n(6874),r=n(9105),s=n(4443);t.OWWindowScreenAnchor=class{constructor(e){this.mainMonitorId="",this.window=e.window,this.anchorType=e.anchorType,this.isTopMost=e.isTopMost,this.owWindowListener=new r.OWWindowsListener(this)}start(){return i(this,void 0,void 0,(function*(){this.stop(),yield this.setMainMonitorInfo(),yield this.restoreWindow(),yield this.repositionWindow(),this.owWindowListener.start()}))}stop(){this.owWindowListener.stop(),this.window.close()}setMainMonitorInfo(){return i(this,void 0,void 0,(function*(){const e=yield o.OWUtils.getMonitorsList();this.mainMonitor=e.find((e=>!0===e.is_primary))}))}restoreWindow(){return i(this,void 0,void 0,(function*(){yield this.window.restore()}))}repositionWindow(){return i(this,void 0,void 0,(function*(){const e=yield this.window.obtain(),{width:t,height:n}=this.mainMonitor;yield this.changeWindowPosition(e,t,n),this.isTopMost&&(yield this.window.setTopmost())}))}changeWindowPosition(e,t,n){return i(this,void 0,void 0,(function*(){let i,o;switch(this.anchorType){case s.OWWindowAnchorTypes.topRight:i=0,o=t-e.width;break;case s.OWWindowAnchorTypes.topLeft:i=0,o=0;break;case s.OWWindowAnchorTypes.bottomLeft:i=n-e.height,o=0;break;case s.OWWindowAnchorTypes.bottomRight:i=n-e.height,o=t-e.width}yield this.window.changePosition(o,i)}))}onScreenPropertyChanged(e){var t;return i(this,void 0,void 0,(function*(){(null===(t=null==e?void 0:e.monitor)||void 0===t?void 0:t.id)===this.mainMonitorId&&this.repositionWindow()}))}}},4443:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.OWWindowAnchorTypes=void 0,(n=t.OWWindowAnchorTypes||(t.OWWindowAnchorTypes={}))[n.topLeft=0]="topLeft",n[n.topRight=1]="topRight",n[n.middleRight=2]="middleRight",n[n.bottomRight=3]="bottomRight",n[n.bottomLeft=4]="bottomLeft"},9301:function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.OWWindow=void 0;const o=n(6874),r=n(56);class s{constructor(e=null){this._name=e,this._id=null}obtain(){return new Promise(((e,t)=>{const n=n=>{n&&"success"===n.status&&n.window&&n.window.id?(this._id=n.window.id,this._name||(this._name=n.window.name),e(n.window)):(this._id=null,t(n.error))};this._name?overwolf.windows.obtainDeclaredWindow(this._name,n):overwolf.windows.getCurrentWindow(n)}))}createGameWindowAnchor(e,t){return i(this,void 0,void 0,(function*(){const n=yield this.obtain();return n?new r.OWGameWindowAnchor(this,{width:n.width,height:n.height},e,t):null}))}center(){return i(this,void 0,void 0,(function*(){return new Promise(((e,t)=>i(this,void 0,void 0,(function*(){try{const t=yield this.obtain(),n=yield o.OWUtils.getDPIScale(),i=Math.round((window.screen.availWidth-t.width*n)/2),r=Math.round((window.screen.availHeight-t.height*n)/2);this.changePosition(Math.max(i,0),Math.max(r,0)),e()}catch(e){return t(e)}}))))}))}bottomRight(){return i(this,void 0,void 0,(function*(){return new Promise((e=>i(this,void 0,void 0,(function*(){let t=null;const[n,i]=yield Promise.all([this.obtain(),o.OWUtils.getViewportSize()]);if(t=n,!t)return e();const r=yield o.OWUtils.getDPIScale();let s=i.width-t.width*r,a=i.height-t.height*r;return s=Math.max(s,0),a=Math.max(a,0),s=Math.floor(s),a=Math.floor(a),yield this.changePosition(s,a),e()}))))}))}restore(){return i(this,void 0,void 0,(function*(){return yield this.assureObtained(),new Promise(((e,t)=>{const n=this._id;overwolf.windows.restore(n,(i=>{i.success||(console.error(`[restore] - an error occurred, windowId=${n}, reason=${i.error}`),t(i.error)),e()}))}))}))}bringToFront(){return i(this,void 0,void 0,(function*(){return yield this.assureObtained(),new Promise(((e,t)=>{const n=this._id;overwolf.windows.bringToFront(n,(i=>{i.success||(console.error(`[restore] - an error occurred, windowId=${n}, reason=${i.error}`),t(i.error)),e()}))}))}))}minimize(){return i(this,void 0,void 0,(function*(){return yield this.assureObtained(),new Promise(((e,t)=>{const n=this._id;overwolf.windows.minimize(n,(n=>{n.success||t(n.error),e()}))}))}))}maximize(){return i(this,void 0,void 0,(function*(){return yield this.assureObtained(),new Promise(((e,t)=>{const n=this._id;overwolf.windows.maximize(n,(n=>{n.success||t(n.error),e()}))}))}))}hide(){return i(this,void 0,void 0,(function*(){return yield this.assureObtained(),new Promise(((e,t)=>{const n=this._id;overwolf.windows.hide(n,(n=>{n.success||t(n.error),e()}))}))}))}changePosition(e,t){return i(this,void 0,void 0,(function*(){return yield this.assureObtained(),new Promise(((n,i)=>{const o=this._id;overwolf.windows.changePosition(o,e,t,(e=>{e.success||i(e.error),n()}))}))}))}changeSize(e,t){return i(this,void 0,void 0,(function*(){return yield this.assureObtained(),new Promise(((n,i)=>{const o=this._id;overwolf.windows.changeSize(o,e,t,(e=>{e.success||i(e.error),n()}))}))}))}setMinSize(e,t){return i(this,void 0,void 0,(function*(){return yield this.assureObtained(),new Promise(((n,i)=>{const o=this._id;overwolf.windows.setMinSize(o,e,t,(e=>{const{success:t}=e;t?n():i(e.error)}))}))}))}dragMove(){return i(this,void 0,void 0,(function*(){return yield this.assureObtained(),new Promise(((e,t)=>{const n=this._id;overwolf.windows.dragMove(n,(n=>{n.success||t(n.error),e(n)}))}))}))}dragResizeLeft(){return i(this,void 0,void 0,(function*(){return yield this.assureObtained(),new Promise((e=>{const t=this._id;return overwolf.windows.dragResize(t,"Left"),e(null)}))}))}dragResizeRight(){return i(this,void 0,void 0,(function*(){return yield this.assureObtained(),new Promise((e=>{const t=this._id;return overwolf.windows.dragResize(t,"Right"),e(null)}))}))}getWindowState(){return i(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{const n=this._id||this._name;overwolf.windows.getWindowState(n,(n=>{n.success||t(n.error),e(n)}))}))}))}setTopmost(){return i(this,void 0,void 0,(function*(){return yield this.assureObtained(),new Promise(((e,t)=>{const n=this._id;overwolf.windows.setTopmost(n,!0,(n=>{n.success||t(n.error),e(n.success)}))}))}))}static getCurrentInfo(){return i(this,void 0,void 0,(function*(){return new Promise(((e,t)=>{overwolf.windows.getCurrentWindow((n=>{n.success||t(n.error),e(n.window)}))}))}))}static getOpenWindows(){return i(this,void 0,void 0,(function*(){return new Promise((e=>i(this,void 0,void 0,(function*(){overwolf.windows.getOpenWindows((t=>{e(t)}))}))))}))}static setMute(e=!0){return i(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{if(!overwolf.windows.setMute)return n("setMute does not exist");overwolf.windows.setMute(e,(e=>{e.success?t():n(e.error)}))}))}))}close(){return i(this,void 0,void 0,(function*(){const e=yield this.getWindowState();e.success&&"closed"===e.window_state||(yield this.internalClose())}))}reloadPage(){return i(this,void 0,void 0,(function*(){return new Promise(((e,t)=>i(this,void 0,void 0,(function*(){try{const t=yield this.obtain(),n=yield s.getOpenWindows();if(!n[t.name])return;n[t.name].location.reload(),e()}catch(e){return t(e)}}))))}))}assureObtained(){return i(this,void 0,void 0,(function*(){yield this.obtain()}))}internalClose(){return i(this,void 0,void 0,(function*(){return yield this.assureObtained(),new Promise(((e,t)=>{const n=this._id;overwolf.windows.close(n,(n=>{n&&n.success?e():t(n)}))}))}))}}t.OWWindow=s},9105:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OWWindowsListener=void 0;const i=n(4202);class o extends i.OWListener{constructor(e,t=!1){super(e),this.onWindowStateChanged=e=>{e&&(this._delegate.onWindowStateChanged&&this._delegate.onWindowStateChanged(e),"closed"===e.window_state&&this._delegate.onWindowClosed&&this._delegate.onWindowClosed(e.window_name),"minimized"===e.window_state&&this._delegate.onWindowMinimized&&this._delegate.onWindowMinimized(e.window_name),"maximized"===e.window_state&&this._delegate.onWindowMaximized&&this._delegate.onWindowMaximized(e.window_name),"normal"===e.window_state&&this._delegate.onWindowRestored&&this._delegate.onWindowRestored(e.window_name))},this.onScreenPropertyChanged=e=>{this._delegate.onScreenPropertyChanged&&this._delegate.onScreenPropertyChanged(e)},this.onAltF4Blocked=e=>{this._delegate.onAltF4Blocked&&this._delegate.onAltF4Blocked(e.id)},t&&this.start()}start(){super.start(),overwolf.windows.onStateChanged.addListener(this.onWindowStateChanged),overwolf.windows.onScreenPropertyChanged.addListener(this.onScreenPropertyChanged),overwolf.windows.onAltF4Blocked.addListener(this.onAltF4Blocked)}stop(){overwolf.windows.onStateChanged.removeListener(this.onWindowStateChanged),overwolf.windows.onScreenPropertyChanged.removeListener(this.onScreenPropertyChanged),overwolf.windows.onAltF4Blocked.removeListener(this.onAltF4Blocked)}}t.OWWindowsListener=o},2402:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.WindowsTunnelDataService=t.kTunnelDataUserAction=t.kTunnelDataNotificationInfo=void 0;const r=n(6094),s=n(8001),a="__WINDOWS_TUNNEL_DATA_SERVICE__";t.kTunnelDataNotificationInfo="notificationInfo",t.kTunnelDataUserAction="userAction";let c=class{constructor(e){this.owMainWIndowWrapper=e,this._globalDataMap=null,this.initialize()}initialize(){const e=this.owMainWIndowWrapper.getMainWindow();e?(e[a]||(e[a]={}),this._globalDataMap=e[a]):console.error("Could not get main window!")}set(e,t){this._globalDataMap?this._globalDataMap[e]=t:console.error("globalDataMap is undefined")}get(e){if(this._globalDataMap)return this._globalDataMap[e];console.error("globalDataMap is undefined")}};c=i([(0,r.singleton)(),o("design:paramtypes",[s.OWMainWindowWrapper])],c),t.WindowsTunnelDataService=c},5264:function(e,t,n){"use strict";var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Sentry=void 0;const o=n(1066),r=i(n(2302)),s=n(8330);t.Sentry=class{static initSentry(){(0,o.init)({dsn:r.default.sentry.dns,sampleRate:r.default.sentry.sampleRate,release:`${s.name}@${s.version}`,attachStacktrace:!0,autoSessionTracking:!1})}}},7418:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.OWCustomURLWrapper=void 0;const o=n(6094);let r=class{openNotificationsSettings(){window.location.href="overwolf://settings/notifications"}};r=i([(0,o.injectable)()],r),t.OWCustomURLWrapper=r},8001:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.OWMainWindowWrapper=void 0;const o=n(6094);let r=class{getMainWindow(){var e;return(null===(e=null===overwolf||void 0===overwolf?void 0:overwolf.windows)||void 0===e?void 0:e.getMainWindow)?overwolf.windows.getMainWindow():null}};r=i([(0,o.injectable)()],r),t.OWMainWindowWrapper=r},9759:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.OWTrackRSWrapper=void 0;const o=n(6094);let r=class{trackRSEvent(e,t,n){return void 0===overwolfInternal.trackRSEventV2?overwolfInternal.trackRSEvent(e,t,n):overwolfInternal.trackRSEventV2(e,t,n)}};r=i([(0,o.injectable)()],r),t.OWTrackRSWrapper=r},114:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s},o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(t,"__esModule",{value:!0}),t.OWWindowListenerWrapper=void 0;const r=n(6094),s=n(1590);let a=class{constructor(){this.listeners=new Map}addListener(e){this.removeListener(e),this.listeners.set(e,new s.OWWindowsListener(e,!0))}removeListener(e){const t=this.listeners.get(e);t&&(t.stop(),this.listeners.delete(e))}};a=i([(0,r.injectable)(),o("design:paramtypes",[])],a),t.OWWindowListenerWrapper=a},748:function(e,t,n){"use strict";var i=this&&this.__decorate||function(e,t,n,i){var o,r=arguments.length,s=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(r<3?o(s):r>3?o(t,n,s):o(t,n))||s);return r>3&&s&&Object.defineProperty(t,n,s),s};Object.defineProperty(t,"__esModule",{value:!0}),t.OWWrapper=void 0;const o=n(6094);let r=class{getHostAppUid(){return""}getPlatform(){return"ow"}getVersion(){return overwolf.version}};r=i([(0,o.injectable)()],r),t.OWWrapper=r},6094:(e,t,n)=>{"use strict";var i;n.r(t),n.d(t,{Lifecycle:()=>o,autoInjectable:()=>L,container:()=>I,delay:()=>v,inject:()=>T,injectAll:()=>D,injectAllWithTransform:()=>M,injectWithTransform:()=>U,injectable:()=>W,instanceCachingFactory:()=>F,instancePerContainerCachingFactory:()=>B,isClassProvider:()=>h,isFactoryProvider:()=>p,isNormalToken:()=>m,isTokenProvider:()=>_,isValueProvider:()=>S,predicateAwareClassFactory:()=>$,registry:()=>N,scoped:()=>G,singleton:()=>A}),function(e){e[e.Transient=0]="Transient",e[e.Singleton=1]="Singleton",e[e.ResolutionScoped=2]="ResolutionScoped",e[e.ContainerScoped=3]="ContainerScoped"}(i||(i={}));const o=i;var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function s(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function a(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(c(arguments[t]));return e}var u="injectionTokens";function d(e){var t=Reflect.getMetadata("design:paramtypes",e)||[],n=Reflect.getOwnMetadata(u,e)||{};return Object.keys(n).forEach((function(e){t[+e]=n[e]})),t}function f(e,t){return function(n,i,o){var r=Reflect.getOwnMetadata(u,n)||{};r[o]=t?{token:e,transform:t.transformToken,transformArgs:t.args||[]}:e,Reflect.defineMetadata(u,r,n)}}function h(e){return!!e.useClass}function p(e){return!!e.useFactory}var g=function(){function e(e){this.wrap=e,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return e.prototype.createProxy=function(e){var t,n=this,i=!1;return new Proxy({},this.createHandler((function(){return i||(t=e(n.wrap()),i=!0),t})))},e.prototype.createHandler=function(e){var t={};return this.reflectMethods.forEach((function(n){t[n]=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];return t[0]=e(),Reflect[n].apply(void 0,l(t))}})),t},e}();function v(e){if(void 0===e)throw new Error("Attempt to `delay` undefined. Constructor must be wrapped in a callback");return new g(e)}function m(e){return"string"==typeof e||"symbol"==typeof e}function y(e){return"object"==typeof e&&"token"in e&&"multiple"in e}function w(e){return"object"==typeof e&&"token"in e&&"transform"in e}function _(e){return!!e.useToken}function S(e){return null!=e.useValue}const b=function(){function e(){this._registryMap=new Map}return e.prototype.entries=function(){return this._registryMap.entries()},e.prototype.getAll=function(e){return this.ensure(e),this._registryMap.get(e)},e.prototype.get=function(e){this.ensure(e);var t=this._registryMap.get(e);return t[t.length-1]||null},e.prototype.set=function(e,t){this.ensure(e),this._registryMap.get(e).push(t)},e.prototype.setAll=function(e,t){this._registryMap.set(e,t)},e.prototype.has=function(e){return this.ensure(e),this._registryMap.get(e).length>0},e.prototype.clear=function(){this._registryMap.clear()},e.prototype.ensure=function(e){this._registryMap.has(e)||this._registryMap.set(e,[])},e}(),O=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t}(b),R=function(){this.scopedResolutions=new Map};function C(e,t,n){var i,o,r,s,a=c(e.toString().match(/constructor\(([\w, ]+)\)/)||[],2)[1];return i="Cannot inject the dependency "+(s=t,null===(r=void 0===a?null:a)?"at position #"+s:'"'+r.split(",")[s].trim()+'" at position #'+s)+' of "'+e.name+'" constructor. Reason:',void 0===o&&(o="    "),l([i],n.message.split("\n").map((function(e){return o+e}))).join("\n")}var P=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t}(b),E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t}(b);const x=function(){this.preResolution=new P,this.postResolution=new E};var k=new Map,j=function(){function e(e){this.parent=e,this._registry=new O,this.interceptors=new x,this.disposed=!1,this.disposables=new Set}return e.prototype.register=function(e,t,n){var i;if(void 0===n&&(n={lifecycle:o.Transient}),this.ensureNotDisposed(),i=function(e){return h(e)||S(e)||_(e)||p(e)}(t)?t:{useClass:t},_(i))for(var r=[e],s=i;null!=s;){var a=s.useToken;if(r.includes(a))throw new Error("Token registration cycle detected! "+l(r,[a]).join(" -> "));r.push(a);var c=this._registry.get(a);s=c&&_(c.provider)?c.provider:null}if((n.lifecycle===o.Singleton||n.lifecycle==o.ContainerScoped||n.lifecycle==o.ResolutionScoped)&&(S(i)||p(i)))throw new Error('Cannot use lifecycle "'+o[n.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(e,{provider:i,options:n}),this},e.prototype.registerType=function(e,t){return this.ensureNotDisposed(),m(t)?this.register(e,{useToken:t}):this.register(e,{useClass:t})},e.prototype.registerInstance=function(e,t){return this.ensureNotDisposed(),this.register(e,{useValue:t})},e.prototype.registerSingleton=function(e,t){if(this.ensureNotDisposed(),m(e)){if(m(t))return this.register(e,{useToken:t},{lifecycle:o.Singleton});if(t)return this.register(e,{useClass:t},{lifecycle:o.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}var n=e;return t&&!m(t)&&(n=t),this.register(e,{useClass:n},{lifecycle:o.Singleton})},e.prototype.resolve=function(e,t){void 0===t&&(t=new R),this.ensureNotDisposed();var n=this.getRegistration(e);if(!n&&m(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"Single"),n){var i=this.resolveRegistration(n,t);return this.executePostResolutionInterceptor(e,i,"Single"),i}if(function(e){return"function"==typeof e||e instanceof g}(e))return i=this.construct(e,t),this.executePostResolutionInterceptor(e,i,"Single"),i;throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},e.prototype.executePreResolutionInterceptor=function(e,t){var n,i;if(this.interceptors.preResolution.has(e)){var o=[];try{for(var r=a(this.interceptors.preResolution.getAll(e)),s=r.next();!s.done;s=r.next()){var c=s.value;"Once"!=c.options.frequency&&o.push(c),c.callback(e,t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}this.interceptors.preResolution.setAll(e,o)}},e.prototype.executePostResolutionInterceptor=function(e,t,n){var i,o;if(this.interceptors.postResolution.has(e)){var r=[];try{for(var s=a(this.interceptors.postResolution.getAll(e)),c=s.next();!c.done;c=s.next()){var l=c.value;"Once"!=l.options.frequency&&r.push(l),l.callback(e,t,n)}}catch(e){i={error:e}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}this.interceptors.postResolution.setAll(e,r)}},e.prototype.resolveRegistration=function(e,t){if(this.ensureNotDisposed(),e.options.lifecycle===o.ResolutionScoped&&t.scopedResolutions.has(e))return t.scopedResolutions.get(e);var n,i=e.options.lifecycle===o.Singleton,r=e.options.lifecycle===o.ContainerScoped,s=i||r;return n=S(e.provider)?e.provider.useValue:_(e.provider)?s?e.instance||(e.instance=this.resolve(e.provider.useToken,t)):this.resolve(e.provider.useToken,t):h(e.provider)?s?e.instance||(e.instance=this.construct(e.provider.useClass,t)):this.construct(e.provider.useClass,t):p(e.provider)?e.provider.useFactory(this):this.construct(e.provider,t),e.options.lifecycle===o.ResolutionScoped&&t.scopedResolutions.set(e,n),n},e.prototype.resolveAll=function(e,t){var n=this;void 0===t&&(t=new R),this.ensureNotDisposed();var i=this.getAllRegistrations(e);if(!i&&m(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"All"),i){var o=i.map((function(e){return n.resolveRegistration(e,t)}));return this.executePostResolutionInterceptor(e,o,"All"),o}var r=[this.construct(e,t)];return this.executePostResolutionInterceptor(e,r,"All"),r},e.prototype.isRegistered=function(e,t){return void 0===t&&(t=!1),this.ensureNotDisposed(),this._registry.has(e)||t&&(this.parent||!1)&&this.parent.isRegistered(e,!0)},e.prototype.reset=function(){this.ensureNotDisposed(),this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},e.prototype.clearInstances=function(){var e,t;this.ensureNotDisposed();try{for(var n=a(this._registry.entries()),i=n.next();!i.done;i=n.next()){var o=c(i.value,2),r=o[0],s=o[1];this._registry.setAll(r,s.filter((function(e){return!S(e.provider)})).map((function(e){return e.instance=void 0,e})))}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},e.prototype.createChildContainer=function(){var t,n;this.ensureNotDisposed();var i=new e(this);try{for(var r=a(this._registry.entries()),s=r.next();!s.done;s=r.next()){var l=c(s.value,2),u=l[0],d=l[1];d.some((function(e){return e.options.lifecycle===o.ContainerScoped}))&&i._registry.setAll(u,d.map((function(e){return e.options.lifecycle===o.ContainerScoped?{provider:e.provider,options:e.options}:e})))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return i},e.prototype.beforeResolution=function(e,t,n){void 0===n&&(n={frequency:"Always"}),this.interceptors.preResolution.set(e,{callback:t,options:n})},e.prototype.afterResolution=function(e,t,n){void 0===n&&(n={frequency:"Always"}),this.interceptors.postResolution.set(e,{callback:t,options:n})},e.prototype.dispose=function(){return e=this,t=void 0,i=function(){var e;return function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=2&r[0]?i.return:r[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}}(this,(function(t){switch(t.label){case 0:return this.disposed=!0,e=[],this.disposables.forEach((function(t){var n=t.dispose();n&&e.push(n)})),[4,Promise.all(e)];case 1:return t.sent(),[2]}}))},new((n=void 0)||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}));var e,t,n,i},e.prototype.getRegistration=function(e){return this.isRegistered(e)?this._registry.get(e):this.parent?this.parent.getRegistration(e):null},e.prototype.getAllRegistrations=function(e){return this.isRegistered(e)?this._registry.getAll(e):this.parent?this.parent.getAllRegistrations(e):null},e.prototype.construct=function(e,t){var n=this;if(e instanceof g)return e.createProxy((function(e){return n.resolve(e,t)}));var i,o=function(){var i=k.get(e);if(!i||0===i.length){if(0===e.length)return new e;throw new Error('TypeInfo not known for "'+e.name+'"')}var o=i.map(n.resolveParams(t,e));return new(e.bind.apply(e,l([void 0],o)))}();return"function"!=typeof(i=o).dispose||i.dispose.length>0||this.disposables.add(o),o},e.prototype.resolveParams=function(e,t){var n=this;return function(i,o){var r,s,a;try{return y(i)?w(i)?i.multiple?(r=n.resolve(i.transform)).transform.apply(r,l([n.resolveAll(i.token)],i.transformArgs)):(s=n.resolve(i.transform)).transform.apply(s,l([n.resolve(i.token,e)],i.transformArgs)):i.multiple?n.resolveAll(i.token):n.resolve(i.token,e):w(i)?(a=n.resolve(i.transform,e)).transform.apply(a,l([n.resolve(i.token,e)],i.transformArgs)):n.resolve(i,e)}catch(e){throw new Error(C(t,o,e))}}},e.prototype.ensureNotDisposed=function(){if(this.disposed)throw new Error("This container has been disposed, you cannot interact with a disposed container")},e}(),I=new j;const L=function(){return function(e){var t=d(e);return function(n){function i(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return n.apply(this,l(i.concat(t.slice(i.length).map((function(t,n){var o,r,s;try{return y(t)?w(t)?t.multiple?(o=I.resolve(t.transform)).transform.apply(o,l([I.resolveAll(t.token)],t.transformArgs)):(r=I.resolve(t.transform)).transform.apply(r,l([I.resolve(t.token)],t.transformArgs)):t.multiple?I.resolveAll(t.token):I.resolve(t.token):w(t)?(s=I.resolve(t.transform)).transform.apply(s,l([I.resolve(t.token)],t.transformArgs)):I.resolve(t)}catch(t){var a=n+i.length;throw new Error(C(e,a,t))}})))))||this}return s(i,n),i}(e)}},T=function(e){return f(e)},W=function(){return function(e){k.set(e,d(e))}},N=function(e){return void 0===e&&(e=[]),function(t){return e.forEach((function(e){var t=e.token,n=e.options,i=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]])}return n}(e,["token","options"]);return I.register(t,i,n)})),t}},A=function(){return function(e){W()(e),I.registerSingleton(e)}},D=function(e){return f({token:e,multiple:!0})},M=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return f({token:e,multiple:!0,transform:t,transformArgs:n})},U=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return f(e,{transformToken:t,args:n})};function G(e,t){return function(n){W()(n),I.register(t||n,n,{lifecycle:e})}}function F(e){var t;return function(n){return null==t&&(t=e(n)),t}}function B(e){var t=new WeakMap;return function(n){var i=t.get(n);return null==i&&(i=e(n),t.set(n,i)),i}}function $(e,t,n,i){var o,r;return void 0===i&&(i=!0),function(s){var a=e(s);return i&&r===a||(o=(r=a)?s.resolve(t):s.resolve(n)),o}}if("undefined"==typeof Reflect||!Reflect.getMetadata)throw new Error("tsyringe requires a reflect polyfill. Please add 'import \"reflect-metadata\"' to the top of your entry point.")},7797:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CATEGORY_LOG_CONTROL:()=>x,CategoryProvider:()=>k});class i extends Map{computeIfAbsent(e,t){if(this.has(e))return this.get(e);const n=t(e);return this.set(e,n),n}computeIfPresent(e,t){const n=this.get(e);if(void 0===n)return;const i=t(e,n);return void 0!==i?this.set(e,i):this.delete(e),i}compute(e,t){const n=t(e,this.get(e));return n?this.set(e,n):this.delete(e),n}}var o;function r(e){return l.getLogger(e)}!function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Info=2]="Info",e[e.Warn=3]="Warn",e[e.Error=4]="Error"}(o||(o={}));const s={setInternalLogLevel:e=>l.changeLogLevel(e),setOutput:e=>l.changeOutput(e),reset:()=>l.reset()};class a{constructor(e,t,n){this._name=e,this._level=t,this._fnOutput=n}trace(e){this.log(o.Trace,e)}debug(e){this.log(o.Debug,e)}error(e,t){this.log(o.Error,e,t)}info(e){this.log(o.Info,e)}warn(e,t){this.log(o.Warn,e,t)}setLevel(e){this._level=e}setOutput(e){this._fnOutput=e}log(e,t,n){this._level>e||this._fnOutput(`${o[this._level].toString()} <INTERNAL LOGGER> ${this._name} ${t()}${n?"\n"+n.stack:""}`)}}class c{constructor(){this._loggers=new i,this._logLevel=o.Error,this._fnOutput=c.logConsole}getLogger(e){return this._loggers.computeIfAbsent(e,(e=>new a(e,this._logLevel,this._fnOutput)))}changeLogLevel(e){this._logLevel=e,this._loggers.forEach((t=>t.setLevel(e)))}changeOutput(e){this._fnOutput=e,this._loggers.forEach((e=>e.setOutput(this._fnOutput)))}reset(){this.changeLogLevel(o.Error),this._fnOutput=c.logConsole,this._loggers.forEach((e=>e.setOutput(this._fnOutput)))}static logConsole(e){console&&console.log&&console.log(e)}}const l=new c;var u,d,f=Object.freeze({__proto__:null,INTERNAL_LOGGING_SETTINGS:s,get InternalLogLevel(){return o},getInternalLogger:r});!function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Info=2]="Info",e[e.Warn=3]="Warn",e[e.Error=4]="Error",e[e.Fatal=5]="Fatal",e[e.Off=6]="Off"}(u||(u={})),function(e){e.toLogLevel=function(t){switch(t.toLowerCase()){case"trace":return e.Trace;case"debug":return e.Debug;case"info":return e.Info;case"warn":return e.Warn;case"error":return e.Error;case"fatal":return e.Fatal;case"off":return e.Off;default:return}}}(u||(u={}));class h{constructor(e){this._runtime=e}get id(){return this._runtime.id}get logLevel(){return this._runtime.level}get runtimeSettings(){return Object.assign({},this._runtime)}set runtimeSettings(e){this._runtime=e}trace(e,...t){this.logMessage(u.Trace,e,t)}debug(e,...t){this.logMessage(u.Debug,e,t)}info(e,...t){this.logMessage(u.Info,e,t)}warn(e,...t){this.logMessage(u.Warn,e,t)}error(e,...t){this.logMessage(u.Error,e,t)}fatal(e,...t){this.logMessage(u.Fatal,e,t)}logMessage(e,t,n){if(this._runtime.level>e)return;const i=Date.now(),o="string"==typeof t?t:t(),r=h.getErrorAndArgs(n);switch(this._runtime.channel.type){case"RawLogChannel":return void this._runtime.channel.write({message:o,exception:r.error,args:r.args,timeInMillis:i,level:e,logNames:this._runtime.name},this._runtime.argumentFormatter);case"LogChannel":this._runtime.channel.write(this.createLogMessage(o,e,r,i))}}formatArgValue(e){try{return this._runtime.argumentFormatter(e)}catch(t){return`>>ARG CONVERT FAILED: '${void 0!==e?e.toString():"undefined"}'<<`}}createLogMessage(e,t,n,i){let o;const r=n.error,s=n.args;r&&(o=`${r.name}: ${r.message}`,r.stack&&(o+=`@\n${r.stack}`));const a=this._runtime.dateFormatter(i);let c=u[t].toUpperCase();return c.length<5&&(c+=" "),{message:a+" "+c+" ["+("string"==typeof this._runtime.name?this._runtime.name:this._runtime.name.join(", "))+"] "+e+(void 0!==s&&s.length>0?" ["+s.map((e=>this.formatArgValue(e))).join(", ")+"]":""),error:o}}static getErrorAndArgs(e){if(0===e.length)return{};let t,n;const i=e[0];if(i instanceof Error)return t=i,n=e.length>1?e.slice(1):void 0,{error:t,args:n};if("function"==typeof i){const o=i();return o instanceof Error?(t=o,n=e.length>1?e.slice(1):void 0,{error:t,args:n}):1===e.length?Array.isArray(o)?{args:o.length>0?o:void 0}:{args:o}:Array.isArray(o)?{args:[...o,...e.slice(1)]}:{args:[o,...e.slice(1)]}}return{args:e}}}function p(e,t,n=" "){return g(e,t,"start",n)}function g(e,t,n,i=" "){if(t<=e.length)return e;if(i.length>1)throw new Error(`Fill char must be one char exactly, it is: ${i.length}`);const o=t-e.length;let r="";for(let e=0;e<o;e++)r+=i;return"start"===n?r+e:e+r}function v(e){return void 0===e?"undefined":JSON.stringify(e)}function m(e){const t=new Date(e);return`${t.getFullYear()}-${p((t.getMonth()+1).toString(),2,"0")}-${p(t.getDate().toString(),2,"0")} ${p(t.getHours().toString(),2,"0")}:${p(t.getMinutes().toString(),2,"0")}:${p(t.getSeconds().toString(),2,"0")},${p(t.getMilliseconds().toString(),3,"0")}`}class y{constructor(){this.type="LogChannel"}write(e){console&&console.log&&console.log(e.message+(e.error?`\n${e.error}`:""))}}!function(e){e.createConsoleChannel=function(){return new y}}(d||(d={}));class w{constructor(e,t){this._log=r("core.impl.LogProviderImpl"),this._name=e,this._settings=t,this._loggers=new i,this._idToKeyMap=new i,this._globalRuntimeSettings={level:t.level,channel:t.channel},this._nextLoggerId=1,this._log.trace((()=>`Created LogProviderImpl with settings: ${JSON.stringify(this._settings)}`))}get runtimeSettings(){return Object.assign(Object.assign({},this._settings),{level:this._globalRuntimeSettings.level,channel:this._globalRuntimeSettings.channel})}getLogger(e){return this.getOrCreateLogger(e)}updateLoggerRuntime(e,t){this._log.debug((()=>`Updating logger ${e.id} runtime settings using: '${JSON.stringify(t)}'`));const n=this._idToKeyMap.get(e.id);return void 0===n?(this._log.warn((()=>`Cannot update logger with id: ${e.id}, it was not found.`)),!1):(this._loggers.computeIfPresent(n,((e,n)=>(n.runtimeSettings=w.mergeRuntimeSettingsIntoLogRuntime(n.runtimeSettings,t),n))),!0)}updateRuntimeSettings(e){this._log.debug((()=>`Updating global runtime settings and updating existing loggers runtime settings using: '${JSON.stringify(e)}'`)),this._globalRuntimeSettings={level:void 0!==e.level?e.level:this._globalRuntimeSettings.level,channel:void 0!==e.channel?e.channel:this._globalRuntimeSettings.channel},this._loggers.forEach((t=>t.runtimeSettings=w.mergeRuntimeSettingsIntoLogRuntime(t.runtimeSettings,e)))}clear(){this._loggers.clear(),this._idToKeyMap.clear(),this._globalRuntimeSettings=Object.assign({},this._settings),this._nextLoggerId=1}getOrCreateLogger(e){const t=w.createKey(e),n=this._loggers.computeIfAbsent(t,(()=>{const t={level:this._globalRuntimeSettings.level,channel:this._globalRuntimeSettings.channel,id:this.nextLoggerId(),name:e,argumentFormatter:this._settings.argumentFormatter,dateFormatter:this._settings.dateFormatter};return new h(t)}));return this._idToKeyMap.computeIfAbsent(n.id,(()=>t)),n}nextLoggerId(){const e=this._name+"_"+this._nextLoggerId;return this._nextLoggerId++,e}static mergeRuntimeSettingsIntoLogRuntime(e,t){return Object.assign(Object.assign({},e),{level:void 0!==t.level?t.level:e.level,channel:void 0!==t.channel?t.channel:e.channel})}static createKey(e){return"string"==typeof e?e:e.join(",")}}var _=Object.freeze({__proto__:null,EnhancedMap:i,maxLengthStringValueInArray:function(e){return e.map((e=>e.length)).reduce(((e,t)=>t>e?t:e),0)},padEnd:function(e,t,n=" "){return g(e,t,"end",n)},padStart:p});class S{constructor(e,t,n,i){this._children=[],this._logger=e,this._name=t,this._parent=n,this._fnGetOrCreateChildCategory=i}get name(){return this._name}get parent(){return this._parent}get path(){const e=[];let t=this;for(;void 0!==t;)e.push(t.name),t=t.parent;return e.reverse()}get children(){return[...this._children]}addChild(e){if(e.parent!==this)throw new Error(`Cannot add child '${e.name}', expected parent '${this._name} but got ${e.parent?e.parent.name:"undefined"}'`);this._children.push(e)}getChildCategory(e){const t=this._children.find((t=>t.name===e));return void 0!==t?t:this._fnGetOrCreateChildCategory(e,this)}get id(){return this._logger.id}get logLevel(){return this._logger.logLevel}get runtimeSettings(){return this._logger.runtimeSettings}get logger(){return this._logger}trace(e,...t){this._logger.trace(e,...t)}debug(e,...t){this._logger.debug(e,...t)}info(e,...t){this._logger.info(e,...t)}warn(e,...t){this._logger.warn(e,...t)}error(e,...t){this._logger.error(e,...t)}fatal(e,...t){this._logger.fatal(e,...t)}}const b="#";class O{constructor(e,t){this._name=e,this._initialConfig=t,this._categoryStorage=new R(e,t)}get name(){return this._name}get config(){return this._initialConfig}get runtimeConfig(){return this._categoryStorage.getCurrentRuntimeConfig()}getCategory(e,t){return this._categoryStorage.getOrCreateCategory(e,t)}updateRuntimeSettingsCategory(e,t){this._categoryStorage.updateRuntimeSettingsCategory(e,t)}updateRuntimeSettings(e){this._categoryStorage.updateRuntimeSettings(e)}getRegisteredCategories(){return this._categoryStorage.getRegisteredCategories()}getCategoryByPath(e){return this._categoryStorage.getCategoryByPath(e)}}class R{constructor(e,t){var n,i;this._categoriesById=new Map,this._categoriesByPath=new Map,this._categoryProviderName=e,this._allowSameCategoryName=t.allowSameCategoryName,this._logProvider=(n=e,i=Object.assign({},t),new w(n,i)),this.getOrCreateCategory=this.getOrCreateCategory.bind(this)}getOrCreateCategory(e,t){if(-1!==e.indexOf(b))throw new Error(`Cannot create category '${e}', name cannot contain a '${b}'.`);const n=void 0!==t?this.getParentCategory(t):void 0;return void 0===n?this.getOrCreateRootCategory(e):this.getOrCreateChildCategory(e,n)}updateRuntimeSettingsCategory(e,t){if(!e.id.startsWith(this._categoryProviderName))throw new Error(`Category '${e.name}' with LogId '${e.id}' is from a different CategoryProvider, cannot mix categories between providers.`);const n=this._categoriesById.get(e.id);void 0!==n&&(this._logProvider.updateLoggerRuntime(n.logger,{level:t.level}),void 0!==t.disableRecursion&&t.disableRecursion||n.children.forEach((e=>this.updateRuntimeSettingsCategory(e,t))))}updateRuntimeSettings(e){this._logProvider.updateRuntimeSettings(e)}getCurrentRuntimeConfig(){return Object.assign(Object.assign({},this._logProvider.runtimeSettings),{allowSameCategoryName:this._allowSameCategoryName})}getRegisteredCategories(){return[...this._categoriesById.values()]}getCategoryByPath(e){return this._categoriesByPath.get(e)}getParentCategory(e){let t;if(R.isLogId(e)){if(t=this._categoriesById.get(e),void 0===t)throw new Error(`Parent category was not found by LogId '${e}'. Are you sure you passed in the correct argument?`)}else if(t=this._categoriesById.get(e.id),void 0===t)throw new Error(`Parent category '${e.name}' was not found by it's LogId '${e.id}'. Are you sure you passed in the correct parent category?`);return t}getOrCreateRootCategory(e){const t=this._categoriesByPath.get(e);if(t){if(!this._allowSameCategoryName)throw new Error(`Category '${e} already exists, config flag allowSameCategoryName=false - therefore matching version 1 behavior (hence this Error)`);return t}const n=this._logProvider.getLogger(e),i=new S(n,e,void 0,this.getOrCreateCategory);return this._categoriesById.set(i.id,i),this._categoriesByPath.set(e,i),i}getOrCreateChildCategory(e,t){if(!t.id.startsWith(this._categoryProviderName))throw new Error(`Parent category '${t.name}' with LogId '${t.id}' is from a different CategoryProvider, cannot mix categories between providers.`);const n=[...t.path,e].join(b),i=this._categoriesByPath.get(n);if(i){if(!this._allowSameCategoryName)throw new Error(`Child category '${e} already exists for parent category ${t.name}, config flag allowSameCategoryName=false - therefore matching version 1 behavior (hence this Error)`);return i}const o=this._logProvider.getLogger(n);this._logProvider.updateLoggerRuntime(o,{level:t.logger.runtimeSettings.level,channel:t.logger.runtimeSettings.channel});const r=new S(o,e,t,this.getOrCreateCategory);return this._categoriesById.set(r.id,r),this._categoriesByPath.set(r.path.join(b),r),t.addChild(r),r}static isLogId(e){return"string"==typeof e}}class C{constructor(e,t){this._provider=e,this._messageChannel=t,this._originalLogLevels=C.loadCurrentGroupLogLevels(e)}get name(){return this._provider.name}showSettings(){let e=`Available categories (CategoryProvider '${this._provider.name}'):\n`;const t=this.createCategoryInfoHierarchy(),n=t.size.toString().length,i=_.maxLengthStringValueInArray([...t.values()].map((e=>e.category.name+" ".repeat(e.depth)))),o=[...t.values()].map(((e,t)=>C.createSettingLineCategory(e,t,n,i)));e+=o.join("\n")+(o.length>0?"\n":""),this._messageChannel(e)}help(){const e=`You can use the following commands (CategoryProvider ${this._provider.name}):\n  showSettings()\n    Shows the current configuration settings.\n  update(level: CategoryControlProviderLogLevel, categoryId?: number | string, noRecurse?: boolean)\n    Change the log level for a category (by default recursively).\n      @param level      The log level to set - must be one of 'trace', 'debug', 'info', 'warn', 'error' or 'fatal'\n      @param categoryId The category id or path of a category (e.g. root#child1) to update. Use showSettings() for id and/or name.\n                        When omitted, it applies the level to all categories recursively.\n  reset()\n    Resets the log levels of the config groups back to when this control provider was created.\n  save()\n    Saves the current log levels for all categories of this provider. Use restore() to load last saved state.\n  restore()\n    Restore stored saved state, if any. Log levels will be set according to the saved state.\n  help()\n    Shows this help.\n`;this._messageChannel(e)}reset(){const e=new Map(this._provider.getRegisteredCategories().map((e=>[e.id,e])));this._originalLogLevels.forEach(((t,n)=>{const i=e.get(n);void 0!==i&&this._provider.updateRuntimeSettingsCategory(i,{level:t,disableRecursion:!0}),e.delete(n)})),e.forEach((e=>{void 0!==e.parent&&this._provider.updateRuntimeSettingsCategory(e,{level:e.parent.logLevel,disableRecursion:!0})})),this._originalLogLevels=C.loadCurrentGroupLogLevels(this._provider),this._messageChannel("Successfully reset log levels back to original state (from when this CategoryControlProvider was created).")}save(){if(!localStorage)return void this._messageChannel("Cannot save state, localStorage is not available.");const e=this._provider.getRegisteredCategories().filter((e=>void 0===e.parent)).map((e=>C.createCategorySaveData(e))),t={name:this._provider.name,rootCategories:e};localStorage.setItem(this.createKey(),JSON.stringify(t)),this._messageChannel(`Successfully saved state for CategoryControlProvider '${this._provider.name}'.`)}restore(e){const t=void 0===e||e;if(!localStorage)return void(t&&this._messageChannel(`Will not attempt to restore state for CategoryControlProvider '${this._provider.name}', localStorage is not available.`));const n=this.createKey(),i=localStorage.getItem(n);if(null!==i)try{const e=JSON.parse(i);if(this._provider.name!==e.name)return void(t&&this._messageChannel(`Cannot restore state for CategoryControlProvider '${this._provider.name}', data is not for provider - found name '${e.name}'.`));this.restoreBySaveData(e,t),this._messageChannel(`Successfully restored state for CategoryControlProvider '${this._provider.name}'`),this._originalLogLevels=C.loadCurrentGroupLogLevels(this._provider)}catch(e){localStorage.removeItem(n),this._messageChannel(`Cannot restore state for CategoryControlProvider '${this._provider.name}', data is not valid. Invalid data removed from localStorage.`)}else t&&this._messageChannel(`Cannot restore state for CategoryControlProvider '${this._provider.name}', no data available.`)}update(e,t,n){void 0===t?this.updateAll(e):"number"==typeof t?this.updateByIndex(e,t,void 0!==n&&n):this.updateByPath(e,t,void 0!==n&&n)}updateAll(e){const t=u.toLogLevel(e);this._provider.getRegisteredCategories().filter((e=>void 0===e.parent)).forEach((e=>this._provider.updateRuntimeSettingsCategory(e,{level:t}))),this._messageChannel(`Updated all categories to use log level '${e.toLowerCase()}'`)}updateByPath(e,t,n){const i=this._provider.getCategoryByPath(t);void 0!==i?(this._provider.updateRuntimeSettingsCategory(i,{level:u.toLogLevel(e),disableRecursion:n}),this._messageChannel(`Successfully updated category '${i.name}' with path '${t}' to log level '${e.toLowerCase()}'${n?"":" and recursively applied to children (if any)"}.`)):this._messageChannel(`Failed to find a provider by path '${t}', please make sure to separate the parts by a ${b}.`)}updateByIndex(e,t,n){if(t<0)return void this._messageChannel(`Cannot update category by index '${t}', it is negative.`);const i=this.createCategoryInfoHierarchy();if(t>=i.size)return void this._messageChannel(`Cannot update category by index '${t}', it is outside of the range of available categories, use showSettings() to see the indices.`);const o=[...i.values()][t].category;this._provider.updateRuntimeSettingsCategory(o,{level:u.toLogLevel(e),disableRecursion:n}),this._messageChannel(`Successfully updated category '${o.name}' by index '${t}' to log level '${e.toLowerCase()}'${n?"":" and recursively applied to children (if any)"}.`)}restoreBySaveData(e,t){const n=(e,i)=>{const o=i.length>0?i+b+e.name:e.name,r=this._provider.getCategoryByPath(o);if(void 0!==r){const i=u.toLogLevel(e.level);void 0!==i?this._provider.updateRuntimeSettingsCategory(r,{level:i,disableRecursion:!0}):t&&this._messageChannel(`CategoryControlProvider '${this._provider.name}' - cannot restore log level for category path '${o}', log level is invalid.`);for(const t of e.children)n(t,o)}else t&&this._messageChannel(`CategoryControlProvider '${this._provider.name}' - failed to find a Category by path '${o}', will not restore category (and children)`)};for(const t of e.rootCategories)n(t,"")}createKey(){return`CategoryProvider-${this._provider.name}`}createCategoryInfoHierarchy(){const e=new Map;return this._provider.getRegisteredCategories().filter((e=>void 0===e.parent)).forEach((t=>C.addCategoryInfoHierarchy(t,0,e))),e}static createCategorySaveData(e){return{name:e.name,level:u[e.logLevel],children:e.children.map((e=>this.createCategorySaveData(e)))}}static loadCurrentGroupLogLevels(e){return new Map(e.getRegisteredCategories().map((e=>[e.id,e.logLevel])))}static createSettingLineCategory(e,t,n,i){const o=" ".repeat(e.depth)+e.category.name;return`  [${_.padStart(t.toString(),n)}, ${_.padEnd(o,i)} (level=${_.padEnd(e.logLevel,5)})]`}static addCategoryInfoHierarchy(e,t,n){n.set(e.id,{category:e,logLevel:u[e.logLevel],depth:t}),e.children.forEach((e=>this.addCategoryInfoHierarchy(e,t+1,n)))}}class P{constructor(){this._log=f.getInternalLogger("category.impl.CategoryProviderService"),this._providers=new _.EnhancedMap}createLogProvider(e,t){const n=this._providers.compute(e,((n,i)=>{if(i)throw new Error(`CategoryProvider with name '${e}' already exists, cannot create another.`);const o=function(e){const t={channel:d.createConsoleChannel(),allowSameCategoryName:!0,level:u.Error,dateFormatter:m,argumentFormatter:v};return e?{channel:e.channel?e.channel:t.channel,allowSameCategoryName:void 0!==e.allowSameCategoryName?e.allowSameCategoryName:t.allowSameCategoryName,level:void 0!==e.level?e.level:t.level,dateFormatter:e.dateFormatter?e.dateFormatter:t.dateFormatter,argumentFormatter:e.argumentFormatter?e.argumentFormatter:t.argumentFormatter}:t}(t);return this._log.debug((()=>`Creating new CategoryProvider with name '${e}', using config settings '${function(e){return`CategoryConfig=level: ${u[e.level].toString()}, allowSameCategoryName=${e.allowSameCategoryName}`}(o)}'.`)),new O(e,o)}));if(n)return n;throw new Error("No CategoryProvider? This is a bug.")}getCategoryControl(e){const t=e||(e=>{if(!console||!console.log)throw new Error("Cannot use console (it is not present), please specify a custom function to write to.");console.log(e)});return{help:()=>t(P.help()),showSettings:()=>t(this.showSettings()),getProvider:e=>this.getCategoryControlProviderByIdOrName(e,t)}}clear(){this._providers.clear()}showSettings(){let e="Available CategoryProviders:\n";const t=this._providers.size.toString().length,n=_.maxLengthStringValueInArray([...this._providers.keys()]),i=[...this._providers.entries()].map(((e,i)=>{const o=e[0];return`  [${_.padStart(i.toString(),t)}, ${_.padEnd(o,n)}]`}));return e+=i.join("\n")+(i.length>0?"\n":""),e}getCategoryControlProviderByIdOrName(e,t){if("string"==typeof e){const n=this._providers.get(e);if(void 0===n)throw new Error(`Provider with name '${e}' does not exist.`);return new C(n,t)}const n=[...this._providers.values()];if(e<0||e>=n.length)throw new Error(`Provider with index '${e}' does not exist (outside of range).`);return new C(n[e],t)}static help(){return"You can use the following commands:\n  showSettings()\n    Shows the current configuration settings.\n  getProvider: (id: number | string): CategoryControlProvider\n    Get access to a CategoryControlProvider to change log levels.\n      @param id The id (use showSettings to see) or name of the provider\n  help()\n    Shows this help.\n"}}const E=new P,x=e=>E.getCategoryControl(e);var k;!function(e){e.createProvider=function(e,t){return E.createLogProvider(e,t)},e.clear=function(){E.clear()}}(k||(k={}))},3461:(e,t,n)=>{"use strict";n.r(t),n.d(t,{$internal:()=>f,$test:()=>b,DefaultChannels:()=>d,LogLevel:()=>u,createLogProvider:()=>_,formatArgument:()=>v,formatDate:()=>m,util:()=>S});class i extends Map{computeIfAbsent(e,t){if(this.has(e))return this.get(e);const n=t(e);return this.set(e,n),n}computeIfPresent(e,t){const n=this.get(e);if(void 0===n)return;const i=t(e,n);return void 0!==i?this.set(e,i):this.delete(e),i}compute(e,t){const n=t(e,this.get(e));return n?this.set(e,n):this.delete(e),n}}var o;function r(e){return l.getLogger(e)}!function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Info=2]="Info",e[e.Warn=3]="Warn",e[e.Error=4]="Error"}(o||(o={}));const s={setInternalLogLevel:e=>l.changeLogLevel(e),setOutput:e=>l.changeOutput(e),reset:()=>l.reset()};class a{constructor(e,t,n){this._name=e,this._level=t,this._fnOutput=n}trace(e){this.log(o.Trace,e)}debug(e){this.log(o.Debug,e)}error(e,t){this.log(o.Error,e,t)}info(e){this.log(o.Info,e)}warn(e,t){this.log(o.Warn,e,t)}setLevel(e){this._level=e}setOutput(e){this._fnOutput=e}log(e,t,n){this._level>e||this._fnOutput(`${o[this._level].toString()} <INTERNAL LOGGER> ${this._name} ${t()}${n?"\n"+n.stack:""}`)}}class c{constructor(){this._loggers=new i,this._logLevel=o.Error,this._fnOutput=c.logConsole}getLogger(e){return this._loggers.computeIfAbsent(e,(e=>new a(e,this._logLevel,this._fnOutput)))}changeLogLevel(e){this._logLevel=e,this._loggers.forEach((t=>t.setLevel(e)))}changeOutput(e){this._fnOutput=e,this._loggers.forEach((e=>e.setOutput(this._fnOutput)))}reset(){this.changeLogLevel(o.Error),this._fnOutput=c.logConsole,this._loggers.forEach((e=>e.setOutput(this._fnOutput)))}static logConsole(e){console&&console.log&&console.log(e)}}const l=new c;var u,d,f=Object.freeze({__proto__:null,INTERNAL_LOGGING_SETTINGS:s,get InternalLogLevel(){return o},getInternalLogger:r});!function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Info=2]="Info",e[e.Warn=3]="Warn",e[e.Error=4]="Error",e[e.Fatal=5]="Fatal",e[e.Off=6]="Off"}(u||(u={})),function(e){e.toLogLevel=function(t){switch(t.toLowerCase()){case"trace":return e.Trace;case"debug":return e.Debug;case"info":return e.Info;case"warn":return e.Warn;case"error":return e.Error;case"fatal":return e.Fatal;case"off":return e.Off;default:return}}}(u||(u={}));class h{constructor(e){this._runtime=e}get id(){return this._runtime.id}get logLevel(){return this._runtime.level}get runtimeSettings(){return Object.assign({},this._runtime)}set runtimeSettings(e){this._runtime=e}trace(e,...t){this.logMessage(u.Trace,e,t)}debug(e,...t){this.logMessage(u.Debug,e,t)}info(e,...t){this.logMessage(u.Info,e,t)}warn(e,...t){this.logMessage(u.Warn,e,t)}error(e,...t){this.logMessage(u.Error,e,t)}fatal(e,...t){this.logMessage(u.Fatal,e,t)}logMessage(e,t,n){if(this._runtime.level>e)return;const i=Date.now(),o="string"==typeof t?t:t(),r=h.getErrorAndArgs(n);switch(this._runtime.channel.type){case"RawLogChannel":return void this._runtime.channel.write({message:o,exception:r.error,args:r.args,timeInMillis:i,level:e,logNames:this._runtime.name},this._runtime.argumentFormatter);case"LogChannel":this._runtime.channel.write(this.createLogMessage(o,e,r,i))}}formatArgValue(e){try{return this._runtime.argumentFormatter(e)}catch(t){return`>>ARG CONVERT FAILED: '${void 0!==e?e.toString():"undefined"}'<<`}}createLogMessage(e,t,n,i){let o;const r=n.error,s=n.args;r&&(o=`${r.name}: ${r.message}`,r.stack&&(o+=`@\n${r.stack}`));const a=this._runtime.dateFormatter(i);let c=u[t].toUpperCase();return c.length<5&&(c+=" "),{message:a+" "+c+" ["+("string"==typeof this._runtime.name?this._runtime.name:this._runtime.name.join(", "))+"] "+e+(void 0!==s&&s.length>0?" ["+s.map((e=>this.formatArgValue(e))).join(", ")+"]":""),error:o}}static getErrorAndArgs(e){if(0===e.length)return{};let t,n;const i=e[0];if(i instanceof Error)return t=i,n=e.length>1?e.slice(1):void 0,{error:t,args:n};if("function"==typeof i){const o=i();return o instanceof Error?(t=o,n=e.length>1?e.slice(1):void 0,{error:t,args:n}):1===e.length?Array.isArray(o)?{args:o.length>0?o:void 0}:{args:o}:Array.isArray(o)?{args:[...o,...e.slice(1)]}:{args:[o,...e.slice(1)]}}return{args:e}}}function p(e,t,n=" "){return g(e,t,"start",n)}function g(e,t,n,i=" "){if(t<=e.length)return e;if(i.length>1)throw new Error(`Fill char must be one char exactly, it is: ${i.length}`);const o=t-e.length;let r="";for(let e=0;e<o;e++)r+=i;return"start"===n?r+e:e+r}function v(e){return void 0===e?"undefined":JSON.stringify(e)}function m(e){const t=new Date(e);return`${t.getFullYear()}-${p((t.getMonth()+1).toString(),2,"0")}-${p(t.getDate().toString(),2,"0")} ${p(t.getHours().toString(),2,"0")}:${p(t.getMinutes().toString(),2,"0")}:${p(t.getSeconds().toString(),2,"0")},${p(t.getMilliseconds().toString(),3,"0")}`}class y{constructor(){this.type="LogChannel"}write(e){console&&console.log&&console.log(e.message+(e.error?`\n${e.error}`:""))}}!function(e){e.createConsoleChannel=function(){return new y}}(d||(d={}));class w{constructor(e,t){this._log=r("core.impl.LogProviderImpl"),this._name=e,this._settings=t,this._loggers=new i,this._idToKeyMap=new i,this._globalRuntimeSettings={level:t.level,channel:t.channel},this._nextLoggerId=1,this._log.trace((()=>`Created LogProviderImpl with settings: ${JSON.stringify(this._settings)}`))}get runtimeSettings(){return Object.assign(Object.assign({},this._settings),{level:this._globalRuntimeSettings.level,channel:this._globalRuntimeSettings.channel})}getLogger(e){return this.getOrCreateLogger(e)}updateLoggerRuntime(e,t){this._log.debug((()=>`Updating logger ${e.id} runtime settings using: '${JSON.stringify(t)}'`));const n=this._idToKeyMap.get(e.id);return void 0===n?(this._log.warn((()=>`Cannot update logger with id: ${e.id}, it was not found.`)),!1):(this._loggers.computeIfPresent(n,((e,n)=>(n.runtimeSettings=w.mergeRuntimeSettingsIntoLogRuntime(n.runtimeSettings,t),n))),!0)}updateRuntimeSettings(e){this._log.debug((()=>`Updating global runtime settings and updating existing loggers runtime settings using: '${JSON.stringify(e)}'`)),this._globalRuntimeSettings={level:void 0!==e.level?e.level:this._globalRuntimeSettings.level,channel:void 0!==e.channel?e.channel:this._globalRuntimeSettings.channel},this._loggers.forEach((t=>t.runtimeSettings=w.mergeRuntimeSettingsIntoLogRuntime(t.runtimeSettings,e)))}clear(){this._loggers.clear(),this._idToKeyMap.clear(),this._globalRuntimeSettings=Object.assign({},this._settings),this._nextLoggerId=1}getOrCreateLogger(e){const t=w.createKey(e),n=this._loggers.computeIfAbsent(t,(()=>{const t={level:this._globalRuntimeSettings.level,channel:this._globalRuntimeSettings.channel,id:this.nextLoggerId(),name:e,argumentFormatter:this._settings.argumentFormatter,dateFormatter:this._settings.dateFormatter};return new h(t)}));return this._idToKeyMap.computeIfAbsent(n.id,(()=>t)),n}nextLoggerId(){const e=this._name+"_"+this._nextLoggerId;return this._nextLoggerId++,e}static mergeRuntimeSettingsIntoLogRuntime(e,t){return Object.assign(Object.assign({},e),{level:void 0!==t.level?t.level:e.level,channel:void 0!==t.channel?t.channel:e.channel})}static createKey(e){return"string"==typeof e?e:e.join(",")}}function _(e,t){return new w(e,t)}var S=Object.freeze({__proto__:null,EnhancedMap:i,maxLengthStringValueInArray:function(e){return e.map((e=>e.length)).reduce(((e,t)=>t>e?t:e),0)},padEnd:function(e,t,n=" "){return g(e,t,"end",n)},padStart:p}),b=Object.freeze({__proto__:null,ArrayLogChannel:class{constructor(){this._buffer=[],this.type="LogChannel"}write(e){this._buffer.push(e)}get logMessages(){return this._buffer}get messages(){return this._buffer.map((e=>e.message))}},ArrayRawLogChannel:class{constructor(){this._buffer=[],this.type="RawLogChannel"}write(e,t){this._buffer.push(e)}get messages(){return this._buffer.map((e=>e.message))}get errors(){return this._buffer.map((e=>e.exception))}get size(){return this._buffer.length}get rawMessages(){return this._buffer}clear(){this._buffer=[]}},TestControlMessage:class{constructor(){this._messages=[],this.write=this.write.bind(this)}get messages(){return this._messages}write(e){this._messages.push(e)}clear(){this._messages=[]}}})},1066:(e,t,n)=>{"use strict";n.r(t),n.d(t,{BrowserClient:()=>Vn,Hub:()=>U,Integrations:()=>Li,SDK_NAME:()=>ki,SDK_VERSION:()=>se,Scope:()=>b,Session:()=>D,Severity:()=>c,Transports:()=>r,addBreadcrumb:()=>X,addGlobalEventProcessor:()=>R,captureEvent:()=>J,captureException:()=>z,captureMessage:()=>K,close:()=>Pi,configureScope:()=>Y,defaultIntegrations:()=>wi,eventFromException:()=>Kt,eventFromMessage:()=>Jt,flush:()=>Ci,forceLoad:()=>Oi,getCurrentHub:()=>B,getHubFromCarrier:()=>H,init:()=>_i,injectReportDialog:()=>Cn,lastEventId:()=>bi,makeMain:()=>F,onLoad:()=>Ri,setContext:()=>Q,setExtra:()=>te,setExtras:()=>Z,setTag:()=>ne,setTags:()=>ee,setUser:()=>ie,showReportDialog:()=>Si,startTransaction:()=>re,withScope:()=>oe,wrap:()=>Ei});var i={};n.r(i),n.d(i,{FunctionToString:()=>Xn,InboundFilters:()=>Kn});var o={};n.r(o),n.d(o,{Breadcrumbs:()=>Gn,Dedupe:()=>fi,GlobalHandlers:()=>oi,LinkedErrors:()=>ui,TryCatch:()=>Zn,UserAgent:()=>yi});var r={};n.r(r),n.d(r,{BaseTransport:()=>gn,FetchTransport:()=>vn,XHRTransport:()=>wn,makeNewFetchTransport:()=>fn,makeNewXHRTransport:()=>yn});var s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},s(e,t)};function a(e,t){function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var c,l=function(){return l=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},l.apply(this,arguments)};function u(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function f(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}!function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"}(c||(c={}));var h=function(){return h=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},h.apply(this,arguments)};function p(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(p(arguments[t]));return e}var v=Object.prototype.toString;function m(e){return function(e,t){return v.call(e)==="[object "+t+"]"}(e,"Object")}function y(e){return Boolean(e&&e.then&&"function"==typeof e.then)}var w=n(6457),_=function(){function e(e){var t=this;this._state=0,this._handlers=[],this._resolve=function(e){t._setResult(1,e)},this._reject=function(e){t._setResult(2,e)},this._setResult=function(e,n){0===t._state&&(y(n)?n.then(t._resolve,t._reject):(t._state=e,t._value=n,t._executeHandlers()))},this._executeHandlers=function(){if(0!==t._state){var e=t._handlers.slice();t._handlers=[],e.forEach((function(e){e[0]||(1===t._state&&e[1](t._value),2===t._state&&e[2](t._value),e[0]=!0)}))}};try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}return e.prototype.then=function(t,n){var i=this;return new e((function(e,o){i._handlers.push([!1,function(n){if(t)try{e(t(n))}catch(e){o(e)}else e(n)},function(t){if(n)try{e(n(t))}catch(e){o(e)}else o(t)}]),i._executeHandlers()}))},e.prototype.catch=function(e){return this.then((function(e){return e}),e)},e.prototype.finally=function(t){var n=this;return new e((function(e,i){var o,r;return n.then((function(e){r=!1,o=e,t&&t()}),(function(e){r=!0,o=e,t&&t()})).then((function(){r?i(o):e(o)}))}))},e}(),S=n(5651),b=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}return e.clone=function(t){var n=new e;return t&&(n._breadcrumbs=g(t._breadcrumbs),n._tags=h({},t._tags),n._extra=h({},t._extra),n._contexts=h({},t._contexts),n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=g(t._eventProcessors),n._requestSession=t._requestSession),n},e.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},e.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},e.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.getRequestSession=function(){return this._requestSession},e.prototype.setRequestSession=function(e){return this._requestSession=e,this},e.prototype.setTags=function(e){return this._tags=h(h({},this._tags),e),this._notifyScopeListeners(),this},e.prototype.setTag=function(e,t){var n;return this._tags=h(h({},this._tags),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(e){return this._extra=h(h({},this._extra),e),this._notifyScopeListeners(),this},e.prototype.setExtra=function(e,t){var n;return this._extra=h(h({},this._extra),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},e.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(e){return this.setTransactionName(e)},e.prototype.setContext=function(e,t){var n;return null===t?delete this._contexts[e]:this._contexts=h(h({},this._contexts),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var e=this.getSpan();return e&&e.transaction},e.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(t){if(!t)return this;if("function"==typeof t){var n=t(this);return n instanceof e?n:this}return t instanceof e?(this._tags=h(h({},this._tags),t._tags),this._extra=h(h({},this._extra),t._extra),this._contexts=h(h({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint),t._requestSession&&(this._requestSession=t._requestSession)):m(t)&&(this._tags=h(h({},this._tags),t.tags),this._extra=h(h({},this._extra),t.extra),this._contexts=h(h({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint),t.requestSession&&(this._requestSession=t.requestSession)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(e,t){var n="number"==typeof t?Math.min(t,100):100;if(n<=0)return this;var i=h({timestamp:(0,w.lu)()},e);return this._breadcrumbs=g(this._breadcrumbs,[i]).slice(-n),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(e,t){if(this._extra&&Object.keys(this._extra).length&&(e.extra=h(h({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=h(h({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=h(h({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=h(h({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=h({trace:this._span.getTraceContext()},e.contexts);var n=this._span.transaction&&this._span.transaction.name;n&&(e.tags=h({transaction:n},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=g(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata=this._sdkProcessingMetadata,this._notifyEventProcessors(g(O(),this._eventProcessors),e,t)},e.prototype.setSDKProcessingMetadata=function(e){return this._sdkProcessingMetadata=h(h({},this._sdkProcessingMetadata),e),this},e.prototype._notifyEventProcessors=function(e,t,n,i){var o=this;return void 0===i&&(i=0),new _((function(r,s){var a=e[i];if(null===t||"function"!=typeof a)r(t);else{var c=a(h({},t),n);y(c)?c.then((function(t){return o._notifyEventProcessors(e,t,n,i+1).then(r)})).then(null,s):o._notifyEventProcessors(e,c,n,i+1).then(r).then(null,s)}}))},e.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(t){t(e)})),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},e}();function O(){return(0,S.B)("globalEventProcessors",(function(){return[]}))}function R(e){O().push(e)}var C=function(){return C=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},C.apply(this,arguments)};function P(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function E(){var e=(0,S.V)(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var i=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return i(n[0])+i(n[1])+i(n[2])+i(n[3])+i(n[4])+i(n[5])+i(n[6])+i(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}var x,k="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,j=(0,S.V)(),I=["debug","info","warn","error","log","assert"];function L(e){var t=(0,S.V)();if(!("console"in t))return e();var n=t.console,i={};I.forEach((function(e){var o=n[e]&&n[e].__sentry_original__;e in t.console&&o&&(i[e]=n[e],n[e]=o)}));try{return e()}finally{Object.keys(i).forEach((function(e){n[e]=i[e]}))}}function T(){var e=!1,t={enable:function(){e=!0},disable:function(){e=!1}};return k?I.forEach((function(n){t[n]=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];e&&L((function(){var e;(e=j.console)[n].apply(e,g(["Sentry Logger ["+n+"]:"],t))}))}})):I.forEach((function(e){t[e]=function(){}})),t}x=k?(0,S.B)("logger",T):T();var W=n(4170),N="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function A(e){var t,n;if(m(e)){var i={};try{for(var o=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.keys(e)),r=o.next();!r.done;r=o.next()){var s=r.value;void 0!==e[s]&&(i[s]=A(e[s]))}}catch(e){t={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i}return Array.isArray(e)?e.map(A):e}var D=function(){function e(e){this.errors=0,this.sid=E(),this.duration=0,this.status="ok",this.init=!0,this.ignoreDuration=!1;var t=(0,w.zf)();this.timestamp=t,this.started=t,e&&this.update(e)}return e.prototype.update=function(e){if(void 0===e&&(e={}),e.user&&(!this.ipAddress&&e.user.ip_address&&(this.ipAddress=e.user.ip_address),this.did||e.did||(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||(0,w.zf)(),e.ignoreDuration&&(this.ignoreDuration=e.ignoreDuration),e.sid&&(this.sid=32===e.sid.length?e.sid:E()),void 0!==e.init&&(this.init=e.init),!this.did&&e.did&&(this.did=""+e.did),"number"==typeof e.started&&(this.started=e.started),this.ignoreDuration)this.duration=void 0;else if("number"==typeof e.duration)this.duration=e.duration;else{var t=this.timestamp-this.started;this.duration=t>=0?t:0}e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),!this.ipAddress&&e.ipAddress&&(this.ipAddress=e.ipAddress),!this.userAgent&&e.userAgent&&(this.userAgent=e.userAgent),"number"==typeof e.errors&&(this.errors=e.errors),e.status&&(this.status=e.status)},e.prototype.close=function(e){e?this.update({status:e}):"ok"===this.status?this.update({status:"exited"}):this.update()},e.prototype.toJSON=function(){return A({sid:""+this.sid,init:this.init,started:new Date(1e3*this.started).toISOString(),timestamp:new Date(1e3*this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:{release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent}})},e}(),M=4,U=function(){function e(e,t,n){void 0===t&&(t=new b),void 0===n&&(n=M),this._version=n,this._stack=[{}],this.getStackTop().scope=t,e&&this.bindClient(e)}return e.prototype.isOlderThan=function(e){return this._version<e},e.prototype.bindClient=function(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()},e.prototype.pushScope=function(){var e=b.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},e.prototype.popScope=function(){return!(this.getStack().length<=1||!this.getStack().pop())},e.prototype.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(e,t){var n=this._lastEventId=t&&t.event_id?t.event_id:E(),i=t;if(!t){var o=void 0;try{throw new Error("Sentry syntheticException")}catch(e){o=e}i={originalException:e,syntheticException:o}}return this._invokeClient("captureException",e,h(h({},i),{event_id:n})),n},e.prototype.captureMessage=function(e,t,n){var i=this._lastEventId=n&&n.event_id?n.event_id:E(),o=n;if(!n){var r=void 0;try{throw new Error(e)}catch(e){r=e}o={originalException:e,syntheticException:r}}return this._invokeClient("captureMessage",e,t,h(h({},o),{event_id:i})),i},e.prototype.captureEvent=function(e,t){var n=t&&t.event_id?t.event_id:E();return"transaction"!==e.type&&(this._lastEventId=n),this._invokeClient("captureEvent",e,h(h({},t),{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(e,t){var n=this.getStackTop(),i=n.scope,o=n.client;if(i&&o){var r=o.getOptions&&o.getOptions()||{},s=r.beforeBreadcrumb,a=void 0===s?null:s,c=r.maxBreadcrumbs,l=void 0===c?100:c;if(!(l<=0)){var u=(0,w.lu)(),d=h({timestamp:u},e),f=a?L((function(){return a(d,t)})):d;null!==f&&i.addBreadcrumb(f,l)}}},e.prototype.setUser=function(e){var t=this.getScope();t&&t.setUser(e)},e.prototype.setTags=function(e){var t=this.getScope();t&&t.setTags(e)},e.prototype.setExtras=function(e){var t=this.getScope();t&&t.setExtras(e)},e.prototype.setTag=function(e,t){var n=this.getScope();n&&n.setTag(e,t)},e.prototype.setExtra=function(e,t){var n=this.getScope();n&&n.setExtra(e,t)},e.prototype.setContext=function(e,t){var n=this.getScope();n&&n.setContext(e,t)},e.prototype.configureScope=function(e){var t=this.getStackTop(),n=t.scope,i=t.client;n&&i&&e(n)},e.prototype.run=function(e){var t=F(this);try{e(this)}finally{F(t)}},e.prototype.getIntegration=function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return N&&x.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},e.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},e.prototype.startTransaction=function(e,t){return this._callExtensionMethod("startTransaction",e,t)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.captureSession=function(e){if(void 0===e&&(e=!1),e)return this.endSession();this._sendSessionUpdate()},e.prototype.endSession=function(){var e=this.getStackTop(),t=e&&e.scope,n=t&&t.getSession();n&&n.close(),this._sendSessionUpdate(),t&&t.setSession()},e.prototype.startSession=function(e){var t=this.getStackTop(),n=t.scope,i=t.client,o=i&&i.getOptions()||{},r=o.release,s=o.environment,a=((0,S.V)().navigator||{}).userAgent,c=new D(h(h(h({release:r,environment:s},n&&{user:n.getUser()}),a&&{userAgent:a}),e));if(n){var l=n.getSession&&n.getSession();l&&"ok"===l.status&&l.update({status:"exited"}),this.endSession(),n.setSession(c)}return c},e.prototype._sendSessionUpdate=function(){var e=this.getStackTop(),t=e.scope,n=e.client;if(t){var i=t.getSession&&t.getSession();i&&n&&n.captureSession&&n.captureSession(i)}},e.prototype._invokeClient=function(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this.getStackTop(),r=o.scope,s=o.client;s&&s[e]&&(t=s)[e].apply(t,g(n,[r]))},e.prototype._callExtensionMethod=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=G().__SENTRY__;if(i&&i.extensions&&"function"==typeof i.extensions[e])return i.extensions[e].apply(this,t);N&&x.warn("Extension method "+e+" couldn't be found, doing nothing.")},e}();function G(){var e=(0,S.V)();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function F(e){var t=G(),n=H(t);return q(t,e),n}function B(){var e=G();return $(e)&&!H(e).isOlderThan(M)||q(e,new U),(0,W.wD)()?function(e){try{var t=G().__SENTRY__,n=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!n)return H(e);if(!$(n)||H(n).isOlderThan(M)){var i=H(e).getStackTop();q(n,new U(i.client,b.clone(i.scope)))}return H(n)}catch(t){return H(e)}}(e):H(e)}function $(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function H(e){return(0,S.B)("hub",(function(){return new U}),e)}function q(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}function V(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=B();if(i&&i[e])return i[e].apply(i,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(P(arguments[t]));return e}(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function z(e,t){return V("captureException",e,{captureContext:t,originalException:e,syntheticException:new Error("Sentry syntheticException")})}function K(e,t){var n=new Error(e);return V("captureMessage",e,"string"==typeof t?t:void 0,C({originalException:e,syntheticException:n},"string"!=typeof t?{captureContext:t}:void 0))}function J(e){return V("captureEvent",e)}function Y(e){V("configureScope",e)}function X(e){V("addBreadcrumb",e)}function Q(e,t){V("setContext",e,t)}function Z(e){V("setExtras",e)}function ee(e){V("setTags",e)}function te(e,t){V("setExtra",e,t)}function ne(e,t){V("setTag",e,t)}function ie(e){V("setUser",e)}function oe(e){V("withScope",e)}function re(e,t){return V("startTransaction",C({},e),t)}var se="6.19.7",ae=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n]);return e}),ce=function(e){function t(t){var n=this.constructor,i=e.call(this,t)||this;return i.message=t,i.name=n.prototype.constructor.name,ae(i,n.prototype),i}return a(t,e),t}(Error),le="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,ue=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function de(e,t){void 0===t&&(t=!1);var n=e.host,i=e.path,o=e.pass,r=e.port,s=e.projectId;return e.protocol+"://"+e.publicKey+(t&&o?":"+o:"")+"@"+n+(r?":"+r:"")+"/"+(i?i+"/":i)+s}function fe(e){return"user"in e&&!("publicKey"in e)&&(e.publicKey=e.user),{user:e.publicKey||"",protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function he(e){var t="string"==typeof e?function(e){var t=ue.exec(e);if(!t)throw new ce("Invalid Sentry Dsn: "+e);var n=d(t.slice(1),6),i=n[0],o=n[1],r=n[2],s=void 0===r?"":r,a=n[3],c=n[4],l=void 0===c?"":c,u="",f=n[5],h=f.split("/");if(h.length>1&&(u=h.slice(0,-1).join("/"),f=h.pop()),f){var p=f.match(/^\d+/);p&&(f=p[0])}return fe({host:a,pass:s,path:u,projectId:f,port:l,protocol:i,publicKey:o})}(e):fe(e);return function(e){if(le){var t=e.port,n=e.projectId,i=e.protocol;if(["protocol","publicKey","host","projectId"].forEach((function(t){if(!e[t])throw new ce("Invalid Sentry Dsn: "+t+" missing")})),!n.match(/^\d+$/))throw new ce("Invalid Sentry Dsn: Invalid projectId "+n);if(!function(e){return"http"===e||"https"===e}(i))throw new ce("Invalid Sentry Dsn: Invalid protocol "+i);if(t&&isNaN(parseInt(t,10)))throw new ce("Invalid Sentry Dsn: Invalid port "+t)}}(t),t}var pe=n(6475),ge=Object.prototype.toString;function ve(e){switch(ge.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Ce(e,Error)}}function me(e,t){return ge.call(e)==="[object "+t+"]"}function ye(e){return me(e,"ErrorEvent")}function we(e){return me(e,"DOMError")}function _e(e){return me(e,"String")}function Se(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function be(e){return me(e,"Object")}function Oe(e){return"undefined"!=typeof Event&&Ce(e,Event)}function Re(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function Ce(e,t){try{return e instanceof t}catch(e){return!1}}function Pe(e,t){try{for(var n=e,i=[],o=0,r=0,s=void 0;n&&o++<5&&!("html"===(s=Ee(n,t))||o>1&&r+3*i.length+s.length>=80);)i.push(s),r+=s.length,n=n.parentNode;return i.reverse().join(" > ")}catch(e){return"<unknown>"}}function Ee(e,t){var n,i,o,r,s,a=e,c=[];if(!a||!a.tagName)return"";c.push(a.tagName.toLowerCase());var l=t&&t.length?t.filter((function(e){return a.getAttribute(e)})).map((function(e){return[e,a.getAttribute(e)]})):null;if(l&&l.length)l.forEach((function(e){c.push("["+e[0]+'="'+e[1]+'"]')}));else if(a.id&&c.push("#"+a.id),(n=a.className)&&_e(n))for(i=n.split(/\s+/),s=0;s<i.length;s++)c.push("."+i[s]);var u=["type","name","title","alt"];for(s=0;s<u.length;s++)o=u[s],(r=a.getAttribute(o))&&c.push("["+o+'="'+r+'"]');return c.join("")}function xe(e,t){return void 0===t&&(t=0),"string"!=typeof e||0===t||e.length<=t?e:e.substr(0,t)+"..."}function ke(e,t){if(!Array.isArray(e))return"";for(var n=[],i=0;i<e.length;i++){var o=e[i];try{n.push(String(o))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function je(e,t){return!!_e(e)&&(me(t,"RegExp")?t.test(e):"string"==typeof t&&-1!==e.indexOf(t))}function Ie(e,t,n){if(t in e){var i=e[t],o=n(i);if("function"==typeof o)try{Te(o,i)}catch(e){}e[t]=o}}function Le(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}function Te(e,t){var n=t.prototype||{};e.prototype=t.prototype=n,Le(e,"__sentry_original__",t)}function We(e){return e.__sentry_original__}function Ne(e){var t=e;if(ve(e))t=l({message:e.message,name:e.name,stack:e.stack},De(e));else if(Oe(e)){var n=e;t=l({type:n.type,target:Ae(n.target),currentTarget:Ae(n.currentTarget)},De(n)),"undefined"!=typeof CustomEvent&&Ce(e,CustomEvent)&&(t.detail=n.detail)}return t}function Ae(e){try{return"undefined"!=typeof Element&&Ce(e,Element)?Pe(e):Object.prototype.toString.call(e)}catch(e){return"<unknown>"}}function De(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function Me(e,t){void 0===t&&(t=40);var n=Object.keys(Ne(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return xe(n[0],t);for(var i=n.length;i>0;i--){var o=n.slice(0,i).join(", ");if(!(o.length>t))return i===n.length?o:xe(o,t)}return""}function Ue(){var e=(0,pe.V)(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var i=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return i(n[0])+i(n[1])+i(n[2])+i(n[3])+i(n[4])+i(n[5])+i(n[6])+i(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function Ge(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",i=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+i}}function Fe(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Be(e){var t=e.message,n=e.event_id;if(t)return t;var i=Fe(e);return i?i.type&&i.value?i.type+": "+i.value:i.type||i.value||n||"<unknown>":n||"<unknown>"}function $e(e,t,n){var i=e.exception=e.exception||{},o=i.values=i.values||[],r=o[0]=o[0]||{};r.value||(r.value=t||""),r.type||(r.type=n||"Error")}function He(e,t){var n=Fe(e);if(n){var i=n.mechanism;if(n.mechanism=l(l(l({},{type:"generic",handled:!0}),i),t),t&&"data"in t){var o=l(l({},i&&i.data),t.data);n.mechanism.data=o}}}function qe(e){if(e&&e.__sentry_captured__)return!0;try{Le(e,"__sentry_captured__",!0)}catch(e){}return!1}var Ve,ze=(0,pe.V)(),Ke=["debug","info","warn","error","log","assert"];function Je(){var e=!1,t={enable:function(){e=!0},disable:function(){e=!1}};return le?Ke.forEach((function(n){t[n]=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];e&&function(e){var t=(0,pe.V)();if(!("console"in t))return e();var n=t.console,i={};Ke.forEach((function(e){var o=n[e]&&n[e].__sentry_original__;e in t.console&&o&&(i[e]=n[e],n[e]=o)}));try{return e()}finally{Object.keys(i).forEach((function(e){n[e]=i[e]}))}}((function(){var e;(e=ze.console)[n].apply(e,f(["Sentry Logger ["+n+"]:"],t))}))}})):Ke.forEach((function(e){t[e]=function(){}})),t}function Ye(e){return new Qe((function(t){t(e)}))}function Xe(e){return new Qe((function(t,n){n(e)}))}Ve=le?(0,pe.B)("logger",Je):Je();var Qe=function(){function e(e){var t=this;this._state=0,this._handlers=[],this._resolve=function(e){t._setResult(1,e)},this._reject=function(e){t._setResult(2,e)},this._setResult=function(e,n){0===t._state&&(Re(n)?n.then(t._resolve,t._reject):(t._state=e,t._value=n,t._executeHandlers()))},this._executeHandlers=function(){if(0!==t._state){var e=t._handlers.slice();t._handlers=[],e.forEach((function(e){e[0]||(1===t._state&&e[1](t._value),2===t._state&&e[2](t._value),e[0]=!0)}))}};try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}return e.prototype.then=function(t,n){var i=this;return new e((function(e,o){i._handlers.push([!1,function(n){if(t)try{e(t(n))}catch(e){o(e)}else e(n)},function(t){if(n)try{e(n(t))}catch(e){o(e)}else o(t)}]),i._executeHandlers()}))},e.prototype.catch=function(e){return this.then((function(e){return e}),e)},e.prototype.finally=function(t){var n=this;return new e((function(e,i){var o,r;return n.then((function(e){r=!1,o=e,t&&t()}),(function(e){r=!0,o=e,t&&t()})).then((function(){r?i(o):e(o)}))}))},e}(),Ze=n(9297),et=50;var tt="<anonymous>";function nt(e){try{return e&&"function"==typeof e&&e.name||tt}catch(e){return tt}}function it(e,t,n){void 0===t&&(t=1/0),void 0===n&&(n=1/0);try{return rt("",e,t,n)}catch(e){return{ERROR:"**non-serializable** ("+e+")"}}}function ot(e,t,n){void 0===t&&(t=3),void 0===n&&(n=102400);var i,o=it(e,t);return i=o,function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(i))>n?ot(e,t-1,n):o}function rt(e,t,i,o,r){var s,a;void 0===i&&(i=1/0),void 0===o&&(o=1/0),void 0===r&&(s="function"==typeof WeakSet,a=s?new WeakSet:[],r=[function(e){if(s)return!!a.has(e)||(a.add(e),!1);for(var t=0;t<a.length;t++)if(a[t]===e)return!0;return a.push(e),!1},function(e){if(s)a.delete(e);else for(var t=0;t<a.length;t++)if(a[t]===e){a.splice(t,1);break}}]);var c,l=d(r,2),u=l[0],f=l[1],h=t;if(h&&"function"==typeof h.toJSON)try{return h.toJSON()}catch(e){}if(null===t||["number","boolean","string"].includes(typeof t)&&("number"!=typeof(c=t)||c==c))return t;var p=function(e,t){try{return"domain"===e&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":void 0!==n.g&&t===n.g?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":function(e){return be(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}(t)?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?"[Function: "+nt(t)+"]":"symbol"==typeof t?"["+String(t)+"]":"bigint"==typeof t?"[BigInt: "+String(t)+"]":"[object "+Object.getPrototypeOf(t).constructor.name+"]"}catch(e){return"**non-serializable** ("+e+")"}}(e,t);if(!p.startsWith("[object "))return p;if(0===i)return p.replace("object ","");if(u(t))return"[Circular ~]";var g=Array.isArray(t)?[]:{},v=0,m=ve(t)||Oe(t)?Ne(t):t;for(var y in m)if(Object.prototype.hasOwnProperty.call(m,y)){if(v>=o){g[y]="[MaxProperties ~]";break}var w=m[y];g[y]=rt(y,w,i-1,o,r),v+=1}return f(t),g}var st="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,at=[];function ct(e){return e.reduce((function(e,t){return e.every((function(e){return t.name!==e.name}))&&e.push(t),e}),[])}var lt="Not capturing exception because it's already been captured.",ut=function(){function e(e,t){this._integrations={},this._numProcessing=0,this._backend=new e(t),this._options=t,t.dsn&&(this._dsn=he(t.dsn))}return e.prototype.captureException=function(e,t,n){var i=this;if(!qe(e)){var o=t&&t.event_id;return this._process(this._getBackend().eventFromException(e,t).then((function(e){return i._captureEvent(e,t,n)})).then((function(e){o=e}))),o}st&&Ve.log(lt)},e.prototype.captureMessage=function(e,t,n,i){var o=this,r=n&&n.event_id,s=Se(e)?this._getBackend().eventFromMessage(String(e),t,n):this._getBackend().eventFromException(e,n);return this._process(s.then((function(e){return o._captureEvent(e,n,i)})).then((function(e){r=e}))),r},e.prototype.captureEvent=function(e,t,n){if(!(t&&t.originalException&&qe(t.originalException))){var i=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then((function(e){i=e}))),i}st&&Ve.log(lt)},e.prototype.captureSession=function(e){this._isEnabled()?"string"!=typeof e.release?st&&Ve.warn("Discarded session because of missing or non-string release"):(this._sendSession(e),e.update({init:!1})):st&&Ve.warn("SDK not enabled, will not capture session.")},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.getTransport=function(){return this._getBackend().getTransport()},e.prototype.flush=function(e){var t=this;return this._isClientDoneProcessing(e).then((function(n){return t.getTransport().close(e).then((function(e){return n&&e}))}))},e.prototype.close=function(e){var t=this;return this.flush(e).then((function(e){return t.getOptions().enabled=!1,e}))},e.prototype.setupIntegrations=function(){var e,t;this._isEnabled()&&!this._integrations.initialized&&(this._integrations=(e=this._options,t={},function(e){var t=e.defaultIntegrations&&f(e.defaultIntegrations)||[],n=e.integrations,i=f(ct(t));Array.isArray(n)?i=f(i.filter((function(e){return n.every((function(t){return t.name!==e.name}))})),ct(n)):"function"==typeof n&&(i=n(i),i=Array.isArray(i)?i:[i]);var o=i.map((function(e){return e.name})),r="Debug";return-1!==o.indexOf(r)&&i.push.apply(i,f(i.splice(o.indexOf(r),1))),i}(e).forEach((function(e){t[e.name]=e,function(e){-1===at.indexOf(e.name)&&(e.setupOnce(R,B),at.push(e.name),st&&Ve.log("Integration installed: "+e.name))}(e)})),Le(t,"initialized",!0),t))},e.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch(t){return st&&Ve.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},e.prototype._updateSessionFromEvent=function(e,t){var n,i,o=!1,r=!1,s=t.exception&&t.exception.values;if(s){r=!0;try{for(var a=u(s),c=a.next();!c.done;c=a.next()){var d=c.value.mechanism;if(d&&!1===d.handled){o=!0;break}}}catch(e){n={error:e}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}}var f="ok"===e.status;(f&&0===e.errors||f&&o)&&(e.update(l(l({},o&&{status:"crashed"}),{errors:e.errors||Number(r||o)})),this.captureSession(e))},e.prototype._sendSession=function(e){this._getBackend().sendSession(e)},e.prototype._isClientDoneProcessing=function(e){var t=this;return new Qe((function(n){var i=0,o=setInterval((function(){0==t._numProcessing?(clearInterval(o),n(!0)):(i+=1,e&&i>=e&&(clearInterval(o),n(!1)))}),1)}))},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},e.prototype._prepareEvent=function(e,t,n){var i=this,o=this.getOptions(),r=o.normalizeDepth,s=void 0===r?3:r,a=o.normalizeMaxBreadth,c=void 0===a?1e3:a,u=l(l({},e),{event_id:e.event_id||(n&&n.event_id?n.event_id:Ue()),timestamp:e.timestamp||(0,Ze.lu)()});this._applyClientOptions(u),this._applyIntegrationsMetadata(u);var d=t;n&&n.captureContext&&(d=b.clone(d).update(n.captureContext));var f=Ye(u);return d&&(f=d.applyToEvent(u,n)),f.then((function(e){return e&&(e.sdkProcessingMetadata=l(l({},e.sdkProcessingMetadata),{normalizeDepth:it(s)+" ("+typeof s+")"})),"number"==typeof s&&s>0?i._normalizeEvent(e,s,c):e}))},e.prototype._normalizeEvent=function(e,t,n){if(!e)return null;var i=l(l(l(l(l({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((function(e){return l(l({},e),e.data&&{data:it(e.data,t,n)})}))}),e.user&&{user:it(e.user,t,n)}),e.contexts&&{contexts:it(e.contexts,t,n)}),e.extra&&{extra:it(e.extra,t,n)});return e.contexts&&e.contexts.trace&&(i.contexts.trace=e.contexts.trace),i.sdkProcessingMetadata=l(l({},i.sdkProcessingMetadata),{baseClientNormalized:!0}),i},e.prototype._applyClientOptions=function(e){var t=this.getOptions(),n=t.environment,i=t.release,o=t.dist,r=t.maxValueLength,s=void 0===r?250:r;"environment"in e||(e.environment="environment"in t?n:"production"),void 0===e.release&&void 0!==i&&(e.release=i),void 0===e.dist&&void 0!==o&&(e.dist=o),e.message&&(e.message=xe(e.message,s));var a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=xe(a.value,s));var c=e.request;c&&c.url&&(c.url=xe(c.url,s))},e.prototype._applyIntegrationsMetadata=function(e){var t=Object.keys(this._integrations);t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=f(e.sdk.integrations||[],t))},e.prototype._sendEvent=function(e){this._getBackend().sendEvent(e)},e.prototype._captureEvent=function(e,t,n){return this._processEvent(e,t,n).then((function(e){return e.event_id}),(function(e){st&&Ve.error(e)}))},e.prototype._processEvent=function(e,t,n){var i=this,o=this.getOptions(),r=o.beforeSend,s=o.sampleRate,a=this.getTransport();function c(e,t){a.recordLostEvent&&a.recordLostEvent(e,t)}if(!this._isEnabled())return Xe(new ce("SDK not enabled, will not capture event."));var l="transaction"===e.type;return!l&&"number"==typeof s&&Math.random()>s?(c("sample_rate","event"),Xe(new ce("Discarding event because it's not included in the random sample (sampling rate = "+s+")"))):this._prepareEvent(e,n,t).then((function(n){if(null===n)throw c("event_processor",e.type||"event"),new ce("An event processor returned null, will not send event.");return t&&t.data&&!0===t.data.__sentry__||l||!r?n:function(e){var t="`beforeSend` method has to return `null` or a valid event.";if(Re(e))return e.then((function(e){if(!be(e)&&null!==e)throw new ce(t);return e}),(function(e){throw new ce("beforeSend rejected with "+e)}));if(!be(e)&&null!==e)throw new ce(t);return e}(r(n,t))})).then((function(t){if(null===t)throw c("before_send",e.type||"event"),new ce("`beforeSend` returned `null`, will not send event.");var o=n&&n.getSession&&n.getSession();return!l&&o&&i._updateSessionFromEvent(o,t),i._sendEvent(t),t})).then(null,(function(e){if(e instanceof ce)throw e;throw i.captureException(e,{data:{__sentry__:!0},originalException:e}),new ce("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+e)}))},e.prototype._process=function(e){var t=this;this._numProcessing+=1,e.then((function(e){return t._numProcessing-=1,e}),(function(e){return t._numProcessing-=1,e}))},e}();function dt(e,t,n){return{initDsn:e,metadata:t||{},dsn:he(e),tunnel:n}}function ft(e){var t=e.protocol?e.protocol+":":"",n=e.port?":"+e.port:"";return t+"//"+e.host+n+(e.path?"/"+e.path:"")+"/api/"}function ht(e,t){return""+ft(e)+e.projectId+"/"+t+"/"}function pt(e){return t={sentry_key:e.publicKey,sentry_version:"7"},Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&");var t}function gt(e){return ht(e,"store")}function vt(e){return gt(e)+"?"+pt(e)}function mt(e,t){return t||function(e){return ht(e,"envelope")}(e)+"?"+pt(e)}function yt(e,t){return void 0===t&&(t=[]),[e,t]}function wt(e){var t=d(e,2),n=t[0],i=t[1],o=JSON.stringify(n);return i.reduce((function(e,t){var n=d(t,2),i=n[0],o=n[1],r=Se(o)?String(o):JSON.stringify(o);return e+"\n"+JSON.stringify(i)+"\n"+r}),o)}function _t(e){if(e.metadata&&e.metadata.sdk){var t=e.metadata.sdk;return{name:t.name,version:t.version}}}function St(e,t){return t?(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=f(e.sdk.integrations||[],t.integrations||[]),e.sdk.packages=f(e.sdk.packages||[],t.packages||[]),e):e}function bt(e,t){var n=_t(t),i="aggregates"in e?"sessions":"session";return[yt(l(l({sent_at:(new Date).toISOString()},n&&{sdk:n}),!!t.tunnel&&{dsn:de(t.dsn)}),[[{type:i},e]]),i]}!function(){function e(e,t,n){void 0===t&&(t={}),this.dsn=e,this._dsnObject=he(e),this.metadata=t,this._tunnel=n}e.prototype.getDsn=function(){return this._dsnObject},e.prototype.forceEnvelope=function(){return!!this._tunnel},e.prototype.getBaseApiEndpoint=function(){return ft(this._dsnObject)},e.prototype.getStoreEndpoint=function(){return gt(this._dsnObject)},e.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return vt(this._dsnObject)},e.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return mt(this._dsnObject,this._tunnel)}}();var Ot=function(){function e(){}return e.prototype.sendEvent=function(e){return Ye({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:"skipped"})},e.prototype.close=function(e){return Ye(!0)},e}(),Rt=function(){function e(e){this._options=e,this._options.dsn||st&&Ve.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype.eventFromException=function(e,t){throw new ce("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(e,t,n){throw new ce("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(e){if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var t=function(e,t){var n=_t(t),i=e.type||"event",o=(e.sdkProcessingMetadata||{}).transactionSampling||{},r=o.method,s=o.rate;return St(e,t.metadata.sdk),e.tags=e.tags||{},e.extra=e.extra||{},e.sdkProcessingMetadata&&e.sdkProcessingMetadata.baseClientNormalized||(e.tags.skippedNormalization=!0,e.extra.normalizeDepth=e.sdkProcessingMetadata?e.sdkProcessingMetadata.normalizeDepth:"unset"),delete e.sdkProcessingMetadata,yt(l(l({event_id:e.event_id,sent_at:(new Date).toISOString()},n&&{sdk:n}),!!t.tunnel&&{dsn:de(t.dsn)}),[[{type:i,sample_rates:[{id:r,rate:s}]},e]])}(e,dt(this._options.dsn,this._options._metadata,this._options.tunnel));this._newTransport.send(t).then(null,(function(e){st&&Ve.error("Error while sending event:",e)}))}else this._transport.sendEvent(e).then(null,(function(e){st&&Ve.error("Error while sending event:",e)}))},e.prototype.sendSession=function(e){if(this._transport.sendSession)if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var t=d(bt(e,dt(this._options.dsn,this._options._metadata,this._options.tunnel)),1)[0];this._newTransport.send(t).then(null,(function(e){st&&Ve.error("Error while sending session:",e)}))}else this._transport.sendSession(e).then(null,(function(e){st&&Ve.error("Error while sending session:",e)}));else st&&Ve.warn("Dropping session because custom transport doesn't implement sendSession")},e.prototype.getTransport=function(){return this._transport},e.prototype._setupTransport=function(){return new Ot},e}();function Ct(){if(!("fetch"in(0,pe.V)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function Pt(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Et(){if(!Ct())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}var xt="?";function kt(e,t,n,i){var o={filename:e,function:t,in_app:!0};return void 0!==n&&(o.lineno=n),void 0!==i&&(o.colno=i),o}var jt=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,It=/\((\S*)(?::(\d+))(?::(\d+))\)/,Lt=[30,function(e){var t=jt.exec(e);if(t){if(t[2]&&0===t[2].indexOf("eval")){var n=It.exec(t[2]);n&&(t[2]=n[1],t[3]=n[2],t[4]=n[3])}var i=d(Bt(t[1]||xt,t[2]),2),o=i[0];return kt(i[1],o,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],Tt=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Wt=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Nt=[50,function(e){var t,n=Tt.exec(e);if(n){if(n[3]&&n[3].indexOf(" > eval")>-1){var i=Wt.exec(n[3]);i&&(n[1]=n[1]||"eval",n[3]=i[1],n[4]=i[2],n[5]="")}var o=n[3],r=n[1]||xt;return r=(t=d(Bt(r,o),2))[0],kt(o=t[1],r,n[4]?+n[4]:void 0,n[5]?+n[5]:void 0)}}],At=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Dt=[40,function(e){var t=At.exec(e);return t?kt(t[2],t[1]||xt,+t[3],t[4]?+t[4]:void 0):void 0}],Mt=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,Ut=[10,function(e){var t=Mt.exec(e);return t?kt(t[2],t[3]||xt,+t[1]):void 0}],Gt=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,Ft=[20,function(e){var t=Gt.exec(e);return t?kt(t[5],t[3]||t[4]||xt,+t[1],+t[2]):void 0}],Bt=function(e,t){var n=-1!==e.indexOf("safari-extension"),i=-1!==e.indexOf("safari-web-extension");return n||i?[-1!==e.indexOf("@")?e.split("@")[0]:xt,n?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]};function $t(e){var t=qt(e),n={type:e&&e.name,value:zt(e)};return t.length&&(n.stacktrace={frames:t}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function Ht(e){return{exception:{values:[$t(e)]}}}function qt(e){var t=e.stacktrace||e.stack||"",n=function(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(Vt.test(e.message))return 1}return 0}(e);try{return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.sort((function(e,t){return e[0]-t[0]})).map((function(e){return e[1]}));return function(e,t){var i,o,r,s;void 0===t&&(t=0);var a=[];try{for(var c=u(e.split("\n").slice(t)),d=c.next();!d.done;d=c.next()){var f=d.value;try{for(var h=(r=void 0,u(n)),p=h.next();!p.done;p=h.next()){var g=(0,p.value)(f);if(g){a.push(g);break}}}catch(e){r={error:e}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(r)throw r.error}}}}catch(e){i={error:e}}finally{try{d&&!d.done&&(o=c.return)&&o.call(c)}finally{if(i)throw i.error}}return function(e){if(!e.length)return[];var t=e,n=t[0].function||"",i=t[t.length-1].function||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(t=t.slice(1)),-1!==i.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.slice(0,et).map((function(e){return l(l({},e),{filename:e.filename||t[0].filename,function:e.function||"?"})})).reverse()}(a)}}(Ut,Ft,Lt,Dt,Nt)(t,n)}catch(e){}return[]}var Vt=/Minified React error #\d+;/i;function zt(e){var t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function Kt(e,t,n){var i=Yt(e,t&&t.syntheticException||void 0,n);return He(i),i.level=c.Error,t&&t.event_id&&(i.event_id=t.event_id),Ye(i)}function Jt(e,t,n,i){void 0===t&&(t=c.Info);var o=Xt(e,n&&n.syntheticException||void 0,i);return o.level=t,n&&n.event_id&&(o.event_id=n.event_id),Ye(o)}function Yt(e,t,n,i){var o;if(ye(e)&&e.error)return Ht(e.error);if(we(e)||me(e,"DOMException")){var r=e;if("stack"in e)o=Ht(e);else{var s=r.name||(we(r)?"DOMError":"DOMException"),a=r.message?s+": "+r.message:s;$e(o=Xt(a,t,n),a)}return"code"in r&&(o.tags=l(l({},o.tags),{"DOMException.code":""+r.code})),o}return ve(e)?Ht(e):be(e)||Oe(e)?(o=function(e,t,n){var i={exception:{values:[{type:Oe(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+Me(e)}]},extra:{__serialized__:ot(e)}};if(t){var o=qt(t);o.length&&(i.stacktrace={frames:o})}return i}(e,t,i),He(o,{synthetic:!0}),o):($e(o=Xt(e,t,n),""+e,void 0),He(o,{synthetic:!0}),o)}function Xt(e,t,n){var i={message:e};if(n&&t){var o=qt(t);o.length&&(i.stacktrace={frames:o})}return i}function Qt(e){var t=[];function n(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(i){if(!(void 0===e||t.length<e))return Xe(new ce("Not adding Promise due to buffer limit reached."));var o=i();return-1===t.indexOf(o)&&t.push(o),o.then((function(){return n(o)})).then(null,(function(){return n(o).then(null,(function(){}))})),o},drain:function(e){return new Qe((function(n,i){var o=t.length;if(!o)return n(!0);var r=setTimeout((function(){e&&e>0&&n(!1)}),e);t.forEach((function(e){Ye(e).then((function(){--o||(clearTimeout(r),n(!0))}),i)}))}))}}}var Zt=6e4;function en(e,t){return e[t]||e.all||0}function tn(e,t,n){return void 0===n&&(n=Date.now()),en(e,t)>n}function nn(e,t,n){var i,o,r,s;void 0===n&&(n=Date.now());var a=l({},e),c=t["x-sentry-rate-limits"],d=t["retry-after"];if(c)try{for(var f=u(c.trim().split(",")),h=f.next();!h.done;h=f.next()){var p=h.value.split(":",2),g=parseInt(p[0],10),v=1e3*(isNaN(g)?60:g);if(p[1])try{for(var m=(r=void 0,u(p[1].split(";"))),y=m.next();!y.done;y=m.next())a[y.value]=n+v}catch(e){r={error:e}}finally{try{y&&!y.done&&(s=m.return)&&s.call(m)}finally{if(r)throw r.error}}else a.all=n+v}}catch(e){i={error:e}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}else d&&(a.all=n+function(e,t){void 0===t&&(t=Date.now());var n=parseInt(""+e,10);if(!isNaN(n))return 1e3*n;var i=Date.parse(""+e);return isNaN(i)?Zt:i-t}(d,n));return a}function on(e){return e>=200&&e<300?"success":429===e?"rate_limit":e>=400&&e<500?"invalid":e>=500?"failed":"unknown"}var rn=30;function sn(e,t,n){void 0===n&&(n=Qt(e.bufferSize||rn));var i={};return{send:function(e){var o=function(e){var t=d(e,2),n=d(t[1],1);return d(n[0],1)[0].type}(e),r="event"===o?"error":o,s={category:r,body:wt(e)};return tn(i,r)?Xe({status:"rate_limit",reason:an(i,r)}):n.add((function(){return t(s).then((function(e){var t=e.body,n=e.headers,o=e.reason,s=on(e.statusCode);return n&&(i=nn(i,n)),"success"===s?Ye({status:s,reason:o}):Xe({status:s,reason:o||t||("rate_limit"===s?an(i,r):"Unknown transport error")})}))}))},flush:function(e){return n.drain(e)}}}function an(e,t){return"Too many "+t+" requests, backing off until: "+new Date(en(e,t)).toISOString()}var cn,ln="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,un=(0,pe.V)();function dn(){if(cn)return cn;if(Pt(un.fetch))return cn=un.fetch.bind(un);var e=un.document,t=un.fetch;if(e&&"function"==typeof e.createElement)try{var n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);var i=n.contentWindow;i&&i.fetch&&(t=i.fetch),e.head.removeChild(n)}catch(e){ln&&Ve.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return cn=t.bind(un)}function fn(e,t){return void 0===t&&(t=dn()),sn({bufferSize:e.bufferSize},(function(n){var i=l({body:n.body,method:"POST",referrerPolicy:"origin"},e.requestOptions);return t(e.url,i).then((function(e){return e.text().then((function(t){return{body:t,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")},reason:e.statusText,statusCode:e.status}}))}))}))}function hn(e){return"event"===e?"error":e}var pn=(0,pe.V)(),gn=function(){function e(e){var t=this;this.options=e,this._buffer=Qt(30),this._rateLimits={},this._outcomes={},this._api=dt(e.dsn,e._metadata,e.tunnel),this.url=vt(this._api.dsn),this.options.sendClientReports&&pn.document&&pn.document.addEventListener("visibilitychange",(function(){"hidden"===pn.document.visibilityState&&t._flushOutcomes()}))}return e.prototype.sendEvent=function(e){return this._sendRequest(function(e,t){var n,i=_t(t),o=e.type||"event",r="transaction"===o||!!t.tunnel,s=(e.sdkProcessingMetadata||{}).transactionSampling||{},a=s.method,c=s.rate;St(e,t.metadata.sdk),e.tags=e.tags||{},e.extra=e.extra||{},e.sdkProcessingMetadata&&e.sdkProcessingMetadata.baseClientNormalized||(e.tags.skippedNormalization=!0,e.extra.normalizeDepth=e.sdkProcessingMetadata?e.sdkProcessingMetadata.normalizeDepth:"unset"),delete e.sdkProcessingMetadata;try{n=JSON.stringify(e)}catch(t){e.tags.JSONStringifyError=!0,e.extra.JSONStringifyError=t;try{n=JSON.stringify(it(e))}catch(e){var u=e;n=JSON.stringify({message:"JSON.stringify error after renormalization",extra:{message:u.message,stack:u.stack}})}}var d={body:n,type:o,url:r?mt(t.dsn,t.tunnel):vt(t.dsn)};if(r){var f=yt(l(l({event_id:e.event_id,sent_at:(new Date).toISOString()},i&&{sdk:i}),!!t.tunnel&&{dsn:de(t.dsn)}),[[{type:o,sample_rates:[{id:a,rate:c}]},d.body]]);d.body=wt(f)}return d}(e,this._api),e)},e.prototype.sendSession=function(e){return this._sendRequest(function(e,t){var n=d(bt(e,t),2),i=n[0],o=n[1];return{body:wt(i),type:o,url:mt(t.dsn,t.tunnel)}}(e,this._api),e)},e.prototype.close=function(e){return this._buffer.drain(e)},e.prototype.recordLostEvent=function(e,t){var n;if(this.options.sendClientReports){var i=hn(t)+":"+e;ln&&Ve.log("Adding outcome: "+i),this._outcomes[i]=(null!=(n=this._outcomes[i])?n:0)+1}},e.prototype._flushOutcomes=function(){if(this.options.sendClientReports){var e=this._outcomes;if(this._outcomes={},Object.keys(e).length){ln&&Ve.log("Flushing outcomes:\n"+JSON.stringify(e,null,2));var t,n,i=mt(this._api.dsn,this._api.tunnel),o=(t=Object.keys(e).map((function(t){var n=d(t.split(":"),2),i=n[0];return{reason:n[1],category:i,quantity:e[t]}})),yt((n=this._api.tunnel&&de(this._api.dsn))?{dsn:n}:{},[[{type:"client_report"},{timestamp:(0,Ze.lu)(),discarded_events:t}]]));try{!function(e,t){if("[object Navigator]"===Object.prototype.toString.call(un&&un.navigator)&&"function"==typeof un.navigator.sendBeacon)return un.navigator.sendBeacon.bind(un.navigator)(e,t);Ct()&&dn()(e,{body:t,method:"POST",credentials:"omit",keepalive:!0}).then(null,(function(e){console.error(e)}))}(i,wt(o))}catch(e){ln&&Ve.error(e)}}else ln&&Ve.log("No outcomes to flush")}},e.prototype._handleResponse=function(e){var t=e.requestType,n=e.response,i=e.headers,o=e.resolve,r=e.reject,s=on(n.status);this._rateLimits=nn(this._rateLimits,i),this._isRateLimited(t)&&ln&&Ve.warn("Too many "+t+" requests, backing off until: "+this._disabledUntil(t)),"success"!==s?r(n):o({status:s})},e.prototype._disabledUntil=function(e){var t=hn(e);return new Date(en(this._rateLimits,t))},e.prototype._isRateLimited=function(e){var t=hn(e);return tn(this._rateLimits,t)},e}(),vn=function(e){function t(t,n){void 0===n&&(n=dn());var i=e.call(this,t)||this;return i._fetch=n,i}return a(t,e),t.prototype._sendRequest=function(e,t){var n=this;if(this._isRateLimited(e.type))return this.recordLostEvent("ratelimit_backoff",e.type),Promise.reject({event:t,type:e.type,reason:"Transport for "+e.type+" requests locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429});var i={body:e.body,method:"POST",referrerPolicy:Et()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(i,this.options.fetchParameters),void 0!==this.options.headers&&(i.headers=this.options.headers),this._buffer.add((function(){return new Qe((function(t,o){n._fetch(e.url,i).then((function(i){var r={"x-sentry-rate-limits":i.headers.get("X-Sentry-Rate-Limits"),"retry-after":i.headers.get("Retry-After")};n._handleResponse({requestType:e.type,response:i,headers:r,resolve:t,reject:o})})).catch(o)}))})).then(void 0,(function(t){throw t instanceof ce?n.recordLostEvent("queue_overflow",e.type):n.recordLostEvent("network_error",e.type),t}))},t}(gn),mn=4;function yn(e){return sn({bufferSize:e.bufferSize},(function(t){return new Qe((function(n,i){var o=new XMLHttpRequest;for(var r in o.onreadystatechange=function(){if(o.readyState===mn){var e={body:o.response,headers:{"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")},reason:o.statusText,statusCode:o.status};n(e)}},o.open("POST",e.url),e.headers)Object.prototype.hasOwnProperty.call(e.headers,r)&&o.setRequestHeader(r,e.headers[r]);o.send(t.body)}))}))}var wn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype._sendRequest=function(e,t){var n=this;return this._isRateLimited(e.type)?(this.recordLostEvent("ratelimit_backoff",e.type),Promise.reject({event:t,type:e.type,reason:"Transport for "+e.type+" requests locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429})):this._buffer.add((function(){return new Qe((function(t,i){var o=new XMLHttpRequest;for(var r in o.onreadystatechange=function(){if(4===o.readyState){var r={"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")};n._handleResponse({requestType:e.type,response:o,headers:r,resolve:t,reject:i})}},o.open("POST",e.url),n.options.headers)Object.prototype.hasOwnProperty.call(n.options.headers,r)&&o.setRequestHeader(r,n.options.headers[r]);o.send(e.body)}))})).then(void 0,(function(t){throw t instanceof ce?n.recordLostEvent("queue_overflow",e.type):n.recordLostEvent("network_error",e.type),t}))},t}(gn),_n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a(t,e),t.prototype.eventFromException=function(e,t){return Kt(e,t,this._options.attachStacktrace)},t.prototype.eventFromMessage=function(e,t,n){return void 0===t&&(t=c.Info),Jt(e,t,n,this._options.attachStacktrace)},t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var t=l(l({},this._options.transportOptions),{dsn:this._options.dsn,tunnel:this._options.tunnel,sendClientReports:this._options.sendClientReports,_metadata:this._options._metadata}),n=dt(t.dsn,t._metadata,t.tunnel),i=mt(n.dsn,n.tunnel);if(this._options.transport)return new this._options.transport(t);if(Ct()){var o=l({},t.fetchParameters);return this._newTransport=fn({requestOptions:o,url:i}),new vn(t)}return this._newTransport=yn({url:i,headers:t.headers}),new wn(t)},t}(Rt),Sn=(0,pe.V)(),bn=0;function On(){return bn>0}function Rn(e,t,n){if(void 0===t&&(t={}),"function"!=typeof e)return e;try{var i=e.__sentry_wrapped__;if(i)return i;if(We(e))return e}catch(t){return e}var o=function(){var i=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var o=i.map((function(e){return Rn(e,t)}));return e.apply(this,o)}catch(e){throw bn+=1,setTimeout((function(){bn-=1})),oe((function(n){n.addEventProcessor((function(e){return t.mechanism&&($e(e,void 0,void 0),He(e,t.mechanism)),e.extra=l(l({},e.extra),{arguments:i}),e})),z(e)})),e}};try{for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(o[r]=e[r])}catch(e){}Te(o,e),Le(e,"__sentry_wrapped__",o);try{Object.getOwnPropertyDescriptor(o,"name").configurable&&Object.defineProperty(o,"name",{get:function(){return e.name}})}catch(e){}return o}function Cn(e){if(void 0===e&&(e={}),Sn.document)if(e.eventId)if(e.dsn){var t=Sn.document.createElement("script");t.async=!0,t.src=function(e,t){var n=he(e),i=ft(n)+"embed/error-page/",o="dsn="+de(n);for(var r in t)if("dsn"!==r)if("user"===r){if(!t.user)continue;t.user.name&&(o+="&name="+encodeURIComponent(t.user.name)),t.user.email&&(o+="&email="+encodeURIComponent(t.user.email))}else o+="&"+encodeURIComponent(r)+"="+encodeURIComponent(t[r]);return i+"?"+o}(e.dsn,e),e.onLoad&&(t.onload=e.onLoad);var n=Sn.document.head||Sn.document.body;n&&n.appendChild(t)}else ln&&Ve.error("Missing dsn option in showReportDialog call");else ln&&Ve.error("Missing eventId option in showReportDialog call")}var Pn,En=(0,pe.V)(),xn={},kn={};function jn(e,t){xn[e]=xn[e]||[],xn[e].push(t),function(e){if(!kn[e])switch(kn[e]=!0,e){case"console":"console"in En&&Ke.forEach((function(e){e in En.console&&Ie(En.console,e,(function(t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];In("console",{args:n,level:e}),t&&t.apply(En.console,n)}}))}));break;case"dom":!function(){if("document"in En){var e=In.bind(null,"dom"),t=An(e,!0);En.document.addEventListener("click",t,!1),En.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((function(t){var n=En[t]&&En[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Ie(n,"addEventListener",(function(t){return function(n,i,o){if("click"===n||"keypress"==n)try{var r=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},s=r[n]=r[n]||{refCount:0};if(!s.handler){var a=An(e);s.handler=a,t.call(this,n,a,o)}s.refCount+=1}catch(e){}return t.call(this,n,i,o)}})),Ie(n,"removeEventListener",(function(e){return function(t,n,i){if("click"===t||"keypress"==t)try{var o=this.__sentry_instrumentation_handlers__||{},r=o[t];r&&(r.refCount-=1,r.refCount<=0&&(e.call(this,t,r.handler,i),r.handler=void 0,delete o[t]),0===Object.keys(o).length&&delete this.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,i)}})))}))}}();break;case"xhr":!function(){if("XMLHttpRequest"in En){var e=XMLHttpRequest.prototype;Ie(e,"open",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this,o=t[1],r=i.__sentry_xhr__={method:_e(t[0])?t[0].toUpperCase():t[0],url:t[1]};_e(o)&&"POST"===r.method&&o.match(/sentry_key/)&&(i.__sentry_own_request__=!0);var s=function(){if(4===i.readyState){try{r.status_code=i.status}catch(e){}In("xhr",{args:t,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:i})}};return"onreadystatechange"in i&&"function"==typeof i.onreadystatechange?Ie(i,"onreadystatechange",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return s(),e.apply(i,t)}})):i.addEventListener("readystatechange",s),e.apply(i,t)}})),Ie(e,"send",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this.__sentry_xhr__&&void 0!==t[0]&&(this.__sentry_xhr__.body=t[0]),In("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}}))}}();break;case"fetch":(function(){if(!Ct())return!1;var e=(0,pe.V)();if(Pt(e.fetch))return!0;var t=!1,n=e.document;if(n&&"function"==typeof n.createElement)try{var i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i),i.contentWindow&&i.contentWindow.fetch&&(t=Pt(i.contentWindow.fetch)),n.head.removeChild(i)}catch(e){le&&Ve.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return t})()&&Ie(En,"fetch",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i,o={args:t,fetchData:{method:(i=t,void 0===i&&(i=[]),"Request"in En&&Ce(i[0],Request)&&i[0].method?String(i[0].method).toUpperCase():i[1]&&i[1].method?String(i[1].method).toUpperCase():"GET"),url:Ln(t)},startTimestamp:Date.now()};return In("fetch",l({},o)),e.apply(En,t).then((function(e){return In("fetch",l(l({},o),{endTimestamp:Date.now(),response:e})),e}),(function(e){throw In("fetch",l(l({},o),{endTimestamp:Date.now(),error:e})),e}))}}));break;case"history":!function(){if(function(){var e=(0,pe.V)(),t=e.chrome,n=t&&t.app&&t.app.runtime,i="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!n&&i}()){var e=En.onpopstate;En.onpopstate=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=En.location.href,o=Pn;if(Pn=i,In("history",{from:o,to:i}),e)try{return e.apply(this,t)}catch(e){}},Ie(En.history,"pushState",t),Ie(En.history,"replaceState",t)}function t(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=t.length>2?t[2]:void 0;if(i){var o=Pn,r=String(i);Pn=r,In("history",{from:o,to:r})}return e.apply(this,t)}}}();break;case"error":Dn=En.onerror,En.onerror=function(e,t,n,i,o){return In("error",{column:i,error:o,line:n,msg:e,url:t}),!!Dn&&Dn.apply(this,arguments)};break;case"unhandledrejection":Mn=En.onunhandledrejection,En.onunhandledrejection=function(e){return In("unhandledrejection",e),!Mn||Mn.apply(this,arguments)};break;default:le&&Ve.warn("unknown instrumentation type:",e)}}(e)}function In(e,t){var n,i;if(e&&xn[e])try{for(var o=u(xn[e]||[]),r=o.next();!r.done;r=o.next()){var s=r.value;try{s(t)}catch(t){le&&Ve.error("Error while triggering instrumentation handler.\nType: "+e+"\nName: "+nt(s)+"\nError:",t)}}}catch(e){n={error:e}}finally{try{r&&!r.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}function Ln(e){return void 0===e&&(e=[]),"string"==typeof e[0]?e[0]:"Request"in En&&Ce(e[0],Request)?e[0].url:String(e[0])}var Tn,Wn,Nn=1e3;function An(e,t){return void 0===t&&(t=!1),function(n){if(n&&Wn!==n&&!function(e){if("keypress"!==e.type)return!1;try{var t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(e){}return!0}(n)){var i="keypress"===n.type?"input":n.type;(void 0===Tn||function(e,t){if(!e)return!0;if(e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(e){}return!1}(Wn,n))&&(e({event:n,name:i,global:t}),Wn=n),clearTimeout(Tn),Tn=En.setTimeout((function(){Tn=void 0}),Nn)}}}var Dn=null,Mn=null,Un=["fatal","error","warning","log","info","debug","critical"];var Gn=function(){function e(t){this.name=e.id,this._options=l({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype.addSentryBreadcrumb=function(e){this._options.sentry&&B().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:Be(e)},{event:e})},e.prototype.setupOnce=function(){var e;this._options.console&&jn("console",Fn),this._options.dom&&jn("dom",(e=this._options.dom,function(t){var n,i="object"==typeof e?e.serializeAttribute:void 0;"string"==typeof i&&(i=[i]);try{n=t.event.target?Pe(t.event.target,i):Pe(t.event,i)}catch(e){n="<unknown>"}0!==n.length&&B().addBreadcrumb({category:"ui."+t.name,message:n},{event:t.event,name:t.name,global:t.global})})),this._options.xhr&&jn("xhr",Bn),this._options.fetch&&jn("fetch",$n),this._options.history&&jn("history",Hn)},e.id="Breadcrumbs",e}();function Fn(e){var t,n={category:"console",data:{arguments:e.args,logger:"console"},level:(t=e.level,"warn"===t?c.Warning:function(e){return-1!==Un.indexOf(e)}(t)?t:c.Log),message:ke(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;n.message="Assertion failed: "+(ke(e.args.slice(1)," ")||"console.assert"),n.data.arguments=e.args.slice(1)}B().addBreadcrumb(n,{input:e.args,level:e.level})}function Bn(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;var t=e.xhr.__sentry_xhr__||{},n=t.method,i=t.url,o=t.status_code,r=t.body;B().addBreadcrumb({category:"xhr",data:{method:n,url:i,status_code:o},type:"http"},{xhr:e.xhr,input:r})}}function $n(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?B().addBreadcrumb({category:"fetch",data:e.fetchData,level:c.Error,type:"http"},{data:e.error,input:e.args}):B().addBreadcrumb({category:"fetch",data:l(l({},e.fetchData),{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response})))}function Hn(e){var t=(0,pe.V)(),n=e.from,i=e.to,o=Ge(t.location.href),r=Ge(n),s=Ge(i);r.path||(r=o),o.protocol===s.protocol&&o.host===s.host&&(i=s.relative),o.protocol===r.protocol&&o.host===r.host&&(n=r.relative),B().addBreadcrumb({category:"navigation",data:{from:n,to:i}})}var qn,Vn=function(e){function t(t){return void 0===t&&(t={}),t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:se}],version:se},e.call(this,_n,t)||this}return a(t,e),t.prototype.showReportDialog=function(e){void 0===e&&(e={}),(0,pe.V)().document&&(this._isEnabled()?Cn(l(l({},e),{dsn:e.dsn||this.getDsn()})):ln&&Ve.error("Trying to call showReportDialog with Sentry Client disabled"))},t.prototype._prepareEvent=function(t,n,i){return t.platform=t.platform||"javascript",e.prototype._prepareEvent.call(this,t,n,i)},t.prototype._sendEvent=function(t){var n=this.getIntegration(Gn);n&&n.addSentryBreadcrumb(t),e.prototype._sendEvent.call(this,t)},t}(ut),zn=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],Kn=function(){function e(t){void 0===t&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(t,n){t((function(t){var i=n();if(i){var o=i.getIntegration(e);if(o){var r=i.getClient(),s=r?r.getOptions():{},a=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),{allowUrls:f(e.whitelistUrls||[],e.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:f(e.blacklistUrls||[],e.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:f(e.ignoreErrors||[],t.ignoreErrors||[],zn),ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}(o._options,s);return function(e,t){return t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type}catch(e){}return!1}(e)?(st&&Ve.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Be(e)),!0):function(e,t){return!(!t||!t.length)&&function(e){if(e.message)return[e.message];if(e.exception)try{var t=e.exception.values&&e.exception.values[0]||{},n=t.type,i=void 0===n?"":n,o=t.value,r=void 0===o?"":o;return[""+r,i+": "+r]}catch(t){return st&&Ve.error("Cannot extract message for event "+Be(e)),[]}return[]}(e).some((function(e){return t.some((function(t){return je(e,t)}))}))}(e,t.ignoreErrors)?(st&&Ve.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Be(e)),!0):function(e,t){if(!t||!t.length)return!1;var n=Yn(e);return!!n&&t.some((function(e){return je(n,e)}))}(e,t.denyUrls)?(st&&Ve.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+Be(e)+".\nUrl: "+Yn(e)),!0):!function(e,t){if(!t||!t.length)return!0;var n=Yn(e);return!n||t.some((function(e){return je(n,e)}))}(e,t.allowUrls)&&(st&&Ve.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+Be(e)+".\nUrl: "+Yn(e)),!0)}(t,a)?null:t}}return t}))},e.id="InboundFilters",e}();function Jn(e){void 0===e&&(e=[]);for(var t=e.length-1;t>=0;t--){var n=e[t];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}function Yn(e){try{if(e.stacktrace)return Jn(e.stacktrace.frames);var t;try{t=e.exception.values[0].stacktrace.frames}catch(e){}return t?Jn(t):null}catch(t){return st&&Ve.error("Cannot extract url for event "+Be(e)),null}}var Xn=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){qn=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=We(this)||this;return qn.apply(n,e)}},e.id="FunctionToString",e}(),Qn=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Zn=function(){function e(t){this.name=e.id,this._options=l({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}return e.prototype.setupOnce=function(){var e=(0,pe.V)();this._options.setTimeout&&Ie(e,"setTimeout",ei),this._options.setInterval&&Ie(e,"setInterval",ei),this._options.requestAnimationFrame&&Ie(e,"requestAnimationFrame",ti),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&Ie(XMLHttpRequest.prototype,"send",ni);var t=this._options.eventTarget;t&&(Array.isArray(t)?t:Qn).forEach(ii)},e.id="TryCatch",e}();function ei(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=t[0];return t[0]=Rn(i,{mechanism:{data:{function:nt(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}}function ti(e){return function(t){return e.apply(this,[Rn(t,{mechanism:{data:{function:"requestAnimationFrame",handler:nt(e)},handled:!0,type:"instrument"}})])}}function ni(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this;return["onload","onerror","onprogress","onreadystatechange"].forEach((function(e){e in i&&"function"==typeof i[e]&&Ie(i,e,(function(t){var n={mechanism:{data:{function:e,handler:nt(t)},handled:!0,type:"instrument"}},i=We(t);return i&&(n.mechanism.data.handler=nt(i)),Rn(t,n)}))})),e.apply(this,t)}}function ii(e){var t=(0,pe.V)(),n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(Ie(n,"addEventListener",(function(t){return function(n,i,o){try{"function"==typeof i.handleEvent&&(i.handleEvent=Rn(i.handleEvent.bind(i),{mechanism:{data:{function:"handleEvent",handler:nt(i),target:e},handled:!0,type:"instrument"}}))}catch(e){}return t.apply(this,[n,Rn(i,{mechanism:{data:{function:"addEventListener",handler:nt(i),target:e},handled:!0,type:"instrument"}}),o])}})),Ie(n,"removeEventListener",(function(e){return function(t,n,i){var o=n;try{var r=o&&o.__sentry_wrapped__;r&&e.call(this,t,r,i)}catch(e){}return e.call(this,t,o,i)}})))}var oi=function(){function e(t){this.name=e.id,this._installFunc={onerror:ri,onunhandledrejection:si},this._options=l({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50;var e,t=this._options;for(var n in t){var i=this._installFunc[n];i&&t[n]&&(e=n,ln&&Ve.log("Global Handler attached: "+e),i(),this._installFunc[n]=void 0)}},e.id="GlobalHandlers",e}();function ri(){jn("error",(function(e){var t=d(li(),2),n=t[0],i=t[1];if(n.getIntegration(oi)){var o=e.msg,r=e.url,s=e.line,a=e.column,l=e.error;if(!(On()||l&&l.__sentry_own_request__)){var u=void 0===l&&_e(o)?function(e,t,n,i){var o=ye(e)?e.message:e,r="Error",s=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);return s&&(r=s[1],o=s[2]),ai({exception:{values:[{type:r,value:o}]}},t,n,i)}(o,r,s,a):ai(Yt(l||o,void 0,i,!1),r,s,a);u.level=c.Error,ci(n,l,u,"onerror")}}}))}function si(){jn("unhandledrejection",(function(e){var t=d(li(),2),n=t[0],i=t[1];if(n.getIntegration(oi)){var o=e;try{"reason"in e?o=e.reason:"detail"in e&&"reason"in e.detail&&(o=e.detail.reason)}catch(e){}if(On()||o&&o.__sentry_own_request__)return!0;var r=Se(o)?{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(o)}]}}:Yt(o,void 0,i,!0);r.level=c.Error,ci(n,o,r,"onunhandledrejection")}}))}function ai(e,t,n,i){var o=e.exception=e.exception||{},r=o.values=o.values||[],s=r[0]=r[0]||{},a=s.stacktrace=s.stacktrace||{},c=a.frames=a.frames||[],l=isNaN(parseInt(i,10))?void 0:i,u=isNaN(parseInt(n,10))?void 0:n,d=_e(t)&&t.length>0?t:function(){var e=(0,pe.V)();try{return e.document.location.href}catch(e){return""}}();return 0===c.length&&c.push({colno:l,filename:d,function:"?",in_app:!0,lineno:u}),e}function ci(e,t,n,i){He(n,{handled:!1,type:i}),e.captureEvent(n,{originalException:t})}function li(){var e=B(),t=e.getClient();return[e,t&&t.getOptions().attachStacktrace]}var ui=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._key=t.key||"cause",this._limit=t.limit||5}return e.prototype.setupOnce=function(){R((function(t,n){var i=B().getIntegration(e);return i?function(e,t,n,i){if(!(n.exception&&n.exception.values&&i&&Ce(i.originalException,Error)))return n;var o=di(t,i.originalException,e);return n.exception.values=f(o,n.exception.values),n}(i._key,i._limit,t,n):t}))},e.id="LinkedErrors",e}();function di(e,t,n,i){if(void 0===i&&(i=[]),!Ce(t[n],Error)||i.length+1>=e)return i;var o=$t(t[n]);return di(e,t[n],n,f([o],i))}var fi=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(t,n){t((function(t){var i=n().getIntegration(e);if(i){try{if(function(e,t){return!!t&&(!!function(e,t){var n=e.message,i=t.message;return!(!n&&!i)&&(!(n&&!i||!n&&i)&&(n===i&&(!!pi(e,t)&&!!hi(e,t))))}(e,t)||!!function(e,t){var n=gi(t),i=gi(e);return!(!n||!i)&&(n.type===i.type&&n.value===i.value&&(!!pi(e,t)&&!!hi(e,t)))}(e,t))}(t,i._previousEvent))return ln&&Ve.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(e){return i._previousEvent=t}return i._previousEvent=t}return t}))},e.id="Dedupe",e}();function hi(e,t){var n=vi(e),i=vi(t);if(!n&&!i)return!0;if(n&&!i||!n&&i)return!1;if(i.length!==n.length)return!1;for(var o=0;o<i.length;o++){var r=i[o],s=n[o];if(r.filename!==s.filename||r.lineno!==s.lineno||r.colno!==s.colno||r.function!==s.function)return!1}return!0}function pi(e,t){var n=e.fingerprint,i=t.fingerprint;if(!n&&!i)return!0;if(n&&!i||!n&&i)return!1;try{return!(n.join("")!==i.join(""))}catch(e){return!1}}function gi(e){return e.exception&&e.exception.values&&e.exception.values[0]}function vi(e){var t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(e){return}else if(e.stacktrace)return e.stacktrace.frames}var mi=(0,pe.V)(),yi=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){R((function(t){if(B().getIntegration(e)){if(!mi.navigator&&!mi.location&&!mi.document)return t;var n=t.request&&t.request.url||mi.location&&mi.location.href,i=(mi.document||{}).referrer,o=(mi.navigator||{}).userAgent,r=l(l(l({},t.request&&t.request.headers),i&&{Referer:i}),o&&{"User-Agent":o}),s=l(l({},n&&{url:n}),{headers:r});return l(l({},t),{request:s})}return t}))},e.id="UserAgent",e}(),wi=[new Kn,new Xn,new Zn,new Gn,new oi,new ui,new fi,new yi];function _i(e){if(void 0===e&&(e={}),void 0===e.defaultIntegrations&&(e.defaultIntegrations=wi),void 0===e.release){var t=(0,pe.V)();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0),function(e,t){!0===t.debug&&(st?Ve.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var n=B(),i=n.getScope();i&&i.update(t.initialScope);var o=new e(t);n.bindClient(o)}(Vn,e),e.autoSessionTracking&&function(){if(void 0!==(0,pe.V)().document){var e=B();e.captureSession&&(xi(e),jn("history",(function(e){var t=e.from,n=e.to;void 0!==t&&t!==n&&xi(B())})))}else ln&&Ve.warn("Session tracking in non-browser environment with @sentry/browser is not supported.")}()}function Si(e){void 0===e&&(e={});var t=B(),n=t.getScope();n&&(e.user=l(l({},n.getUser()),e.user)),e.eventId||(e.eventId=t.lastEventId());var i=t.getClient();i&&i.showReportDialog(e)}function bi(){return B().lastEventId()}function Oi(){}function Ri(e){e()}function Ci(e){var t=B().getClient();return t?t.flush(e):(ln&&Ve.warn("Cannot flush events. No client defined."),Ye(!1))}function Pi(e){var t=B().getClient();return t?t.close(e):(ln&&Ve.warn("Cannot flush events and disable SDK. No client defined."),Ye(!1))}function Ei(e){return Rn(e)()}function xi(e){e.startSession({ignoreDuration:!0}),e.captureSession()}var ki="sentry.javascript.browser",ji={},Ii=(0,pe.V)();Ii.Sentry&&Ii.Sentry.Integrations&&(ji=Ii.Sentry.Integrations);var Li=l(l(l({},ji),i),o)},6475:(e,t,n)=>{"use strict";n.d(t,{B:()=>s,V:()=>r});var i=n(258),o={};function r(){return(0,i.wD)()?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:o}function s(e,t,n){var i=n||r(),o=i.__SENTRY__=i.__SENTRY__||{};return o[e]||(o[e]=t())}},258:(e,t,n)=>{"use strict";function i(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function o(e,t){return e.require(t)}n.d(t,{fj:()=>o,wD:()=>i}),e=n.hmd(e)},9297:(e,t,n)=>{"use strict";n.d(t,{lu:()=>c});var i=n(6475),o=n(258);e=n.hmd(e);var r={nowSeconds:function(){return Date.now()/1e3}},s=(0,o.wD)()?function(){try{return(0,o.fj)(e,"perf_hooks").performance}catch(e){return}}():function(){var e=(0,i.V)().performance;if(e&&e.now)return{now:function(){return e.now()},timeOrigin:Date.now()-e.now()}}(),a=void 0===s?r:{nowSeconds:function(){return(s.timeOrigin+s.now())/1e3}},c=r.nowSeconds.bind(r);a.nowSeconds.bind(a),function(){var e=(0,i.V)().performance;if(e&&e.now){var t=36e5,n=e.now(),o=Date.now(),r=e.timeOrigin?Math.abs(e.timeOrigin+n-o):t,s=r<t,a=e.timing&&e.timing.navigationStart,c="number"==typeof a?Math.abs(a+n-o):t;(s||c<t)&&(r<=c&&e.timeOrigin)}}()},8330:e=>{"use strict";e.exports=JSON.parse('{"name":"app-overwolf","author":"Overwolf","version":"284.0.1","description":"","scripts":{"dev":"webpack --watch --mode=development","build":"webpack --config webpack.config.js","build:prod":"webpack --config webpack-prod.config.js","build:gulp":"gulp build","lint":"eslint src/**","test":"jest","test:coverageReport":"jest --coverage","test:watch":"jest --watch","test:e2e":"jest --config ./e2e-tests/jest-e2e.json","publish:s3":"chmod +x ./scripts/winnt/publish-to-s3.sh && ./scripts/winnt/publish-to-s3.sh"},"license":"ISC","dependencies":{"@sentry/browser":"^6.19.7","@sentry/webpack-plugin":"^1.18.9","@types/react-router-dom":"^5.3.3","app-core":"*","axios":"^0.26.1","eslint-config-standard":"^17.1.0","eslint-plugin-standard":"^5.0.0","i18next":"^21.6.14","i18next-xhr-backend":"^3.2.2","react":"^17.0.2","react-dom":"^17.0.2","react-i18next":"^11.15.7","react-router-dom":"^6.2.2","reflect-metadata":"^0.1.13","tsyringe":"^4.7.0","typescript-logging":"^2.0.1","typescript-logging-category-style":"^2.0.1"},"devDependencies":{"@types/jest":"^27.4.1","@types/react":"^17.0.40","@types/react-dom":"^17.0.13","@typescript-eslint/eslint-plugin":"^5.15.0","@typescript-eslint/parser":"^5.15.0","css-loader":"^6.7.1","del":"^6.0.0","eslint":"^8.11.0","eslint-config-overwolf":"^0.1.0","eslint-config-overwolf-ts":"^0.1.0","eslint-config-prettier":"^8.5.0","eslint-plugin-import":"^2.25.4","eslint-plugin-node":"^11.1.0","eslint-plugin-prettier":"^4.0.0","eslint-plugin-promise":"^6.0.0","eslint-plugin-react":"^7.29.4","eslint-plugin-react-hooks":"^4.3.0","gulp":"^4.0.0","gulp-bump":"^3.2.0","gulp-file":"^0.4.0","gulp-sass":"^5.1.0","gulp-zip":"^5.1.0","html-webpack-plugin":"^5.5.0","jest":"^27.5.1","jest-junit":"^13.0.0","jest-mock-axios":"^4.6.1","jest-mock-extended":"^2.0.5","prettier":"^2.6.2","rimraf":"^3.0.2","sass":"^1.49.9","sass-loader":"^12.6.0","style-loader":"^3.3.1","ts-jest":"^27.1.3","ts-loader":"^9.2.8","typescript":"^5.2.2","url-loader":"^4.1.1","webpack":"^5.70.0","webpack-cli":"^4.9.2"},"opkVersion":"284.0.1"}')},2302:e=>{"use strict";e.exports=JSON.parse('{"remoteObjectRetrieverService":{"configUrl":"https://crn-info.overwolf.com/campaigns/crn/crn_prod.json","maxRetries":5,"waitIntervalBetweenRetriesInMs":2000,"retrievalIntervalInMs":3600000},"generalConfiguration":{"notificationIframeURL":"https://content.overwolf.com/ow-notifications/v2/prod/index.html","geoConditionURL":"https://recommendations.overwolf.com/crn/geo-permission/"},"sentry":{"sampleRate":0.1,"dns":"https://8bad9eb6098143c68a0fe2a47d70822f@client-errors.overwolf.com/101"}}')}},t={};function n(i){var o=t[i];if(void 0!==o)return o.exports;var r=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(5647),n(3201)})();
//# sourceMappingURL=../source-maps/background/background.js.map