!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=39)}([function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(48),t),r(n(49),t),r(n(50),t),r(n(51),t)},function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(19),t),r(n(52),t),r(n(20),t),r(n(53),t),r(n(54),t),r(n(21),t),r(n(55),t),r(n(56),t),r(n(57),t),r(n(9),t),r(n(22),t),r(n(58),t),r(n(59),t),r(n(60),t)},function(e,t,n){"use strict";var o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.Cloneable=void 0;var r=function(){function e(){}return e.prototype.clone=function(){var e=this,t=new this.constructor;return Object.keys(this).forEach((function(n){var o=e.deepClone(e[n]);void 0!==o&&(t[n]=o)})),t},e.prototype.deepClone=function(e){var t,n,r=typeof e;if("number"===r||"string"===r||"boolean"===r)return e;if(null!==e&&"object"===r){if("function"==typeof e.clone)return e.clone();if(e instanceof Date)return new Date(e.getTime());if(void 0!==e[Symbol.iterator]){var s=[];try{for(var i=o(e),a=i.next();!a.done;a=i.next()){var c=a.value;s.push(this.deepClone(c))}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return e instanceof Array?s:new e.constructor(s)}var u={};for(var l in e)e.hasOwnProperty(l)&&(u[l]=this.deepClone(e[l]));return u}},e}();t.Cloneable=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntEncoder=void 0;var o=n(0),r=function(){function e(){}return e.encode=function(e,t){var n;if("string"==typeof e&&(e=parseInt(e,10)),(n=e.toString(2)).length>t||e<0)throw new o.EncodingError("".concat(e," too large to encode into ").concat(t));return n.length<t&&(n="0".repeat(t-n.length)+n),n},e.decode=function(e,t){if(t!==e.length)throw new o.DecodingError("invalid bit length");return parseInt(e,2)},e}();t.IntEncoder=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanEncoder=void 0;var o=function(){function e(){}return e.encode=function(e){return String(Number(e))},e.decode=function(e){return"1"===e},e}();t.BooleanEncoder=o},function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(78),t),r(n(34),t)},function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConsentType=void 0;const r=n(42),s=n(47),i=n(33),a=o(n(98)),c=o(n(99)),u=n(100),l=n(38),d=n(37),p=overwolfInternal.settings.enums.SettingsCategory.Privacy,h="https://content.overwolf.com/cmp/v3",f=[1,3,4,5,6];var g;!function(e){e.None="None",e.Full="Full",e.Custom="Custom"}(g=t.ConsentType||(t.ConsentType={}));t.default=new class{constructor(){this.ShouldApplyMissingLegtInterest=!1,this.isRejectAll=!1}async run(){var e;const t=await this.getPrivacySettings();let n,o;"success"!==t.status?console.warn("Failed to retrieve cmp - "+JSON.stringify(t)):t.setting&&t.setting.cmp?(console.log("Found cmp string in settings: "+t.setting.cmp),n=t.setting.cmp):console.warn("Failed to retrieve cmp - null settings"),(null===(e=null==t?void 0:t.setting)||void 0===e?void 0:e.ac)&&(o=t.setting.ac);const r=await this.isCmpEnabled();r?r&&(n=await this.ensureValidV2ConsentString(n),this.isAcConsentSupported()&&(o=await this.ensureValidAcConsent(o)),this.persistConsent(n,o),await this.clearNoCmpExperimentFlag()):(this.clearConsentString(),await this.setNoCmpExperimentFlag())}async getPrivacySettings(){return u.OWInternalSettings.get(p)}async isCmpEnabled(){let e;try{e=!(await this.getExperimentsFromServer()).params.includes("no-cmp")}catch(t){try{e=!(await this.getExperimentsFromLocalSettings()).hasOwnProperty("no-cmp")}catch(t){e=!0}}return e}async getExperimentsFromServer(){return fetch(l.kPathToCmpURL).then(e=>e.json())}async getExperimentsFromLocalSettings(){return new Promise((e,t)=>{overwolf.profile.getCurrentUser(n=>{var o;if(!n||!n.success)return t(null!==(o=n.error)&&void 0!==o?o:"overwolf.profile.getCurrentUser failed");e(n.parameters)})})}clearConsentString(){this.removePersistentConsent(),this.updateCmpCookie(!0)}persistConsent(e,t){const n={cmp:e};this.isAcConsentSupported()&&t&&(n.ac=t),u.OWInternalSettings.set(p,n,t=>{"success"!==t.status&&console.error(`Failed to set cmp ${e} - ${t.error}`)}),this.updateCmpCookie(!1,e,t)}removePersistentConsent(){u.OWInternalSettings.remove(p,e=>{"success"!==e.status&&console.error(e.reason)})}updateCmpCookie(e,t="",n=""){const o=""!==n?"&ac="+encodeURIComponent(n):"";for(let n of l.kBaseRemoteConfigPaths)n+=l.kCMPSyncPageName,n+=e?"clear=true":"cmp="+encodeURIComponent(t)+o,this.openIframe(n)}async setNoCmpExperimentFlag(){return this.setCmpFlagInProfile(!1)}async clearNoCmpExperimentFlag(){return this.setCmpFlagInProfile(!0)}async setCmpFlagInProfile(e){return new Promise(t=>{overwolfInternal.profile.setExperimentEnabled("no-cmp",!e,e=>{e.success||console.error("Failed to set CMP flag in profile - "+e.error),t()})})}async ensureValidV2ConsentString(e){try{if(!e)throw Error("No consent String");const t=s.TCString.decode(e);if(this.shouldApplyLegitInterestPurposes(t),t&&2===t.version)return this.shouldRenewConsent(t)&&(e=await this.renewConsent(t)),e=e.split(".")[0]}catch(e){console.error(e)}try{const t=new r.ConsentString(e);if(e&&t){console.log("Migrating v1 string to v2");return await this.performMigration(t)}}catch(e){}e?console.error("Received invalid consent string!"):console.log("Received no consent string"),console.info("Generating default v2 consent string");const t=await this.createTCModel(!0);return this.reportNewFullConsentIfNeeded(t),s.TCString.encode(t)}shouldRenewConsent(e){return(new Date).getTime()-23328e6>e.lastUpdated.getTime()||!(3===e.cmpVersion&&(new Date).getTime()-2592e6<e.lastUpdated.getTime()&&e.vendorListVersion>27)}async renewConsent(e){let t=await this.createTCModel();return t.vendorListVersion===e.vendorListVersion?(e.gvl=t.gvl.clone(),t=e.clone(),t.updated()):await this.updateNewVendorConsent(e,t),a.default.reportConsentRenewed(t),s.TCString.encode(t)}async reportNewFullConsentIfNeeded(e){if(!i.LocalStorage.get("installer-cmp-checked").asBool()){if(e.created<new Date(2021,8,1))return console.log("Skipping checking and reporting old possibly full consent"),void i.LocalStorage.setBool("installer-cmp-checked",!0);s.GVL.baseUrl=this.getGVLBaseURL(e),e.gvl=new s.GVL(e.vendorListVersion),await e.gvl.readyPromise,a.default.reportFullConsentIfApplicable(e),i.LocalStorage.setBool("installer-cmp-checked",!0)}}async updateNewVendorConsent(e,t){try{s.GVL.baseUrl=this.getGVLBaseURL(e),e.gvl=new s.GVL(e.vendorListVersion),await e.gvl.readyPromise,e.purposeConsents.size!==Object.keys(t.gvl.purposes).length-1||e.purposeConsents.has(11)||e.purposeConsents.set(11);const{purposesType:n,legIntsType:o}=d.CMPUtils.getConsentTypes(e);if(n===g.Full&&o===g.Full)return this.turnOnFullConsent(t),this.enableLegitimateConsentIfShould(t),void this.filterOutLegitimateInterest(t);0===e.vendorConsents.size?t.vendorConsents.empty():e.vendorConsents.forEach((e,n)=>{e&&t.vendorConsents.set(n)}),0!==e.vendorLegitimateInterests.size||this.ShouldApplyMissingLegtInterest?this.ShouldApplyMissingLegtInterest||e.vendorLegitimateInterests.forEach((e,n)=>{e&&t.vendorLegitimateInterests.set(n)}):t.vendorLegitimateInterests.empty(),0===e.purposeConsents.size?t.purposeConsents.empty():e.purposeConsents.forEach((n,o)=>{if(!n)return;t.purposeConsents.set(o);const r=Object.values(t.gvl.getVendorsWithConsentPurpose(o)).map(e=>e.id).filter(t=>!e.gvl.vendorIds.has(t));t.vendorConsents.set(r)}),0===e.purposeLegitimateInterests.size?t.publisherLegitimateInterests.empty():e.purposeLegitimateInterests.forEach((e,n)=>{if(!e)return;if(f.includes(n))return;t.purposeLegitimateInterests.set(n);const o=Object.values(t.gvl.getVendorsWithLegIntPurpose(n)).map(e=>e.id);t.vendorLegitimateInterests.set(o)})}catch(e){console.error(e)}}async createTCModel(e=!1){s.GVL.baseUrl=h;const t=new s.TCModel(new s.GVL);return await t.gvl.readyPromise,t.cmpId=246,t.cmpVersion=3,t.isServiceSpecific=!0,t.consentScreen=1,t.consentLanguage="en",t.created=new Date((new Date).getTime()),t.lastUpdated=t.created,e&&this.turnOnFullConsent(t),this.enableLegitimateConsentIfShould(t),this.filterOutLegitimateInterest(t),t}async createAcModel(e,t=!1){const n=new c.default(e);return await n.init(),t&&n.selectAllVendors(),n.encodeAcString(),n}turnOnFullConsent(e){e.setAllPurposeConsents(),e.setAllPurposeLegitimateInterests(),e.setAllVendorConsents(),e.setAllVendorLegitimateInterests()}filterOutLegitimateInterest(e){try{const t=e.purposeLegitimateInterests.clone();e.purposeLegitimateInterests.empty(),t.forEach((t,n)=>{t&&(f.includes(n)||e.purposeLegitimateInterests.set(n))})}catch(e){}}enableLegitimateConsentIfShould(e){try{if(!this.ShouldApplyMissingLegtInterest)return;e.setAllPurposeLegitimateInterests(),e.setAllVendorLegitimateInterests()}catch(e){}}turnOnCustomConsent(e,t){const n={1:[1],2:[3,4,5,6],3:[2],4:[],5:[7,8,9]};t.forEach(t=>{const o=n[t];e.purposeConsents.set(o),e.purposeLegitimateInterests.set(o),o.forEach(t=>{const n=Object.values(e.gvl.getVendorsWithConsentPurpose(t)).map(e=>e.id);e.vendorConsents.set(n);const o=Object.values(e.gvl.getVendorsWithLegIntPurpose(t)).map(e=>e.id);e.vendorLegitimateInterests.set(o)})})}async getCreationTime(){return new Promise(e=>{overwolfInternal.profile.getCurrentUser(t=>{let n;!t||!t.consentTimestamp||t.consentTimestamp<=0?(console.warn("No consent time"),n=(new Date).getTime()):n=t.consentTimestamp;const o=new Date(parseInt(n,10));return e(o)})})}async getAllowedV1Purposes(e){const t=await fetch(l.kPathToVendorsListJson).then(e=>e.json()).then(e=>e.vendors),n=new Set;for(const o of t)if(e.isVendorAllowed(o.id)&&o.purposeIds.forEach(e=>{n.has(e)||n.add(e)}),[1,2,3,4,5].every(e=>n.has(e)))break;const o=Array.from(n);return console.log(`V1 purposes ${JSON.stringify(o)} allowed`),o}async performMigration(e){const t=await this.getAllowedV1Purposes(e),n=await this.createTCModel();0===t.length?console.info("Migration with no consent"):[1,2,3,4,5].every(e=>t.includes(e))?(console.info("Migration with full consent"),this.turnOnFullConsent(n)):(console.info("Migration with custom consent"),this.turnOnCustomConsent(n,t));const o=s.TCString.encode(n);return console.log("Migrated to v2 string "+o),o}openIframe(e){const t=document.createElement("iframe");t.width="1px",t.height="1px",t.src=e,document.body.append(t)}getGVLBaseURL(e){try{return e.cmpVersion<"3"?"https://content.overwolf.com/cmp":h}catch(e){return h}}async ensureValidAcConsent(e=""){let t;try{t=this.ShouldApplyMissingLegtInterest&&""===e?await this.createAcModel("",!1):""===e?await this.createAcModel(e,!0):await this.createAcModel(e)}catch(n){t=await this.createAcModel(e,!0)}return t.acString}isAcConsentSupported(){return overwolf.version>="0.240.1.0"}wasFullConsentApplied(){return i.LocalStorage.get("installer-cmp-checked").asBool()}shouldApplyLegitInterestPurposes(e){0===e.vendorConsents.size&&(this.isRejectAll=!0),this.isRejectAll&&(3===e.cmpVersion&&e.vendorListVersion>62||(this.ShouldApplyMissingLegtInterest=!0))}}},function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(18),t),r(n(8),t),r(n(70),t),r(n(71),t),r(n(76),t),r(n(23),t),r(n(29),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BitLength=void 0;var o=n(1),r=function(){function e(){}var t,n,r,s,i,a,c,u,l,d,p,h,f,g,v,m,y,w;return t=o.Fields.cmpId,n=o.Fields.cmpVersion,r=o.Fields.consentLanguage,s=o.Fields.consentScreen,i=o.Fields.created,a=o.Fields.isServiceSpecific,c=o.Fields.lastUpdated,u=o.Fields.policyVersion,l=o.Fields.publisherCountryCode,d=o.Fields.publisherLegitimateInterests,p=o.Fields.publisherConsents,h=o.Fields.purposeConsents,f=o.Fields.purposeLegitimateInterests,g=o.Fields.purposeOneTreatment,v=o.Fields.specialFeatureOptins,m=o.Fields.useNonStandardStacks,y=o.Fields.vendorListVersion,w=o.Fields.version,e[t]=12,e[n]=12,e[r]=12,e[s]=6,e[i]=36,e[a]=1,e[c]=36,e[u]=6,e[l]=12,e[d]=24,e[p]=24,e[h]=24,e[f]=24,e[g]=1,e[v]=12,e[m]=1,e[y]=12,e[w]=6,e.anyBoolean=1,e.encodingType=1,e.maxId=16,e.numCustomPurposes=6,e.numEntries=12,e.numRestrictions=12,e.purposeId=6,e.restrictionType=2,e.segmentType=3,e.singleOrRange=1,e.vendorId=16,e}();t.BitLength=r},function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.RestrictionType=void 0,(o=t.RestrictionType||(t.RestrictionType={}))[o.NOT_ALLOWED=0]="NOT_ALLOWED",o[o.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",o[o.REQUIRE_LI=2]="REQUIRE_LI"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FixedVectorEncoder=void 0;var o=n(4),r=n(0),s=n(1),i=function(){function e(){}return e.encode=function(e,t){for(var n="",r=1;r<=t;r++)n+=o.BooleanEncoder.encode(e.has(r));return n},e.decode=function(e,t){if(e.length!==t)throw new r.DecodingError("bitfield encoding length mismatch");for(var n=new s.Vector,i=1;i<=t;i++)o.BooleanEncoder.decode(e[i-1])&&n.set(i);return n.bitLength=e.length,n},e}();t.FixedVectorEncoder=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;t.Timer=class{constructor(e,t,n=!1){this._timerId=null,this.handleTimerEvent=()=>{this._timerId=null,this._delegate.onTimer(this._id),this._autoReset&&this.start(this._intervalInMS)},this._delegate=e,this._id=t,this._autoReset=n}static async wait(e){return new Promise(t=>{setTimeout(t,e)})}start(e){this.stop(),this._intervalInMS=e,this._timerId=setTimeout(this.handleTimerEvent,e)}stop(){null!=this._timerId&&(clearTimeout(this._timerId),this._timerId=null)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OWUtils=void 0;t.OWUtils=class{static getViewportSize(){return new Promise((e,t)=>{overwolf.utils.getMonitorsList(n=>{let o=-1,r=-1;for(const e of n.displays)e.is_primary&&(o=e.width,r=e.height);overwolf.games.getRunningGameInfo(async n=>{n&&n.isInFocus&&(o=n.width,r=n.height),null!==o&&null!==r?e({width:o,height:r}):t(new Error("could not get monitors width/height"))})})})}static getDPIScale(){return new Promise(e=>{overwolf.windows.getWindowDPI(t=>e(t.scale))})}static getAppVersion(){return new Promise(e=>{overwolf.extensions.current.getManifest(t=>e(t.meta.version))})}static getSystemInformation(){return new Promise(e=>{overwolf.utils.getSystemInformation(t=>t.success?e(t.systemInfo):e({}))})}static placeOnClipboard(e){overwolf.utils.placeOnClipboard(e)}static openUrlInDefaultBrowser(e){overwolf.utils.openUrlInDefaultBrowser(e)}static openStore(e,t){overwolf.utils.openStore({uid:e,page:t})}static openFolderPicker(e){return new Promise(t=>{overwolf.utils.openFolderPicker(e,e=>{t(e)})})}static openFilePicker(e,t,n){return new Promise(o=>{overwolf.utils.openFilePicker(e,t,e=>{o(e)},n)})}static async getMonitorsList(){return new Promise(e=>{overwolf.utils.getMonitorsList(t=>{e(t.displays)})})}static async openWindowsExplorer(e){return new Promise(t=>{overwolf.utils.openWindowsExplorer(e,t)})}static async encryptForUser(e){return new Promise(t=>{overwolf.cryptography.encryptForCurrentUser(e,e=>{t(e.ciphertext)})})}static async decryptForUser(e){return new Promise(t=>{overwolf.cryptography.decryptForCurrentUser(e,e=>{t(e.plaintext)})})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Utils=void 0;t.Utils=class{
// @license This function is in the public domain. Do what you want with it, no strings attached.
static versionCompare(e,t,n=null){const o=n&&n.lexicographical,r=n&&n.zeroExtend;let s=e.split("."),i=t.split(".");function a(e){return(o?/^\d+[A-Za-z]*$/:/^\d+$/).test(e)}if(!s.every(a)||!i.every(a))return NaN;if(r){for(;s.length<i.length;)s.push("0");for(;i.length<s.length;)i.push("0")}o||(s=s.map(Number),i=i.map(Number));for(let e=0;e<s.length;++e){if(i.length===e)return 1;if(s[e]!==i[e])return s[e]>i[e]?1:-1}return s.length!==i.length?-1:0}static closeWithDelay(e=500){setTimeout(window.close,e)}}},function(e,t,n){"use strict";var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=n(15),s=r.encodeToBase64,i=r.padRight;function a(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n="",o=1;o<=e;o+=1)n+=-1!==t.indexOf(o)?"1":"0";return i(n,Math.max(0,e-n.length))}function c(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,n=0,o=0;o<e.length;o+=1)n=Math.max(n,e[o].id);for(var r=0;r<t.length;r+=1)n=Math.max(n,t[r]);for(var s="",i=1;i<=n;i+=1)s+=-1!==t.indexOf(i)?"1":"0";return s}function u(e,t){for(var n=[],o=[],r=e.map((function(e){return e.id})),s=0;s<e.length;s+=1){var i=e[s].id;if(-1!==t.indexOf(i)&&n.push(i),(-1===t.indexOf(i)||s===e.length-1||-1===r.indexOf(i+1))&&n.length){var a=n.shift(),c=n.pop();n=[],o.push({isRange:"number"==typeof c,startVendorId:a,endVendorId:c})}}return o}function l(e){var t=0;return e.forEach((function(e){e.id>t&&(t=e.id)})),t}e.exports={convertVendorsToRanges:u,encodeConsentString:function(e){var t=e.maxVendorId,n=e.vendorList,r=void 0===n?{}:n,i=e.allowedPurposeIds,d=e.allowedVendorIds,p=r.vendors,h=void 0===p?[]:p,f=r.purposes,g=void 0===f?[]:f;t||(t=l(h));var v=s(o({},e,{maxVendorId:t,purposeIdBitString:c(g,i),isRange:!1,vendorIdBitString:a(t,d)})),m=u(h,d),y=s(o({},e,{maxVendorId:t,purposeIdBitString:c(g,i),isRange:!0,defaultConsent:!1,numEntries:m.length,vendorRangeList:m}));return v.length<y.length?v:y},getMaxVendorId:l,encodeVendorIdsToBits:a,encodePurposeIdsToBits:c}},function(e,t,n){"use strict";var o=n(44),r=n(16),s=r.versionNumBits,i=r.vendorVersionMap;function a(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",n="",o=0;o<e;o+=1)n+=t;return n}function c(e,t){return a(Math.max(0,t))+e}function u(e,t){return e+a(Math.max(0,t))}function l(e,t){var n="";return"number"!=typeof e||isNaN(e)||(n=parseInt(e,10).toString(2)),t>=n.length&&(n=c(n,t-n.length)),n.length>t&&(n=n.substring(0,t)),n}function d(e){return l(!0===e?1:0,1)}function p(e,t){return e instanceof Date?l(e.getTime()/100,t):l(e,t)}function h(e,t){return l(e.toUpperCase().charCodeAt(0)-65,t)}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:12;return h(e.slice(0,1),t/2)+h(e.slice(1),t/2)}function g(e,t,n){return parseInt(e.substr(t,n),2)}function v(e,t,n){return new Date(100*g(e,t,n))}function m(e,t){return 1===parseInt(e.substr(t,1),2)}function y(e){var t=g(e);return String.fromCharCode(t+65).toLowerCase()}function w(e,t,n){var o=e.substr(t,n);return y(o.slice(0,n/2))+y(o.slice(n/2))}function I(e){var t=e.input,n=e.field,o=n.name,r=n.type,s=n.numBits,i=n.encoder,a=n.validator;if("function"==typeof a&&!a(t))return"";if("function"==typeof i)return i(t);var c="function"==typeof s?s(t):s,h=t[o],g=null==h?"":h;switch(r){case"int":return l(g,c);case"bool":return d(g);case"date":return p(g,c);case"bits":return u(g,c-g.length).substring(0,c);case"list":return g.reduce((function(e,t){return e+_({input:t,fields:n.fields})}),"");case"language":return f(g,c);default:throw new Error("ConsentString - Unknown field type "+r+" for encoding")}}function _(e){var t=e.input;return e.fields.reduce((function(e,n){return e+=I({input:t,field:n})}),"")}function b(e){var t=e.input,n=e.output,o=e.startPosition,r=e.field,s=r.type,i=r.numBits,a=r.decoder,c=r.validator,u=r.listCount;if("function"==typeof c&&!c(n))return{newPosition:o};if("function"==typeof a)return a(t,n,o);var l="function"==typeof i?i(n):i;switch(s){case"int":return{fieldValue:g(t,o,l)};case"bool":return{fieldValue:m(t,o)};case"date":return{fieldValue:v(t,o,l)};case"bits":return{fieldValue:t.substr(o,l)};case"list":return function(e,t,n,o,r){var s=0;"function"==typeof r?s=r(t):"number"==typeof r&&(s=r);for(var i=n,a=[],c=0;c<s;c+=1){var u=S({input:e,fields:o.fields,startPosition:i});i=u.newPosition,a.push(u.decodedObject)}return{fieldValue:a,newPosition:i}}(t,n,o,r,u);case"language":return{fieldValue:w(t,o,l)};default:throw new Error("ConsentString - Unknown field type "+s+" for decoding")}}function S(e){var t=e.input,n=e.fields,o=e.startPosition,r=void 0===o?0:o;return{decodedObject:n.reduce((function(e,n){var o=n.name,s=n.numBits,i=b({input:t,output:e,startPosition:r,field:n}),a=i.fieldValue,c=i.newPosition;return void 0!==a&&(e[o]=a),void 0!==c?r=c:"number"==typeof s&&(r+=s),e}),{}),newPosition:r}}function E(e,t){var n=e.version;if("number"!=typeof n)throw new Error("ConsentString - No version field to encode");if(t[n])return _({input:e,fields:t[n].fields});throw new Error("ConsentString - No definition for version "+n)}e.exports={padRight:u,padLeft:c,encodeField:I,encodeDataToBits:E,encodeIntToBits:l,encodeBoolToBits:d,encodeDateToBits:p,encodeLanguageToBits:f,encodeLetterToBits:h,encodeToBase64:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,n=E(e,t);if(n){for(var r=u(n,7-(n.length+7)%8),s="",a=0;a<r.length;a+=8)s+=String.fromCharCode(parseInt(r.substr(a,8),2));return o.encode(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}return null},decodeBitsToIds:function(e){return e.split("").reduce((function(e,t,n){return"1"===t&&-1===e.indexOf(n+1)&&e.push(n+1),e}),[])},decodeBitsToInt:g,decodeBitsToDate:v,decodeBitsToBool:m,decodeBitsToLanguage:w,decodeBitsToLetter:y,decodeFromBase64:function(e,t){for(var n=e;n.length%4!=0;)n+="=";n=n.replace(/-/g,"+").replace(/_/g,"/");for(var r=o.decode(n),a="",u=0;u<r.length;u+=1){var l=r.charCodeAt(u).toString(2);a+=c(l,8-l.length)}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i,n=g(e,0,s);if("number"!=typeof n)throw new Error("ConsentString - Unknown version number in the string to decode");if(!i[n])throw new Error("ConsentString - Unsupported version "+n+" in the string to decode");var o=t[n].fields,r=S({input:e,fields:o}),a=r.decodedObject;return a}(a,t)}}},function(e,t,n){"use strict";e.exports={versionNumBits:6,vendorVersionMap:{1:{version:1,metadataFields:["version","created","lastUpdated","cmpId","cmpVersion","consentScreen","vendorListVersion"],fields:[{name:"version",type:"int",numBits:6},{name:"created",type:"date",numBits:36},{name:"lastUpdated",type:"date",numBits:36},{name:"cmpId",type:"int",numBits:12},{name:"cmpVersion",type:"int",numBits:12},{name:"consentScreen",type:"int",numBits:6},{name:"consentLanguage",type:"language",numBits:12},{name:"vendorListVersion",type:"int",numBits:12},{name:"purposeIdBitString",type:"bits",numBits:24},{name:"maxVendorId",type:"int",numBits:16},{name:"isRange",type:"bool",numBits:1},{name:"vendorIdBitString",type:"bits",numBits:function(e){return e.maxVendorId},validator:function(e){return!e.isRange}},{name:"defaultConsent",type:"bool",numBits:1,validator:function(e){return e.isRange}},{name:"numEntries",numBits:12,type:"int",validator:function(e){return e.isRange}},{name:"vendorRangeList",type:"list",listCount:function(e){return e.numEntries},validator:function(e){return e.isRange},fields:[{name:"isRange",type:"bool",numBits:1},{name:"startVendorId",type:"int",numBits:16},{name:"endVendorId",type:"int",numBits:16,validator:function(e){return e.isRange}}]}]}}}},function(e,t,n){"use strict";var o=n(15),r=o.decodeBitsToIds,s=o.decodeFromBase64;e.exports={decodeConsentString:function(e){var t=s(e),n=t.version,o=t.cmpId,i=t.vendorListVersion,a=t.purposeIdBitString,c=t.maxVendorId,u=t.created,l=t.lastUpdated,d=t.isRange,p=t.defaultConsent,h=t.vendorIdBitString,f=t.vendorRangeList,g=t.cmpVersion,v=t.consentScreen,m=t.consentLanguage,y={version:n,cmpId:o,vendorListVersion:i,allowedPurposeIds:r(a),maxVendorId:c,created:u,lastUpdated:l,cmpVersion:g,consentScreen:v,consentLanguage:m};if(d){var w=f.reduce((function(e,t){for(var n=t.isRange,o=t.startVendorId,r=t.endVendorId,s=n?r:o,i=o;i<=s;i+=1)e[i]=!0;return e}),{});y.allowedVendorIds=[];for(var I=1;I<=c;I+=1)(p&&!w[I]||!p&&w[I])&&-1===y.allowedVendorIds.indexOf(I)&&y.allowedVendorIds.push(I)}else y.allowedVendorIds=r(h);return y}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Base64Url=void 0;var o=n(0),r=function(){function e(){}return e.encode=function(e){if(!/^[0-1]+$/.test(e))throw new o.EncodingError("Invalid bitField");var t=e.length%this.LCM;e+=t?"0".repeat(this.LCM-t):"";for(var n="",r=0;r<e.length;r+=this.BASIS)n+=this.DICT[parseInt(e.substr(r,this.BASIS),2)];return n},e.decode=function(e){if(!/^[A-Za-z0-9\-_]+$/.test(e))throw new o.DecodingError("Invalidly encoded Base64URL string");for(var t="",n=0;n<e.length;n++){var r=this.REVERSE_DICT.get(e[n]).toString(2);t+="0".repeat(this.BASIS-r.length)+r}return t},e.DICT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",e.REVERSE_DICT=new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]),e.BASIS=6,e.LCM=24,e}();t.Base64Url=r},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.BinarySearchTree=void 0;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.root=null,t}return r(t,e),t.prototype.getRoot=function(){return this.root},t.prototype.isEmpty=function(){return!this.root},t.prototype.add=function(e){var t,n={value:e,left:null,right:null};if(this.isEmpty())this.root=n;else for(t=this.root;;)if(e<t.value){if(null===t.left){t.left=n;break}t=t.left}else{if(!(e>t.value))break;if(null===t.right){t.right=n;break}t=t.right}},t.prototype.get=function(){for(var e=[],t=this.root;t;)if(t.left){for(var n=t.left;n.right&&n.right!=t;)n=n.right;n.right==t?(n.right=null,e.push(t.value),t=t.right):(n.right=t,t=t.left)}else e.push(t.value),t=t.right;return e},t.prototype.contains=function(e){for(var t=!1,n=this.root;n;){if(n.value===e){t=!0;break}e>n.value?n=n.right:e<n.value&&(n=n.left)}return t},t.prototype.min=function(e){var t;for(void 0===e&&(e=this.root);e;)e.left?e=e.left:(t=e.value,e=null);return t},t.prototype.max=function(e){var t;for(void 0===e&&(e=this.root);e;)e.right?e=e.right:(t=e.value,e=null);return t},t.prototype.remove=function(e,t){void 0===t&&(t=this.root);for(var n=null,o="left";t;)if(e<t.value)n=t,t=t.left,o="left";else if(e>t.value)n=t,t=t.right,o="right";else{if(t.left||t.right)if(t.left)if(t.right){var r=this.min(t.right);this.remove(r,t.right),t.value=r}else n?n[o]=t.left:this.root=t.left;else n?n[o]=t.right:this.root=t.right;else n?n[o]=null:this.root=null;t=null}},t.build=function(e){if(e&&0!==e.length){if(1===e.length)return(n=new t).add(e[0]),n;var n,o=e.length>>1;(n=new t).add(e[o]);var r=n.getRoot();if(r){if(o+1<e.length){var s=t.build(e.slice(o+1));r.right=s?s.getRoot():null}if(o-1>0){var i=t.build(e.slice(0,o-1));r.left=i?i.getRoot():null}}return n}return null},t}(n(2).Cloneable);t.BinarySearchTree=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Fields=void 0;var o=function(){function e(){}return e.cmpId="cmpId",e.cmpVersion="cmpVersion",e.consentLanguage="consentLanguage",e.consentScreen="consentScreen",e.created="created",e.supportOOB="supportOOB",e.isServiceSpecific="isServiceSpecific",e.lastUpdated="lastUpdated",e.numCustomPurposes="numCustomPurposes",e.policyVersion="policyVersion",e.publisherCountryCode="publisherCountryCode",e.publisherCustomConsents="publisherCustomConsents",e.publisherCustomLegitimateInterests="publisherCustomLegitimateInterests",e.publisherLegitimateInterests="publisherLegitimateInterests",e.publisherConsents="publisherConsents",e.publisherRestrictions="publisherRestrictions",e.purposeConsents="purposeConsents",e.purposeLegitimateInterests="purposeLegitimateInterests",e.purposeOneTreatment="purposeOneTreatment",e.specialFeatureOptins="specialFeatureOptins",e.useNonStandardStacks="useNonStandardStacks",e.vendorConsents="vendorConsents",e.vendorLegitimateInterests="vendorLegitimateInterests",e.vendorListVersion="vendorListVersion",e.vendorsAllowed="vendorsAllowed",e.vendorsDisclosed="vendorsDisclosed",e.version="version",e}();t.Fields=o},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.PurposeRestriction=void 0;var s=n(2),i=n(0),a=n(9),c=function(e){function t(t,n){var o=e.call(this)||this;return void 0!==t&&(o.purposeId=t),void 0!==n&&(o.restrictionType=n),o}return r(t,e),t.unHash=function(e){var n=e.split(this.hashSeparator),o=new t;if(2!==n.length)throw new i.TCModelError("hash",e);return o.purposeId=parseInt(n[0],10),o.restrictionType=parseInt(n[1],10),o},Object.defineProperty(t.prototype,"hash",{get:function(){if(!this.isValid())throw new Error("cannot hash invalid PurposeRestriction");return"".concat(this.purposeId).concat(t.hashSeparator).concat(this.restrictionType)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"purposeId",{get:function(){return this.purposeId_},set:function(e){this.purposeId_=e},enumerable:!1,configurable:!0}),t.prototype.isValid=function(){return Number.isInteger(this.purposeId)&&this.purposeId>0&&(this.restrictionType===a.RestrictionType.NOT_ALLOWED||this.restrictionType===a.RestrictionType.REQUIRE_CONSENT||this.restrictionType===a.RestrictionType.REQUIRE_LI)},t.prototype.isSameAs=function(e){return this.purposeId===e.purposeId&&this.restrictionType===e.restrictionType},t.hashSeparator="-",t}(s.Cloneable);t.PurposeRestriction=c},function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.Segment=void 0,(o=t.Segment||(t.Segment={})).CORE="core",o.VENDORS_DISCLOSED="vendorsDisclosed",o.VENDORS_ALLOWED="vendorsAllowed",o.PUBLISHER_TC="publisherTC"},function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(4),t),r(n(24),t),r(n(72),t),r(n(10),t),r(n(3),t),r(n(25),t),r(n(26),t),r(n(28),t),r(n(27),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DateEncoder=void 0;var o=n(3),r=n(0),s=function(){function e(){}return e.encode=function(e,t){return o.IntEncoder.encode(Math.round(e.getTime()/100),t)},e.decode=function(e,t){if(t!==e.length)throw new r.DecodingError("invalid bit length");var n=new Date;return n.setTime(100*o.IntEncoder.decode(e,t)),n},e}();t.DateEncoder=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LangEncoder=void 0;var o=n(3),r=n(0),s=function(){function e(){}return e.encode=function(e,t){var n=(e=e.toUpperCase()).charCodeAt(0)-65,s=e.charCodeAt(1)-65;if(n<0||n>25||s<0||s>25)throw new r.EncodingError("invalid language code: ".concat(e));if(t%2==1)throw new r.EncodingError("numBits must be even, ".concat(t," is not valid"));return t/=2,o.IntEncoder.encode(n,t)+o.IntEncoder.encode(s,t)},e.decode=function(e,t){if(t!==e.length||e.length%2)throw new r.DecodingError("invalid bit length for language");var n=e.length/2,s=o.IntEncoder.decode(e.slice(0,n),n)+65,i=o.IntEncoder.decode(e.slice(n),n)+65;return String.fromCharCode(s)+String.fromCharCode(i)},e}();t.LangEncoder=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PurposeRestrictionVectorEncoder=void 0;var o=n(8),r=n(4),s=n(0),i=n(3),a=n(1),c=function(){function e(){}return e.encode=function(e){var t=i.IntEncoder.encode(e.numRestrictions,o.BitLength.numRestrictions);return e.isEmpty()||e.getRestrictions().forEach((function(n){t+=i.IntEncoder.encode(n.purposeId,o.BitLength.purposeId),t+=i.IntEncoder.encode(n.restrictionType,o.BitLength.restrictionType);for(var s=e.getVendors(n),a=s.length,c=0,u=0,l="",d=function(t){var n=s[t];0===u&&(c++,u=n);var d=s[a-1],p=e.gvl.vendorIds;if(t===a-1||s[t+1]>function(e){for(;++e<=d&&!p.has(e););return e}(n)){var h=!(n===u);l+=r.BooleanEncoder.encode(h),l+=i.IntEncoder.encode(u,o.BitLength.vendorId),h&&(l+=i.IntEncoder.encode(n,o.BitLength.vendorId)),u=0}},p=0;p<a;p++)d(p);t+=i.IntEncoder.encode(c,o.BitLength.numEntries),t+=l})),t},e.decode=function(e){var t=0,n=new a.PurposeRestrictionVector,c=i.IntEncoder.decode(e.substr(t,o.BitLength.numRestrictions),o.BitLength.numRestrictions);t+=o.BitLength.numRestrictions;for(var u=0;u<c;u++){var l=i.IntEncoder.decode(e.substr(t,o.BitLength.purposeId),o.BitLength.purposeId);t+=o.BitLength.purposeId;var d=i.IntEncoder.decode(e.substr(t,o.BitLength.restrictionType),o.BitLength.restrictionType);t+=o.BitLength.restrictionType;var p=new a.PurposeRestriction(l,d),h=i.IntEncoder.decode(e.substr(t,o.BitLength.numEntries),o.BitLength.numEntries);t+=o.BitLength.numEntries;for(var f=0;f<h;f++){var g=r.BooleanEncoder.decode(e.substr(t,o.BitLength.anyBoolean));t+=o.BitLength.anyBoolean;var v=i.IntEncoder.decode(e.substr(t,o.BitLength.vendorId),o.BitLength.vendorId);if(t+=o.BitLength.vendorId,g){var m=i.IntEncoder.decode(e.substr(t,o.BitLength.vendorId),o.BitLength.vendorId);if(t+=o.BitLength.vendorId,m<v)throw new s.DecodingError("Invalid RangeEntry: endVendorId ".concat(m," is less than ").concat(v));for(var y=v;y<=m;y++)n.add(y,p)}else n.add(v,p)}}return n.bitLength=t,n},e}();t.PurposeRestrictionVectorEncoder=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VendorVectorEncoder=void 0;var o=n(1),r=n(7),s=n(3),i=n(4),a=n(10),c=n(28),u=n(0),l=function(){function e(){}return e.encode=function(e){var t,n=[],o=[],a=s.IntEncoder.encode(e.maxId,r.BitLength.maxId),u="",l=r.BitLength.maxId+r.BitLength.encodingType,d=l+e.maxId,p=2*r.BitLength.vendorId+r.BitLength.singleOrRange+r.BitLength.numEntries,h=l+r.BitLength.numEntries;return e.forEach((function(s,a){u+=i.BooleanEncoder.encode(s),(t=e.maxId>p&&h<d)&&s&&(e.has(a+1)?0===o.length&&(o.push(a),h+=r.BitLength.singleOrRange,h+=r.BitLength.vendorId):(o.push(a),h+=r.BitLength.vendorId,n.push(o),o=[]))})),t?(a+=String(c.VectorEncodingType.RANGE),a+=this.buildRangeEncoding(n)):(a+=String(c.VectorEncodingType.FIELD),a+=u),a},e.decode=function(e,t){var n,l=0,d=s.IntEncoder.decode(e.substr(l,r.BitLength.maxId),r.BitLength.maxId);l+=r.BitLength.maxId;var p=s.IntEncoder.decode(e.charAt(l),r.BitLength.encodingType);if(l+=r.BitLength.encodingType,p===c.VectorEncodingType.RANGE){if(n=new o.Vector,1===t){if("1"===e.substr(l,1))throw new u.DecodingError("Unable to decode default consent=1");l++}var h=s.IntEncoder.decode(e.substr(l,r.BitLength.numEntries),r.BitLength.numEntries);l+=r.BitLength.numEntries;for(var f=0;f<h;f++){var g=i.BooleanEncoder.decode(e.charAt(l));l+=r.BitLength.singleOrRange;var v=s.IntEncoder.decode(e.substr(l,r.BitLength.vendorId),r.BitLength.vendorId);if(l+=r.BitLength.vendorId,g){var m=s.IntEncoder.decode(e.substr(l,r.BitLength.vendorId),r.BitLength.vendorId);l+=r.BitLength.vendorId;for(var y=v;y<=m;y++)n.set(y)}else n.set(v)}}else{var w=e.substr(l,d);l+=d,n=a.FixedVectorEncoder.decode(w,d)}return n.bitLength=l,n},e.buildRangeEncoding=function(e){var t=e.length,n=s.IntEncoder.encode(t,r.BitLength.numEntries);return e.forEach((function(e){var t=1===e.length;n+=i.BooleanEncoder.encode(!t),n+=s.IntEncoder.encode(e[0],r.BitLength.vendorId),t||(n+=s.IntEncoder.encode(e[1],r.BitLength.vendorId))})),n},e}();t.VendorVectorEncoder=l},function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.VectorEncodingType=void 0,(o=t.VectorEncodingType||(t.VectorEncodingType={}))[o.FIELD=0]="FIELD",o[o.RANGE=1]="RANGE"},function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(73),t),r(n(74),t),r(n(75),t)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,s){function i(e){try{c(o.next(e))}catch(e){s(e)}}function a(e){try{c(o.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((o=o.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,o,r,s,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&s[0]?o.return:s[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,s[1])).done)return r;switch(o=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,o=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){i.label=s[1];break}if(6===s[0]&&i.label<r[1]){i.label=r[1],r=s;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(s);break}r[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],o=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.GVL=void 0;var a=n(2),c=n(0),u=n(31),l=n(1),d=function(e){function t(n){var o=e.call(this)||this;o.isReady_=!1,o.isLatest=!1;var r=t.baseUrl;if(o.lang_=t.DEFAULT_LANGUAGE,o.isVendorList(n))o.populate(n),o.readyPromise=Promise.resolve();else{if(!r)throw new c.GVLError("must specify GVL.baseUrl before loading GVL json");if(n>0){var s=n;t.CACHE.has(s)?(o.populate(t.CACHE.get(s)),o.readyPromise=Promise.resolve()):(r+=t.versionedFilename.replace("[VERSION]",String(s)),o.readyPromise=o.fetchJson(r))}else t.CACHE.has(t.LATEST_CACHE_KEY)?(o.populate(t.CACHE.get(t.LATEST_CACHE_KEY)),o.readyPromise=Promise.resolve()):(o.isLatest=!0,o.readyPromise=o.fetchJson(r+t.latestFilename))}return o}return r(t,e),Object.defineProperty(t,"baseUrl",{get:function(){return this.baseUrl_},set:function(e){if(/^https?:\/\/vendorlist\.consensu\.org\//.test(e))throw new c.GVLError("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");e.length>0&&"/"!==e[e.length-1]&&(e+="/"),this.baseUrl_=e},enumerable:!1,configurable:!0}),t.emptyLanguageCache=function(e){var n=!1;return void 0===e&&t.LANGUAGE_CACHE.size>0?(t.LANGUAGE_CACHE=new Map,n=!0):"string"==typeof e&&this.consentLanguages.has(e.toUpperCase())&&(t.LANGUAGE_CACHE.delete(e.toUpperCase()),n=!0),n},t.emptyCache=function(e){var n=!1;return Number.isInteger(e)&&e>=0?(t.CACHE.delete(e),n=!0):void 0===e&&(t.CACHE=new Map,n=!0),n},t.prototype.cacheLanguage=function(){t.LANGUAGE_CACHE.has(this.lang_)||t.LANGUAGE_CACHE.set(this.lang_,{purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks})},t.prototype.fetchJson=function(e){return s(this,void 0,void 0,(function(){var t,n;return i(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),t=this.populate,[4,u.Json.fetch(e)];case 1:return t.apply(this,[o.sent()]),[3,3];case 2:throw n=o.sent(),new c.GVLError(n.message);case 3:return[2]}}))}))},t.prototype.getJson=function(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,vendors:this.fullVendorList}))},t.prototype.changeLanguage=function(e){return s(this,void 0,void 0,(function(){var n,o,r,s,a;return i(this,(function(i){switch(i.label){case 0:if(n=e.toUpperCase(),!t.consentLanguages.has(n))return[3,6];if(n===this.lang_)return[3,5];if(this.lang_=n,!t.LANGUAGE_CACHE.has(n))return[3,1];for(r in o=t.LANGUAGE_CACHE.get(n))o.hasOwnProperty(r)&&(this[r]=o[r]);return[3,5];case 1:s=t.baseUrl+t.languageFilename.replace("[LANG]",e),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,this.fetchJson(s)];case 3:return i.sent(),this.cacheLanguage(),[3,5];case 4:throw a=i.sent(),new c.GVLError("unable to load language: "+a.message);case 5:return[3,7];case 6:throw new c.GVLError("unsupported language ".concat(e));case 7:return[2]}}))}))},Object.defineProperty(t.prototype,"language",{get:function(){return this.lang_},enumerable:!1,configurable:!0}),t.prototype.isVendorList=function(e){return void 0!==e&&void 0!==e.vendors},t.prototype.populate=function(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors_=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.isReady_=!0,this.isLatest&&t.CACHE.set(t.LATEST_CACHE_KEY,this.getJson()),t.CACHE.has(this.vendorListVersion)||t.CACHE.set(this.vendorListVersion,this.getJson())),this.cacheLanguage()},t.prototype.mapVendors=function(e){var t=this;this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach((function(e){t.byPurposeVendorMap[e]={legInt:new Set,consent:new Set,flexible:new Set}})),Object.keys(this.specialPurposes).forEach((function(e){t.bySpecialPurposeVendorMap[e]=new Set})),Object.keys(this.features).forEach((function(e){t.byFeatureVendorMap[e]=new Set})),Object.keys(this.specialFeatures).forEach((function(e){t.bySpecialFeatureVendorMap[e]=new Set})),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map((function(e){return+e}))),this.vendorIds=new Set(e),this.vendors_=e.reduce((function(e,n){var o=t.vendors_[String(n)];return o&&void 0===o.deletedDate&&(o.purposes.forEach((function(e){t.byPurposeVendorMap[String(e)].consent.add(n)})),o.specialPurposes.forEach((function(e){t.bySpecialPurposeVendorMap[String(e)].add(n)})),o.legIntPurposes.forEach((function(e){t.byPurposeVendorMap[String(e)].legInt.add(n)})),o.flexiblePurposes&&o.flexiblePurposes.forEach((function(e){t.byPurposeVendorMap[String(e)].flexible.add(n)})),o.features.forEach((function(e){t.byFeatureVendorMap[String(e)].add(n)})),o.specialFeatures.forEach((function(e){t.bySpecialFeatureVendorMap[String(e)].add(n)})),e[n]=o),e}),{})},t.prototype.getFilteredVendors=function(e,t,n,o){var r=this,s=e.charAt(0).toUpperCase()+e.slice(1),i={};return("purpose"===e&&n?this["by"+s+"VendorMap"][String(t)][n]:this["by"+(o?"Special":"")+s+"VendorMap"][String(t)]).forEach((function(e){i[String(e)]=r.vendors[String(e)]})),i},t.prototype.getVendorsWithConsentPurpose=function(e){return this.getFilteredVendors("purpose",e,"consent")},t.prototype.getVendorsWithLegIntPurpose=function(e){return this.getFilteredVendors("purpose",e,"legInt")},t.prototype.getVendorsWithFlexiblePurpose=function(e){return this.getFilteredVendors("purpose",e,"flexible")},t.prototype.getVendorsWithSpecialPurpose=function(e){return this.getFilteredVendors("purpose",e,void 0,!0)},t.prototype.getVendorsWithFeature=function(e){return this.getFilteredVendors("feature",e)},t.prototype.getVendorsWithSpecialFeature=function(e){return this.getFilteredVendors("feature",e,void 0,!0)},Object.defineProperty(t.prototype,"vendors",{get:function(){return this.vendors_},enumerable:!1,configurable:!0}),t.prototype.narrowVendorsTo=function(e){this.mapVendors(e)},Object.defineProperty(t.prototype,"isReady",{get:function(){return this.isReady_},enumerable:!1,configurable:!0}),t.prototype.clone=function(){var e=new t(this.getJson());return this.lang_!==t.DEFAULT_LANGUAGE&&e.changeLanguage(this.lang_),e},t.isInstanceOf=function(e){return"object"==typeof e&&"function"==typeof e.narrowVendorsTo},t.LANGUAGE_CACHE=new Map,t.CACHE=new Map,t.LATEST_CACHE_KEY=0,t.DEFAULT_LANGUAGE="EN",t.consentLanguages=new l.ConsentLanguages,t.latestFilename="vendor-list.json",t.versionedFilename="archives/vendor-list-v[VERSION].json",t.languageFilename="purposes-[LANG].json",t}(a.Cloneable);t.GVL=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Json=void 0;var o=function(){function e(){}return e.absCall=function(e,t,n,o){return new Promise((function(r,s){var i=new XMLHttpRequest;i.withCredentials=n,i.addEventListener("load",(function(){if(i.readyState==XMLHttpRequest.DONE)if(i.status>=200&&i.status<300){var e=i.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}r(e)}else s(new Error("HTTP Status: ".concat(i.status," response type: ").concat(i.responseType)))})),i.addEventListener("error",(function(){s(new Error("error"))})),i.addEventListener("abort",(function(){s(new Error("aborted"))})),null===t?i.open("GET",e,!0):i.open("POST",e,!0),i.responseType="json",i.timeout=o,i.ontimeout=function(){s(new Error("Timeout "+o+"ms "+e))},i.send(t)}))},e.post=function(e,t,n,o){return void 0===n&&(n=!1),void 0===o&&(o=0),this.absCall(e,JSON.stringify(t),n,o)},e.fetch=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=0),this.absCall(e,null,t,n)},e}();t.Json=o},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.TCModel=void 0;var s=n(2),i=n(0),a=n(30),c=n(1),u=function(e){function t(t){var n=e.call(this)||this;return n.isServiceSpecific_=!1,n.supportOOB_=!0,n.useNonStandardStacks_=!1,n.purposeOneTreatment_=!1,n.publisherCountryCode_="AA",n.version_=2,n.consentScreen_=0,n.policyVersion_=2,n.consentLanguage_="EN",n.cmpId_=0,n.cmpVersion_=0,n.vendorListVersion_=0,n.numCustomPurposes_=0,n.specialFeatureOptins=new c.Vector,n.purposeConsents=new c.Vector,n.purposeLegitimateInterests=new c.Vector,n.publisherConsents=new c.Vector,n.publisherLegitimateInterests=new c.Vector,n.publisherCustomConsents=new c.Vector,n.publisherCustomLegitimateInterests=new c.Vector,n.vendorConsents=new c.Vector,n.vendorLegitimateInterests=new c.Vector,n.vendorsDisclosed=new c.Vector,n.vendorsAllowed=new c.Vector,n.publisherRestrictions=new c.PurposeRestrictionVector,t&&(n.gvl=t),n.updated(),n}return r(t,e),Object.defineProperty(t.prototype,"gvl",{get:function(){return this.gvl_},set:function(e){a.GVL.isInstanceOf(e)||(e=new a.GVL(e)),this.gvl_=e,this.publisherRestrictions.gvl=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cmpId",{get:function(){return this.cmpId_},set:function(e){if(e=Number(e),!(Number.isInteger(e)&&e>1))throw new i.TCModelError("cmpId",e);this.cmpId_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cmpVersion",{get:function(){return this.cmpVersion_},set:function(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new i.TCModelError("cmpVersion",e);this.cmpVersion_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"consentScreen",{get:function(){return this.consentScreen_},set:function(e){if(e=Number(e),!(Number.isInteger(e)&&e>-1))throw new i.TCModelError("consentScreen",e);this.consentScreen_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"consentLanguage",{get:function(){return this.consentLanguage_},set:function(e){this.consentLanguage_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"publisherCountryCode",{get:function(){return this.publisherCountryCode_},set:function(e){if(!/^([A-z]){2}$/.test(e))throw new i.TCModelError("publisherCountryCode",e);this.publisherCountryCode_=e.toUpperCase()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"vendorListVersion",{get:function(){return this.gvl?this.gvl.vendorListVersion:this.vendorListVersion_},set:function(e){if((e=Number(e)>>0)<0)throw new i.TCModelError("vendorListVersion",e);this.vendorListVersion_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"policyVersion",{get:function(){return this.gvl?this.gvl.tcfPolicyVersion:this.policyVersion_},set:function(e){if(this.policyVersion_=parseInt(e,10),this.policyVersion_<0)throw new i.TCModelError("policyVersion",e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this.version_},set:function(e){this.version_=parseInt(e,10)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isServiceSpecific",{get:function(){return this.isServiceSpecific_},set:function(e){this.isServiceSpecific_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useNonStandardStacks",{get:function(){return this.useNonStandardStacks_},set:function(e){this.useNonStandardStacks_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"supportOOB",{get:function(){return this.supportOOB_},set:function(e){this.supportOOB_=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"purposeOneTreatment",{get:function(){return this.purposeOneTreatment_},set:function(e){this.purposeOneTreatment_=e},enumerable:!1,configurable:!0}),t.prototype.setAllVendorConsents=function(){this.vendorConsents.set(this.gvl.vendors)},t.prototype.unsetAllVendorConsents=function(){this.vendorConsents.empty()},t.prototype.setAllVendorsDisclosed=function(){this.vendorsDisclosed.set(this.gvl.vendors)},t.prototype.unsetAllVendorsDisclosed=function(){this.vendorsDisclosed.empty()},t.prototype.setAllVendorsAllowed=function(){this.vendorsAllowed.set(this.gvl.vendors)},t.prototype.unsetAllVendorsAllowed=function(){this.vendorsAllowed.empty()},t.prototype.setAllVendorLegitimateInterests=function(){this.vendorLegitimateInterests.set(this.gvl.vendors)},t.prototype.unsetAllVendorLegitimateInterests=function(){this.vendorLegitimateInterests.empty()},t.prototype.setAllPurposeConsents=function(){this.purposeConsents.set(this.gvl.purposes)},t.prototype.unsetAllPurposeConsents=function(){this.purposeConsents.empty()},t.prototype.setAllPurposeLegitimateInterests=function(){this.purposeLegitimateInterests.set(this.gvl.purposes)},t.prototype.unsetAllPurposeLegitimateInterests=function(){this.purposeLegitimateInterests.empty()},t.prototype.setAllSpecialFeatureOptins=function(){this.specialFeatureOptins.set(this.gvl.specialFeatures)},t.prototype.unsetAllSpecialFeatureOptins=function(){this.specialFeatureOptins.empty()},t.prototype.setAll=function(){this.setAllVendorConsents(),this.setAllPurposeLegitimateInterests(),this.setAllSpecialFeatureOptins(),this.setAllPurposeConsents(),this.setAllVendorLegitimateInterests()},t.prototype.unsetAll=function(){this.unsetAllVendorConsents(),this.unsetAllPurposeLegitimateInterests(),this.unsetAllSpecialFeatureOptins(),this.unsetAllPurposeConsents(),this.unsetAllVendorLegitimateInterests()},Object.defineProperty(t.prototype,"numCustomPurposes",{get:function(){var e=this.numCustomPurposes_;if("object"==typeof this.customPurposes){var t=Object.keys(this.customPurposes).sort((function(e,t){return Number(e)-Number(t)}));e=parseInt(t.pop(),10)}return e},set:function(e){if(this.numCustomPurposes_=parseInt(e,10),this.numCustomPurposes_<0)throw new i.TCModelError("numCustomPurposes",e)},enumerable:!1,configurable:!0}),t.prototype.updated=function(){var e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));this.created=t,this.lastUpdated=t},t.consentLanguages=a.GVL.consentLanguages,t}(s.Cloneable);t.TCModel=u},function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(5),t),r(n(82),t),r(n(85),t),r(n(36),t),r(n(86),t),r(n(87),t),r(n(88),t),r(n(89),t),r(n(90),t),r(n(91),t),r(n(92),t),r(n(93),t),r(n(94),t),r(n(12),t),r(n(95),t),r(n(97),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OWListener=void 0;t.OWListener=class{constructor(e){this._delegate=e}start(){this.stop()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OWGameWindowAnchor=t.OWWindowAnchorTypes=void 0;const o=n(12);var r;!function(e){e[e.topLeft=0]="topLeft",e[e.topRight=1]="topRight",e[e.middleRight=2]="middleRight",e[e.bottomRight=3]="bottomRight"}(r=t.OWWindowAnchorTypes||(t.OWWindowAnchorTypes={}));t.OWGameWindowAnchor=class{constructor(e,t,n,o=10){this.onGameInfoUpdated=e=>{if(null==e||null==e.resolutionChanged)return;if(0==e.resolutionChanged)return;if(null==e.gameInfo)return;const t=e.gameInfo.logicalWidth,n=e.gameInfo.logicalHeight;this.repositionWindow({width:t,height:n})},this._window=e,this._winWidth=t.width,this._winHeight=t.height,this._anchorType=n,this._margin=o}start(){overwolf.games.onGameInfoUpdated.removeListener(this.onGameInfoUpdated),overwolf.games.onGameInfoUpdated.addListener(this.onGameInfoUpdated),overwolf.games.getRunningGameInfo(e=>{e&&this.repositionWindow({width:e.logicalWidth,height:e.logicalHeight})})}stop(){overwolf.games.onGameInfoUpdated.removeListener(this.onGameInfoUpdated)}async repositionWindow(e){const t=await o.OWUtils.getDPIScale(),n=this._margin;let s=Math.floor(e.width-this._winWidth*t)-n,i=n;switch(this._anchorType){case r.topRight:break;case r.middleRight:i=Math.floor(e.height/2-this._winHeight/2*t);break;case r.bottomRight:i=Math.floor(e.height-this._winHeight*t)-n;break;case r.topLeft:s=n}this._window.changePosition(s,i)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OWExtensionsListener=void 0;const o=n(5);class r extends o.OWListener{constructor(e){super(e),this.onAppLaunchTriggered=e=>{this._delegate.onAppLaunchTriggered&&this._delegate.onAppLaunchTriggered(e)},this.onAppInstalled=e=>{this._delegate.onAppInstalled&&this._delegate.onAppInstalled(e)},this.onAppUninstalled=e=>{this._delegate.onAppUninstalled&&this._delegate.onAppUninstalled(e)},this.onExtensionUpdated=e=>{this._delegate.onExtensionUpdated&&this._delegate.onExtensionUpdated(e)}}start(){super.start(),this._delegate.onAppLaunchTriggered&&overwolf.extensions.onAppLaunchTriggered.addListener(this.onAppLaunchTriggered),this._delegate.onAppInstalled&&overwolf.extensions.onAppInstalled.addListener(this.onAppInstalled),this._delegate.onAppUninstalled&&overwolf.extensions.onAppUninstalled.addListener(this.onAppUninstalled),this._delegate.onExtensionUpdated&&overwolf.extensions.onExtensionUpdated.addListener(this.onExtensionUpdated)}stop(){overwolf.extensions.onAppLaunchTriggered.removeListener(this.onAppLaunchTriggered),overwolf.extensions.onAppInstalled.removeListener(this.onAppInstalled),overwolf.extensions.onAppUninstalled.removeListener(this.onAppUninstalled),overwolf.extensions.onExtensionUpdated.addListener(this.onExtensionUpdated)}}t.OWExtensionsListener=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CMPUtils=void 0;const o=n(6),r=[1,3,4,5,6];class s{static getConsentTypes(e){try{const t=Object.values(e.gvl.purposes).map(e=>e.id),n=t.filter(e=>!r.includes(e)),o=s.getConsentType(t,e.purposeConsents);return{purposesType:o,legIntsType:s.getConsentType(n,e.purposeLegitimateInterests)}}catch(e){return null}}static getConsentType(e,t){let n;return n=e.every(e=>t.has(e))?o.ConsentType.Full:0===t.size?o.ConsentType.None:o.ConsentType.Custom,n}}t.CMPUtils=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.kPathToVendorsListJson=t.kPathToCmpURL=t.kCMPSyncPageName=t.kBaseRemoteConfigPaths=void 0,t.kBaseRemoteConfigPaths=["https://content.overwolf.com/ads/cmp/ow-remote-configs/","https://www.overwolf.io/cmp/ow-remote-configs/"],t.kCMPSyncPageName="ow-cmp-v2_252.html?",t.kPathToCmpURL="https://features.overwolf.com/experiments/cmp-eu-only",t.kPathToVendorsListJson="https://vendorlist.consensu.org/vendorlist.json"},function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(n(40)),s=o(n(6)),i=o(n(101)),a=o(n(103)),c=o(n(105));(async()=>{r.default.run(),s.default.run(),c.default.run(),await a.default.run(),await i.default.run(),setTimeout(window.close,1e4)})()},function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(n(41)),s=overwolfInternal.settings.hardware.enums.eHardwareFlags.video_encoder_support;t.default=new class{run(){overwolf.utils.getSystemInformation(e=>{if(!e.success)return void console.error("Failed to get system information");const t=e.systemInfo.GPUs.some(e=>r.default.video_encoder_supported_gpus.includes(e.Name));overwolfInternal.settings.hardware.setFlag(s,t,e=>{e.success||console.error("Failed to set video encoder flag")})})}}},function(e){e.exports=JSON.parse('{"video_encoder_supported_gpus":["AMD Radeon (TM) R9 Fury Series","AMD Radeon RX 5700 XT 50th Anniversary","AMD Radeon RX 6800","AMD Radeon RX 6800 XT","AMD Radeon RX 6900 XT","AMD Radeon(TM) RX Vega 10 Graphics","AMD Radeon(TM) RX Vega 11 Graphics","AMD Radeon(TM) Vega 11 Graphics","AMD Radeon(TM) Vega 8 Mobile Graphics","Intel(R) Iris(R) Xe Graphics","NVIDIA GeForce GT 1030","NVIDIA GeForce GTX 1050","NVIDIA GeForce GTX 1050 Ti","NVIDIA GeForce GTX 1060 5GB","NVIDIA GeForce GTX 1060 6GB","NVIDIA GeForce GTX 1080 with Max-Q Design","NVIDIA GeForce GTX 1650","NVIDIA GeForce GTX 1650 SUPER","NVIDIA GeForce GTX 1650 Ti","NVIDIA GeForce GTX 1660 SUPER","NVIDIA GeForce GTX 1660 Ti with Max-Q Design","NVIDIA GeForce GTX 750 Ti","NVIDIA GeForce RTX 2060","NVIDIA GeForce RTX 2070 Super with Max-Q Design","NVIDIA GeForce RTX 2080 SUPER","NVIDIA GeForce RTX 2080 Super","NVIDIA GeForce RTX 2080 Super with Max-Q Design","NVIDIA GeForce RTX 2080 with Max-Q Design","NVIDIA GeForce RTX 3060 Laptop GPU","NVIDIA GeForce RTX 3070 Laptop GPU","NVIDIA GeForce RTX 3080 Laptop GPU","NVIDIA Quadro M2000","NVIDIA Quadro M4000","NVIDIA Quadro 600","NVIDIA  Quadro RTX 4000 ","NVIDIA  Quadro RTX 5000","NVIDIA RTX A4000","NVIDIA RTX A4000 Laptop GPU","NVIDIA Quadro RTX 3000 Max-Q","Radeon RX Vega","NVIDIA GeForce RTX 3060","NVIDIA GeForce RTX 3060 TI","NVIDIA GeForce RTX 3070","NVIDIA GeForce RTX 3070 TI","NVIDIA GeForce RTX 3080","NVIDIA GeForce RTX 3080 TI","NVIDIA GeForce RTX 3090","NVIDIA GeForce RTX 3050","NVIDIA GeForce RTX 3050 TI","Radeon RX 5300 XT","Radeon RX 5500","Radeon RX 5500 XT","Radeon RX 5600","Radeon RX 5600 XT","Radeon RX 5700","Radeon RX 5700 XT","Radeon RX 6700 XT","Radeon RX 6800","Radeon RX 6800 XT","Radeon RX 6900 XT","NVIDIA GeForce GTX 1060","NVIDIA GeForce GTX 1070","NVIDIA GeForce GTX 1060 3GB","NVIDIA GeForce GTX 1080","NVIDIA GeForce GTX 970","NVIDIA GeForce GTX 960","NVIDIA GeForce GTX 1080 Ti","NVIDIA GeForce RTX 2070","NVIDIA GeForce GTX 1070 Ti","NVIDIA GeForce RTX 2080","NVIDIA GeForce GTX 960M","NVIDIA GeForce GTX 950","NVIDIA GeForce GTX 980","NVIDIA GeForce GTX 750","NVIDIA GeForce GTX 980 Ti","NVIDIA GeForce GTX 1660 Ti","NVIDIA GeForce 940MX","NVIDIA GeForce GTX 950M","NVIDIA GeForce RTX 2080 Ti","NVIDIA GeForce GTX 1660","NVIDIA GeForce GTX 1060 with Max-Q Design","AMD Radeon HD 7700 Series","NVIDIA GeForce GTX 745","NVIDIA GeForce 920M","AMD Radeon HD 7800 Series","NVIDIA GeForce GTX 980M","NVIDIA GeForce 940M","NVIDIA GeForce GTX 780","NVIDIA GeForce 820M","NVIDIA GeForce GTX 965M","NVIDIA GeForce GTX 850M","AMD Radeon HD 7900 Series","NVIDIA GeForce RTX 2070 SUPER","NVIDIA GeForce GTX 1070 with Max-Q Design","NVIDIA GeForce GTX 780 Ti","NVIDIA GeForce RTX 2060 SUPER","NVIDIA GeForce GTX 1050 Ti with Max-Q Design","Radeon 550 Series","NVIDIA GeForce GTX TITAN X","NVIDIA GeForce RTX 2070 with Max-Q Design","NVIDIA Quadro P5000","Radeon RX 5700XT","Radeon Pro Vega 64X","Radeon Pro Vega 64","Radeon Pro Vega 56","Radeon Pro Vega 48","Radeon Pro Vega 20","Radeon (TM) Pro WX 7100 Graphics","Radeon (TM) Pro WX 5100 Graphics","Radeon (TM) Pro WX 4100","Radeon (TM) Pro Duo","NVIDIA TITAN Xp COLLECTORS EDITION","NVIDIA TITAN Xp","NVIDIA TITAN X (Pascal)","NVIDIA TITAN V","NVIDIA TITAN RTX","NVIDIA T600","NVIDIA Quadro T1000","NVIDIA Quadro RTX 6000","NVIDIA Quadro RTX 5000","NVIDIA Quadro RTX 4000","NVIDIA GeForce RTX 3080 Ti","NVIDIA GeForce RTX 3070 Ti","NVIDIA GeForce RTX 3060 Ti","NVIDIA GeForce RTX 3050 Ti Laptop GPU","NVIDIA GeForce RTX 3050 Laptop GPU","NVIDIA GeForce RTX 2070 Super","NVIDIA GeForce RTX 2060 with Max-Q Design","NVIDIA GeForce GTX TITAN Z","NVIDIA GeForce GTX TITAN Black","NVIDIA GeForce GTX TITAN","NVIDIA GeForce GTX 980M  ","NVIDIA GeForce GTX 750 Ti ","NVIDIA GeForce GTX 750 ","NVIDIA GeForce GTX 745 ","NVIDIA GeForce GTX 1650 with Max-Q Design","NVIDIA GeForce GTX 1650 Ti with Max-Q Design","NVIDIA GeForce GTX 1050 with Max-Q Design","Intel(R) Iris(R) Plus Graphics","ASUS Radeon RX 5700","AMD Radeon RX 6900 XT Series","AMD Radeon RX 6800M","AMD Radeon RX 6700M","AMD Radeon RX 6700 XT","AMD Radeon RX 6600M","AMD Radeon RX 6600 XT","AMD Radeon RX 6600","AMD Radeon RX 6500 XT","AMD Radeon RX 5600 XT","AMD Radeon RX 5500M Series","AMD Radeon RX 5500","AMD Radeon RX 550","AMD Radeon RX 5300","AMD Radeon R9 Fury X Series","AMD Radeon R9 Fury Series","AMD Radeon RX 5700 XT","Radeon RX 590 Series","AMD Radeon RX 5700","Radeon(TM) RX 550","RX 6800 XT","AMD Radeon Pro 5500 XT","Radeon RX 580 Series","Radeon RX 570 Series","NVIDIA GeForce RTX 4090","NVIDIA GeForce RTX 4080","NVIDIA GeForce RTX 3090 Ti","Radeon RX 560 Series","AMD Radeon RX 6650 XT","NVIDIA GeForce RTX 3070 Ti Laptop GPU","AMD Radeon RX 6750 XT","AMD Radeon RX 6950 XT","AMD Radeon RX 6700","NVIDIA GeForce RTX 3050 OEM","NVIDIA GeForce RTX 3080 Ti Laptop GPU","AMD Radeon RX 7900 XT","AMD Radeon RX 7900 XTX","Intel(R) Arc(TM) A770 Graphics","NVIDIA GeForce RTX 4070 Ti","Radeon RX550/550 Series","NVIDIA GeForce RTX 4070","AMD Radeon RX 580 2048SP","AMD Radeon RX 6400","NVIDIA GeForce RTX 4060 Laptop GPU","NVIDIA GeForce GTX 1630","NVIDIA GeForce RTX 4070 Laptop GPU","NVIDIA RTX A4500","Intel(R) Arc(TM) A750 Graphics","NVIDIA GeForce RTX 4050 Laptop GPU","NVIDIA GeForce RTX 4080 Laptop GPU"]}')},function(e,t,n){"use strict";var o=n(43).ConsentString,r=n(17).decodeConsentString,s=n(14).encodeConsentString;e.exports={ConsentString:o,decodeConsentString:r,encodeConsentString:s}},function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(14),a=i.encodeConsentString,c=i.getMaxVendorId,u=i.encodeVendorIdsToBits,l=i.encodePurposeIdsToBits,d=n(17).decodeConsentString,p=n(16).vendorVersionMap,h=/^[a-z]{2}$/,f=void 0,g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;s(this,e),this.maxVendorId=0,this.created=new Date,this.lastUpdated=new Date,this.version=1,this.vendorList=null,this.vendorListVersion=null,this.cmpId=null,this.cmpVersion=null,this.consentScreen=null,this.consentLanguage=null,this.allowedPurposeIds=[],this.allowedVendorIds=[],t&&(f=t,Object.assign(this,d(t)))}return r(e,[{key:"getConsentString",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=void 0;if(f&&!e)t=f;else{if(!this.vendorList)throw new Error("ConsentString - A vendor list is required to encode a consent string");!0===e&&(this.lastUpdated=new Date),t=a({version:this.getVersion(),vendorList:this.vendorList,allowedPurposeIds:this.allowedPurposeIds,allowedVendorIds:this.allowedVendorIds,created:this.created,lastUpdated:this.lastUpdated,cmpId:this.cmpId,cmpVersion:this.cmpVersion,consentScreen:this.consentScreen,consentLanguage:this.consentLanguage,vendorListVersion:this.vendorListVersion}),f=t}return t}},{key:"getLastUpdated",value:function(){return this.lastUpdated}},{key:"setLastUpdated",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;f="",this.lastUpdated=e?new Date(e):new Date}},{key:"getCreated",value:function(){return this.created}},{key:"setCreated",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;f="",this.created=e?new Date(e):new Date}},{key:"getMaxVendorId",value:function(){return this.maxVendorId||this.vendorList&&(this.maxVendorId=c(this.vendorList.vendors)),this.maxVendorId}},{key:"getParsedVendorConsents",value:function(){return u(c(this.vendorList.vendors),this.allowedVendorIds)}},{key:"getParsedPurposeConsents",value:function(){return l(this.vendorList.purposes,this.allowedPurposeIds)}},{key:"getMetadataString",value:function(){return a({version:this.getVersion(),created:this.created,lastUpdated:this.lastUpdated,cmpId:this.cmpId,cmpVersion:this.cmpVersion,consentScreen:this.consentScreen,vendorListVersion:this.vendorListVersion})}},{key:"getVersion",value:function(){return this.version}},{key:"getVendorListVersion",value:function(){return this.vendorListVersion}},{key:"setGlobalVendorList",value:function(e){if("object"!==(void 0===e?"undefined":o(e)))throw new Error("ConsentString - You must provide an object when setting the global vendor list");if(!e.vendorListVersion||!Array.isArray(e.purposes)||!Array.isArray(e.vendors))throw new Error("ConsentString - The provided vendor list does not respect the schema from the IAB EU’s GDPR Consent and Transparency Framework");this.vendorList&&this.vendorListVersion===e.vendorListVersion||(f="",this.vendorList={vendorListVersion:e.vendorListVersion,lastUpdated:e.lastUpdated,purposes:e.purposes,features:e.features,vendors:e.vendors.slice(0).sort((function(e,t){return e.id<t.id?-1:1}))},this.vendorListVersion=e.vendorListVersion)}},{key:"getGlobalVendorList",value:function(){return this.vendorList}},{key:"setCmpId",value:function(e){e!==this.cmpId&&(f="",this.cmpId=e)}},{key:"getCmpId",value:function(){return this.cmpId}},{key:"setCmpVersion",value:function(e){e!==this.cmpVersion&&(f="",this.cmpVersion=e)}},{key:"getCmpVersion",value:function(){return this.cmpVersion}},{key:"setConsentScreen",value:function(e){e!==this.consentScreen&&(f="",this.consentScreen=e)}},{key:"getConsentScreen",value:function(){return this.consentScreen}},{key:"setConsentLanguage",value:function(e){if(!1===h.test(e))throw new Error("ConsentString - The consent language must be a two-letter ISO639-1 code (en, fr, de, etc.)");e!==this.consentLanguage&&(f="",this.consentLanguage=e)}},{key:"getConsentLanguage",value:function(){return this.consentLanguage}},{key:"setPurposesAllowed",value:function(e){f="",this.allowedPurposeIds=e}},{key:"getPurposesAllowed",value:function(){return this.allowedPurposeIds}},{key:"setPurposeAllowed",value:function(e,t){var n=this.allowedPurposeIds.indexOf(e);f="",!0===t?-1===n&&this.allowedPurposeIds.push(e):!1===t&&-1!==n&&this.allowedPurposeIds.splice(n,1)}},{key:"isPurposeAllowed",value:function(e){return-1!==this.allowedPurposeIds.indexOf(e)}},{key:"setVendorsAllowed",value:function(e){f="",this.allowedVendorIds=e}},{key:"getVendorsAllowed",value:function(){return this.allowedVendorIds}},{key:"setVendorAllowed",value:function(e,t){var n=this.allowedVendorIds.indexOf(e);f="",!0===t?-1===n&&this.allowedVendorIds.push(e):!1===t&&-1!==n&&this.allowedVendorIds.splice(n,1)}},{key:"isVendorAllowed",value:function(e){return-1!==this.allowedVendorIds.indexOf(e)}}],[{key:"decodeMetadataString",value:function(e){var t=d(e),n={};return p[t.version].metadataFields.forEach((function(e){n[e]=t[e]})),n}}]),e}();e.exports={ConsentString:g}},function(e,t,n){(function(e,o){var r;/*! http://mths.be/base64 v0.1.0 by @mathias | MIT license */!function(s){var i=t,a=(e&&e.exports,"object"==typeof o&&o);a.global!==a&&a.window;var c=function(e){this.message=e};(c.prototype=new Error).name="InvalidCharacterError";var u=function(e){throw new c(e)},l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=/[\t\n\f\r ]/g,p={encode:function(e){e=String(e),/[^\0-\xFF]/.test(e)&&u("The string to be encoded contains characters outside of the Latin1 range.");for(var t,n,o,r,s=e.length%3,i="",a=-1,c=e.length-s;++a<c;)t=e.charCodeAt(a)<<16,n=e.charCodeAt(++a)<<8,o=e.charCodeAt(++a),i+=l.charAt((r=t+n+o)>>18&63)+l.charAt(r>>12&63)+l.charAt(r>>6&63)+l.charAt(63&r);return 2==s?(t=e.charCodeAt(a)<<8,n=e.charCodeAt(++a),i+=l.charAt((r=t+n)>>10)+l.charAt(r>>4&63)+l.charAt(r<<2&63)+"="):1==s&&(r=e.charCodeAt(a),i+=l.charAt(r>>2)+l.charAt(r<<4&63)+"=="),i},decode:function(e){var t=(e=String(e).replace(d,"")).length;t%4==0&&(t=(e=e.replace(/==?$/,"")).length),(t%4==1||/[^+a-zA-Z0-9/]/.test(e))&&u("Invalid character: the string to be decoded is not correctly encoded.");for(var n,o,r=0,s="",i=-1;++i<t;)o=l.indexOf(e.charAt(i)),n=r%4?64*n+o:o,r++%4&&(s+=String.fromCharCode(255&n>>(-2*r&6)));return s},version:"0.1.0"};void 0===(r=function(){return p}.call(t,n,t,e))||(e.exports=r)}()}).call(this,n(45)(e),n(46))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(7),t),r(n(0),t),r(n(1),t),r(n(2),t),r(n(30),t),r(n(31),t),r(n(32),t),r(n(77),t)},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.DecodingError=void 0;var s=function(e){function t(t){var n=e.call(this,t)||this;return n.name="DecodingError",n}return r(t,e),t}(Error);t.DecodingError=s},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.EncodingError=void 0;var s=function(e){function t(t){var n=e.call(this,t)||this;return n.name="EncodingError",n}return r(t,e),t}(Error);t.EncodingError=s},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.GVLError=void 0;var s=function(e){function t(t){var n=e.call(this,t)||this;return n.name="GVLError",n}return r(t,e),t}(Error);t.GVLError=s},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.TCModelError=void 0;var s=function(e){function t(t,n,o){void 0===o&&(o="");var r=e.call(this,"invalid value ".concat(n," passed for ").concat(t," ").concat(o))||this;return r.name="TCModelError",r}return r(t,e),t}(Error);t.TCModelError=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConsentLanguages=void 0;var o=function(){function e(){}return e.prototype.has=function(t){return e.langSet.has(t)},e.prototype.forEach=function(t){e.langSet.forEach(t)},Object.defineProperty(e.prototype,"size",{get:function(){return e.langSet.size},enumerable:!1,configurable:!0}),e.langSet=new Set(["BG","CA","CS","DA","DE","EL","EN","ES","ET","FI","FR","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT","RO","RU","SK","SL","SV","TR","ZH"]),e}();t.ConsentLanguages=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,s=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(o=s.next()).done;)i.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return i},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var o,r=0,s=t.length;r<s;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.PurposeRestrictionVector=void 0;var c=n(21),u=n(19),l=n(9),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bitLength=0,t.map=new Map,t}return r(t,e),t.prototype.has=function(e){return this.map.has(e)},t.prototype.isOkToHave=function(e,t,n){var o,r=!0;if(null===(o=this.gvl)||void 0===o?void 0:o.vendors){var s=this.gvl.vendors[n];if(s)if(e===l.RestrictionType.NOT_ALLOWED)r=s.legIntPurposes.includes(t)||s.purposes.includes(t);else if(s.flexiblePurposes.length)switch(e){case l.RestrictionType.REQUIRE_CONSENT:r=s.flexiblePurposes.includes(t)&&s.legIntPurposes.includes(t);break;case l.RestrictionType.REQUIRE_LI:r=s.flexiblePurposes.includes(t)&&s.purposes.includes(t)}else r=!1;else r=!1}return r},t.prototype.add=function(e,t){if(this.isOkToHave(t.restrictionType,t.purposeId,e)){var n=t.hash;this.has(n)||(this.map.set(n,new u.BinarySearchTree),this.bitLength=0),this.map.get(n).add(e)}},t.prototype.restrictPurposeToLegalBasis=function(e){for(var t=this.gvl.vendorIds,n=e.hash,o=function(){var e,n,o;try{for(var r=s(t),i=r.next();!i.done;i=r.next())o=i.value}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return o}(),r=a([],i(Array(o).keys()),!1).map((function(e){return e+1})),c=1;c<=o;c++)this.has(n)||(this.map.set(n,u.BinarySearchTree.build(r)),this.bitLength=0),this.map.get(n).add(c)},t.prototype.getVendors=function(e){var t=[];if(e){var n=e.hash;this.has(n)&&(t=this.map.get(n).get())}else{var o=new Set;this.map.forEach((function(e){e.get().forEach((function(e){o.add(e)}))})),t=Array.from(o)}return t},t.prototype.getRestrictionType=function(e,t){var n;return this.getRestrictions(e).forEach((function(e){e.purposeId===t&&(void 0===n||n>e.restrictionType)&&(n=e.restrictionType)})),n},t.prototype.vendorHasRestriction=function(e,t){for(var n=!1,o=this.getRestrictions(e),r=0;r<o.length&&!n;r++)n=t.isSameAs(o[r]);return n},t.prototype.getMaxVendorId=function(){var e=0;return this.map.forEach((function(t){e=Math.max(t.max(),e)})),e},t.prototype.getRestrictions=function(e){var t=[];return this.map.forEach((function(n,o){e?n.contains(e)&&t.push(c.PurposeRestriction.unHash(o)):t.push(c.PurposeRestriction.unHash(o))})),t},t.prototype.getPurposes=function(){var e=new Set;return this.map.forEach((function(t,n){e.add(c.PurposeRestriction.unHash(n).purposeId)})),Array.from(e)},t.prototype.remove=function(e,t){var n=t.hash,o=this.map.get(n);o&&(o.remove(e),o.isEmpty()&&(this.map.delete(n),this.bitLength=0))},Object.defineProperty(t.prototype,"gvl",{get:function(){return this.gvl_},set:function(e){var t=this;this.gvl_||(this.gvl_=e,this.map.forEach((function(e,n){var o=c.PurposeRestriction.unHash(n);e.get().forEach((function(n){t.isOkToHave(o.restrictionType,o.purposeId,n)||e.remove(n)}))})))},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.map.size},Object.defineProperty(t.prototype,"numRestrictions",{get:function(){return this.map.size},enumerable:!1,configurable:!0}),t}(n(2).Cloneable);t.PurposeRestrictionVector=d},function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.DeviceDisclosureStorageAccessType=void 0,(o=t.DeviceDisclosureStorageAccessType||(t.DeviceDisclosureStorageAccessType={})).COOKIE="cookie",o.WEB="web",o.APP="app"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.SegmentIDs=void 0;var r=n(22),s=function(){function e(){}return e.ID_TO_KEY=[r.Segment.CORE,r.Segment.VENDORS_DISCLOSED,r.Segment.VENDORS_ALLOWED,r.Segment.PUBLISHER_TC],e.KEY_TO_ID=((o={})[r.Segment.CORE]=0,o[r.Segment.VENDORS_DISCLOSED]=1,o[r.Segment.VENDORS_ALLOWED]=2,o[r.Segment.PUBLISHER_TC]=3,o),e}();t.SegmentIDs=s},function(e,t,n){"use strict";var o,r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),s=this&&this.__generator||function(e,t){var n,o,r,s,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&s[0]?o.return:s[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,s[1])).done)return r;switch(o=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,o=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!((r=(r=i.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){i.label=s[1];break}if(6===s[0]&&i.label<r[1]){i.label=r[1],r=s;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(s);break}r[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],o=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.Vector=void 0;var i=n(2),a=n(0),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bitLength=0,t.maxId_=0,t.set_=new Set,t}return r(t,e),t.prototype[Symbol.iterator]=function(){var e;return s(this,(function(t){switch(t.label){case 0:e=1,t.label=1;case 1:return e<=this.maxId?[4,[e,this.has(e)]]:[3,4];case 2:t.sent(),t.label=3;case 3:return e++,[3,1];case 4:return[2]}}))},t.prototype.values=function(){return this.set_.values()},Object.defineProperty(t.prototype,"maxId",{get:function(){return this.maxId_},enumerable:!1,configurable:!0}),t.prototype.has=function(e){return this.set_.has(e)},t.prototype.unset=function(e){var t=this;Array.isArray(e)?e.forEach((function(e){return t.unset(e)})):"object"==typeof e?this.unset(Object.keys(e).map((function(e){return Number(e)}))):(this.set_.delete(Number(e)),this.bitLength=0,e===this.maxId&&(this.maxId_=0,this.set_.forEach((function(e){t.maxId_=Math.max(t.maxId,e)}))))},t.prototype.isIntMap=function(e){var t=this,n="object"==typeof e;return n&&Object.keys(e).every((function(n){var o=Number.isInteger(parseInt(n,10));return(o=o&&t.isValidNumber(e[n].id))&&void 0!==e[n].name}))},t.prototype.isValidNumber=function(e){return parseInt(e,10)>0},t.prototype.isSet=function(e){var t=!1;return e instanceof Set&&(t=Array.from(e).every(this.isValidNumber)),t},t.prototype.set=function(e){var t=this;if(Array.isArray(e))e.forEach((function(e){return t.set(e)}));else if(this.isSet(e))this.set(Array.from(e));else if(this.isIntMap(e))this.set(Object.keys(e).map((function(e){return Number(e)})));else{if(!this.isValidNumber(e))throw new a.TCModelError("set()",e,"must be positive integer array, positive integer, Set<number>, or IntMap");this.set_.add(e),this.maxId_=Math.max(this.maxId,e),this.bitLength=0}},t.prototype.empty=function(){this.set_=new Set},t.prototype.forEach=function(e){for(var t=1;t<=this.maxId;t++)e(this.has(t),t)},Object.defineProperty(t.prototype,"size",{get:function(){return this.set_.size},enumerable:!1,configurable:!0}),t.prototype.setAll=function(e){this.set(e)},t}(i.Cloneable);t.Vector=c},function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(61),t),r(n(62),t),r(n(63),t),r(n(64),t),r(n(65),t),r(n(66),t),r(n(67),t),r(n(68),t),r(n(69),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SegmentEncoder=void 0;var o=n(18),r=n(8),s=n(23),i=n(29),a=n(0),c=n(20),u=n(1),l=function(){function e(){}return e.encode=function(e,t){var n,i=this;try{n=this.fieldSequence[String(e.version)][t]}catch(n){throw new a.EncodingError("Unable to encode version: ".concat(e.version,", segment: ").concat(t))}var l="";t!==u.Segment.CORE&&(l=s.IntEncoder.encode(u.SegmentIDs.KEY_TO_ID[t],r.BitLength.segmentType));var d=(0,s.FieldEncoderMap)();return n.forEach((function(n){var o=e[n],s=d[n],u=r.BitLength[n];void 0===u&&i.isPublisherCustom(n)&&(u=Number(e[c.Fields.numCustomPurposes]));try{l+=s.encode(o,u)}catch(e){throw new a.EncodingError("Error encoding ".concat(t,"->").concat(n,": ").concat(e.message))}})),o.Base64Url.encode(l)},e.decode=function(e,t,n){var i=this,l=o.Base64Url.decode(e),d=0;n===u.Segment.CORE&&(t.version=s.IntEncoder.decode(l.substr(d,r.BitLength[c.Fields.version]),r.BitLength[c.Fields.version])),n!==u.Segment.CORE&&(d+=r.BitLength.segmentType);var p=this.fieldSequence[String(t.version)][n],h=(0,s.FieldEncoderMap)();return p.forEach((function(e){var n=h[e],o=r.BitLength[e];if(void 0===o&&i.isPublisherCustom(e)&&(o=Number(t[c.Fields.numCustomPurposes])),0!==o){var u=l.substr(d,o);if(n===s.VendorVectorEncoder?t[e]=n.decode(u,t.version):t[e]=n.decode(u,o),Number.isInteger(o))d+=o;else{if(!Number.isInteger(t[e].bitLength))throw new a.DecodingError(e);d+=t[e].bitLength}}})),t},e.isPublisherCustom=function(e){return 0===e.indexOf("publisherCustom")},e.fieldSequence=new i.FieldSequence,e}();t.SegmentEncoder=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FieldEncoderMap=void 0;var o=n(1),r=n(4),s=n(24),i=n(10),a=n(3),c=n(25),u=n(26),l=n(27);t.FieldEncoderMap=function(){var e;return(e={})[o.Fields.version]=a.IntEncoder,e[o.Fields.created]=s.DateEncoder,e[o.Fields.lastUpdated]=s.DateEncoder,e[o.Fields.cmpId]=a.IntEncoder,e[o.Fields.cmpVersion]=a.IntEncoder,e[o.Fields.consentScreen]=a.IntEncoder,e[o.Fields.consentLanguage]=c.LangEncoder,e[o.Fields.vendorListVersion]=a.IntEncoder,e[o.Fields.policyVersion]=a.IntEncoder,e[o.Fields.isServiceSpecific]=r.BooleanEncoder,e[o.Fields.useNonStandardStacks]=r.BooleanEncoder,e[o.Fields.specialFeatureOptins]=i.FixedVectorEncoder,e[o.Fields.purposeConsents]=i.FixedVectorEncoder,e[o.Fields.purposeLegitimateInterests]=i.FixedVectorEncoder,e[o.Fields.purposeOneTreatment]=r.BooleanEncoder,e[o.Fields.publisherCountryCode]=c.LangEncoder,e[o.Fields.vendorConsents]=l.VendorVectorEncoder,e[o.Fields.vendorLegitimateInterests]=l.VendorVectorEncoder,e[o.Fields.publisherRestrictions]=u.PurposeRestrictionVectorEncoder,e.segmentType=a.IntEncoder,e[o.Fields.vendorsDisclosed]=l.VendorVectorEncoder,e[o.Fields.vendorsAllowed]=l.VendorVectorEncoder,e[o.Fields.publisherConsents]=i.FixedVectorEncoder,e[o.Fields.publisherLegitimateInterests]=i.FixedVectorEncoder,e[o.Fields.numCustomPurposes]=a.IntEncoder,e[o.Fields.publisherCustomConsents]=i.FixedVectorEncoder,e[o.Fields.publisherCustomLegitimateInterests]=i.FixedVectorEncoder,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FieldSequence=void 0;var o=n(1);t.FieldSequence=function(){var e,t;this[1]=((e={})[o.Segment.CORE]=[o.Fields.version,o.Fields.created,o.Fields.lastUpdated,o.Fields.cmpId,o.Fields.cmpVersion,o.Fields.consentScreen,o.Fields.consentLanguage,o.Fields.vendorListVersion,o.Fields.purposeConsents,o.Fields.vendorConsents],e),this[2]=((t={})[o.Segment.CORE]=[o.Fields.version,o.Fields.created,o.Fields.lastUpdated,o.Fields.cmpId,o.Fields.cmpVersion,o.Fields.consentScreen,o.Fields.consentLanguage,o.Fields.vendorListVersion,o.Fields.policyVersion,o.Fields.isServiceSpecific,o.Fields.useNonStandardStacks,o.Fields.specialFeatureOptins,o.Fields.purposeConsents,o.Fields.purposeLegitimateInterests,o.Fields.purposeOneTreatment,o.Fields.publisherCountryCode,o.Fields.vendorConsents,o.Fields.vendorLegitimateInterests,o.Fields.publisherRestrictions],t[o.Segment.PUBLISHER_TC]=[o.Fields.publisherConsents,o.Fields.publisherLegitimateInterests,o.Fields.numCustomPurposes,o.Fields.publisherCustomConsents,o.Fields.publisherCustomLegitimateInterests],t[o.Segment.VENDORS_ALLOWED]=[o.Fields.vendorsAllowed],t[o.Segment.VENDORS_DISCLOSED]=[o.Fields.vendorsDisclosed],t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SegmentSequence=void 0;var o=n(1);t.SegmentSequence=function(e,t){if(this[1]=[o.Segment.CORE],this[2]=[o.Segment.CORE],2===e.version)if(e.isServiceSpecific)this[2].push(o.Segment.PUBLISHER_TC);else{var n=!(!t||!t.isForVendors);n&&!0!==e[o.Fields.supportOOB]||this[2].push(o.Segment.VENDORS_DISCLOSED),n&&(e[o.Fields.supportOOB]&&e[o.Fields.vendorsAllowed].size>0&&this[2].push(o.Segment.VENDORS_ALLOWED),this[2].push(o.Segment.PUBLISHER_TC))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticPreEncoder=void 0;var o=n(0),r=n(1),s=function(){function e(){}return e.process=function(e,t){var n=e.gvl;if(!n)throw new o.EncodingError("Unable to encode TCModel without a GVL");if(!n.isReady)throw new o.EncodingError("Unable to encode TCModel tcModel.gvl.readyPromise is not resolved");(e=e.clone()).consentLanguage=n.language.toUpperCase(),(null==t?void 0:t.version)>0&&(null==t?void 0:t.version)<=this.processor.length?e.version=t.version:e.version=this.processor.length;var r=e.version-1;if(!this.processor[r])throw new o.EncodingError("Invalid version: ".concat(e.version));return this.processor[r](e,n)},e.processor=[function(e){return e},function(e,t){e.publisherRestrictions.gvl=t,e.purposeLegitimateInterests.unset(1);var n=new Map;return n.set("legIntPurposes",e.vendorLegitimateInterests),n.set("purposes",e.vendorConsents),n.forEach((function(n,o){n.forEach((function(s,i){if(s){var a=t.vendors[i];if(!a||a.deletedDate)n.unset(i);else if(0===a[o].length)if("legIntPurposes"===o&&0===a.purposes.length&&0===a.legIntPurposes.length&&a.specialPurposes.length>0);else if(e.isServiceSpecific)if(0===a.flexiblePurposes.length)n.unset(i);else{for(var c=e.publisherRestrictions.getRestrictions(i),u=!1,l=0,d=c.length;l<d&&!u;l++)u=c[l].restrictionType===r.RestrictionType.REQUIRE_CONSENT&&"purposes"===o||c[l].restrictionType===r.RestrictionType.REQUIRE_LI&&"legIntPurposes"===o;u||n.unset(i)}else n.unset(i)}}))})),e.vendorsDisclosed.set(t.vendors),e}],e}();t.SemanticPreEncoder=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TCString=void 0;var o=n(7),r=n(1),s=n(3),i=n(32),a=function(){function e(){}return e.encode=function(e,t){var n,r="";return e=o.SemanticPreEncoder.process(e,t),(n=Array.isArray(null==t?void 0:t.segments)?t.segments:new o.SegmentSequence(e,t)[""+e.version]).forEach((function(t,s){var i="";s<n.length-1&&(i="."),r+=o.SegmentEncoder.encode(e,t)+i})),r},e.decode=function(e,t){var n=e.split("."),a=n.length;t||(t=new i.TCModel);for(var c=0;c<a;c++){var u=n[c],l=o.Base64Url.decode(u.charAt(0)).substr(0,o.BitLength.segmentType),d=r.SegmentIDs.ID_TO_KEY[s.IntEncoder.decode(l,o.BitLength.segmentType).toString()];o.SegmentEncoder.decode(u,t,d)}return t},e}();t.TCString=a},function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(11),t),r(n(79),t),r(n(80),t),r(n(81),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StopWatch=void 0;t.StopWatch=class{constructor(){this._startTime=0,this._stopTime=0,this._initialized=!1}get initialized(){return this._initialized}start(){this._stopTime=0,this._startTime=Date.now(),this._initialized=!0}stop(){return this._initialized?(this._stopTime=Date.now(),this._stopTime-this._startTime):0}getTime(){return this._initialized?this._stopTime>0?this._stopTime-this._startTime:Date.now()-this._startTime:0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorage=t.LocalStorageValue=void 0;class o{constructor(e){this._value=e}get raw(){return this._value}asBool(){return this._value&&"true"===this._value.toLowerCase()}asInt(){return this._value&&parseInt(this._value,10)}asObject(){try{return JSON.parse(this._value)}catch(e){return console.error(e),null}}asArray(){try{return JSON.parse(this._value)}catch(e){return console.error(e),null}}isNull(){return null===this._value}}t.LocalStorageValue=o;t.LocalStorage=class{static get(e){const t=localStorage.getItem(e);return new o(t)}static set(e,t){t||(t=""),localStorage.setItem(e,t)}static setBool(e,t){localStorage.setItem(e,JSON.stringify(t))}static remove(e){localStorage.removeItem(e)}static setObject(e,t){try{return localStorage.setItem(e,JSON.stringify(t)),!0}catch(e){return console.error(e),!1}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringUtils=void 0;t.StringUtils=class{static isNullOrEmpty(e){return!e||0===e.length}}},function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||o(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),r(n(35),t),r(n(83),t),r(n(84),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OWWindow=void 0;const o=n(12),r=n(35);class s{constructor(e=null){this._name=e,this._id=null,this._obtained=!1}obtain(){return new Promise((e,t)=>{const n=n=>{n&&"success"===n.status&&n.window&&n.window.id?(this._obtained=!0,this._id=n.window.id,this._name||(this._name=n.window.name),e(n.window)):(this._obtained=!1,this._id=null,t(n.error))};this._name?overwolf.windows.obtainDeclaredWindow(this._name,n):overwolf.windows.getCurrentWindow(n)})}async createGameWindowAnchor(e,t){const n=await this.obtain();return n?new r.OWGameWindowAnchor(this,{width:n.width,height:n.height},e,t):null}async center(){return new Promise(async(e,t)=>{try{const t=await this.obtain(),n=await o.OWUtils.getDPIScale(),r=Math.round((window.screen.availWidth-t.width*n)/2),s=Math.round((window.screen.availHeight-t.height*n)/2);this.changePosition(Math.max(r,0),Math.max(s,0)),e()}catch(e){return t(e)}})}async bottomRight(){return new Promise(async e=>{let t=null;const[n,r]=await Promise.all([this.obtain(),o.OWUtils.getViewportSize()]);if(t=n,!t)return e();const s=await o.OWUtils.getDPIScale();let i=r.width-t.width*s,a=r.height-t.height*s;return i=Math.max(i,0),a=Math.max(a,0),i=Math.floor(i),a=Math.floor(a),await this.changePosition(i,a),e()})}async restore(){return new Promise(async e=>{await this.assureObtained();const t=this._id;overwolf.windows.restore(t,n=>{n.success||console.error(`[restore] - an error occurred, windowId=${t}, reason=${n.error}`),e()})})}async bringToFront(){return new Promise(async e=>{await this.assureObtained();const t=this._id;overwolf.windows.bringToFront(t,n=>{n.success||console.error(`[restore] - an error occurred, windowId=${t}, reason=${n.error}`),e()})})}async minimize(){return new Promise(async e=>{await this.assureObtained();const t=this._id;return overwolf.windows.minimize(t),e()})}async maximize(){return new Promise(async e=>{await this.assureObtained();const t=this._id;return overwolf.windows.maximize(t),e()})}async hide(){return new Promise(async e=>{await this.assureObtained();const t=this._id;return overwolf.windows.hide(t),e()})}async changePosition(e,t){return new Promise(async n=>{await this.assureObtained();const o=this._id;return overwolf.windows.changePosition(o,e,t),n()})}async changeSize(e,t){return new Promise(async n=>{await this.assureObtained();const o=this._id;return overwolf.windows.changeSize(o,e,t),n()})}async setMinSize(e,t){return new Promise(async(n,o)=>{await this.assureObtained();const r=this._id;overwolf.windows.setMinSize(r,e,t,e=>{const{success:t}=e;t?n():o()})})}dragMove(){return new Promise(async e=>{await this.assureObtained();const t=this._id;return overwolf.windows.dragMove(t,e),e(null)})}dragResizeLeft(){return new Promise(async e=>{await this.assureObtained();const t=this._id;return overwolf.windows.dragResize(t,"Left"),e(null)})}dragResizeRight(){return new Promise(async e=>{await this.assureObtained();const t=this._id;return overwolf.windows.dragResize(t,"Right"),e(null)})}async getWindowState(){return new Promise(async e=>{const t=this._id||this._name;overwolf.windows.getWindowState(t,e)})}async setTopmost(){return new Promise(async e=>{await this.assureObtained();const t=this._id;overwolf.windows.setTopmost(t,!0,t=>e(t.success))})}static async getCurrentInfo(){return new Promise(async e=>{overwolf.windows.getCurrentWindow(t=>{e(t.window)})})}static async getOpenWindows(){return new Promise(async e=>{overwolf.windows.getOpenWindows(t=>{e(t)})})}static async setMute(e=!0){return new Promise(async(t,n)=>{if(!overwolf.windows.setMute)return n("setMute does not exist");overwolf.windows.setMute(e,e=>{e.success?t():n(e.error)})})}async close(){return new Promise(async e=>{await this.assureObtained();this._id;const t=await this.getWindowState();return t.success&&"closed"!==t.window_state&&await this.internalClose(),e()})}async reloadPage(){return new Promise(async(e,t)=>{try{const t=await this.obtain(),n=await s.getOpenWindows();if(!n[t.name])return;n[t.name].location.reload(!0),e()}catch(e){return t(e)}})}async assureObtained(){return new Promise(async e=>(await this.obtain(),e()))}async internalClose(){return new Promise(async(e,t)=>{await this.assureObtained();const n=this._id;overwolf.windows.close(n,n=>{this._obtained=!1,n&&n.success?e():t(n)})})}}t.OWWindow=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OWWindowsListener=void 0;const o=n(5);class r extends o.OWListener{constructor(e,t=!1){super(e),this.onWindowStateChanged=e=>{e&&(this._delegate.onWindowStateChanged&&this._delegate.onWindowStateChanged(e),"closed"===e.window_state&&this._delegate.onWindowClosed&&this._delegate.onWindowClosed(e.window_name),"minimized"===e.window_state&&this._delegate.onWindowMinimized&&this._delegate.onWindowMinimized(e.window_name),"maximized"===e.window_state&&this._delegate.onWindowMaximized&&this._delegate.onWindowMaximized(e.window_name),"normal"===e.window_state&&this._delegate.onWindowRestored&&this._delegate.onWindowRestored(e.window_name))},this.onScreenPropertyChanged=e=>{this._delegate.onScreenPropertyChanged&&this._delegate.onScreenPropertyChanged(e)},this.onAltF4Blocked=e=>{this._delegate.onAltF4Blocked&&this._delegate.onAltF4Blocked(e.id)},t&&this.start()}start(){super.start(),overwolf.windows.onStateChanged.addListener(this.onWindowStateChanged),overwolf.windows.onScreenPropertyChanged.addListener(this.onScreenPropertyChanged),overwolf.windows.onAltF4Blocked.addListener(this.onAltF4Blocked)}stop(){overwolf.windows.onStateChanged.removeListener(this.onWindowStateChanged),overwolf.windows.onScreenPropertyChanged.removeListener(this.onScreenPropertyChanged),overwolf.windows.onAltF4Blocked.removeListener(this.onAltF4Blocked)}}t.OWWindowsListener=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OWExtension=void 0;class o{constructor(e){this._manifest=e}static async fromCurrent(){return new Promise(e=>{overwolf.extensions.current.getManifest(t=>e(new o(t)))})}static async fromExtensionId(e){return new Promise(t=>{overwolf.extensions.getManifest(e,n=>{n.success?t(new o(n)):(console.log(`${e} - ${JSON.stringify(n)}`),t(null))})})}static CheckForUpdate(){return new Promise(e=>{overwolf.extensions.checkForExtensionUpdate(e)})}static UpdateExtension(){return new Promise(e=>{overwolf.extensions.updateExtension(e)})}get manifest(){return this._manifest}}t.OWExtension=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OWExtensionsIO=void 0;t.OWExtensionsIO=class{static async readTextFile(e,t){return new Promise(n=>{overwolf.extensions.io.readTextFile(e,t,e=>n(e))})}static async writeTextFile(e,t,n){return new Promise(o=>{overwolf.extensions.io.writeTextFile(e,t,n,e=>o(e.success))})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OWGameListener=void 0;const o=n(34);class r extends o.OWListener{constructor(e,t=!1){super(e),this.onGameInfoUpdated=e=>{e&&e.gameInfo&&(e.runningChanged||e.gameChanged)&&(e.gameInfo.isRunning?this._delegate.onGameStarted&&this._delegate.onGameStarted(e.gameInfo):this._delegate.onGameEnded&&this._delegate.onGameEnded(e.gameInfo))},this.onRunningGameInfo=e=>{e&&e.isRunning&&this._delegate.onGameStarted&&this._delegate.onGameStarted(e)},t&&this.start()}start(){super.start(),overwolf.games.onGameInfoUpdated.addListener(this.onGameInfoUpdated),overwolf.games.getRunningGameInfo(this.onRunningGameInfo)}stop(){overwolf.games.onGameInfoUpdated.removeListener(this.onGameInfoUpdated)}}t.OWGameListener=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OWGamesEvents=void 0;const o=n(11);t.OWGamesEvents=class{constructor(e,t,n=10){this._stopped=!0,this.onInfoUpdates=e=>{this._delegate.onInfoUpdates(e.info)},this.onNewEvents=e=>{this._delegate.onNewEvents(e)},this._delegate=e,this._requiredFeatures=t,this._featureRetries=n}async getInfo(){return new Promise(e=>{overwolf.games.events.getInfo(e)})}async start(){console.log("[ow-game-events] START"),this._stopped=!1,this.registerEvents();const e=await this.setRequiredFeatures(),{res:t,status:n}=await this.getInfo();return t&&"success"===n&&this.onInfoUpdates({info:t}),e}stop(){console.log("[ow-game-events] STOP"),this._stopped=!0,this.unRegisterEvents()}async setRequiredFeatures(){let e,t=1;for(;t<=this._featureRetries;){if(e=await new Promise(e=>{overwolf.games.events.setRequiredFeatures(this._requiredFeatures,e)}),"success"===e.status){const t=JSON.stringify(e,null,2);return console.log("setRequiredFeatures(): success: "+t),e.supportedFeatures.length>0}if(await o.Timer.wait(3e3),this._stopped)return console.info("setRequiredFeatures(): stopped while in loop"),!1;t++}const n=JSON.stringify(e,null,2);return console.warn(`setRequiredFeatures(): failure after ${t} tries ${n}`),!1}registerEvents(){this.unRegisterEvents(),overwolf.games.events.onInfoUpdates2.addListener(this.onInfoUpdates),overwolf.games.events.onNewEvents.addListener(this.onNewEvents)}unRegisterEvents(){overwolf.games.events.onInfoUpdates2.removeListener(this.onInfoUpdates),overwolf.games.events.onNewEvents.removeListener(this.onNewEvents)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OWGames=void 0;t.OWGames=class{static getRunningGameInfo(){return new Promise(e=>{overwolf.games.getRunningGameInfo(e)})}static classIdFromGameId(e){return Math.floor(e/10)}static async getRecentlyPlayedGames(e=3){return new Promise(t=>{if(!overwolf.games.getRecentlyPlayedGames)return t(null);overwolf.games.getRecentlyPlayedGames(e,e=>{t(e.games)})})}static async getGameDBInfo(e){return new Promise(t=>{overwolf.games.getGameDBInfo(e,t)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OWHotkeysListener=void 0;t.OWHotkeysListener=class{constructor(e){this.onHotKeyChanged=e=>{},this._delegate=e}start(){overwolf.settings.OnHotKeyChanged.removeListener(this.onHotKeyChanged),overwolf.settings.OnHotKeyChanged.addListener(this.onHotKeyChanged)}stop(){overwolf.windows.onStateChanged.removeListener(this.onHotKeyChanged)}}},function(e,t,n){"use strict";var o;Object.defineProperty(t,"__esModule",{value:!0}),t.OWHotkeys=t.Hotkeys=void 0,function(e){e.HOTKEY_NAME="show-hide-porofessor",e.UNASSIGEND="Unassigned"}(o=t.Hotkeys||(t.Hotkeys={}));class r{constructor(){}static _get(e,t){overwolf.settings.getHotKey(e,(function(e){e&&"error"!==e.status&&e.hotkey?t(e.hotkey):t(o.UNASSIGEND)}))}static _set(e,t){overwolf.settings.registerHotKey(e,(function(n){n.success?t():console.error("[HOTKEYS SERVICE] failed to register hotkey "+e)}))}static getToggleHotkey(){return new Promise((e,t)=>{r._get(o.HOTKEY_NAME,e)})}static setToggleHotkey(e){r._set(o.HOTKEY_NAME,e)}static addHotkeyChangeListener(e){overwolf.settings.OnHotKeyChanged.addListener(e)}static beautifyHotkeyString(e){return e.split("+").join(" + ")}}t.OWHotkeys=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OWLauncherEvents=void 0;const o=n(11);class r{constructor(e){this.onLauncherStarted=async e=>{if(!e||e.classId!==r.Constants.LOL_LAUNCHER_ID)return;this.registerEvents(),await this.setRequiredFeatures(),await o.Timer.wait(600);const{res:t,status:n}=await this.getInfo();this._delegate.onLauncherStarted(e),t&&"success"===n&&this.onInfoUpdates({info:t})},this.onLauncherStopped=e=>{this.unRegisterEvents(),this._delegate.onLauncherStopped(e)},this.onInfoUpdates=e=>{this._delegate.onInfoUpdates(e.info)},this.onNewEvents=e=>{this._delegate.onNewEvents(e)},this._delegate=e,this.settingRunes=null,this.cancelSettingRunes=null}static get Constants(){return{LOL_LAUNCHER_ID:10902,SET_FEATURE_RETRIES:10,FEATURES:["game_flow","summoner_info","champ_select","lcu_info","credentials","lobby_info"]}}static async getInfo(e){return new Promise(t=>{overwolf.games.launchers.events.getInfo(e,t)})}static getRunningLOLLauncher(){return new Promise(e=>{overwolf.games.launchers.getRunningLaunchersInfo(t=>t&&t.launchers[0]?Math.floor(t.launchers[0].id/10)!=r.Constants.LOL_LAUNCHER_ID?e(!1):e(t.launchers[0]):e(!1))})}async getInfo(){return r.getInfo(r.Constants.LOL_LAUNCHER_ID)}async setRequiredFeatures(){let e,t=1;for(;t<=r.Constants.SET_FEATURE_RETRIES;){if(e=await new Promise(e=>{overwolf.games.launchers.events.setRequiredFeatures(r.Constants.LOL_LAUNCHER_ID,r.Constants.FEATURES,e)}),"success"===e.status)return console.log("setRequiredFeatures(): success: "+JSON.stringify(e,null,2)),e.supportedFeatures.length>0;await o.Timer.wait(3e3),t++}return console.warn("setRequiredFeatures(): failure after "+t+" tries"+JSON.stringify(e,null,2)),!1}registerEvents(){this.unRegisterEvents(),overwolf.games.launchers.events.onInfoUpdates.addListener(this.onInfoUpdates),overwolf.games.launchers.events.onNewEvents.addListener(this.onNewEvents)}unRegisterEvents(){overwolf.games.launchers.events.onInfoUpdates.removeListener(this.onInfoUpdates),overwolf.games.launchers.events.onNewEvents.removeListener(this.onNewEvents)}async setRunesSingle(e,t){return null!==this.settingRunes&&null!==this.cancelSettingRunes&&(this.cancelSettingRunes(),await this.settingRunes),this.settingRunes=this.setRunesWithRetry(e,t)}async setRunesWithRetry(e,t){let n=!1,r=!1,s=20;this.cancelSettingRunes=()=>{r=!0};do{n=await this.setPages(e,t),s--,console.log(`[OWLauncherEvents.setRunesWithRetry] setting try: ${20-s}, result: ${n}`),r||n||await o.Timer.wait(3e3)}while(!r&&!n&&s>0);return this.cancelSettingRunes=null,n}async setRunes(e,t){return console.log(`[OWLauncherEvents.setRunes] ${JSON.stringify(e)} ${JSON.stringify(t)}`),this.setPages(e,t)}async setPages({token:e,port:t},{title:n,primaryStyleId:r,selectedPerkIds:s,subStyleId:i}){const a="https://127.0.0.1:"+t,c=[{key:"Accept",value:"application/json"},{key:"Authorization",value:"Basic "+e}],u=await new Promise(e=>{overwolf.web.sendHttpRequest(a+"/lol-perks/v1/pages","GET",c,null,t=>{if(console.log("[OWLauncherEvents.setPages] got pages: "+JSON.stringify(t)),t.success)try{e(JSON.parse(t.data))}catch(n){e(t.data)}else e(null)})});let l=null;if(u&&u.length){let e=u.find(e=>e.isDeletable&&e.name.toLowerCase().includes("porofessor"));e||(e=u.find(e=>e.isDeletable&&e.current)),e||(e=u.find(e=>e.isDeletable)),e&&e.id&&(l=e.id)}if(null!==l){const e=await new Promise(e=>{overwolf.web.sendHttpRequest(`${a}/lol-perks/v1/pages/${l}`,"DELETE",c,null,t=>e(t))});console.log(`[OWLauncherEvents.setPages] DELETE code: ${e.statusCode} / response: ${JSON.stringify(e)}`),(!e.statusCode||e.statusCode<200||e.statusCode>=300)&&console.log("[OWLauncherEvents.setPages] pages: "+JSON.stringify(u)),await o.Timer.wait(2e3)}const d={id:0,name:n,current:!0,isActive:!1,isDeletable:!0,isEditable:!0,isValid:!0,order:0,lastModified:Date.now(),autoModifiedSelections:[],primaryStyleId:r,selectedPerkIds:s,subStyleId:i},p=JSON.stringify(d),h=await new Promise(e=>{overwolf.web.sendHttpRequest(a+"/lol-perks/v1/pages","POST",c,p,t=>e(t))});return console.log(`[OWLauncherEvents.setPages] POST: ${h.statusCode} / response: ${JSON.stringify(h)}`),(!h.statusCode||h.statusCode<200||h.statusCode>=300)&&console.log("[OWLauncherEvents.setPages] pages: "+JSON.stringify(u)),h.statusCode>=200&&h.statusCode<300}async start(){console.log("[ow-launch-events] START");const e=await r.getRunningLOLLauncher();e&&(console.log("[ow-launch-events] lol launcher running"),this.onLauncherStarted(e)),overwolf.games.launchers.onLaunched.addListener(this.onLauncherStarted),overwolf.games.launchers.onTerminated.addListener(this.onLauncherStopped)}stop(){console.log("[ow-launch-events] STOP"),this.unRegisterEvents()}}t.OWLauncherEvents=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OWProfileListener=void 0;const o=n(5);class r extends o.OWListener{constructor(e){super(e),this.onLoginStateChanged=e=>{this._delegate.onLoginStateChanged&&this._delegate.onLoginStateChanged(e)}}start(){super.start(),overwolf.profile.onLoginStateChanged.addListener(this.onLoginStateChanged)}stop(){overwolf.profile.onLoginStateChanged.removeListener(this.onLoginStateChanged)}}t.OWProfileListener=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OWProfile=void 0;t.OWProfile=class{static async getCurrentUser(){return new Promise(e=>{overwolf.profile.getCurrentUser(e)})}static openLoginDialog(){overwolf.profile.openLoginDialog()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OWPlugin=void 0;const o=n(96);class r{constructor(e){this._pluginInstance=null,this._pluginInstance=e}static async create(e){const t=await o.OWExtensions.getExtraObject(e);return new r(t)}get isInitialized(){return null!==this._pluginInstance}get instance(){return this._pluginInstance}}t.OWPlugin=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OWExtensions=void 0;t.OWExtensions=class{static launch(e,t){overwolf.extensions.launch(e,t)}static async getExtraObject(e){return new Promise((t,n)=>{overwolf.extensions.current.getExtraObject(e,e=>{e.success?t(e.object):n(e.error)})})}static relaunch(){overwolf.extensions.relaunch()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OWIO=void 0;t.OWIO=class{static copyFile(e,t,n,o){return new Promise(r=>{overwolf.io.copyFile(e,t,n,o,e=>r(e.success))})}static dir(e){return new Promise((t,n)=>{overwolf.io.dir(e,e=>t(e))})}static exist(e){return new Promise((t,n)=>{overwolf.io.exist(e,e=>t(e))})}static fileExists(e){return new Promise((t,n)=>{overwolf.io.fileExists(e,e=>t(e))})}static readTextFile(e,t){return new Promise((n,o)=>{overwolf.io.readTextFile(e,t,e=>n(e))})}static writeFileContents(e,t,n,o){return new Promise((r,s)=>{overwolf.io.writeFileContents(e,t,n,o,e=>r(e.success))})}static readFileContents(e,t){return new Promise((n,o)=>{overwolf.io.readFileContents(e,t,e=>n(e))})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(6),r=n(37);t.default=new class{reportConsentRenewed(e){const{purposesType:t,legIntsType:n}=r.CMPUtils.getConsentTypes(e);this.sendAnalytic("cmp_periodic_renewal",{consent_type:t.toString(),legitimate_interest_type:n.toString(),vendor_list_version:e.vendorListVersion.toString(),cmp_version:e.cmpVersion.toString()})}reportFullConsentIfApplicable(e){const{purposesType:t,legIntsType:n}=r.CMPUtils.getConsentTypes(e);t===o.ConsentType.Full&&n===o.ConsentType.Full&&(console.log("Reporting new full consent"),this.sendAnalytic("cmp_accept_full_launch",{consent_type:t.toString(),legitimate_interest_type:n.toString(),vendor_list_version:e.vendorListVersion.toString(),cmp_version:e.cmpVersion.toString()}))}sendAnalytic(e,t){return void 0===overwolfInternal.trackRSEventV2?overwolfInternal.trackRSEvent(e,t):overwolfInternal.trackRSEventV2(e,t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e=""){this._acVendors=[],this._selectedVendors=[],this._acString=e,""!==this._acString&&this.decodeACString()}get acVendors(){return this._acVendors&&0!==this._acVendors.length||this.safeInit(),this._acVendors}set acVendors(e){this._acVendors=e}get selectedVendors(){return this._selectedVendors||(this._selectedVendors=[]),this._selectedVendors}set selectedVendors(e){this._selectedVendors=e}get acString(){return this._acString||(this._acString=""),this._acString}set acString(e){this._acString=e}async safeInit(){try{await this.init()}catch(e){}}async init(){try{const e=await this.fetchData("https://content.overwolf.com/cmp/v3/gac/gac.json");this._acVendors=e}catch(e){return null}}selectVendor(e){this._selectedVendors.push(e)}deSelectVendor(e){const t=this._selectedVendors.indexOf(e);-1!==t&&this._selectedVendors.splice(t,1)}selectAllVendors(){this._acVendors.forEach(e=>{this.selectedVendors.includes(e.provider_id)||this.selectedVendors.push(e.provider_id)})}deSelectAllVendors(){this._selectedVendors=[]}encodeAcString(){let e="";e+="2~";try{this._selectedVendors.forEach((t,n)=>{e+=`${0===n?"":"."}${t}`}),e+="~",e+="dv.";this.acVendors.filter(e=>!this._selectedVendors.includes(e.provider_id)).forEach((t,n)=>{e+=`${0===n?"":"."}${t.provider_id}`}),this._acString=e}catch(e){console.error(e)}}createDefaultString(){try{let e="";e+="2~",e+="~",e+="dv.",this.acVendors.forEach(t=>{e+="."+t.provider_id}),this._acString=e}catch(e){}}decodeACString(){if(!this._acString||""===this._acString)return;const e=this._acString.indexOf("~"),t=this._acString.indexOf("~",e+1),n=this._acString.substring(e+1,t);if(""===n)return;const o=n.split(".");for(const e in o)this._selectedVendors.push(parseInt(o[e]))}fetchData(e){return new Promise((t,n)=>{const o=new XMLHttpRequest;o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status){const e=JSON.parse(o.responseText);t(e)}else n("Error fetching data")},o.open("GET",e,!0),o.send()})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OWInternalSettings=void 0;overwolfInternal.settings.enums.SettingsCategory;t.OWInternalSettings=class{static remove(e,t){if(overwolfInternal.settings.remove)overwolfInternal.settings.remove(e,t);else{t({status:"error",reason:"Remove action is not supported"})}}static set(e,t,n){overwolfInternal.settings.set(e,t,n)}static async get(e){return new Promise(t=>{overwolfInternal.settings.get(e,t)})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(33),r=n(102),s=n(13);t.default=new class{constructor(){this._promiseResolver=null,this._triggeringGameId=0,this.onGameTerminated=this.onGameTerminated.bind(this),this.tryOpenNotificationWindow=this.tryOpenNotificationWindow.bind(this),this.onWindowStateChanged=this.onWindowStateChanged.bind(this),this.onLaunch=this.onLaunch.bind(this),this._owWindowListener=new o.OWWindowsListener(this),this._appEntryPoint=new r.AppEntryPoint(this)}async run(){if(this.prerequisiteCheck()&&null!==this._owWindowListener)return this._owWindowListener.start(),new Promise(e=>{this._promiseResolver=e;const t=this.getLaunchTriggerGameClassId();isNaN(t)||0===t?this.tryOpenNotificationWindow():(this._triggeringGameId=t,overwolf.games.tracked.onTerminated.addListener(this.onGameTerminated))})}prerequisiteCheck(){const e=overwolf.version;let t=s.Utils.versionCompare(e,"0.221.0.0");if(t>0)return console.log("[NotificationLogic.prerequisiteCheck] - version not matching."),!1;if(t=s.Utils.versionCompare(e,"0.166.0.0"),t<0)return console.log("[NotificationLogic.prerequisiteCheck] - version not matching."),!1;if(!navigator.userAgent.includes("x64"))return console.log("[NotificationLogic.prerequisiteCheck] - Not x64 skipping update."),!1;return this.didCooldownPeriodEnd()}didCooldownPeriodEnd(){try{const e=parseInt(localStorage.getItem("lastDisplayedNotificationTimestamp"));if(!e)return console.log("[didCooldownPeriodEnd] - last notification timestamp does not exist."),!0;return!(36e5>Date.now()-e)||(console.log("[didCooldownPeriodEnd] - not enough time passed the last notification was displayed."),!1)}catch(e){return!0}}async tryOpenNotificationWindow(){try{const e=await new o.OWWindow("notification");await e.obtain(),await e.minimize(),await e.restore(),await e.bottomRight(),await e.setTopmost()}catch(e){console.error(new Error("failed to open notification window, error="+e)),this.close()}}getLaunchTriggerGameClassId(){const e=new URLSearchParams(window.location.search);return parseInt(e.get("gameid"))}onGameTerminated(e){if(!e||!e.gameInfo)return;const t=e.gameInfo;console.log(`[onGameTerminated] - game ${t.classId} closed.`),t.classId===this._triggeringGameId&&(overwolf.games.tracked.onTerminated.removeListener(this.onGameTerminated),this.tryOpenNotificationWindow())}onWindowStateChanged(e){e&&e.window_name.includes("notification")&&"closed"===e.window_state&&this.close()}async onLaunch(e){e===r.AppLaunchSource.commandline&&await this.tryOpenNotificationWindow()}close(){null!==this._owWindowListener&&this._owWindowListener.stop(),null!==this._promiseResolver&&this._promiseResolver()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppEntryPoint=t.AppLaunchSource=void 0;const o=n(36);var r;!function(e){e.overwolfstartlaunchevent="overwolfstartlaunchevent",e.commandline="commandline",e.urlscheme="urlscheme"}(r=t.AppLaunchSource||(t.AppLaunchSource={}));t.AppEntryPoint=class{constructor(e){this._delegate=e,this._extensionListener=new o.OWExtensionsListener(this),this._extensionListener.start(),this.checkLaunchParam()}checkLaunchParam(){const e=this.getUrlParam("source"),t=this.getUrlParam("param");this.handleLaunchSource(e,t,!0)}getUrlParam(e){e=e.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");const t=new RegExp(`[\\?&]${e}=([^&#]*)`).exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}handleLaunchSource(e,t,n){console.log(`${n?"Launched":"Received event "} from: ${e}`),this._delegate.onLaunch&&this._delegate.onLaunch(r[e])}onAppLaunchTriggered(e){console.log(JSON.stringify(e)),this.handleLaunchSource(e.origin,e.parameter,!1)}}},function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=o(n(104));t.default=new class{async run(){this.removeExtensions(),this.disableExtensions(),this.installExtensions()}removeExtensions(){for(const e of r.default.remove)console.log(`Uninstalling ${e}...`),overwolfInternal.extensions.uninstall(e,t=>{t.success||console.error("Failed to uninstall "+e)})}disableExtensions(){for(const e of r.default.disable)console.log(`Disabling ${e}...`),overwolfInternal.extensions.changeExtensionEnableState(e,!1,t=>{t.success||console.error("Failed to disable "+e)})}installExtensions(){Object.keys(r.default.install).forEach(e=>{const t=r.default.install[e];console.log("Installing "+t),t.minimumVersion>overwolf.version||overwolfInternal.extensions.installApp(e,t=>{"error"===t.status?console.error("Failed to install app: "+t.reason):console.log(e+" installed successfully")})})}}},function(e){e.exports=JSON.parse('{"remove":["kfnacgfblhkjdgcndfdobooemjaapcefaminngbk"],"disable":["nafihghfcpikebhfhdhljejkcifgbdahdhngepfb","flkgdpkkjcoapbgmgpidhepajgkhckpgpibmlclb"],"install":{"bgahplehcohebablohmbilgjdnihhgfmfepkpgcj":{"uid":"bgahplehcohebablohmbilgjdnihhgfmfepkpgcj","minimumVersion":"0.223.0.31"}}}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(38);t.default=new class{async run(){try{const e=await this.getPrivacySettings();if(!e||!e.flags)return;const{amazonPublisher:t,uspv1:n}=e.flags;if(null===t&&null===n)return;void 0!==t&&this.setToCookie("amazonPublisher",!0===t?1:0),void 0!==n&&this.setToCookie("uspv1",!0===n?1:0)}catch(e){}}async getPrivacySettings(){return new Promise((e,t)=>{overwolfInternal.settings.privacy.get(n=>{n.success||t(n),e(n)})})}setToCookie(e,t){for(let n of o.kBaseRemoteConfigPaths)n+=o.kCMPSyncPageName,n+=`${e}=${encodeURIComponent(t)}`,this.openIframe(n)}openIframe(e){const t=document.createElement("iframe");t.width="1px",t.height="1px",t.src=e,document.body.append(t)}}}]);
//# sourceMappingURL=../source-map/index/index.js.map