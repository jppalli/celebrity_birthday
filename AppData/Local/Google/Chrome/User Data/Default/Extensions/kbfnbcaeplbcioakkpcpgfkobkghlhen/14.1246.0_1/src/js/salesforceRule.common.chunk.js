(self.webpackChunk=self.webpackChunk||[]).push([[5091],{32643:(e,t,a)=>{a.r(t),a.d(t,{Salesforce:()=>E,getVBarsIntegrationInfo:()=>h});var n=a(84714),i=a(58303),r=a(1314),l=a(65427),o=a(8791),c=a(95054),s=a(21980),d=a(6887),f=a(20182),u=a(60774),p=a(15716),v=a(94919),m=a(59215),x=a(62129),g=a(29684),C=a(42969),R=a(72043),T=a(3479),S=a(74425);const h=(e,t)=>i.G({integrationName:e,kind:"salesforce",domain:t.pageContext.domain,isInsideIFrame:!1});var E;!function(e){function t(e){return e.experimentClient.isGateEnabled(f.K.SalesforceDetailsTextareaRichReplacementServiceDelay)?{overwriteGenericOpts:{createReplacementService:t=>new v.BT(t,e.experimentClient,void 0,void 0,50)}}:{}}e.createQuillIntegrationWithCustomReplacementService=t;const a=x.P.generic(t),i=o.T.textarea("Salesforce.classicChat",(e=>({extraCondition:e=>!!e.field.closest("#chatTextArea"),validationRules:[...s.u,(0,d.Uo)(18)],createLayout:()=>new r.A7(e.field)}))),E=o.T.textarea("Salesforce.serviceConsoleNewCase",(e=>({extraCondition:e=>!!e.field.closest("records-record-layout-text-area"),validationRules:[...s.u],createLayout:()=>new r.A7(e.field),getVBarsIntegrationInfo:t=>h(t,e),createReplacementService:e.experimentClient.isGateEnabled(f.K.SalesforceServiceConsoleReplacementFix)?t=>new m.l(e.field,t,e.experimentClient,50):void 0}))),I=o.T.textarea("Salesforce.serviceConsoleReplyMessage",(e=>({extraCondition:e=>!!e.field.closest(".messaging-textarea"),validationRules:[...s.u,(0,d.Uo)(18)],createLayout:()=>new r.A7(e.field,{createGbuttonShiftBehavior:()=>(0,n.of)({left:0,top:6})})})));e.REPLAY_THREAD_TITLE="- Original Message -",e.stopProcessEmailFieldOnReplyThread=(t,a)=>{var n;return!(!(0,u.BM)(t)||!(null===(n=t.textContent)||void 0===n?void 0:n.includes(e.REPLAY_THREAD_TITLE)))||g.Z.defaultFinishBlockMap(t,a)};const y=(0,c.q)("Salesforce.emailField",(t=>t.experimentClient.isGateEnabled(f.K.SalesforceFilterEmailThread)?{textMap:{createFieldTextMap:t=>new g.Z(t,void 0,void 0,void 0,void 0,void 0,e.stopProcessEmailFieldOnReplyThread)},createReplacementService:e=>v.BT.create(e,t.experimentClient,{focusElement:t.field,transformReplacementBeforeApply:a=>A(a,e,t.experimentClient)})}:{}));function A(e,t,a){if((0,p.HD)(e.value)&&e.value.split("\n\n").length>1){if(a.isGateEnabled(f.K.SalesforceCK4RichTextFix))return{...e,value:e.value.replace(/(\r?\n){2,}/g,"\n")};const n=t.getCurrentTextMap(),i=(0,l.Gl)(n,e,a);return{...e,value:(0,l.lG)(n,i,e)}}return e}e.transformReplacementIfNeeded=A,e.textAreaLegacyInput=o.T.textarea("Salesforce.legacy.input",(e=>({createLayout:()=>new r.A7(e.field,(0,C.dQ)()),getVBarsIntegrationInfo:t=>h(t,e)}))),e.page=(0,R.$W)({name:"Salesforce",domain:S.c3},[i,E,I,y,a,e.textAreaLegacyInput,...T.k.defaultFieldRuleSet])}(E||(E={}))}}]);