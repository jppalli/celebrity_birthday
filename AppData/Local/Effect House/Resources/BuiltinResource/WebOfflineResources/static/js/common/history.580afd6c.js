(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[11],{"2b777abfcd40aeb70ca0":function(e,t,a){var r=a("dc3b80debba44e2eb9d3");if("string"===typeof r)r=[[e.i,r,""]];var n;var i;var o={hmr:true};o.transform=n;o.insertInto=void 0;var c=a("5cc3883994c4d6f81b00")(r,o);if(r.locals)e.exports=r.locals;if(false);},"601fad590afefaf43d37":function(e,t,a){"use strict";a.r(t);var r=a("1f044b0f93637ba13f4a");var n=a.n(r);var i=a("8296abeb943cb0e29d2a");var o=a.n(i);var c=a("ae1ef0ce9e22f9582a72");var l=a.n(c);var s=a("bd5afc64bc3b3172d354");var f=a.n(s);var d=a("cc0ad2d3446c4b8e5fed");var u=a.n(d);var m=a("db8d125418ff35514568");var b=a.n(m);var v=a("e29d6858ebee7c385d03");var p=a.n(v);var h=a("c68c5493636f8c768bfb");var y=a.n(h);var x=a("38ccd2c0f38f6461ef3f");var g=a.n(x);var w=a("35035dba117500b54c8d");var j=a.n(w);var E=a("3207616f7330a4c663f8");var k=a.n(E);var z=a("bfb7a9d6ffc1124c8268");var N=a.n(z);var O=a("271f3960168b82296071");var S=a.n(O);var A=a("7cc2280a92cfda0f5897");var H=a("e374793bd9100adc2cb2");var I=a("afa0aa7d01627377302e");var P=a("8af190b70a6bc55c6f1b");var C=a.n(P);var T=a("2b777abfcd40aeb70ca0");var L=a.n(T);function _(e,t){return F(e)||B(e,t)||M(e,t)||J()}function J(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M(e,t){if(!e)return;if("string"===typeof e)return q(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);if("Object"===a&&e.constructor)a=e.constructor.name;if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return q(e,t)}function q(e,t){if(null==t||t>e.length)t=e.length;for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}function B(e,t){var a=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==a)return;var r=[];var n=true;var i=false;var o,c;try{for(a=a.call(e);!(n=(o=a.next()).done);n=true){r.push(o.value);if(t&&r.length===t)break}}catch(l){i=true;c=l}finally{try{if(!n&&null!=a["return"])a["return"]()}finally{if(i)throw c}}return r}function F(e){if(Array.isArray(e))return e}var R=20;var U=function e(t){Object(I["h"])("[History Page]",location.href);var r=t.projectId;var n=1;var i=Object(P["useState"])([]),o=_(i,2),c=o[0],l=o[1];var s=0;var f=false;var d=Object(P["useState"])(false),u=_(d,2),m=u[0],b=u[1];var v=function e(){Object(H["c"])(A["b"].Home)};var p=function e(t){var a;null===(a=new BroadcastChannel("cloudPerfTest"))||void 0===a?void 0:a.postMessage({event:A["a"].ToResultPage,data:t})};var h=function e(t){if(f)return null;f=true;return Object(H["b"])({projectId:r,pageNo:t,pageSize:R}).then((function(e){Object(I["h"])("[getCloudPerfList]",e);if(e&&0===Number(e.code)&&e.data){var t=Object(I["a"])(e.data.perf_list)||[];s=e.data.total_page||0;n=e.data.page_no;l((function(e){return e.concat(t)}))}else if(0!==Number(e.code)&&e.msg)Promise.all([a.e(0),a.e(8)]).then(a.bind(null,"e4e280594cdba66efdf9")).then((function(t){t["default"](e.msg)}))}))["finally"]((function(){f=false;b(true)}))};Object(P["useEffect"])((function(){Object(I["h"])("[History.useEffect]",location.href);var e,t;if(r)h(1)["finally"]((function(){if(s>1){e=document.querySelector(".item-wrap");t=function t(){if(f||n>=s)return;var a=e||document.body,r=a.clientHeight,i=a.scrollTop,o=a.scrollHeight;if(r+i+500>=o)h(++n)};e&&e.addEventListener("scroll",t)}}));return function(){var a;Object(I["h"])("History Page useEffect clean");null===(a=e)||void 0===a?void 0:a.removeEventListener("scroll",t);e=null}}),[]);return C.a.createElement("div",{className:"history-container"},C.a.createElement("div",{className:"title"},"\u68c0\u6d4b\u8bb0\u5f55"),C.a.createElement("div",{className:"content"},C.a.createElement("div",{className:"list"},c.length>0?C.a.createElement(C.a.Fragment,null,C.a.createElement("div",{className:"header"},C.a.createElement("div",{className:"header-time"},"\u68c0\u6d4b\u65f6\u95f4"),C.a.createElement("div",{className:"header-result"},"\u7ed3\u679c")),C.a.createElement("div",{className:"item-wrap scrollbar"},c.map((function(e){var t=e.perfStatus&&H["e"][e.perfStatus]||{};return C.a.createElement("div",{className:"item",key:e.id,onClick:function t(){return p(e)}},C.a.createElement("div",{className:"item-time"},Object(I["c"])(e.checkTime,{showYear:true})),C.a.createElement("div",{className:"item-result ".concat((null===t||void 0===t?void 0:t.cls)||"")},t.text||"-"))})))):C.a.createElement("div",{className:"empty"},m?"\u6682\u65e0\u68c0\u6d4b\u8bb0\u5f55":""))),C.a.createElement("a",{className:"btn btn-back",href:"#",onClick:v},"\u8fd4\u56de"))};t["default"]=U},dc3b80debba44e2eb9d3:function(e,t,a){t=e.exports=a("c09c30cdebe4ae3a3568")(false);t.push([e.i,".history-container{display:-moz-box;display:-ms-flexbox;display:flex;-moz-box-align:center;-ms-flex-align:center;align-items:center;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:100%;padding:36px 40px}.history-container .title{margin-bottom:30px;font-size:18px;font-weight:500;color:#fff}.history-container .content{margin-bottom:38px;width:100%;max-width:500px;height:200px;padding:16px;background:rgba(0,0,0,0.2);border-radius:6px}.history-container .content .header{display:-moz-box;display:-ms-flexbox;display:flex;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:20px}.history-container .content .header .header-time,.history-container .content .header .header-result{color:#909194}.history-container .content .list{height:100%}.history-container .content .list .empty{height:100%;display:-moz-box;display:-ms-flexbox;display:flex;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;-moz-box-align:center;-ms-flex-align:center;align-items:center}.history-container .content .list .item-wrap{overflow-y:auto;max-height:132px}.history-container .content .list .item-wrap .item{display:-moz-box;display:-ms-flexbox;display:flex;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;font-weight:600;font-size:14px;cursor:pointer}.history-container .content .list .item-wrap .item .item-time{color:#fff}.history-container .content .list .item-wrap .item .item-result{text-decoration:underline;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.history-container .content .list .item-wrap .item+.item{margin-top:18px}.history-container .btn{display:inline-block;width:144px;padding-top:8px;padding-bottom:8px;font-weight:500;font-size:12px;border-radius:6px;text-decoration:none;text-align:center;color:#fff}.history-container .btn.btn-back{margin-bottom:16px;background-color:#256cfa}\n",""])}}]);
//# sourceMappingURL=history.580afd6c.js.map