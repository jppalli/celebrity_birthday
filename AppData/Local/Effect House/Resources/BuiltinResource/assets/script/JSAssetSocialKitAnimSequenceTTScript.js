"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.JSAssetSocialKitAnimSequenceTTScript=void 0;const JSAssetAnimSequenceScript_1=require("./JSAssetAnimSequenceScript");class JSAssetSocialKitAnimSequenceTTScript extends JSAssetAnimSequenceScript_1.JSAssetAnimSequenceScript{constructor(){super(),this._friendCount=10,this._placeHolderTexSeq=void 0,this._avatarMat=void 0,this._watermarkTexture=void 0,this._renderOutput=void 0,this._watermarkMat=void 0,this._uriArray=new Array,this._extName=".oskseqjsatt",this._extName=".oskseqjsatt"}onStart(){super.onStart();const t=this.textureSequence;if(this._uriArray=[],t&&t.atlases)for(let e=0;e<t.atlases.size();e++){const s=t.atlases.get(e);this._uriArray.push(s.uri)}}get extName(){return this._extName}get avatarMat(){return this._avatarMat}set avatarMat(t){var e;this._avatarMat=t,this.isRunTime&&(null===(e=this.scene)||void 0===e||e.assetManager.setCustomAssetsProperty(this.uuid,"avatarMat",t))}get watermarkTexture(){return this._watermarkTexture}set watermarkTexture(t){var e;this._watermarkTexture=t,this.isRunTime&&(null===(e=this.scene)||void 0===e||e.assetManager.setCustomAssetsProperty(this.uuid,"watermarkTexture",t))}get renderOutput(){return this._renderOutput}set renderOutput(t){var e;this._renderOutput=t,this.isRunTime&&(null===(e=this.scene)||void 0===e||e.assetManager.setCustomAssetsProperty(this.uuid,"renderOutput",t))}get watermarkMat(){return this._watermarkMat}set watermarkMat(t){var e;this._watermarkMat=t,this.isRunTime&&(null===(e=this.scene)||void 0===e||e.assetManager.setCustomAssetsProperty(this.uuid,"watermarkMat",t))}set editTimeShouldPlay(t){this._editTimeShouldPlay=t}get friendCount(){return this._friendCount}set friendCount(t){var e;this._friendCount=t,this.frameCount=t,this.isRunTime&&(null===(e=this.scene)||void 0===e||e.assetManager.setCustomAssetsProperty(this.uuid,"friendCount",t))}get reverse(){return this._reverse}set reverse(t){var e;this._reverse=t,this.isRunTime&&(null===(e=this.scene)||void 0===e||e.assetManager.setCustomAssetsProperty(this.uuid,"reverse",t))}get playMode(){return this._playMode}set playMode(t){var e;this._playMode=t,this.isRunTime&&(null===(e=this.scene)||void 0===e||e.assetManager.setCustomAssetsProperty(this.uuid,"playMode",t))}get loopCount(){return this._loopCount}set loopCount(t){var e;this._loopCount=t,this.isRunTime&&(null===(e=this.scene)||void 0===e||e.assetManager.setCustomAssetsProperty(this.uuid,"loopCount",t))}get textureSequence(){return this._seq}set textureSequence(t){var e;t&&(this._seq=t,this.reset()),this.isRunTime&&(null===(e=this.scene)||void 0===e||e.assetManager.setCustomAssetsProperty(this.uuid,"textureSequence",t))}get placeHolderTexSeq(){return this._placeHolderTexSeq}set placeHolderTexSeq(t){var e;t&&(this._placeHolderTexSeq=t,this.reset()),this.isRunTime&&(null===(e=this.scene)||void 0===e||e.assetManager.setCustomAssetsProperty(this.uuid,"placeHolderTexSeq",t))}get fps(){return this._fps}set fps(t){var e;if(t>0&&this.fps!==t){if(this._fps=t,this._frameCount){const t=this._frameCount/this._fps;this.duration=t}this._playingFrameCount&&(this._playingDuration=this._playingFrameCount/this.fps),this.isRunTime&&(null===(e=this.scene)||void 0===e||e.assetManager.setCustomAssetsProperty(this.uuid,"fps",t))}}get duration(){return this._duration}set duration(t){var e;if(t>0&&this.duration!==t){if(this._duration=t,this._frameCount){const t=Math.round(this._frameCount/this._duration);this.fps=t}this._playingFrameCount&&(this._playingDuration=this._playingFrameCount/this.fps),this.isRunTime&&(null===(e=this.scene)||void 0===e||e.assetManager.setCustomAssetsProperty(this.uuid,"duration",t))}}get frameCount(){return this._frameCount}set frameCount(t){this._frameCount=t,this._fps&&(this._duration=this._frameCount/this._fps)}get frameIndex(){return this._frameIndex}onRelease(){this._isPlaying=!1;const t=this._seq;if(t){for(let e=0;e<t.atlases.size();e++){t.atlases.get(e).uri=this._uriArray[e]}this._seq=void 0}this._curAtlasIndex=-1,this._prevAtlasIndex=-1}}exports.JSAssetSocialKitAnimSequenceTTScript=JSAssetSocialKitAnimSequenceTTScript;