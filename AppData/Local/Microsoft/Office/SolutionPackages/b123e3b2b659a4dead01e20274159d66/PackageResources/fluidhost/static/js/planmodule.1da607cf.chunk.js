(self.webpackChunkfluidhost=self.webpackChunkfluidhost||[]).push([[25914],{7574:(t,e,n)=>{"use strict";n.d(e,{j:()=>a});var r=n(32512);class a extends r.v{constructor(t,e,n,r){super(a.actionType,t,e,n),this.planId=r}}a.actionType="PLW_FETCH_PLAN_FAILED"},14070:(t,e,n)=>{"use strict";n.d(e,{N:()=>a});var r=n(75992);class a extends r.r{loggingData(){return{recentPlanCount:String(this.plans.length)}}constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(a.actionType),this.userId=t,this.plans=e,this.isFirstPage=n}}a.actionType="PLW_GET_RECENTPLANSFORUSER_SUCCEEDED"},24322:(t,e,n)=>{"use strict";n.d(e,{T:()=>a});var r=n(75992);class a extends r.r{loggingData(){return{planCount:String(this.plans.length)}}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];super(a.actionType),this.plans=t,this.isFirstPage=e}}a.actionType="PLW_GET_ROSTERPLANS_FOR_USER_SUCCEEDED"},28242:(t,e,n)=>{"use strict";n.d(e,{R:()=>a});var r=n(32512);class a extends r.v{constructor(t,e,n,r,s){super(a.actionType,n,r,s),this.originalPlanEntitySet=t,this.updateKey=e}}a.actionType="PLW_UPDATE_PLANENTITYSET_FAILED"},29274:(t,e,n)=>{"use strict";n.d(e,{S:()=>s});var r=n(75992),a=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(n,r,a){var s=t.call(this,e.type)||this;return s.name=n,s.id=r,s.additionalData=a,s}return a(e,t),e.prototype.loggingData=function(){return{name:this.name,id:this.id}},e.type="BEGIN_TRANSACTION",e}(r.r)},31415:(t,e,n)=>{"use strict";n.d(e,{c:()=>a});var r=n(75992);class a extends r.r{loggingData(){return{operationId:this.operationId,ownerId:this.planOwner,clientOperationId:this.clientOperationId}}constructor(t,e,n){super(a.actionType),this.operationId=t,this.planOwner=e,this.clientOperationId=n}}a.actionType="PLW_COPY_PLAN_SUCCEEDED"},35879:(t,e,n)=>{"use strict";n.d(e,{U:()=>a});var r=n(75992);class a extends r.r{constructor(t,e){super(a.actionType),this.updatedLocalPlanEntitySet=t,this.updateKey=e}}a.actionType="PLW_UPDATE_PLANENTITYSET"},38509:(t,e,n)=>{"use strict";n.r(e),n.d(e,{PlanModule:()=>K});var r=n(53211),a=n(71794),s=n(7574),i=n(54205),o=n(99244),c=n(62076),l=n(51710),u=n(93593),d=n(73615),g=n(89190),h=n(35879),p=n(28242),P=n(75992);class T extends P.r{loggingData(){return{sourcePlanId:this.originalPlanId,ownerId:this.targetContainerId}}constructor(t,e,n){super(T.actionType),this.originalPlanId=t,this.newPlanTitle=e,this.targetContainerId=n}}T.actionType="PLW_COPY_PLAN";var y=n(31415),v=n(27051),I=n(32512);class C extends I.v{loggingData(){return(0,v.A)((0,v.A)({},super.loggingData()),{},{sourcePlanId:this.originalPlanId,clientOperationId:this.clientOperationId})}constructor(t,e,n,r,a){super(C.actionType,n,r,a),this.originalPlanId=t,this.clientOperationId=e}}C.actionType="PLW_COPY_PLAN_FAILED";var E=n(75913),w=n(93407),S=n(14070),D=n(24367),f=n(23835),A=n(24322),L=n(40468),b=n(51857),_=n(78332),m=n(96891),x=n(74844),F=n(95783),k=n(64226),R=n(64805),O=n(9962),U=n(91246),N=n(69108),W=n.n(N),j=n(19853),V=n.n(j),M=n(28673),q=n.n(M),Y=n(52416),B=n(98502),H=n(54439),G=n(82841);class K extends R.J{get name(){return"PlanModule"}async fetchPlanAsync(t,e,n){this.loggers.traceLogger.logTrace(507897117,x.k.Verbose,"Fetching Plan [PlanId=".concat(t,"][Force=").concat(null!==e&&void 0!==e&&e,"]"));const i=this.stores.planStore.getPlan(t),o=this.stores.planStore.getPlanDetails(t);if(!e&&null!=i&&null!=o)return Promise.resolve(L.T.builder.withPlan(i).withDetails(o).build());let c=t=>{const e=this.stores.planStore.getPlan(t.planId),n=this.stores.planStore.getPlanDetails(t.planId);return null==e||null==n?null:L.T.builder.withPlan(e).withDetails(n).build()},l=this.getCurrentViewIds();e&&(c=void 0,l=void 0),this.dispatcher.dispatchAction(new r.Q(t));try{const r=await this.webApiProviders.taskService(),s=await r.getPlanEntitySetAsync({planId:t},c,l,n);return this.loggers.traceLogger.logTrace(507897116,x.k.Verbose,"Fetching Plan - Success [PlanId=".concat(t,"][Force=").concat(null!==e&&void 0!==e&&e,"][ContainerType=").concat(s.plan.container.containerType,"]")),this.dispatcher.dispatchAction(new a.$(s)),s}catch(p){var u,d,g,h;const n=p;return this.loggers.traceLogger.logTrace(507897115,x.k.Warning,"Fetching Plan - Fail [PlanId=".concat(t,"][Force=").concat(null!==e&&void 0!==e&&e,"]").concat((0,G.s8)(n))),this.dispatcher.dispatchAction(new s.j(n.response,null!==(u=null===(d=n.response)||void 0===d?void 0:d.statusText)&&void 0!==u?u:"",null!==(g=null===(h=n.error)||void 0===h?void 0:h.message)&&void 0!==g?g:"",t)),Promise.reject(n)}}async fetchPlanByExternalIdAsync(t,e,n,r){this.loggers.traceLogger.logTrace(507897114,x.k.Verbose,"Fetching Plan By External Id [Force=".concat(null!==n&&void 0!==n&&n,"]"));const i=this.stores.planStore.getPlanByExternalId(t,e),o=i?this.stores.planStore.getPlanDetails(i.id):null;if(!n&&null!=i&&null!=o)return Promise.resolve(L.T.builder.withPlan(i).withDetails(o).build());let c=t=>{const e=this.stores.planStore.getPlanByExternalId(t.contextScenarioId,t.externalObjectId),n=e?this.stores.planStore.getPlanDetails(e.id):null;return null==e||null==n?null:L.T.builder.withPlan(e).withDetails(n).build()},l=this.getCurrentViewIds();n&&(c=void 0,l=void 0);try{const s=await this.webApiProviders.taskService(),i=await s.getPlanEntitySetByExternalIdAsync({contextScenarioId:t,externalObjectId:e},c,l,r);return this.loggers.traceLogger.logTrace(507897113,x.k.Verbose,"Fetching Plan By External Id - Success [Force=".concat(null!==n&&void 0!==n&&n,"][ContainerType=").concat(i.plan.container.containerType,"]")),this.dispatcher.dispatchAction(new a.$(i)),i}catch(p){var u,d,g,h;const t=p;return this.loggers.traceLogger.logTrace(507897112,x.k.Warning,"Fetching Plan By External Id - Fail [Force=".concat(null!==n&&void 0!==n&&n,"]").concat((0,G.s8)(t))),this.dispatcher.dispatchAction(new s.j(t.response,null!==(u=null===(d=t.response)||void 0===d?void 0:d.statusText)&&void 0!==u?u:"",null!==(g=null===(h=t.error)||void 0===h?void 0:h.message)&&void 0!==g?g:"")),Promise.reject(t)}}async fetchUserRosterPlansAsync(){this.loggers.traceLogger.logTrace(507897111,x.k.Verbose,"Fetching User Roster Plans");try{const t=await this.fetchRosterPlansRecursive([]);return this.loggers.traceLogger.logTrace(507897110,x.k.Verbose,"Fetching User Roster Plans - Success"),t}catch(t){const e=t;return this.loggers.traceLogger.logTrace(507897109,x.k.Warning,"Fetching User Roster Plans - Failure ".concat((0,G.s8)(e))),Promise.reject(e)}}async fetchFavoritePlansAsync(){try{const t=await this.fetchFavoritePlansRecursive([]);return this.loggers.traceLogger.logTrace(507897108,x.k.Verbose,"Fetching Favorite Plans - Success"),t}catch(t){const e=t;return this.loggers.traceLogger.logTrace(507897107,x.k.Warning,"Fetching Favorite Plans - Fail ".concat((0,G.s8)(e))),Promise.reject(e)}}async fetchRecentPlansAsync(){try{const t=await this.fetchRecentPlansRecursive([]);return this.loggers.traceLogger.logTrace(507897106,x.k.Verbose,"Fetching Recent Plans - Success"),t}catch(t){const e=t;return this.loggers.traceLogger.logTrace(507897105,x.k.Warning,"Fetching Recent Plans - Fail ".concat((0,G.s8)(e))),Promise.reject(e)}}async createPlanAsync(t,e,n){this.loggers.traceLogger.logTrace(507897104,x.k.Verbose,"Creating Plan [ContainerId=".concat(t.plan.container.externalId,"]")),n?H.j.beginTransaction(this.dispatcher,{name:"createPlan",transactionId:n,action:new i.O(t)},this.loggers.logHandler):this.dispatcher.dispatchAction(new i.O(t));try{const r=await this.tryCreatePlan(t,e);return this.loggers.traceLogger.logTrace(507897103,x.k.Verbose,"Creating Plan - Success [ContainerId=".concat(t.plan.container.externalId,"]")),n?H.j.completeTransaction(this.dispatcher,{transactionId:n,action:new o.t(r,t.plan.id),additionalData:{planId:r.plan.id}}):this.dispatcher.dispatchAction(new o.t(r,t.plan.id)),this.loggers.usageLogger.logData(this.name,m.M.CreatePlan),r}catch(p){const e=p;var r,a,s,l,u,d,g,h;if(this.loggers.traceLogger.logTrace(507897102,x.k.Warning,"Creating Plan - Fail [ContainerId=".concat(t.plan.container.externalId,"]").concat((0,G.s8)(e))),n)H.j.completeTransactionWithError(this.dispatcher,{transactionId:n,errorMessage:"",action:new c.V(t,e.response,null!==(r=null===(a=e.response)||void 0===a?void 0:a.statusText)&&void 0!==r?r:"",null!==(s=null===(l=e.error)||void 0===l?void 0:l.message)&&void 0!==s?s:""),additionalData:null!=e.response?{statusCode:e.response.status}:void 0});else this.dispatcher.dispatchAction(new c.V(t,e.response,null!==(u=null===(d=e.response)||void 0===d?void 0:d.statusText)&&void 0!==u?u:"",null!==(g=null===(h=e.error)||void 0===h?void 0:h.message)&&void 0!==g?g:""));return Promise.reject(e)}}async deletePlanAsync(t,e,n){var r,a;this.loggers.traceLogger.logTrace(507897101,x.k.Verbose,"Deleting Plan [PlanId=".concat(t,"][Version=").concat(e,"]"));const s=t+"_deletePlan",i=null!==(r=null===(a=this.stores.planStore.getPlan(t))||void 0===a?void 0:a.title)&&void 0!==r?r:"";H.j.beginTransaction(this.dispatcher,{name:"deletePlan",transactionId:s,action:new l.H(t)},this.loggers.logHandler);try{const r=await this.webApiProviders.taskService();return await r.deletePlanAsync({planId:t,itemVersion:e}),H.j.completeTransaction(this.dispatcher,{transactionId:s,action:new u.Y(t,n)}),this.loggers.traceLogger.logTrace(507897100,x.k.Verbose,"Deleting Plan - Success [PlanId=".concat(t,"][Version=").concat(e,"]")),this.loggers.usageLogger.logData(m.M.PlanActionCreator,m.M.DeleteWebPlan),Promise.resolve()}catch(p){var o,c,g,h;const n=p;return H.j.completeTransactionWithError(this.dispatcher,{transactionId:s,errorMessage:"",action:new d.U(t,n.response,null!==(o=null===(c=n.response)||void 0===c?void 0:c.statusText)&&void 0!==o?o:"",null!==(g=null===(h=n.error)||void 0===h?void 0:h.message)&&void 0!==g?g:"")}),this.dispatcher.dispatchAction(new D.Z(new b.Q("SharedComponents_DeletePlanToastTitle",this.stores.appContextStore.getFlights().ShowHiddenToasts,[],i))),this.loggers.traceLogger.logTrace(507897099,x.k.Warning,"Deleting Plan - Failure [PlanId=".concat(t,"][Version=").concat(e,"]").concat((0,G.s8)(p))),Promise.reject(n)}}async updatePlanAsync(t,e,n){this.loggers.traceLogger.logTrace(507897098,x.k.Verbose,"Updating Plan [PlanId=".concat(t.id,"]"));const r=U.o.generate(),a=t.id+_.Ek.UpdatePlan;if(H.j.beginTransaction(this.dispatcher,{name:"updatePlan",transactionId:a},this.loggers.logHandler),V()(t,e))return H.j.completeTransaction(this.dispatcher,{transactionId:a,action:new g.F(t,r)}),Promise.resolve(t);const s=t.plan.getDiff(e.plan),i=null!=t.planDetails&&null!=e.planDetails?t.planDetails.getDiff(e.planDetails):null;this.dispatcher.dispatchAction(new h.U(e,r));const o=e=>{const n=this.stores.planStore.getPlanWithoutPendingUpdates(e.originalPlanEntitySet.id);if(null==n)throw this.loggers.traceLogger.logTrace(507897097,x.k.Warning,"Updating Plan - Fail [PlanId=".concat(t.id,'][Error="Original plan not found in store"]')),B.g.generateAjaxClientError(null,new O.m("originalStorePlan","planStore"));const r=n.applyDiffs(s||{});let a=e.originalPlanEntitySet.planDetails,o=e.updatedPlanEntitySet.planDetails;if(null!=a&&null!=o){if(a=this.stores.planStore.getPlanDetailsWithoutPendingUpdates(e.originalPlanEntitySet.id)||void 0,null==a)throw this.loggers.traceLogger.logTrace(507897096,x.k.Warning,"Updating Plan - Fail [PlanId=".concat(t.id,'][Error="Original planDetails not found in store"]')),B.g.generateAjaxClientError(null,new O.m("originalStoreDetails","planStore"));o=a.applyDiffs(i||{})}return{originalPlanEntitySet:L.T.builder.withPlan(n).withDetails(a).build(),updatedPlanEntitySet:L.T.builder.withPlan(r).withDetails(o).build()}};try{const s=await this.webApiProviders.taskService(),i=await s.updatePlanAsync({originalPlanEntitySet:t,updatedPlanEntitySet:e},o,n);return H.j.completeTransaction(this.dispatcher,{transactionId:a,action:new g.F(i,r)}),this.loggers.traceLogger.logTrace(507897095,x.k.Verbose,"Updating Plan - Success [PlanId=".concat(t.id,"]")),this.loggers.usageLogger.logData(this.name,m.M.UpdatePlan),i}catch(P){var c,l,u,d;const e=P,n=new p.R(t,r,e.response,null!==(c=null===(l=e.response)||void 0===l?void 0:l.statusText)&&void 0!==c?c:"",null!==(u=null===(d=e.error)||void 0===d?void 0:d.message)&&void 0!==u?u:"");return H.j.completeTransactionWithError(this.dispatcher,{transactionId:a,errorMessage:"",action:n}),this.loggers.traceLogger.logTrace(507897094,x.k.Warning,"Updating Plan - Fail [PlanId=".concat(t.id,"]").concat((0,G.s8)(e))),Promise.reject(e)}}async copyPlanAsync(t,e,n,r,a,s,i){this.loggers.traceLogger.logTrace(507897093,x.k.Verbose,"Copying Plan [PlanId=".concat(t,"][ContainerId=").concat(n,"][ClientOperationId=").concat(r,"]")),this.dispatcher.dispatchAction(new T(t,e,n));try{const s=await this.webApiProviders.taskService(),i=await s.copyPlanAsync({planId:t,newTitle:e,targetGroupId:n,clientOperationId:r,copyPlanOptions:a});return this.dispatcher.dispatchAction(new y.c(i,n,r)),this.loggers.traceLogger.logTrace(507897092,x.k.Verbose,"Copying Plan - Success [PlanId=".concat(t,"][ContainerId=").concat(n,"][ClientOperationId=").concat(r,"][ServiceOperationId=").concat(i,"]")),i}catch(g){var o;const h=g,p=433===(null===h||void 0===h||null===(o=h.response)||void 0===o?void 0:o.status);return i&&null!=s&&Date.now()-s<K.RetryCreateTimeout&&!p?(await(0,Y.y)(K.RetryCreateInterval),this.copyPlanAsync(t,e,n,r,a,s,i)):(this.dispatcher.dispatchAction(new C(t,r,h.response,null!==(c=null===(l=h.response)||void 0===l?void 0:l.statusText)&&void 0!==c?c:"",null!==(u=null===(d=h.error)||void 0===d?void 0:d.message)&&void 0!==u?u:"")),this.loggers.traceLogger.logTrace(507897091,x.k.Warning,"Copying Plan - Fail [PlanId=".concat(t,"][ContainerId=").concat(n,"][ClientOperationId=").concat(r,"]").concat((0,G.s8)(h))),Promise.reject(h));var c,l,u,d}}async subscribeUserToPlanAsync(t,e){this.loggers.traceLogger.logTrace(507897090,x.k.Verbose,"Subscribing user to plan [PlanId=".concat(e,"]"));try{const o=await this.fetchPlanAsync(e,!1),c=o.planDetails;if(W()(c.sharedWith,t)>=0)return o;const l=c.addUserToSharedWith(t,!1),u=L.T.builder.withPlan(o.plan).withDetails(l).build();try{const t=await this.updatePlanAsync(o,u);return this.loggers.traceLogger.logTrace(507897089,x.k.Verbose,"SubscribeCurrentUserToPlan - Success"),t}catch(s){var n,r;const e=s,u=null!==(n=433===(null===e||void 0===e||null===(r=e.response)||void 0===r?void 0:r.status))&&void 0!==n&&n;if(this.loggers.traceLogger.logTrace(507897088,x.k.Verbose,"SubscribeCurrentUserToPlan - Retry [IsLimitsError=".concat(u,"][Size=").concat(l.sharedWith.length,"]")),!(l.sharedWith.length>1&&u))return this.loggers.traceLogger.logTrace(507897057,x.k.Warning,"SubscribeCurrentUserToPlan - Non limit related update failure ".concat((0,G.s8)(e))),Promise.reject(e);{const e=c.addUserToSharedWith(t,!0),n=L.T.builder.withPlan(o.plan).withDetails(e).build();try{const t=await this.updatePlanAsync(o,n);return this.loggers.traceLogger.logTrace(507897059,x.k.Verbose,"SubscribeCurrentUserToPlan - Success"),t}catch(i){var a;return(null===i||void 0===i||null===(a=i.response)||void 0===a||null===(a=a.statusText)||void 0===a?void 0:a.indexOf("MaximumProjectsSharedWithUser"))>-1&&this.dispatcher.dispatchAction(new f.i(k.fc.DiffSyncMaxPlansSharedWithUserLimitError)),this.loggers.traceLogger.logTrace(507897058,x.k.Warning,"SubscribeCurrentUserToPlan - Retry Fail ".concat((0,G.s8)(i))),Promise.reject(i)}}}}catch(s){const t=s;return this.loggers.traceLogger.logTrace(507897056,x.k.Warning,"SubscribeCurrentUserToPlan - Failed to retrieve plan ".concat((0,G.s8)(t))),Promise.reject(t)}}async fetchRecommendedDocumentPlansAsync(){this.loggers.traceLogger.logTrace(507897055,x.k.Verbose,"Fetch Recommended Document Plans");try{const t=await this.fetchRecommendedDocumentPlansRecursive([]);return this.loggers.traceLogger.logTrace(507897054,x.k.Verbose,"Fetch Recommended Document Plans - Success"),t}catch(t){const e=t;return this.loggers.traceLogger.logTrace(507897053,x.k.Warning,"Fetch Recommended Document Plans - Fail ".concat((0,G.s8)(e))),Promise.reject(e)}}async fetchRecommendedDocumentPlansRecursive(t,e){const n=this.stores.appContextStore.getCurrentUserId();try{const r=await this.webApiProviders.taskService(),a=await r.getRecommendedDocumentPlansForUserAsync({userId:n,nextContinuationToken:e});return t.push(...a.data.Results),this.dispatcher.dispatchAction(new E.C(n,a.data.Results,null!=a.data.NextContinuationToken)),null!=a.data.NextContinuationToken?this.fetchRecommendedDocumentPlansRecursive(t,a.data.NextContinuationToken):t}catch(r){return Promise.reject(r)}}async fetchFavoritePlansRecursive(t,e){const n=this.stores.appContextStore.getCurrentUserId(),r=this.stores.userStore.getCurrentUserDetails(),a=await this.webApiProviders.taskService(),s=await a.getFavoritePlansForUserAsync({userId:n,nextContinuationToken:e},t=>{if(t.nextContinuationToken)return null;const e=q()(r.favoritePlans.references),n=[];for(let r=0;r<e.length;r++){const t=e[r],a=this.stores.planStore.getPlan(t);if(null==a)return null;n.push(L.T.builder.withPlan(a).build())}return{data:{Results:n,NextContinuationToken:null},statusCode:F.t3.OK,xCorrelationId:null}});return t.push(...s.data.Results),this.dispatcher.dispatchAction(new w.A(n,s.data.Results,null!=s.data.NextContinuationToken)),null!=s.data.NextContinuationToken?this.fetchFavoritePlansRecursive(t,s.data.NextContinuationToken):t}async fetchRosterPlansRecursive(t,e){const n=await this.webApiProviders.taskService(),r=await n.getUserRosterPlansAsync({nextContinuationToken:e});return t.push(...r.Results),this.dispatcher.dispatchAction(new A.T(r.Results,null!=r.NextContinuationToken)),null!=r.NextContinuationToken?this.fetchRosterPlansRecursive(t,r.NextContinuationToken):t}async fetchRecentPlansRecursive(t,e){const n=this.stores.appContextStore.getCurrentUserId(),r=this.stores.userStore.getCurrentUserDetails(),a=await this.webApiProviders.taskService(),s=await a.getRecentPlansForUserAsync({userId:n,nextContinuationToken:e},t=>{if(t.nextContinuationToken)return null;const e=q()(r.recentPlans.references),n=[];for(let r=0;r<e.length;r++){const t=e[r],a=this.stores.planStore.getPlan(t);if(null==a)return null;n.push(L.T.builder.withPlan(a).build())}return{data:{Results:n,NextContinuationToken:null},statusCode:F.t3.OK,xCorrelationId:null}});return t.push(...s.data.Results),this.dispatcher.dispatchAction(new S.N(n,s.data.Results,null!=s.data.NextContinuationToken)),null!=s.data.NextContinuationToken?this.fetchRecentPlansRecursive(t,s.data.NextContinuationToken):t}async tryCreatePlan(t,e,n){this.loggers.traceLogger.logTrace(507897052,x.k.Verbose,"Try Creating Plan [ContainerId=".concat(t.plan.container.externalId,"][ShouldRetry=").concat(e,"]"));const r=null!==n&&void 0!==n?n:Date.now();try{const e=await this.webApiProviders.taskService(),n=await e.createPlanAsync({newPlanEntitySet:t});return this.loggers.traceLogger.logTrace(507897051,x.k.Verbose,"Try Creating Plan - Success [ContainerId=".concat(t.plan.container.externalId,"]")),n}catch(a){const n=a;return e&&Date.now()-r<K.RetryCreateTimeout?(this.loggers.traceLogger.logTrace(507897050,x.k.Info,"Try Creating Plan - Fail, Retrying [ContainerId=".concat(t.plan.container.externalId,"]").concat((0,G.s8)(n))),await(0,Y.y)(K.RetryCreateInterval),this.tryCreatePlan(t,e,r)):(this.loggers.traceLogger.logTrace(507897049,x.k.Warning,"Creating Plan - Fail [ContainerId=".concat(t.plan.container.externalId,"]").concat((0,G.s8)(n))),Promise.reject(n))}}}K.RetryCreateTimeout=6e4,K.RetryCreateInterval=1e3},47204:(t,e,n)=>{"use strict";n.d(e,{Y:()=>s});var r=n(75992),a=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(n,r,a){var s=t.call(this,e.type)||this;return s.id=n,s.errorMessage=r,s.additionalData=a,s}return a(e,t),e.prototype.loggingData=function(){return{errorMessage:this.errorMessage,id:this.id}},e.type="TRANSACTION_FAILED",e}(r.r)},51710:(t,e,n)=>{"use strict";n.d(e,{H:()=>a});var r=n(75992);class a extends r.r{constructor(t){super(a.actionType),this.planId=t}}a.actionType="PLW_DELETE_PLAN"},52416:(t,e,n)=>{"use strict";async function r(t){return new Promise(e=>setTimeout(e,t))}n.d(e,{y:()=>r})},53211:(t,e,n)=>{"use strict";n.d(e,{Q:()=>a});var r=n(75992);class a extends r.r{constructor(t){super(a.actionType),this.planId=t}}a.actionType="PLW_FETCH_PLAN"},54205:(t,e,n)=>{"use strict";n.d(e,{O:()=>a});var r=n(75992);class a extends r.r{constructor(t){super(a.actionType),this.planEntitySet=t}}a.actionType="PLW_CREATE_PLAN"},54439:(t,e,n)=>{"use strict";n.d(e,{j:()=>l});var r=n(29274),a=n(74427),s=n(57860),i=n(47204),o=n(74568),c=n(79947);class l{static beginTransaction(t,e,n){let{transactionId:a,name:s,logQos:i,action:c,additionalData:u}=e;if(!0===i){const t=new o.W({name:"Tx:"+s},n);l.qosEventsInFlight[a]=t}t.batchDispatchActions(new r.S(s,a,u),c)}static cancelTransaction(t,e){let{transactionId:n,action:r,additionalData:s}=e;const i=l.qosEventsInFlight[n];i&&(i.end({resultType:c.f.ExpectedFailure,extraData:s}),delete l.qosEventsInFlight[n]),t.batchDispatchActions(r,new a.D(n,s))}static completeTransaction(t,e){let{transactionId:n,action:r,additionalData:a}=e;const i=l.qosEventsInFlight[n];i&&(i.end({resultType:c.f.Success,extraData:a}),delete l.qosEventsInFlight[n]),t.batchDispatchActions(r,new s.M(n,a))}static completeTransactionWithBatch(t,e){let{transactionId:n,actions:r,additionalData:a}=e;const i=l.qosEventsInFlight[n];i&&(i.end({resultType:c.f.Success,extraData:a}),delete l.qosEventsInFlight[n]),t.batchDispatchActions(...r,new s.M(n,a))}static completeTransactionWithError(t,e){let{transactionId:n,errorMessage:r,action:a,additionalData:s}=e;const o=l.qosEventsInFlight[n];o&&(o.end({resultType:c.f.Failure,error:r,extraData:s}),delete l.qosEventsInFlight[n]),t.batchDispatchActions(a,new i.Y(n,r,s))}}l.qosEventsInFlight={}},57860:(t,e,n)=>{"use strict";n.d(e,{M:()=>s});var r=n(75992),a=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(n,r){var a=t.call(this,e.type)||this;return a.id=n,a.additionalData=r,a}return a(e,t),e.prototype.loggingData=function(){return{id:this.id}},e.type="TRANSACTION_SUCEEDED",e}(r.r)},62076:(t,e,n)=>{"use strict";n.d(e,{V:()=>a});var r=n(32512);class a extends r.v{constructor(t,e,n,r){super(a.actionType,e,n,r),this.planEntitySet=t}}a.actionType="PLW_CREATE_PLAN_FAILED"},64805:(t,e,n)=>{"use strict";n.d(e,{J:()=>a});class r{get clientSettings(){return this.clientSettingsProvider()}constructor(t,e,n){this.dispatcher=t,this.clientSettingsProvider=e,this.loggers=n}}class a extends r{getCurrentViewIds(){const t=this.stores.appContextStore.getCurrentViewId();return t?[t]:void 0}constructor(t,e,n,r,a){super(t,r,a),this.webApiProviders=e,this.stores=n}}},69108:(t,e,n)=>{var r=n(88468),a=n(99140),s=Math.max;t.exports=function(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=null==n?0:a(n);return o<0&&(o=s(i+o,0)),r(t,e,o)}},71794:(t,e,n)=>{"use strict";n.d(e,{$:()=>a});var r=n(75992);class a extends r.r{constructor(t){super(a.actionType),this.planEntitySet=t}}a.actionType="PLW_FETCH_PLAN_SUCCEEDED"},73615:(t,e,n)=>{"use strict";n.d(e,{U:()=>a});var r=n(32512);class a extends r.v{constructor(t,e,n,r){super(a.actionType,e,n,r),this.planId=t}}a.actionType="PLW_DELETE_PLAN_FAILED"},74427:(t,e,n)=>{"use strict";n.d(e,{D:()=>s});var r=n(75992),a=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},t(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(n,r){var a=t.call(this,e.type)||this;return a.id=n,a.additionalData=r,a}return a(e,t),e.prototype.loggingData=function(){return{id:this.id}},e.type="CANCEL_TRANSACTION",e}(r.r)},75913:(t,e,n)=>{"use strict";n.d(e,{C:()=>a});var r=n(75992);class a extends r.r{loggingData(){return{recommendedDocumentPlanCount:String(this.plans.length)}}constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(a.actionType),this.userId=t,this.plans=e,this.isFirstPage=n}}a.actionType="PLW_GET_RECOMMENDEDOCUMENTPLANS_SUCCEEDED"},89190:(t,e,n)=>{"use strict";n.d(e,{F:()=>a});var r=n(75992);class a extends r.r{constructor(t,e){super(a.actionType),this.updatedPlanEntitySet=t,this.updateKey=e}}a.actionType="PLW_UPDATE_PLANENTITYSET_SUCCEEDED"},93407:(t,e,n)=>{"use strict";n.d(e,{A:()=>a});var r=n(75992);class a extends r.r{loggingData(){return{favoritePlanCount:String(this.plans.length)}}constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];super(a.actionType),this.userId=t,this.plans=e,this.isFirstPage=n}}a.actionType="PLW_GET_FAVORITEPLANSFORUSER_SUCCEEDED"},93593:(t,e,n)=>{"use strict";n.d(e,{Y:()=>a});var r=n(75992);class a extends r.r{constructor(t,e){super(a.actionType),this.planId=t,this.planContainer=e}}a.actionType="PLW_DELETE_PLAN_SUCCEEDED"},99244:(t,e,n)=>{"use strict";n.d(e,{t:()=>a});var r=n(75992);class a extends r.r{constructor(t,e){super(a.actionType),this.planEntitySet=t,this.localId=e}}a.actionType="PLW_CREATE_PLAN_SUCCEEDED"}}]);
//# sourceMappingURL=planmodule.1da607cf.chunk.js.map