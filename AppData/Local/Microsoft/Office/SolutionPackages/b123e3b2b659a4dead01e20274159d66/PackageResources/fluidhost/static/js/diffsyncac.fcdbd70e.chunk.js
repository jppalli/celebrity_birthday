"use strict";(self.webpackChunkfluidhost=self.webpackChunkfluidhost||[]).push([[46075],{13736:(t,e,i)=>{i.d(e,{K:()=>a});var s=i(75992);class a extends s.r{isLoggingEnabled(){return!1}constructor(){super(a.actionType)}}a.actionType="PLW_DIFFSYNCFETCH_SCHEDULED"},34631:(t,e,i)=>{i.d(e,{V:()=>a});var s=i(75992);class a extends s.r{loggingData(){var t,e,i,s,a,n;return{id:null!==(t=null!==(e=null!==(i=null===(s=this.updatedFormats.assignmentBoardFormat)||void 0===s?void 0:s.id)&&void 0!==i?i:null===(a=this.updatedFormats.bucketBoardFormat)||void 0===a?void 0:a.id)&&void 0!==e?e:null===(n=this.updatedFormats.progressBoardFormat)||void 0===n?void 0:n.id)&&void 0!==t?t:""}}constructor(t,e){super(a.actionType),this.originalFormats=t,this.updatedFormats=e}}a.actionType="PLW_DIFFSYNC_UPDATE_TASK_FORMAT"},36591:(t,e,i)=>{i.d(e,{C:()=>s});class s{constructor(t,e,i,s,a){this.dispatcher=t,this.logicModuleProviders=e,this.entityStoreSet=i,this.clientSettings=s,this.loggers=a}}},41927:(t,e,i)=>{i.d(e,{F:()=>a});var s=i(75992);class a extends s.r{loggingData(){var t,e,i,s,a,n;return{id:null!==(t=null!==(e=null!==(i=null===(s=this.taskFormats.assignmentBoardFormat)||void 0===s?void 0:s.id)&&void 0!==i?i:null===(a=this.taskFormats.bucketBoardFormat)||void 0===a?void 0:a.id)&&void 0!==e?e:null===(n=this.taskFormats.progressBoardFormat)||void 0===n?void 0:n.id)&&void 0!==t?t:""}}constructor(t){super(a.actionType),this.taskFormats=t}}a.actionType="PLW_DIFFSYNC_INSERT_TASK_FORMAT"},42045:(t,e,i)=>{i.d(e,{Z:()=>a});var s=i(75992);class a extends s.r{loggingData(){return{id:this.planEntitySet.id}}constructor(t){super(a.actionType),this.planEntitySet=t}}a.actionType="PLW_DIFFSYNC_UPDATE_PLAN"},43841:(t,e,i)=>{i.d(e,{V:()=>a});var s=i(75992);class a extends s.r{loggingData(){return{id:this.updatedTaskDetails.id}}constructor(t,e){super(a.actionType),this.originalTaskDetails=t,this.updatedTaskDetails=e}}a.actionType="PLW_DIFFSYNC_UPDATE_TASK_DETAILS"},45698:(t,e,i)=>{i.d(e,{a:()=>a});var s=i(75992);class a extends s.r{loggingData(){return{id:this.bucketId}}constructor(t){super(a.actionType),this.bucketId=t}}a.actionType="PLW_DIFFSYNC_DELETE_BUCKET"},47572:(t,e,i)=>{i.d(e,{c:()=>a});var s=i(75992);class a extends s.r{loggingData(){return{id:this.bucket.id}}constructor(t){super(a.actionType),this.bucket=t}}a.actionType="PLW_DIFFSYNC_UPDATE_BUCKET"},47701:(t,e,i)=>{i.r(e),i.d(e,{DiffSyncActionCreator:()=>_});var s=i(48148),a=i(45698),n=i(47572),r=i(98899),c=i(42045),d=i(79387),o=i(98304),l=i(91393),p=i(41927),h=i(33629),u=i(99763),y=i(43841),T=i(34631),D=i(2423),g=i(13736),F=i(36591),S=i(38752),v=i(96891),A=i(74844),k=i(82841);class _ extends F.C{get name(){return v.M.DiffSyncActionCreator}async fetchDiffSyncToken(){(await this.logicModuleProviders.diffSyncModule()).fetchDiffSyncToken().catch(()=>{})}async fetchDiffSyncFeed(t){(await this.logicModuleProviders.diffSyncModule()).fetchDiffSyncFeed(t).catch(()=>{})}applyInsertBucket(t){this.dispatcher.dispatchAction(new s.e(t))}applyDeleteBucket(t){this.dispatcher.dispatchAction(new a.a(t))}applyUpdateBucket(t){this.dispatcher.dispatchAction(new n.c(t))}async applyDeletePlan(t){if(null==t.deletedBy)return void this.dispatcher.dispatchAction(new r.l(t.id,t.container));const e=await this.logicModuleProviders.userModule();e.fetchUserAsync(t.deletedBy).then(e=>{this.dispatcher.dispatchAction(new r.l(t.id,t.container,e.displayName))},e=>{this.dispatcher.dispatchAction(new r.l(t.id,t.container))});const i=this.entityStoreSet.userStore.getUserDetailsById(S.B.currentUserId);if(null==i)return;let s=i;null!=i.favoritePlans.references[t.id]&&(s=s.removeFavoritePlan(t.id)),null!=i.recentPlans.references[t.id]&&(s=s.removeRecentPlan(t.id)),e.updateUserDetailsAsync(i,s).catch(t=>{this.loggers.traceLogger.logTrace(507880209,A.k.Warning,"ApplyDeletePlan Update User Details - Failure ".concat((0,k.s8)(t)))})}applyUpdatePlan(t){this.dispatcher.dispatchAction(new c.Z(t))}applyUpdatePlanDetails(t){this.dispatcher.dispatchAction(new d.T(t))}applyInsertTask(t){const e=this.entityStoreSet.planStore.getContainerIdForPlan(t.task.planId);this.dispatcher.dispatchAction(new o.r(t,e))}applyInsertTaskDetails(t){this.dispatcher.dispatchAction(new l.p(t))}applyInsertTaskFormatData(t){this.dispatcher.dispatchAction(new p.F(t))}async applyDeleteTask(t){var e;if(null==(null===(e=t.task)||void 0===e?void 0:e.deletedBy))return void this.dispatcher.dispatchAction(new h.D(t));(await this.logicModuleProviders.userModule()).fetchUserAsync(t.task.deletedBy).then(e=>{this.dispatcher.dispatchAction(new h.D(t,e.displayName))},e=>{this.dispatcher.dispatchAction(new h.D(t))})}applyUpdateTask(t,e){this.dispatcher.dispatchAction(new u.T(t,e))}applyUpdateTaskDetails(t,e){this.dispatcher.dispatchAction(new y.V(t,e))}applyUpdateTaskFormatData(t,e){this.dispatcher.dispatchAction(new T.V(t,e))}applyUpdateUserDetails(t){this.dispatcher.dispatchAction(new D.z(t))}scheduleDiffSyncFetch(){this.dispatcher.dispatchAction(new g.K)}constructor(t,e,i,s){super(t,e,i,S.B.clientSettings,s)}}},48148:(t,e,i)=>{i.d(e,{e:()=>a});var s=i(75992);class a extends s.r{loggingData(){return{id:this.bucket.id}}constructor(t){super(a.actionType),this.bucket=t}}a.actionType="PLW_DIFFSYNC_INSERT_BUCKET"},79387:(t,e,i)=>{i.d(e,{T:()=>a});var s=i(75992);class a extends s.r{loggingData(){return{id:this.details.id}}constructor(t){super(a.actionType),this.details=t}}a.actionType="PLW_DIFFSYNC_UPDATE_PLAN_DETAILS"},91393:(t,e,i)=>{i.d(e,{p:()=>a});var s=i(75992);class a extends s.r{loggingData(){return{id:this.taskDetails.id}}constructor(t){super(a.actionType),this.taskDetails=t}}a.actionType="PLW_DIFFSYNC_INSERT_TASK_DETAILS"},99763:(t,e,i)=>{i.d(e,{T:()=>a});var s=i(75992);class a extends s.r{loggingData(){return{id:this.taskEntitySet.id}}constructor(t,e){super(a.actionType),this.originalTaskEntitySet=t,this.taskEntitySet=e}}a.actionType="PLW_DIFFSYNC_UPDATE_TASK"}}]);
//# sourceMappingURL=diffsyncac.fcdbd70e.chunk.js.map